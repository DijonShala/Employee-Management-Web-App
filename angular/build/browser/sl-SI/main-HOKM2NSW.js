import{a as Ni}from"./chunk-OVB2VJJA.js";import{a as O,b as Re,c as u1,d as Ty,e as Iu,f as Wf,g as hs,h as $}from"./chunk-JSC457DR.js";var Zie=Ty((g1t,Qie)=>{"use strict";Qie.exports=C8e;function _x(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length);}function C8e(e){if(e=e||{},e.circles)return _8e(e);let t=new Map();if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(i(Array.from(o),a))),t.set(Set,(o,a)=>new Set(i(Array.from(o),a))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let n=null;return e.proto?s:r;function i(o,a){let l=Object.keys(o),c=new Array(l.length);for(let u=0;u<l.length;u++){let d=l[u],h=o[d];typeof h!="object"||h===null?c[d]=h:h.constructor!==Object&&(n=t.get(h.constructor))?c[d]=n(h,a):ArrayBuffer.isView(h)?c[d]=_x(h):c[d]=a(h);}return c;}function r(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,r);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,r);let a={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=t.get(c.constructor))?a[l]=n(c,r):ArrayBuffer.isView(c)?a[l]=_x(c):a[l]=r(c);}return a;}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,s);let a={};for(let l in o){let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=t.get(c.constructor))?a[l]=n(c,s):ArrayBuffer.isView(c)?a[l]=_x(c):a[l]=s(c);}return a;}}function _8e(e){let t=[],n=[],i=new Map();if(i.set(Date,l=>new Date(l)),i.set(Map,(l,c)=>new Map(s(Array.from(l),c))),i.set(Set,(l,c)=>new Set(s(Array.from(l),c))),e.constructorHandlers)for(let l of e.constructorHandlers)i.set(l[0],l[1]);let r=null;return e.proto?a:o;function s(l,c){let u=Object.keys(l),d=new Array(u.length);for(let h=0;h<u.length;h++){let f=u[h],g=l[f];if(typeof g!="object"||g===null)d[f]=g;else if(g.constructor!==Object&&(r=i.get(g.constructor)))d[f]=r(g,c);else if(ArrayBuffer.isView(g))d[f]=_x(g);else{let m=t.indexOf(g);m!==-1?d[f]=n[m]:d[f]=c(g);}}return d;}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,o);let c={};t.push(l),n.push(c);for(let u in l){if(Object.hasOwnProperty.call(l,u)===!1)continue;let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,o);else if(ArrayBuffer.isView(d))c[u]=_x(d);else{let h=t.indexOf(d);h!==-1?c[u]=n[h]:c[u]=o(d);}}return t.pop(),n.pop(),c;}function a(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,a);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,a);let c={};t.push(l),n.push(c);for(let u in l){let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,a);else if(ArrayBuffer.isView(d))c[u]=_x(d);else{let h=t.indexOf(d);h!==-1?c[u]=n[h]:c[u]=a(d);}}return t.pop(),n.pop(),c;}}});var Zle=Ty((mLt,cG)=>{"use strict";var Q$e=Object.prototype.hasOwnProperty,na="~";function SE(){}Object.create&&(SE.prototype=Object.create(null),new SE().__proto__||(na=!1));function Z$e(e,t,n){this.fn=e,this.context=t,this.once=n||!1;}function Qle(e,t,n,i,r){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new Z$e(n,i||e,r),o=na?na+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e;}function q5(e,t){--e._eventsCount===0?e._events=new SE():delete e._events[t];}function wo(){this._events=new SE(),this._eventsCount=0;}wo.prototype.eventNames=function(){var t=[],n,i;if(this._eventsCount===0)return t;for(i in n=this._events)Q$e.call(n,i)&&t.push(na?i.slice(1):i);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t;};wo.prototype.listeners=function(t){var n=na?na+t:t,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o;};wo.prototype.listenerCount=function(t){var n=na?na+t:t,i=this._events[n];return i?i.fn?1:i.length:0;};wo.prototype.emit=function(t,n,i,r,s,o){var a=na?na+t:t;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,d;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,i),!0;case 4:return l.fn.call(l.context,n,i,r),!0;case 5:return l.fn.call(l.context,n,i,r,s),!0;case 6:return l.fn.call(l.context,n,i,r,s,o),!0;}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u);}else{var h=l.length,f;for(d=0;d<h;d++)switch(l[d].once&&this.removeListener(t,l[d].fn,void 0,!0),c){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,n);break;case 3:l[d].fn.call(l[d].context,n,i);break;case 4:l[d].fn.call(l[d].context,n,i,r);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[d].fn.apply(l[d].context,u);}}return!0;};wo.prototype.on=function(t,n,i){return Qle(this,t,n,i,!1);};wo.prototype.once=function(t,n,i){return Qle(this,t,n,i,!0);};wo.prototype.removeListener=function(t,n,i,r){var s=na?na+t:t;if(!this._events[s])return this;if(!n)return q5(this,s),this;var o=this._events[s];if(o.fn)o.fn===n&&(!r||o.once)&&(!i||o.context===i)&&q5(this,s);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==n||r&&!o[a].once||i&&o[a].context!==i)&&l.push(o[a]);l.length?this._events[s]=l.length===1?l[0]:l:q5(this,s);}return this;};wo.prototype.removeAllListeners=function(t){var n;return t?(n=na?na+t:t,this._events[n]&&q5(this,n)):(this._events=new SE(),this._eventsCount=0),this;};wo.prototype.off=wo.prototype.removeListener;wo.prototype.addListener=wo.prototype.on;wo.prefixed=na;wo.EventEmitter=wo;typeof cG<"u"&&(cG.exports=wo);});var vce=Ty((Tg,mce)=>{"use strict";var sM=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,oM=function(){function e(){this.fetch=!1,this.DOMException=sM.DOMException;}return e.prototype=sM,new e();}();(function(e){var t=function(n){var i=typeof e<"u"&&e||typeof self<"u"&&self||typeof global<"u"&&global||{},r={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob(),!0;}catch{return!1;}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function s(S){return S&&DataView.prototype.isPrototypeOf(S);}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(S){return S&&o.indexOf(Object.prototype.toString.call(S))>-1;};function l(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase();}function c(S){return typeof S!="string"&&(S=String(S)),S;}function u(S){var T={next:function(){var z=S.shift();return{done:z===void 0,value:z};}};return r.iterable&&(T[Symbol.iterator]=function(){return T;}),T;}function d(S){this.map={},S instanceof d?S.forEach(function(T,z){this.append(z,T);},this):Array.isArray(S)?S.forEach(function(T){if(T.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+T.length);this.append(T[0],T[1]);},this):S&&Object.getOwnPropertyNames(S).forEach(function(T){this.append(T,S[T]);},this);}d.prototype.append=function(S,T){S=l(S),T=c(T);var z=this.map[S];this.map[S]=z?z+", "+T:T;},d.prototype.delete=function(S){delete this.map[l(S)];},d.prototype.get=function(S){return S=l(S),this.has(S)?this.map[S]:null;},d.prototype.has=function(S){return this.map.hasOwnProperty(l(S));},d.prototype.set=function(S,T){this.map[l(S)]=c(T);},d.prototype.forEach=function(S,T){for(var z in this.map)this.map.hasOwnProperty(z)&&S.call(T,this.map[z],z,this);},d.prototype.keys=function(){var S=[];return this.forEach(function(T,z){S.push(z);}),u(S);},d.prototype.values=function(){var S=[];return this.forEach(function(T){S.push(T);}),u(S);},d.prototype.entries=function(){var S=[];return this.forEach(function(T,z){S.push([z,T]);}),u(S);},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function h(S){if(!S._noBody){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0;}}function f(S){return new Promise(function(T,z){S.onload=function(){T(S.result);},S.onerror=function(){z(S.error);};});}function g(S){var T=new FileReader(),z=f(T);return T.readAsArrayBuffer(S),z;}function m(S){var T=new FileReader(),z=f(T),W=/charset=([A-Za-z0-9_-]+)/.exec(S.type),H=W?W[1]:"utf-8";return T.readAsText(S,H),z;}function y(S){for(var T=new Uint8Array(S),z=new Array(T.length),W=0;W<T.length;W++)z[W]=String.fromCharCode(T[W]);return z.join("");}function b(S){if(S.slice)return S.slice(0);var T=new Uint8Array(S.byteLength);return T.set(new Uint8Array(S)),T.buffer;}function C(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:r.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:r.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():r.arrayBuffer&&r.blob&&s(S)?(this._bodyArrayBuffer=b(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||a(S))?this._bodyArrayBuffer=b(S):this._bodyText=S=Object.prototype.toString.call(S):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},r.blob&&(this.blob=function(){var S=h(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]));}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=h(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));}else{if(r.blob)return this.blob().then(g);throw new Error("could not read as ArrayBuffer");}},this.text=function(){var S=h(this);if(S)return S;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText);},r.formData&&(this.formData=function(){return this.text().then(N);}),this.json=function(){return this.text().then(JSON.parse);},this;}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(S){var T=S.toUpperCase();return _.indexOf(T)>-1?T:S;}function I(S,T){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');T=T||{};var z=T.body;if(S instanceof I){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,T.headers||(this.headers=new d(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!z&&S._bodyInit!=null&&(z=S._bodyInit,S.bodyUsed=!0);}else this.url=String(S);if(this.credentials=T.credentials||this.credentials||"same-origin",(T.headers||!this.headers)&&(this.headers=new d(T.headers)),this.method=A(T.method||this.method||"GET"),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal||function(){if("AbortController"in i){var F=new AbortController();return F.signal;}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(z),(this.method==="GET"||this.method==="HEAD")&&(T.cache==="no-store"||T.cache==="no-cache")){var W=/([?&])_=[^&]*/;if(W.test(this.url))this.url=this.url.replace(W,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime();}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit});};function N(S){var T=new FormData();return S.trim().split("&").forEach(function(z){if(z){var W=z.split("="),H=W.shift().replace(/\+/g," "),F=W.join("=").replace(/\+/g," ");T.append(decodeURIComponent(H),decodeURIComponent(F));}}),T;}function R(S){var T=new d(),z=S.replace(/\r?\n[\t ]+/g," ");return z.split("\r").map(function(W){return W.indexOf(`
`)===0?W.substr(1,W.length):W;}).forEach(function(W){var H=W.split(":"),F=H.shift().trim();if(F){var Y=H.join(":").trim();try{T.append(F,Y);}catch(Z){console.warn("Response "+Z.message);}}}),T;}C.call(I.prototype);function D(S,T){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=T.statusText===void 0?"":""+T.statusText,this.headers=new d(T.headers),this.url=T.url||"",this._initBody(S);}C.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url});},D.error=function(){var S=new D(null,{status:200,statusText:""});return S.ok=!1,S.status=0,S.type="error",S;};var V=[301,302,303,307,308];D.redirect=function(S,T){if(V.indexOf(T)===-1)throw new RangeError("Invalid status code");return new D(null,{status:T,headers:{location:S}});},n.DOMException=i.DOMException;try{new n.DOMException();}catch{n.DOMException=function(T,z){this.message=T,this.name=z;var W=Error(T);this.stack=W.stack;},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException;}function X(S,T){return new Promise(function(z,W){var H=new I(S,T);if(H.signal&&H.signal.aborted)return W(new n.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest();function Y(){F.abort();}F.onload=function(){var ae={statusText:F.statusText,headers:R(F.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(F.status<200||F.status>599)?ae.status=200:ae.status=F.status,ae.url="responseURL"in F?F.responseURL:ae.headers.get("X-Request-URL");var Ce="response"in F?F.response:F.responseText;setTimeout(function(){z(new D(Ce,ae));},0);},F.onerror=function(){setTimeout(function(){W(new TypeError("Network request failed"));},0);},F.ontimeout=function(){setTimeout(function(){W(new TypeError("Network request timed out"));},0);},F.onabort=function(){setTimeout(function(){W(new n.DOMException("Aborted","AbortError"));},0);};function Z(ae){try{return ae===""&&i.location.href?i.location.href:ae;}catch{return ae;}}if(F.open(H.method,Z(H.url),!0),H.credentials==="include"?F.withCredentials=!0:H.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(r.blob?F.responseType="blob":r.arrayBuffer&&(F.responseType="arraybuffer")),T&&typeof T.headers=="object"&&!(T.headers instanceof d||i.Headers&&T.headers instanceof i.Headers)){var ne=[];Object.getOwnPropertyNames(T.headers).forEach(function(ae){ne.push(l(ae)),F.setRequestHeader(ae,c(T.headers[ae]));}),H.headers.forEach(function(ae,Ce){ne.indexOf(Ce)===-1&&F.setRequestHeader(Ce,ae);});}else H.headers.forEach(function(ae,Ce){F.setRequestHeader(Ce,ae);});H.signal&&(H.signal.addEventListener("abort",Y),F.onreadystatechange=function(){F.readyState===4&&H.signal.removeEventListener("abort",Y);}),F.send(typeof H._bodyInit>"u"?null:H._bodyInit);});}return X.polyfill=!0,i.fetch||(i.fetch=X,i.Headers=d,i.Request=I,i.Response=D),n.Headers=d,n.Request=I,n.Response=D,n.fetch=X,n;}({});})(oM);oM.fetch.ponyfill=!0;delete oM.fetch.polyfill;var Hw=sM.fetch?sM:oM;Tg=Hw.fetch;Tg.default=Hw.fetch;Tg.fetch=Hw.fetch;Tg.Headers=Hw.Headers;Tg.Request=Hw.Request;Tg.Response=Hw.Response;mce.exports=Tg;});var mM=Ty(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.RLP=Pd.utils=Pd.decode=Pd.encode=void 0;function YG(e){if(Array.isArray(e)){let n=[],i=0;for(let r=0;r<e.length;r++){let s=YG(e[r]);n.push(s),i+=s.length;}return qG(eue(i,192),...n);}let t=oue(e);return t.length===1&&t[0]<128?t:qG(eue(t.length,128),t);}Pd.encode=YG;function Yw(e,t,n){if(n>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,n);}function Jce(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return iue(nue(e));}function eue(e,t){if(e<56)return Uint8Array.from([e+t]);let n=KG(e),i=n.length/2,r=KG(t+55+i);return Uint8Array.from(gM(r+n));}function tue(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);let n=oue(e),i=WG(n);if(t)return i;if(i.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return i.data;}Pd.decode=tue;function WG(e){let t,n,i,r,s,o=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,a===128?i=Uint8Array.from([]):i=Yw(e,1,t),t===2&&i[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:i,remainder:e.slice(t)};}else if(a<=191){if(n=a-182,e.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(t=Jce(Yw(e,1,n)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return i=Yw(e,n,t+n),{data:i,remainder:e.slice(t+n)};}else if(a<=247){for(t=a-191,r=Yw(e,1,t);r.length;)s=WG(r),o.push(s.data),r=s.remainder;return{data:o,remainder:e.slice(t)};}else{if(n=a-246,t=Jce(Yw(e,1,n)),t<56)throw new Error("invalid RLP: encoded list too short");let l=n+t;if(l>e.length)throw new Error("invalid RLP: total length is larger than the data");for(r=Yw(e,n,l);r.length;)s=WG(r),o.push(s.data),r=s.remainder;return{data:o,remainder:e.slice(l)};}}var gqe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nue(e){let t="";for(let n=0;n<e.length;n++)t+=gqe[e[n]];return t;}function iue(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t;}function gM(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){let i=n*2;t[n]=iue(e.slice(i,i+2));}return t;}function qG(...e){if(e.length===1)return e[0];let t=e.reduce((i,r)=>i+r.length,0),n=new Uint8Array(t);for(let i=0,r=0;i<e.length;i++){let s=e[i];n.set(s,r),r+=s.length;}return n;}function rue(e){return new TextEncoder().encode(e);}function KG(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t;}function mqe(e){return e.length%2?`0${e}`:e;}function sue(e){return e.length>=2&&e[0]==="0"&&e[1]==="x";}function vqe(e){return typeof e!="string"?e:sue(e)?e.slice(2):e;}function oue(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return sue(e)?gM(mqe(vqe(e))):rue(e);if(typeof e=="number"||typeof e=="bigint")return e?gM(KG(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e);}Pd.utils={bytesToHex:nue,concatBytes:qG,hexToBytes:gM,utf8ToBytes:rue};Pd.RLP={encode:YG,decode:tue};});var lue=Ty(XG=>{"use strict";var aue;(function(e){typeof DO_NOT_EXPORT_CRC>"u"?typeof XG=="object"?e(XG):typeof define=="function"&&define.amd?define(function(){var t={};return e(t),t;}):e(aue={}):e(aue={});})(function(e){e.version="1.2.2";function t(){for(var R=0,D=new Array(256),V=0;V!=256;++V)R=V,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,D[V]=R;return typeof Int32Array<"u"?new Int32Array(D):D;}var n=t();function i(R){var D=0,V=0,X=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)S[X]=R[X];for(X=0;X!=256;++X)for(V=R[X],D=256+X;D<4096;D+=256)V=S[D]=V>>>8^R[V&255];var T=[];for(X=1;X!=16;++X)T[X-1]=typeof Int32Array<"u"?S.subarray(X*256,X*256+256):S.slice(X*256,X*256+256);return T;}var r=i(n),s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],f=r[8],g=r[9],m=r[10],y=r[11],b=r[12],C=r[13],_=r[14];function A(R,D){for(var V=D^-1,X=0,S=R.length;X<S;)V=V>>>8^n[(V^R.charCodeAt(X++))&255];return~V;}function I(R,D){for(var V=D^-1,X=R.length-15,S=0;S<X;)V=_[R[S++]^V&255]^C[R[S++]^V>>8&255]^b[R[S++]^V>>16&255]^y[R[S++]^V>>>24]^m[R[S++]]^g[R[S++]]^f[R[S++]]^h[R[S++]]^d[R[S++]]^u[R[S++]]^c[R[S++]]^l[R[S++]]^a[R[S++]]^o[R[S++]]^s[R[S++]]^n[R[S++]];for(X+=15;S<X;)V=V>>>8^n[(V^R[S++])&255];return~V;}function N(R,D){for(var V=D^-1,X=0,S=R.length,T=0,z=0;X<S;)T=R.charCodeAt(X++),T<128?V=V>>>8^n[(V^T)&255]:T<2048?(V=V>>>8^n[(V^(192|T>>6&31))&255],V=V>>>8^n[(V^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,z=R.charCodeAt(X++)&1023,V=V>>>8^n[(V^(240|T>>8&7))&255],V=V>>>8^n[(V^(128|T>>2&63))&255],V=V>>>8^n[(V^(128|z>>6&15|(T&3)<<4))&255],V=V>>>8^n[(V^(128|z&63))&255]):(V=V>>>8^n[(V^(224|T>>12&15))&255],V=V>>>8^n[(V^(128|T>>6&63))&255],V=V>>>8^n[(V^(128|T&63))&255]);return~V;}e.table=n,e.bstr=A,e.buf=I,e.str=N;});});var ude=Ty(cde=>{"use strict";(function(e,t){"use strict";if(e.setImmediate)return;var n=1,i={},r=!1,s=e.document,o;function a(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),A=0;A<_.length;A++)_[A]=arguments[A+1];var I={callback:C,args:_};return i[n]=I,o(n),n++;}function l(C){delete i[C];}function c(C){var _=C.callback,A=C.args;switch(A.length){case 0:_();break;case 1:_(A[0]);break;case 2:_(A[0],A[1]);break;case 3:_(A[0],A[1],A[2]);break;default:_.apply(t,A);break;}}function u(C){if(r)setTimeout(u,0,C);else{var _=i[C];if(_){r=!0;try{c(_);}finally{l(C),r=!1;}}}}function d(){o=function(C){process.nextTick(function(){u(C);});};}function h(){if(e.postMessage&&!e.importScripts){var C=!0,_=e.onmessage;return e.onmessage=function(){C=!1;},e.postMessage("","*"),e.onmessage=_,C;}}function f(){var C="setImmediate$"+Math.random()+"$",_=function(A){A.source===e&&typeof A.data=="string"&&A.data.indexOf(C)===0&&u(+A.data.slice(C.length));};e.addEventListener?e.addEventListener("message",_,!1):e.attachEvent("onmessage",_),o=function(A){e.postMessage(C+A,"*");};}function g(){var C=new MessageChannel();C.port1.onmessage=function(_){var A=_.data;u(A);},o=function(_){C.port2.postMessage(_);};}function m(){var C=s.documentElement;o=function(_){var A=s.createElement("script");A.onreadystatechange=function(){u(_),A.onreadystatechange=null,C.removeChild(A),A=null;},C.appendChild(A);};}function y(){o=function(C){setTimeout(u,0,C);};}var b=Object.getPrototypeOf&&Object.getPrototypeOf(e);b=b&&b.setTimeout?b:e,{}.toString.call(e.process)==="[object process]"?d():h()?f():e.MessageChannel?g():s&&"onreadystatechange"in s.createElement("script")?m():y(),b.setImmediate=a,b.clearImmediate=l;})(typeof self>"u"?typeof global>"u"?cde:global:self);});function GN(e,t){return Object.is(e,t);}var fs=null,aA=!1,zN=1,Ba=Symbol("SIGNAL");function ti(e){let t=fs;return fs=e,t;}function Sj(){return fs;}var h1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cA(e){if(aA)throw new Error("");if(fs===null)return;fs.consumerOnSignalRead(e);let t=fs.nextProducerIndex++;if(hA(fs),t<fs.producerNode.length&&fs.producerNode[t]!==e&&d1(fs)){let n=fs.producerNode[t];dA(n,fs.producerIndexOfThis[t]);}fs.producerNode[t]!==e&&(fs.producerNode[t]=e,fs.producerIndexOfThis[t]=d1(fs)?Aj(e,fs,t):0),fs.producerLastReadVersion[t]=e.version;}function Tge(){zN++;}function UN(e){if(!(d1(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===zN)){if(!e.producerMustRecompute(e)&&!$N(e)){HN(e);return;}e.producerRecomputeValue(e),HN(e);}}function Ej(e){if(e.liveConsumerNode===void 0)return;let t=aA;aA=!0;try{for(let n of e.liveConsumerNode)n.dirty||Age(n);}finally{aA=t;}}function Tj(){return fs?.consumerAllowSignalWrites!==!1;}function Age(e){e.dirty=!0,Ej(e),e.consumerMarkedDirty?.(e);}function HN(e){e.dirty=!1,e.lastCleanEpoch=zN;}function uA(e){return e&&(e.nextProducerIndex=0),ti(e);}function jN(e,t){if(ti(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(d1(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)dA(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop();}}function $N(e){hA(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(UN(n),i!==n.version))return!0;}return!1;}function WN(e){if(hA(e),d1(e))for(let t=0;t<e.producerNode.length;t++)dA(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0);}function Aj(e,t,n){if(Dj(e),e.liveConsumerNode.length===0&&Rj(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=Aj(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1;}function dA(e,t){if(Dj(e),e.liveConsumerNode.length===1&&Rj(e))for(let i=0;i<e.producerNode.length;i++)dA(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];hA(r),r.producerIndexOfThis[i]=t;}}function d1(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0;}function hA(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[];}function Dj(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[];}function Rj(e){return e.producerNode!==void 0;}function Ij(e){let t=Object.create(Dge);t.computation=e;let n=()=>{if(UN(t),cA(t),t.value===lA)throw t.error;return t.value;};return n[Ba]=t,n;}var BN=Symbol("UNSET"),VN=Symbol("COMPUTING"),lA=Symbol("ERRORED"),Dge=Re(O({},h1),{value:BN,dirty:!0,error:null,equal:GN,producerMustRecompute(e){return e.value===BN||e.value===VN;},producerRecomputeValue(e){if(e.value===VN)throw new Error("Detected cycle in computations.");let t=e.value;e.value=VN;let n=uA(e),i;try{i=e.computation();}catch(r){i=lA,e.error=r;}finally{jN(e,n);}if(t!==BN&&t!==lA&&i!==lA&&e.equal(t,i)){e.value=t;return;}e.value=i,e.version++;}});function Rge(){throw new Error();}var Pj=Rge;function kj(){Pj();}function Mj(e){Pj=e;}var Ige=null;function Fj(e){let t=Object.create(qN);t.value=e;let n=()=>(cA(t),t.value);return n[Ba]=t,n;}function fA(e,t){Tj()||kj(),e.equal(e.value,t)||(e.value=t,Pge(e));}function Nj(e,t){Tj()||kj(),fA(e,t(e.value));}var qN=Re(O({},h1),{equal:GN,value:void 0});function Pge(e){e.version++,Tge(),Ej(e),Ige?.();}function qt(e){return typeof e=="function";}function Ay(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack;});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n;}var pA=Ay(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n;});function am(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1);}}var dr=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null;}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(qt(i))try{i();}catch(s){t=s instanceof pA?s.errors:[s];}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Lj(s);}catch(o){t=t??[],o instanceof pA?t=[...t,...o.errors]:t.push(o);}}if(t)throw new pA(t);}}add(t){var n;if(t&&t!==this)if(this.closed)Lj(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this);}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t);}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t);}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t;}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&am(n,t);}remove(t){let{_finalizers:n}=this;n&&am(n,t),t instanceof e&&t._removeParent(this);}};dr.EMPTY=(()=>{let e=new dr();return e.closed=!0,e;})();var KN=dr.EMPTY;function gA(e){return e instanceof dr||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe);}function Lj(e){qt(e)?e():e.unsubscribe();}var Cc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Dy={setTimeout(e,t,...n){let{delegate:i}=Dy;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n);},clearTimeout(e){let{delegate:t}=Dy;return(t?.clearTimeout||clearTimeout)(e);},delegate:void 0};function mA(e){Dy.setTimeout(()=>{let{onUnhandledError:t}=Cc;if(t)t(e);else throw e;});}function f1(){}var Oj=YN("C",void 0,void 0);function Bj(e){return YN("E",void 0,e);}function Vj(e){return YN("N",e,void 0);}function YN(e,t,n){return{kind:e,value:t,error:n};}var lm=null;function Ry(e){if(Cc.useDeprecatedSynchronousErrorHandling){let t=!lm;if(t&&(lm={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=lm;if(lm=null,n)throw i;}}else e();}function Hj(e){Cc.useDeprecatedSynchronousErrorHandling&&lm&&(lm.errorThrown=!0,lm.error=e);}var cm=class extends dr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,gA(t)&&t.add(this)):this.destination=Fge;}static create(t,n,i){return new Iy(t,n,i);}next(t){this.isStopped?QN(Vj(t),this):this._next(t);}error(t){this.isStopped?QN(Bj(t),this):(this.isStopped=!0,this._error(t));}complete(){this.isStopped?QN(Oj,this):(this.isStopped=!0,this._complete());}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null);}_next(t){this.destination.next(t);}_error(t){try{this.destination.error(t);}finally{this.unsubscribe();}}_complete(){try{this.destination.complete();}finally{this.unsubscribe();}}},kge=Function.prototype.bind;function XN(e,t){return kge.call(e,t);}var ZN=class{constructor(t){this.partialObserver=t;}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t);}catch(i){vA(i);}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t);}catch(i){vA(i);}else vA(t);}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete();}catch(n){vA(n);}}},Iy=class extends cm{constructor(t,n,i){super();let r;if(qt(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Cc.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&XN(t.next,s),error:t.error&&XN(t.error,s),complete:t.complete&&XN(t.complete,s)}):r=t;}this.destination=new ZN(r);}};function vA(e){Cc.useDeprecatedSynchronousErrorHandling?Hj(e):mA(e);}function Mge(e){throw e;}function QN(e,t){let{onStoppedNotification:n}=Cc;n&&Dy.setTimeout(()=>n(e,t));}var Fge={closed:!0,next:f1,error:Mge,complete:f1};var Py=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ko(e){return e;}function JN(...e){return eL(e);}function eL(e){return e.length===0?ko:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n);};}var On=(()=>{class e{constructor(n){n&&(this._subscribe=n);}lift(n){let i=new e();return i.source=this,i.operator=n,i;}subscribe(n,i,r){let s=Lge(n)?n:new Iy(n,i,r);return Ry(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s));}),s;}_trySubscribe(n){try{return this._subscribe(n);}catch(i){n.error(i);}}forEach(n,i){return i=Gj(i),new i((r,s)=>{let o=new Iy({next:a=>{try{n(a);}catch(l){s(l),o.unsubscribe();}},error:s,complete:r});this.subscribe(o);});}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n);}[Py](){return this;}pipe(...n){return eL(n)(this);}toPromise(n){return n=Gj(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s));});}}return e.create=t=>new e(t),e;})();function Gj(e){var t;return(t=e??Cc.Promise)!==null&&t!==void 0?t:Promise;}function Nge(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete);}function Lge(e){return e&&e instanceof cm||Nge(e)&&gA(e);}function tL(e){return qt(e?.lift);}function Bn(e){return t=>{if(tL(t))return t.lift(function(n){try{return e(n,this);}catch(i){this.error(i);}});throw new TypeError("Unable to lift unknown Observable type");};}function En(e,t,n,i,r){return new nL(e,t,n,i,r);}var nL=class extends cm{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a);}catch(l){t.error(l);}}:super._next,this._error=r?function(a){try{r(a);}catch(l){t.error(l);}finally{this.unsubscribe();}}:super._error,this._complete=i?function(){try{i();}catch(a){t.error(a);}finally{this.unsubscribe();}}:super._complete;}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this));}}};function ky(){return Bn((e,t)=>{let n=null;e._refCount++;let i=En(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return;}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe();});e.subscribe(i),i.closed||(n=e.connect());});}var My=class extends On{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tL(t)&&(this.lift=t.lift);}_subscribe(t){return this.getSubject().subscribe(t);}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject;}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe();}connect(){let t=this._connection;if(!t){t=this._connection=new dr();let n=this.getSubject();t.add(this.source.subscribe(En(n,void 0,()=>{this._teardown(),n.complete();},i=>{this._teardown(),n.error(i);},()=>this._teardown()))),t.closed&&(this._connection=null,t=dr.EMPTY);}return t;}refCount(){return ky()(this);}};var Fy={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:i}=Fy;i&&(t=i.requestAnimationFrame,n=i.cancelAnimationFrame);let r=t(s=>{n=void 0,e(s);});return new dr(()=>n?.(r));},requestAnimationFrame(...e){let{delegate:t}=Fy;return(t?.requestAnimationFrame||requestAnimationFrame)(...e);},cancelAnimationFrame(...e){let{delegate:t}=Fy;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e);},delegate:void 0};var zj=Ay(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed";});var Ar=(()=>{class e extends On{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null;}lift(n){let i=new yA(this,this);return i.operator=n,i;}_throwIfClosed(){if(this.closed)throw new zj();}next(n){Ry(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n);}});}error(n){Ry(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n);}});}complete(){Ry(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete();}});}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null;}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0;}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n);}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n);}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?KN:(this.currentObservers=null,s.push(n),new dr(()=>{this.currentObservers=null,am(s,n);}));}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete();}asObservable(){let n=new On();return n.source=this,n;}}return e.create=(t,n)=>new yA(t,n),e;})(),yA=class extends Ar{constructor(t,n){super(),this.destination=t,this.source=n;}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t);}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t);}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t);}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:KN;}};var ps=class extends Ar{constructor(t){super(),this._value=t;}get value(){return this.getValue();}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n;}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i;}next(t){super.next(this._value=t);}};var iL={now(){return(iL.delegate||Date).now();},delegate:void 0};var bA=class extends dr{constructor(t,n){super();}schedule(t,n=0){return this;}};var p1={setInterval(e,t,...n){let{delegate:i}=p1;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n);},clearInterval(e){let{delegate:t}=p1;return(t?.clearInterval||clearInterval)(e);},delegate:void 0};var Ny=class extends bA{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1;}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this;}requestAsyncId(t,n,i=0){return p1.setInterval(t.flush.bind(t,this),i);}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&p1.clearInterval(n);}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null));}_execute(t,n){let i=!1,r;try{this.work(t);}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error");}if(i)return this.unsubscribe(),r;}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,am(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe();}}};var Ly=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n;}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n);}};Ly.now=iL.now;var Oy=class extends Ly{constructor(t,n=Ly.now){super(t,n),this.actions=[],this._active=!1;}flush(t){let{actions:n}=this;if(this._active){n.push(t);return;}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i;}}};var rL=new Oy(Ny),Uj=rL;var xA=class extends Ny{constructor(t,n){super(t,n),this.scheduler=t,this.work=n;}requestAsyncId(t,n,i=0){return i!==null&&i>0?super.requestAsyncId(t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fy.requestAnimationFrame(()=>t.flush(void 0))));}recycleAsyncId(t,n,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(t,n,i);let{actions:s}=t;n!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==n&&(Fy.cancelAnimationFrame(n),t._scheduled=void 0);}};var wA=class extends Oy{flush(t){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;t=t||i.shift();do if(r=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw r;}}};var sL=new wA(xA);var Mo=new On(e=>e.complete());function CA(e){return e&&qt(e.schedule);}function oL(e){return e[e.length-1];}function _A(e){return qt(oL(e))?e.pop():void 0;}function Pu(e){return CA(oL(e))?e.pop():void 0;}function jj(e,t){return typeof oL(e)=="number"?e.pop():t;}function Wj(e,t,n,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s;}function qj(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});}function $j(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e};}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");}function um(e){return this instanceof um?(this.v=e,this):new um(e);}function Kj(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this;},r;function o(f){return function(g){return Promise.resolve(g).then(f,d);};}function a(f,g){i[f]&&(r[f]=function(m){return new Promise(function(y,b){s.push([f,m,y,b])>1||l(f,m);});},g&&(r[f]=g(r[f])));}function l(f,g){try{c(i[f](g));}catch(m){h(s[0][3],m);}}function c(f){f.value instanceof um?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f);}function u(f){l("next",f);}function d(f){l("throw",f);}function h(f,g){f(g),s.shift(),s.length&&l(s[0][0],s[0][1]);}}function Yj(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $j=="function"?$j(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this;},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),r(a,l,o.done,o.value);});};}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a});},o);}}var By=e=>e&&typeof e.length=="number"&&typeof e!="function";function SA(e){return qt(e?.then);}function EA(e){return qt(e[Py]);}function TA(e){return Symbol.asyncIterator&&qt(e?.[Symbol.asyncIterator]);}function AA(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`);}function Oge(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator;}var DA=Oge();function RA(e){return qt(e?.[DA]);}function IA(e){return Kj(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield um(n.read());if(r)return yield um(void 0);yield yield um(i);}}finally{n.releaseLock();}});}function PA(e){return qt(e?.getReader);}function Ji(e){if(e instanceof On)return e;if(e!=null){if(EA(e))return Bge(e);if(By(e))return Vge(e);if(SA(e))return Hge(e);if(TA(e))return Xj(e);if(RA(e))return Gge(e);if(PA(e))return zge(e);}throw AA(e);}function Bge(e){return new On(t=>{let n=e[Py]();if(qt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable");});}function Vge(e){return new On(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete();});}function Hge(e){return new On(t=>{e.then(n=>{t.closed||(t.next(n),t.complete());},n=>t.error(n)).then(null,mA);});}function Gge(e){return new On(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete();});}function Xj(e){return new On(t=>{Uge(e,t).catch(n=>t.error(n));});}function zge(e){return Xj(IA(e));}function Uge(e,t){var n,i,r,s;return qj(this,void 0,void 0,function*(){try{for(n=Yj(e);i=yield n.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return;}}catch(o){r={error:o};}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n));}finally{if(r)throw r.error;}}t.complete();});}function ua(e,t,n,i=0,r=!1){let s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe();},i);if(e.add(s),!r)return s;}function kA(e,t=0){return Bn((n,i)=>{n.subscribe(En(i,r=>ua(i,e,()=>i.next(r),t),()=>ua(i,e,()=>i.complete(),t),r=>ua(i,e,()=>i.error(r),t)));});}function MA(e,t=0){return Bn((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t));});}function Qj(e,t){return Ji(e).pipe(MA(t),kA(t));}function Zj(e,t){return Ji(e).pipe(MA(t),kA(t));}function Jj(e,t){return new On(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule());});});}function e$(e,t){return new On(n=>{let i;return ua(n,t,()=>{i=e[DA](),ua(n,t,()=>{let r,s;try{({value:r,done:s}=i.next());}catch(o){n.error(o);return;}s?n.complete():n.next(r);},0,!0);}),()=>qt(i?.return)&&i.return();});}function FA(e,t){if(!e)throw new Error("Iterable cannot be null");return new On(n=>{ua(n,t,()=>{let i=e[Symbol.asyncIterator]();ua(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value);});},0,!0);});});}function t$(e,t){return FA(IA(e),t);}function n$(e,t){if(e!=null){if(EA(e))return Qj(e,t);if(By(e))return Jj(e,t);if(SA(e))return Zj(e,t);if(TA(e))return FA(e,t);if(RA(e))return e$(e,t);if(PA(e))return t$(e,t);}throw AA(e);}function Gi(e,t){return t?n$(e,t):Ji(e);}function Gt(...e){let t=Pu(e);return Gi(e,t);}function Vy(e,t){let n=qt(e)?e:()=>e,i=r=>r.error(n());return new On(t?r=>t.schedule(i,0,r):i);}function aL(e){return!!e&&(e instanceof On||qt(e.lift)&&qt(e.subscribe));}var Jd=Ay(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence";});function i$(e){return e instanceof Date&&!isNaN(e);}function nn(e,t){return Bn((n,i)=>{let r=0;n.subscribe(En(i,s=>{i.next(e.call(t,s,r++));}));});}var{isArray:jge}=Array;function $ge(e,t){return jge(t)?e(...t):e(t);}function Hy(e){return nn(t=>$ge(e,t));}var{isArray:Wge}=Array,{getPrototypeOf:qge,prototype:Kge,keys:Yge}=Object;function NA(e){if(e.length===1){let t=e[0];if(Wge(t))return{args:t,keys:null};if(Xge(t)){let n=Yge(t);return{args:n.map(i=>t[i]),keys:n};}}return{args:e,keys:null};}function Xge(e){return e&&typeof e=="object"&&qge(e)===Kge;}function LA(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{});}function g1(...e){let t=Pu(e),n=_A(e),{args:i,keys:r}=NA(e);if(i.length===0)return Gi([],t);let s=new On(Qge(i,t,r?o=>LA(r,o):ko));return n?s.pipe(Hy(n)):s;}function Qge(e,t,n=ko){return i=>{r$(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)r$(t,()=>{let c=Gi(e[l],t),u=!1;c.subscribe(En(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()));},()=>{--o||i.complete();}));},i);},i);};}function r$(e,t,n){e?ua(n,e,t):t();}function s$(e,t,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete();},f=m=>c<i?g(m):l.push(m),g=m=>{s&&t.next(m),c++;let y=!1;Ji(n(m,u++)).subscribe(En(t,b=>{r?.(b),s?f(b):t.next(b);},()=>{y=!0;},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){let b=l.shift();o?ua(t,o,()=>g(b)):g(b);}h();}catch(b){t.error(b);}}));};return e.subscribe(En(t,f,()=>{d=!0,h();})),()=>{a?.();};}function Dr(e,t,n=1/0){return qt(t)?Dr((i,r)=>nn((s,o)=>t(i,s,r,o))(Ji(e(i,r))),n):(typeof t=="number"&&(n=t),Bn((i,r)=>s$(i,r,e,n)));}function qf(e=1/0){return Dr(ko,e);}function o$(){return qf(1);}function Gy(...e){return o$()(Gi(e,Pu(e)));}function OA(e){return new On(t=>{Ji(e()).subscribe(t);});}function lL(...e){let t=_A(e),{args:n,keys:i}=NA(e),r=new On(s=>{let{length:o}=n;if(!o){s.complete();return;}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Ji(n[u]).subscribe(En(s,h=>{d||(d=!0,c--),a[u]=h;},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?LA(i,a):a),s.complete());}));}});return t?r.pipe(Hy(t)):r;}var Zge=["addListener","removeListener"],Jge=["addEventListener","removeEventListener"],eme=["on","off"];function Kf(e,t,n,i){if(qt(n)&&(i=n,n=void 0),i)return Kf(e,t,n).pipe(Hy(i));let[r,s]=ime(e)?Jge.map(o=>a=>e[o](t,a,n)):tme(e)?Zge.map(a$(e,t)):nme(e)?eme.map(a$(e,t)):[];if(!r&&By(e))return Dr(o=>Kf(o,t,n))(Ji(e));if(!r)throw new TypeError("Invalid event target");return new On(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a);});}function a$(e,t){return n=>i=>e[n](t,i);}function tme(e){return qt(e.addListener)&&qt(e.removeListener);}function nme(e){return qt(e.on)&&qt(e.off);}function ime(e){return qt(e.addEventListener)&&qt(e.removeEventListener);}function l$(e=0,t,n=Uj){let i=-1;return t!=null&&(CA(t)?n=t:i=t),new On(r=>{let s=i$(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete());},s);});}function cL(...e){let t=Pu(e),n=jj(e,1/0),i=e;return i.length?i.length===1?Ji(i[0]):qf(n)(Gi(i,t)):Mo;}function da(e,t){return Bn((n,i)=>{let r=0;n.subscribe(En(i,s=>e.call(t,s,r++)&&i.next(s)));});}function ku(e){return Bn((t,n)=>{let i=null,r=!1,s;i=t.subscribe(En(n,void 0,void 0,o=>{s=Ji(e(o,ku(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0;})),r&&(i.unsubscribe(),i=null,s.subscribe(n));});}function c$(e,t,n,i,r){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(En(o,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&o.next(l);},r&&(()=>{a&&o.next(l),o.complete();})));};}function eh(e,t){return qt(t)?Dr(e,t,1):Dr(e,1);}function uL(e,t=rL){return Bn((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c);}};function l(){let c=o+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return;}a();}n.subscribe(En(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),i.add(r));},()=>{a(),i.complete();},void 0,()=>{s=r=null;}));});}function Yf(e){return Bn((t,n)=>{let i=!1;t.subscribe(En(n,r=>{i=!0,n.next(r);},()=>{i||n.next(e),n.complete();}));});}function ha(e){return e<=0?()=>Mo:Bn((t,n)=>{let i=0;t.subscribe(En(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete());}));});}function dL(e){return nn(()=>e);}function BA(e=rme){return Bn((t,n)=>{let i=!1;t.subscribe(En(n,r=>{i=!0,n.next(r);},()=>i?n.complete():n.error(e())));});}function rme(){return new Jd();}function dm(e){return Bn((t,n)=>{try{t.subscribe(n);}finally{n.add(e);}});}function Mu(e,t){let n=arguments.length>=2;return i=>i.pipe(e?da((r,s)=>e(r,s,i)):ko,ha(1),n?Yf(t):BA(()=>new Jd()));}function zy(e){return e<=0?()=>Mo:Bn((t,n)=>{let i=[];t.subscribe(En(n,r=>{i.push(r),e<i.length&&i.shift();},()=>{for(let r of i)n.next(r);n.complete();},void 0,()=>{i=null;}));});}function hL(e,t){let n=arguments.length>=2;return i=>i.pipe(e?da((r,s)=>e(r,s,i)):ko,zy(1),n?Yf(t):BA(()=>new Jd()));}function Os(e=1/0){let t;e&&typeof e=="object"?t=e:t={count:e};let{count:n=1/0,delay:i,resetOnSuccess:r=!1}=t;return n<=0?ko:Bn((s,o)=>{let a=0,l,c=()=>{let u=!1;l=s.subscribe(En(o,d=>{r&&(a=0),o.next(d);},void 0,d=>{if(a++<n){let h=()=>{l?(l.unsubscribe(),l=null,c()):u=!0;};if(i!=null){let f=typeof i=="number"?l$(i):Ji(i(d,a)),g=En(o,()=>{g.unsubscribe(),h();},()=>{o.complete();});f.subscribe(g);}else h();}else o.error(d);})),u&&(l.unsubscribe(),l=null,c());};c();});}function fL(e,t){return Bn(c$(e,t,arguments.length>=2,!0));}function pL(...e){let t=Pu(e);return Bn((n,i)=>{(t?Gy(e,n,t):Gy(e,n)).subscribe(i);});}function fa(e,t){return Bn((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(En(i,l=>{r?.unsubscribe();let c=0,u=s++;Ji(e(l,u)).subscribe(r=En(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a();}));},()=>{o=!0,a();}));});}function gL(e){return Bn((t,n)=>{Ji(e).subscribe(En(n,()=>n.complete(),f1)),!n.closed&&t.subscribe(n);});}function Ss(e,t,n){let i=qt(e)||t||n?{next:e,error:t,complete:n}:e;return i?Bn((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(En(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l);},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete();},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l);},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i);}));}):ko;}var eW="https://g.co/ng/security#xss",Je=class extends Error{code;constructor(t,n){super(ED(t,n)),this.code=t;}};function ED(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`;}var tW=Symbol("InputSignalNode#UNSET"),sme=Re(O({},qN),{transformFn:void 0,applyValueToInputSignal(e,t){fA(e,t);}});function nW(e,t){let n=Object.create(sme);n.value=e,n.transformFn=t?.transform;function i(){if(cA(n),n.value===tW)throw new Je(-950,!1);return n.value;}return i[Ba]=n,i;}function P1(e){return{toString:e}.toString();}var VA="__parameters__";function ome(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r];}};}function iW(e,t,n){return P1(()=>{let i=ome(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(VA)?l[VA]:Object.defineProperty(l,VA,{value:[]})[VA];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l;}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r;});}var nh=globalThis;function zi(e){for(let t in e)if(e[t]===zi)return t;throw Error("Could not find renamed property on target object.");}function ame(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n]);}function Lo(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Lo).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n);}function IL(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t;}var lme=zi({__forward_ref__:zi});function zu(e){return e.__forward_ref__=zu,e.toString=function(){return Lo(this());},e;}function Fo(e){return rW(e)?e():e;}function rW(e){return typeof e=="function"&&e.hasOwnProperty(lme)&&e.__forward_ref__===zu;}function cme(e,t,n){e!=t&&ume(n,e,t,"==");}function ume(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(i==null?"":` [Expected=> ${n} ${i} ${t} <=Actual]`));}function ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0};}function fi(e){return{providers:e.providers||[],imports:e.imports||[]};}function TD(e){return u$(e,oW)||u$(e,aW);}function sW(e){return TD(e)!==null;}function u$(e,t){return e.hasOwnProperty(t)?e[t]:null;}function dme(e){let t=e&&(e[oW]||e[aW]);return t||null;}function d$(e){return e&&(e.hasOwnProperty(h$)||e.hasOwnProperty(hme))?e[h$]:null;}var oW=zi({ɵprov:zi}),h$=zi({ɵinj:zi}),aW=zi({ngInjectableDef:zi}),hme=zi({ngInjectorDef:zi}),Tt=class{_desc;ngMetadataName="InjectionToken";ɵprov;constructor(t,n){this._desc=t,this.ɵprov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.ɵprov=ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}));}get multi(){return this;}toString(){return`InjectionToken ${this._desc}`;}};function lW(e){return e&&!!e.ɵproviders;}var fme=zi({ɵcmp:zi}),pme=zi({ɵdir:zi}),gme=zi({ɵpipe:zi}),mme=zi({ɵmod:zi}),eD=zi({ɵfac:zi}),y1=zi({__NG_ELEMENT_ID__:zi}),f$=zi({__NG_ENV_ID__:zi});function Jf(e){return typeof e=="string"?e:e==null?"":String(e);}function vme(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Jf(e);}function yme(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,e);}function zO(e,t){throw new Je(-201,!1);}var kn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e;}(kn||{}),PL;function cW(){return PL;}function pa(e){let t=PL;return PL=e,t;}function uW(e,t,n){let i=TD(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&kn.Optional)return null;if(t!==void 0)return t;zO(e,"Injector");}var bme={},C1=bme,kL="__NG_DI_FLAG__",tD="ngTempTokenPath",xme="ngTokenPath",wme=/\n/gm,Cme="\u0275",p$="__source",qy;function _me(){return qy;}function Xf(e){let t=qy;return qy=e,t;}function Sme(e,t=kn.Default){if(qy===void 0)throw new Je(-203,!1);return qy===null?uW(e,void 0,t):qy.get(e,t&kn.Optional?null:void 0,t);}function rt(e,t=kn.Default){return(cW()||Sme)(Fo(e),t);}function qe(e,t=kn.Default){return rt(e,AD(t));}function AD(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4);}function ML(e){let t=[];for(let n=0;n<e.length;n++){let i=Fo(e[n]);if(Array.isArray(i)){if(i.length===0)throw new Je(900,!1);let r,s=kn.Default;for(let o=0;o<i.length;o++){let a=i[o],l=Eme(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a;}t.push(rt(r,s));}else t.push(rt(i));}return t;}function dW(e,t){return e[kL]=t,e.prototype[kL]=t,e;}function Eme(e){return e[kL];}function Tme(e,t,n,i){let r=e[tD];throw t[p$]&&r.unshift(t[p$]),e.message=Ame(`
`+e.message,r,n,i),e[xme]=r,e[tD]=null,e;}function Ame(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Cme?e.slice(2):e;let r=Lo(t);if(Array.isArray(t))r=t.map(Lo).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Lo(a)));}r=`{${s.join(", ")}}`;}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(wme,`
  `)}`;}var k1=dW(iW("Optional"),8);var DD=dW(iW("SkipSelf"),4);function pm(e,t){let n=e.hasOwnProperty(eD);return n?e[eD]:null;}function Dme(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1;}return!0;}function Rme(e){return e.flat(Number.POSITIVE_INFINITY);}function UO(e,t){e.forEach(n=>Array.isArray(n)?UO(n,t):t(n));}function hW(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n);}function nD(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0];}function Ime(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n;}function Pme(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--;}e[t]=n,e[t+1]=i;}}function RD(e,t,n){let i=M1(e,t);return i>=0?e[i|1]=n:(i=~i,Pme(e,i,t,n)),i;}function mL(e,t){let n=M1(e,t);if(n>=0)return e[n|1];}function M1(e,t){return kme(e,t,1);}function kme(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1;}return~(r<<n);}var Yy={},No=[],Xy=new Tt(""),fW=new Tt("",-1),pW=new Tt(""),iD=class{get(t,n=C1){if(n===C1){let i=new Error(`NullInjectorError: No provider for ${Lo(t)}!`);throw i.name="NullInjectorError",i;}return n;}};function gW(e,t){let n=e[mme]||null;if(!n&&t===!0)throw new Error(`Type ${Lo(e)} does not have '\u0275mod' property.`);return n;}function ep(e){return e[fme]||null;}function mW(e){return e[pme]||null;}function vW(e){return e[gme]||null;}function yW(e){let t=ep(e)||mW(e)||vW(e);return t!==null?t.standalone:!1;}function ib(e){return{ɵproviders:e};}function Mme(...e){return{ɵproviders:bW(!0,e),ɵfromNgModule:!0};}function bW(e,...t){let n=[],i=new Set(),r,s=o=>{n.push(o);};return UO(t,o=>{let a=o;FL(a,s,[],i)&&(r||=[],r.push(a));}),r!==void 0&&xW(r,s),n;}function xW(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];jO(r,s=>{t(s,i);});}}function FL(e,t,n,i){if(e=Fo(e),!e)return!1;let r=null,s=d$(e),o=!s&&ep(e);if(!s&&!o){let l=e.ngModule;if(s=d$(l),s)r=l;else return!1;}else{if(o&&!o.standalone)return!1;r=e;}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)FL(c,t,n,i);}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{UO(s.imports,u=>{FL(u,t,n,i)&&(c||=[],c.push(u));});}finally{}c!==void 0&&xW(c,t);}if(!a){let c=pm(r)||(()=>new r());t({provide:r,useFactory:c,deps:No},r),t({provide:pW,useValue:r,multi:!0},r),t({provide:Xy,useValue:()=>rt(r),multi:!0},r);}let l=s.providers;if(l!=null&&!a){let c=e;jO(l,u=>{t(u,c);});}}else return!1;return r!==e&&e.providers!==void 0;}function jO(e,t){for(let n of e)lW(n)&&(n=n.ɵproviders),Array.isArray(n)?jO(n,t):t(n);}var Fme=zi({provide:String,useValue:zi});function wW(e){return e!==null&&typeof e=="object"&&Fme in e;}function Nme(e){return!!(e&&e.useExisting);}function Lme(e){return!!(e&&e.useFactory);}function Qy(e){return typeof e=="function";}function Ome(e){return!!e.useClass;}var ID=new Tt(""),WA={},Bme={},vL;function $O(){return vL===void 0&&(vL=new iD()),vL;}var Oo=class{},_1=class extends Oo{parent;source;scopes;records=new Map();_ngOnDestroyHooks=new Set();_onDestroyHooks=[];get destroyed(){return this._destroyed;}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,LL(t,o=>this.processProvider(o)),this.records.set(fW,Uy(void 0,this)),r.has("environment")&&this.records.set(Oo,Uy(void 0,this));let s=this.records.get(ID);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(pW,No,kn.Self));}destroy(){m1(this),this._destroyed=!0;let t=ti(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i();}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ti(t);}}onDestroy(t){return m1(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t);}runInContext(t){m1(this);let n=Xf(this),i=pa(void 0),r;try{return t();}finally{Xf(n),pa(i);}}get(t,n=C1,i=kn.Default){if(m1(this),t.hasOwnProperty(f$))return t[f$](this);i=AD(i);let r,s=Xf(this),o=pa(void 0);try{if(!(i&kn.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=Ume(t)&&TD(t);c&&this.injectableDefInScope(c)?l=Uy(NL(t),WA):l=null,this.records.set(t,l);}if(l!=null)return this.hydrate(t,l);}let a=i&kn.Self?$O():this.parent;return n=i&kn.Optional&&n===C1?null:n,a.get(t,n);}catch(a){if(a.name==="NullInjectorError"){if((a[tD]=a[tD]||[]).unshift(Lo(t)),s)throw a;return Tme(a,t,"R3InjectorError",this.source);}else throw a;}finally{pa(o),Xf(s);}}resolveInjectorInitializers(){let t=ti(null),n=Xf(this),i=pa(void 0),r;try{let s=this.get(Xy,No,kn.Self);for(let o of s)o();}finally{Xf(n),pa(i),ti(t);}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Lo(i));return`R3Injector[${t.join(", ")}]`;}processProvider(t){t=Fo(t);let n=Qy(t)?t:Fo(t&&t.provide),i=Hme(t);if(!Qy(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Uy(void 0,WA,!0),r.factory=()=>ML(r.multi),this.records.set(n,r)),n=t,r.multi.push(t);}this.records.set(n,i);}hydrate(t,n){let i=ti(null);try{return n.value===WA&&(n.value=Bme,n.value=n.factory()),typeof n.value=="object"&&n.value&&zme(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value;}finally{ti(i);}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Fo(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n);}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1);}};function NL(e){let t=TD(e),n=t!==null?t.factory:pm(e);if(n!==null)return n;if(e instanceof Tt)throw new Je(204,!1);if(e instanceof Function)return Vme(e);throw new Je(204,!1);}function Vme(e){if(e.length>0)throw new Je(204,!1);let n=dme(e);return n!==null?()=>n.factory(e):()=>new e();}function Hme(e){if(wW(e))return Uy(void 0,e.useValue);{let t=CW(e);return Uy(t,WA);}}function CW(e,t,n){let i;if(Qy(e)){let r=Fo(e);return pm(r)||NL(r);}else if(wW(e))i=()=>Fo(e.useValue);else if(Lme(e))i=()=>e.useFactory(...ML(e.deps||[]));else if(Nme(e))i=()=>rt(Fo(e.useExisting));else{let r=Fo(e&&(e.useClass||e.provide));if(Gme(e))i=()=>new r(...ML(e.deps));else return pm(r)||NL(r);}return i;}function m1(e){if(e.destroyed)throw new Je(205,!1);}function Uy(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0};}function Gme(e){return!!e.deps;}function zme(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function";}function Ume(e){return typeof e=="function"||typeof e=="object"&&e instanceof Tt;}function LL(e,t){for(let n of e)Array.isArray(n)?LL(n,t):n&&lW(n)?LL(n.ɵproviders,t):t(n);}function ga(e,t){e instanceof _1&&m1(e);let n,i=Xf(e),r=pa(void 0);try{return t();}finally{Xf(i),pa(r);}}function _W(){return cW()!==void 0||_me()!=null;}function jme(e){if(!_W())throw new Je(-203,!1);}function $me(e){return typeof e=="function";}var ah=0,xn=1,Xt=2,oo=3,Ec=4,Bo=5,S1=6,rD=7,Tc=8,Zy=9,ih=10,Pi=11,E1=12,g$=13,rb=14,Ga=15,gm=16,jy=17,rh=18,PD=19,SW=20,Qf=21,yL=22,sD=23,Va=24,Es=25,EW=1;var mm=7,oD=8,Jy=9,Ha=10,aD=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e;}(aD||{});function Zf(e){return Array.isArray(e)&&typeof e[EW]=="object";}function lh(e){return Array.isArray(e)&&e[EW]===!0;}function WO(e){return(e.flags&4)!==0;}function kD(e){return e.componentOffset>-1;}function MD(e){return(e.flags&1)===1;}function tp(e){return!!e.template;}function OL(e){return(e[Xt]&512)!==0;}var BL=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i;}isFirstChange(){return this.firstChange;}};function TW(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i;}var Si=(()=>{let e=()=>AW;return e.ngInherit=!0,e;})();function AW(e){return e.type.prototype.ngOnChanges&&(e.setInput=qme),Wme;}function Wme(){let e=RW(this),t=e?.current;if(t){let n=e.previous;if(n===Yy)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t);}}function qme(e,t,n,i,r){let s=this.declaredInputs[i],o=RW(e)||Kme(e,{previous:Yy,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new BL(c&&c.currentValue,n,l===Yy),TW(e,t,r,n);}var DW="__ngSimpleChanges__";function RW(e){return e[DW]||null;}function Kme(e,t){return e[DW]=t;}var m$=null;var Fu=function(e,t,n){m$?.(e,t,n);},IW="svg",Yme="math";function Cl(e){for(;Array.isArray(e);)e=e[ah];return e;}function FD(e,t){return Cl(t[e]);}function Sl(e,t){return Cl(t[e.index]);}function PW(e,t){return e.data[t];}function qO(e,t){return e[t];}function rp(e,t){let n=t[e];return Zf(n)?n:n[ah];}function Xme(e){return(e[Xt]&4)===4;}function KO(e){return(e[Xt]&128)===128;}function Qme(e){return lh(e[oo]);}function vm(e,t){return t==null?null:e[t];}function kW(e){e[jy]=0;}function YO(e){e[Xt]&1024||(e[Xt]|=1024,KO(e)&&LD(e));}function Zme(e,t){for(;e>0;)t=t[rb],e--;return t;}function ND(e){return!!(e[Xt]&9216||e[Va]?.dirty);}function VL(e){e[ih].changeDetectionScheduler?.notify(9),e[Xt]&64&&(e[Xt]|=1024),ND(e)&&LD(e);}function LD(e){e[ih].changeDetectionScheduler?.notify(0);let t=ym(e);for(;t!==null&&!(t[Xt]&8192||(t[Xt]|=8192,!KO(t)));)t=ym(t);}function MW(e,t){if((e[Xt]&256)===256)throw new Je(911,!1);e[Qf]===null&&(e[Qf]=[]),e[Qf].push(t);}function Jme(e,t){if(e[Qf]===null)return;let n=e[Qf].indexOf(t);n!==-1&&e[Qf].splice(n,1);}function ym(e){let t=e[oo];return lh(t)?t[oo]:t;}var wn={lFrame:UW(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HL=!1;function e0e(){return wn.lFrame.elementDepthCount;}function t0e(){wn.lFrame.elementDepthCount++;}function n0e(){wn.lFrame.elementDepthCount--;}function FW(){return wn.bindingsEnabled;}function NW(){return wn.skipHydrationRootTNode!==null;}function i0e(e){return wn.skipHydrationRootTNode===e;}function r0e(){wn.skipHydrationRootTNode=null;}function pn(){return wn.lFrame.lView;}function gr(){return wn.lFrame.tView;}function vt(e){return wn.lFrame.contextLView=e,e[Tc];}function yt(e){return wn.lFrame.contextLView=null,e;}function Bs(){let e=LW();for(;e!==null&&e.type===64;)e=e.parent;return e;}function LW(){return wn.lFrame.currentTNode;}function T1(){let e=wn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent;}function Lu(e,t){let n=wn.lFrame;n.currentTNode=e,n.isParent=t;}function XO(){return wn.lFrame.isParent;}function QO(){wn.lFrame.isParent=!1;}function s0e(){return wn.lFrame.contextLView;}function OW(){return HL;}function v$(e){let t=HL;return HL=e,t;}function F1(){let e=wn.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t;}function BW(){return wn.lFrame.bindingIndex;}function o0e(e){return wn.lFrame.bindingIndex=e;}function N1(){return wn.lFrame.bindingIndex++;}function ZO(e){let t=wn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n;}function a0e(){return wn.lFrame.inI18n;}function VW(e){wn.lFrame.inI18n=e;}function l0e(e,t){let n=wn.lFrame;n.bindingIndex=n.bindingRootIndex=e,GL(t);}function c0e(){return wn.lFrame.currentDirectiveIndex;}function GL(e){wn.lFrame.currentDirectiveIndex=e;}function u0e(e){let t=wn.lFrame.currentDirectiveIndex;return t===-1?null:e[t];}function HW(){return wn.lFrame.currentQueryIndex;}function JO(e){wn.lFrame.currentQueryIndex=e;}function d0e(e){let t=e[xn];return t.type===2?t.declTNode:t.type===1?e[Bo]:null;}function GW(e,t,n){if(n&kn.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(n&kn.Host);)if(r=d0e(s),r===null||(s=s[rb],r.type&10))break;if(r===null)return!1;t=r,e=s;}let i=wn.lFrame=zW();return i.currentTNode=t,i.lView=e,!0;}function e4(e){let t=zW(),n=e[xn];wn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1;}function zW(){let e=wn.lFrame,t=e===null?null:e.child;return t===null?UW(e):t;}function UW(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t;}function jW(){let e=wn.lFrame;return wn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e;}var $W=jW;function t4(){let e=jW();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0;}function h0e(e){return(wn.lFrame.contextLView=Zme(e,wn.lFrame.contextLView))[Tc];}function sp(){return wn.lFrame.selectedIndex;}function bm(e){wn.lFrame.selectedIndex=e;}function n4(){let e=wn.lFrame;return PW(e.tView,e.selectedIndex);}function Ft(){wn.lFrame.currentNamespace=IW;}function f0e(){return wn.lFrame.currentNamespace;}var WW=!0;function L1(){return WW;}function O1(e){WW=e;}function p0e(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let o=AW(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o);}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s));}function OD(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u);}}function qA(e,t,n){qW(e,t,3,n);}function KA(e,t,n,i){(e[Xt]&3)===n&&qW(e,t,n,i);}function bL(e,t){let n=e[Xt];(n&3)===t&&(n&=16383,n+=1,e[Xt]=n);}function qW(e,t,n,i){let r=i!==void 0?e[jy]&65535:0,s=i??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break;}else t[l]<0&&(e[jy]+=65536),(a<s||s==-1)&&(g0e(e,n,t,l),e[jy]=(e[jy]&4294901760)+l+2),l++;}function y$(e,t){Fu(4,e,t);let n=ti(null);try{t.call(e);}finally{ti(n),Fu(5,e,t);}}function g0e(e,t,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=e[o];r?e[Xt]>>14<e[jy]>>16&&(e[Xt]&3)===t&&(e[Xt]+=16384,y$(a,s)):y$(a,s);}var Ky=-1,xm=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i;}};function m0e(e){return e instanceof xm;}function v0e(e){return(e.flags&8)!==0;}function y0e(e){return(e.flags&16)!==0;}function zL(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s);}else{let s=r,o=n[++i];b0e(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++;}}return i;}function KW(e){return e===3||e===4||e===6;}function b0e(e){return e.charCodeAt(0)===64;}function A1(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?b$(e,n,r,null,t[++i]):b$(e,n,r,null,null));}}return e;}function b$(e,t,n,i,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break;}else if(a>t){o=s-1;break;}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[s+1]=r);return;}else if(i===e[s+1]){e[s+2]=r;return;}}s++,i!==null&&s++,r!==null&&s++;}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i),r!==null&&e.splice(s++,0,r);}var xL={},UL=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n;}get(t,n,i){i=AD(i);let r=this.injector.get(t,xL,i);return r!==xL||n===xL?r:this.parentInjector.get(t,n,i);}};function YW(e){return e!==Ky;}function lD(e){return e&32767;}function x0e(e){return e>>16;}function cD(e,t){let n=x0e(e),i=t;for(;n>0;)i=i[rb],n--;return i;}var jL=!0;function uD(e){let t=jL;return jL=e,t;}var w0e=256,XW=w0e-1,QW=5,C0e=0,Nu={};function _0e(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(y1)&&(i=n[y1]),i==null&&(i=n[y1]=C0e++);let r=i&XW,s=1<<r;t.data[e+(r>>QW)]|=s;}function dD(e,t){let n=ZW(e,t);if(n!==-1)return n;let i=t[xn];i.firstCreatePass&&(e.injectorIndex=t.length,wL(i.data,e),wL(t,null),wL(i.blueprint,null));let r=i4(e,t),s=e.injectorIndex;if(YW(r)){let o=lD(r),a=cD(r,t),l=a[xn].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c];}return t[s+8]=r,s;}function wL(e,t){e.push(0,0,0,0,0,0,0,0,t);}function ZW(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex;}function i4(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=iq(r),i===null)return Ky;if(n++,r=r[rb],i.injectorIndex!==-1)return i.injectorIndex|n<<16;}return Ky;}function $L(e,t,n){_0e(e,t,n);}function S0e(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(KW(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===t)return n[r+1];r=r+2;}}}return null;}function JW(e,t,n){if(n&kn.Optional||e!==void 0)return e;zO(t,"NodeInjector");}function eq(e,t,n,i){if(n&kn.Optional&&i===void 0&&(i=null),!(n&(kn.Self|kn.Host))){let r=e[Zy],s=pa(void 0);try{return r?r.get(t,i,n&kn.Optional):uW(t,i,n&kn.Optional);}finally{pa(s);}}return JW(i,t,n);}function tq(e,t,n,i=kn.Default,r){if(e!==null){if(t[Xt]&2048&&!(i&kn.Self)){let o=D0e(e,t,n,i,Nu);if(o!==Nu)return o;}let s=nq(e,t,n,i,Nu);if(s!==Nu)return s;}return eq(t,n,i,r);}function nq(e,t,n,i,r){let s=T0e(n);if(typeof s=="function"){if(!GW(t,e,i))return i&kn.Host?JW(r,n,i):eq(t,n,i,r);try{let o;if(o=s(i),o==null&&!(i&kn.Optional))zO(n);else return o;}finally{$W();}}else if(typeof s=="number"){let o=null,a=ZW(e,t),l=Ky,c=i&kn.Host?t[Ga][Bo]:null;for((a===-1||i&kn.SkipSelf)&&(l=a===-1?i4(e,t):t[a+8],l===Ky||!w$(i,!1)?a=-1:(o=t[xn],a=lD(l),t=cD(l,t)));a!==-1;){let u=t[xn];if(x$(s,a,u.data)){let d=E0e(a,t,n,o,i,c);if(d!==Nu)return d;}l=t[a+8],l!==Ky&&w$(i,t[xn].data[a+8]===c)&&x$(s,a,t)?(o=u,a=lD(l),t=cD(l,t)):a=-1;}}return r;}function E0e(e,t,n,i,r,s){let o=t[xn],a=o.data[e+8],l=i==null?kD(a)&&jL:i!=o&&(a.type&3)!==0,c=r&kn.Host&&s===a,u=YA(a,o,n,l,c);return u!==null?wm(t,o,u,a):Nu;}function YA(e,t,n,i,r){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f;}if(r){let f=o[l];if(f&&tp(f)&&f.type===n)return l;}return null;}function wm(e,t,n,i){let r=e[n],s=t.data;if(m0e(r)){let o=r;o.resolving&&yme(vme(s[n]));let a=uD(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?pa(o.injectImpl):null,u=GW(e,i,kn.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&p0e(n,s[n],t);}finally{c!==null&&pa(c),uD(a),o.resolving=!1,$W();}}return r;}function T0e(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(y1)?e[y1]:void 0;return typeof t=="number"?t>=0?t&XW:A0e:t;}function x$(e,t,n){let i=1<<e;return!!(n[t+(e>>QW)]&i);}function w$(e,t){return!(e&kn.Self)&&!(e&kn.Host&&t);}var fm=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n;}get(t,n,i){return tq(this._tNode,this._lView,t,AD(i),n);}};function A0e(){return new fm(Bs(),pn());}function El(e){return P1(()=>{let t=e.prototype.constructor,n=t[eD]||WL(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let s=r[eD]||WL(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r);}return s=>new s();});}function WL(e){return rW(e)?()=>{let t=WL(Fo(e));return t&&t();}:pm(e);}function D0e(e,t,n,i,r){let s=e,o=t;for(;s!==null&&o!==null&&o[Xt]&2048&&!(o[Xt]&512);){let a=nq(s,o,n,i|kn.Self,Nu);if(a!==Nu)return a;let l=s.parent;if(!l){let c=o[SW];if(c){let u=c.get(n,Nu,i);if(u!==Nu)return u;}l=iq(o),o=o[rb];}s=l;}return r;}function iq(e){let t=e[xn],n=t.type;return n===2?t.declTNode:n===1?e[Bo]:null;}function r4(e){return S0e(Bs(),e);}function C$(e,t=null,n=null,i){let r=rq(e,t,n,i);return r.resolveInjectorInitializers(),r;}function rq(e,t=null,n=null,i,r=new Set()){let s=[n||No,Mme(e)];return i=i||(typeof e=="object"?void 0:Lo(e)),new _1(s,t||$O(),i||null,r);}var is=class e{static THROW_IF_NOT_FOUND=C1;static NULL=new iD();static create(t,n){if(Array.isArray(t))return C$({name:""},n,t,"");{let i=t.name??"";return C$({name:i},t.parent,t.providers,i);}}static ɵprov=ot({token:e,providedIn:"any",factory:()=>rt(fW)});static __NG_ELEMENT_ID__=-1;};var R0e=new Tt("");R0e.__NG_ELEMENT_ID__=e=>{let t=Bs();if(t===null)throw new Je(204,!1);if(t.type&2)return t.value;if(e&kn.Optional)return null;throw new Je(204,!1);};var sq=!1,s4=(()=>{class e{static __NG_ELEMENT_ID__=I0e;static __NG_ENV_ID__=n=>n;}return e;})(),qL=class extends s4{_lView;constructor(t){super(),this._lView=t;}onDestroy(t){return MW(this._lView,t),()=>Jme(this._lView,t);}};function I0e(){return new qL(pn());}var eb=class{},BD=new Tt("",{providedIn:"root",factory:()=>!1});var oq=new Tt(""),aq=new Tt(""),op=(()=>{class e{taskId=0;pendingTasks=new Set();get _hasPendingTasks(){return this.hasPendingTasks.value;}hasPendingTasks=new ps(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n;}has(n){return this.pendingTasks.has(n);}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1);}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1);}static ɵprov=ot({token:e,providedIn:"root",factory:()=>new e()});}return e;})();var KL=class extends Ar{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,_W()&&(this.destroyRef=qe(s4,{optional:!0})??void 0,this.pendingTasks=qe(op,{optional:!0})??void 0);}emit(t){let n=ti(null);try{super.next(t);}finally{ti(n);}}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l);}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof dr&&t.add(a),a;}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i);});};}},_e=KL;function hD(...e){}function lq(e){let t,n;function i(){e=hD;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t);}catch{}}return t=setTimeout(()=>{e(),i();}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i();})),()=>i();}function _$(e){return queueMicrotask(()=>e()),()=>{e=hD;};}var o4="isAngularZone",fD=o4+"_ID",P0e=0,Tn=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _e(!1);onMicrotaskEmpty=new _e(!1);onStable=new _e(!1);onError=new _e(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=sq}=t;if(typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec())),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,F0e(o);}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(o4)===!0;}static assertInAngularZone(){if(!e.isInAngularZone())throw new Je(909,!1);}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Je(909,!1);}run(t,n,i){return this._inner.run(t,n,i);}runTask(t,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,k0e,hD,hD);try{return s.runTask(o,n,i);}finally{s.cancelTask(o);}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i);}runOutsideAngular(t){return this._outer.run(t);}},k0e={};function a4(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null);}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null));}finally{e.isStable=!0;}}}function M0e(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){lq(()=>{e.callbackScheduled=!1,YL(e),e.isCheckStableRunning=!0,a4(e),e.isCheckStableRunning=!1;});}e.scheduleInRootZone?Zone.root.run(()=>{t();}):e._outer.run(()=>{t();}),YL(e);}function F0e(e){let t=()=>{M0e(e);},n=P0e++;e._inner=e._inner.fork({name:"angular",properties:{[o4]:!0,[fD]:n,[fD+n]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(N0e(l))return i.invokeTask(s,o,a,l);try{return S$(e),i.invokeTask(s,o,a,l);}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),E$(e);}},onInvoke:(i,r,s,o,a,l,c)=>{try{return S$(e),i.invoke(s,o,a,l,c);}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!L0e(l)&&t(),E$(e);}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,YL(e),a4(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask));},onHandleError:(i,r,s,o)=>(i.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)});}function YL(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1;}function S$(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null));}function E$(e){e._nesting--,a4(e);}var XL=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _e();onMicrotaskEmpty=new _e();onStable=new _e();onError=new _e();run(t,n,i){return t.apply(n,i);}runGuarded(t,n,i){return t.apply(n,i);}runOutsideAngular(t){return t();}runTask(t,n,i,r){return t.apply(n,i);}};function N0e(e){return cq(e,"__ignore_ng_zone__");}function L0e(e){return cq(e,"__scheduler_tick__");}function cq(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0;}var sh=class{_console=console;handleError(t){this._console.error("ERROR",t);}},O0e=new Tt("",{providedIn:"root",factory:()=>{let e=qe(Tn),t=qe(sh);return n=>e.runOutsideAngular(()=>t.handleError(n));}});function T$(e,t){return nW(e,t);}function B0e(e){return nW(tW,e);}var uq=(T$.required=B0e,T$);function V0e(){return sb(Bs(),pn());}function sb(e,t){return new Un(Sl(e,t));}var Un=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n;}static __NG_ELEMENT_ID__=V0e;}return e;})();function H0e(e){return e instanceof Un?e.nativeElement:e;}function G0e(){return this._results[Symbol.iterator]();}var QL=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ar();}constructor(t=!1){this._emitDistinctChangesOnly=t;}get(t){return this._results[t];}map(t){return this._results.map(t);}filter(t){return this._results.filter(t);}find(t){return this._results.find(t);}reduce(t,n){return this._results.reduce(t,n);}forEach(t){this._results.forEach(t);}some(t){return this._results.some(t);}toArray(){return this._results.slice();}toString(){return this._results.toString();}reset(t,n){this.dirty=!1;let i=Rme(t);(this._changesDetected=!Dme(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0]);}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this);}onDirty(t){this._onDirty=t;}setDirty(){this.dirty=!0,this._onDirty?.();}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe());}[Symbol.iterator]=G0e;};function dq(e){return(e.flags&128)===128;}var hq=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e;}(hq||{}),fq=new Map(),z0e=0;function U0e(){return z0e++;}function j0e(e){fq.set(e[PD],e);}function ZL(e){fq.delete(e[PD]);}var A$="__ngContext__";function Ou(e,t){Zf(t)?(e[A$]=t[PD],j0e(t)):e[A$]=t;}function pq(e){return mq(e[E1]);}function gq(e){return mq(e[Ec]);}function mq(e){for(;e!==null&&!lh(e);)e=e[Ec];return e;}var JL;function vq(e){JL=e;}function l4(){if(JL!==void 0)return JL;if(typeof document<"u")return document;throw new Je(210,!1);}var c4=new Tt("",{providedIn:"root",factory:()=>$0e}),$0e="ng",u4=new Tt(""),$r=new Tt("",{providedIn:"platform",factory:()=>"unknown"});var d4=new Tt(""),h4=new Tt("",{providedIn:"root",factory:()=>l4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var W0e="h",q0e="b";var yq=!1,K0e=new Tt("",{providedIn:"root",factory:()=>yq});var f4=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e;}(f4||{}),VD=new Tt(""),D$=new Set();function ch(e){D$.has(e)||(D$.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}));}var $y=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e;}($y||{}),bq=(()=>{class e{impl=null;execute(){this.impl?.execute();}static ɵprov=ot({token:e,providedIn:"root",factory:()=>new e()});}return e;})(),Y0e=[$y.EarlyRead,$y.Write,$y.MixedReadWrite,$y.Read],X0e=(()=>{class e{ngZone=qe(Tn);scheduler=qe(eb);errorHandler=qe(sh,{optional:!0});sequences=new Set();deferredRegistrations=new Set();executing=!1;constructor(){qe(VD,{optional:!0});}execute(){this.executing=!0;for(let n of Y0e)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[n]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>i.hooks[n](i.pipelinedValue),i.snapshot));}catch(r){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(r);}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear();}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7));}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n));}maybeTrace(n,i){return i?.run(f4.AFTER_NEXT_RENDER,n)??n();}static ɵprov=ot({token:e,providedIn:"root",factory:()=>new e()});}return e;})(),eO=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,s=null){this.impl=t,this.hooks=n,this.once=i,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy());}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot=null;}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();}};function p4(e,t){!t?.injector&&jme(p4);let n=t?.injector??qe(is);return ch("NgAfterNextRender"),Z0e(e,n,t,!0);}function Q0e(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n;}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read];}function Z0e(e,t,n,i){let r=t.get(bq);r.impl??=t.get(X0e);let s=t.get(VD,null,{optional:!0}),o=n?.phase??$y.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(s4):null,l=new eO(r.impl,Q0e(e,o),i,a,s?.snapshot(null));return r.impl.register(l),l;}var J0e=()=>null;function g4(e,t,n=!1){return J0e(e,t,n);}var Bu=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e;}(Bu||{}),HA;function eve(){if(HA===void 0&&(HA=null,nh.trustedTypes))try{HA=nh.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e});}catch{}return HA;}function HD(e){return eve()?.createHTML(e)||e;}var GA;function xq(){if(GA===void 0&&(GA=null,nh.trustedTypes))try{GA=nh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e});}catch{}return GA;}function R$(e){return xq()?.createHTML(e)||e;}function I$(e){return xq()?.createScriptURL(e)||e;}var pD=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t;}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eW})`;}};function Em(e){return e instanceof pD?e.changingThisBreaksApplicationSecurity:e;}function GD(e,t){let n=tve(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${eW})`);}return n===t;}function tve(e){return e instanceof pD&&e.getTypeName()||null;}function wq(e){let t=new nO(e);return nve()?new tO(t):t;}var tO=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t;}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(HD(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n);}catch{return null;}}},nO=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=HD(t),n;}};function nve(){try{return!!new window.DOMParser().parseFromString(HD(""),"text/html");}catch{return!1;}}var ive=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zD(e){return e=String(e),e.match(ive)?e:"unsafe:"+e;}function uh(e){let t={};for(let n of e.split(","))t[n]=!0;return t;}function B1(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t;}var Cq=uh("area,br,col,hr,img,wbr"),_q=uh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sq=uh("rp,rt"),rve=B1(Sq,_q),sve=B1(_q,uh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ove=B1(Sq,uh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iO=B1(Cq,sve,ove,rve),m4=uh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ave=uh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lve=uh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Eq=B1(m4,ave,lve),cve=uh("script,style,template"),rO=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=hve(n);continue;}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=dve(n);if(s){n=s;break;}n=r.pop();}}return this.buf.join("");}startElement(t){let n=P$(t).toLowerCase();if(!iO.hasOwnProperty(n))return this.sanitizedSomething=!0,!cve.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!Eq.hasOwnProperty(a)){this.sanitizedSomething=!0;continue;}let l=s.value;m4[a]&&(l=zD(l)),this.buf.push(" ",o,'="',k$(l),'"');}return this.buf.push(">"),!0;}endElement(t){let n=P$(t).toLowerCase();iO.hasOwnProperty(n)&&!Cq.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"));}chars(t){this.buf.push(k$(t));}};function uve(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY;}function dve(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Tq(t);return t;}function hve(e){let t=e.firstChild;if(t&&uve(e,t))throw Tq(t);return t;}function P$(e){let t=e.nodeName;return typeof t=="string"?t:"FORM";}function Tq(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);}var fve=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pve=/([^\#-~ |!])/g;function k$(e){return e.replace(/&/g,"&amp;").replace(fve,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";";}).replace(pve,function(t){return"&#"+t.charCodeAt(0)+";";}).replace(/</g,"&lt;").replace(/>/g,"&gt;");}var zA;function Aq(e,t){let n=null;try{zA=zA||wq(e);let i=t?String(t):"";n=zA.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=zA.getInertBodyElement(i);}while(i!==s);let a=new rO().sanitizeChildren(sO(n)||n);return HD(a);}finally{if(n){let i=sO(n)||n;for(;i.firstChild;)i.firstChild.remove();}}}function sO(e){return"content"in e&&gve(e)?e.content:null;}function gve(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE";}var V1=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e;}(V1||{});function ob(e){let t=v4();return t?R$(t.sanitize(V1.HTML,e)||""):GD(e,"HTML")?R$(Em(e)):Aq(l4(),Jf(e));}function mve(e){let t=v4();return t?t.sanitize(V1.URL,e)||"":GD(e,"URL")?Em(e):zD(Jf(e));}function vve(e){let t=v4();if(t)return I$(t.sanitize(V1.RESOURCE_URL,e)||"");if(GD(e,"ResourceURL"))return I$(Em(e));throw new Je(904,!1);}function yve(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?vve:mve;}function Dq(e,t,n){return yve(t,n)(e);}function v4(){let e=pn();return e&&e[ih].sanitizer;}var bve=/^>|^->|<!--|-->|--!>|<!-$/g,xve=/(<|>)/g,wve="\u200B$1\u200B";function Cve(e){return e.replace(bve,t=>t.replace(xve,wve));}function H1(e){return e.ownerDocument.defaultView;}function Rq(e){return e instanceof Function?e():e;}var np=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e;}(np||{}),Vu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e;}(Vu||{}),oO;function y4(e,t){return oO(e,t);}function _ve(e){oO===void 0&&(oO=e());}function Wy(e,t,n,i,r){if(i!=null){let s,o=!1;lh(i)?s=i:Zf(i)&&(o=!0,i=i[ah]);let a=Cl(i);e===0&&n!==null?r==null?Bq(t,n,a):Cm(t,n,a,r||null,!0):e===1&&n!==null?Cm(t,n,a,r||null,!0):e===2?jq(t,a,o):e===3&&t.destroyNode(a),s!=null&&kve(t,e,s,n,r);}}function Iq(e,t){return e.createText(t);}function Pq(e,t,n){e.setValue(t,n);}function kq(e,t){return e.createComment(Cve(t));}function b4(e,t,n){return e.createElement(t,n);}function Sve(e,t){Mq(e,t),t[ah]=null,t[Bo]=null;}function Eve(e,t,n,i,r,s){i[ah]=r,i[Bo]=t,jD(e,i,n,1,r,s);}function Mq(e,t){t[ih].changeDetectionScheduler?.notify(10),jD(e,t,t[Pi],2,null,null);}function Tve(e){let t=e[E1];if(!t)return CL(e[xn],e);for(;t;){let n=null;if(Zf(t))n=t[E1];else{let i=t[Ha];i&&(n=i);}if(!n){for(;t&&!t[Ec]&&t!==e;)Zf(t)&&CL(t[xn],t),t=t[oo];t===null&&(t=e),Zf(t)&&CL(t[xn],t),n=t&&t[Ec];}t=n;}}function Ave(e,t,n,i){let r=Ha+i,s=n.length;i>0&&(n[r-1][Ec]=t),i<s-Ha?(t[Ec]=n[r],hW(n,Ha+i,t)):(n.push(t),t[Ec]=null),t[oo]=n;let o=t[gm];o!==null&&n!==o&&Fq(o,t);let a=t[rh];a!==null&&a.insertView(e),VL(t),t[Xt]|=128;}function Fq(e,t){let n=e[Jy],i=t[oo];if(Zf(i))e[Xt]|=aD.HasTransplantedViews;else{let r=i[oo][Ga];t[Ga]!==r&&(e[Xt]|=aD.HasTransplantedViews);}n===null?e[Jy]=[t]:n.push(t);}function x4(e,t){let n=e[Jy],i=n.indexOf(t);n.splice(i,1);}function aO(e,t){if(e.length<=Ha)return;let n=Ha+t,i=e[n];if(i){let r=i[gm];r!==null&&r!==e&&x4(r,i),t>0&&(e[n-1][Ec]=i[Ec]);let s=nD(e,Ha+t);Sve(i[xn],i);let o=s[rh];o!==null&&o.detachView(s[xn]),i[oo]=null,i[Ec]=null,i[Xt]&=-129;}return i;}function Nq(e,t){if(!(t[Xt]&256)){let n=t[Pi];n.destroyNode&&jD(e,t,n,3,null,null),Tve(t);}}function CL(e,t){if(t[Xt]&256)return;let n=ti(null);try{t[Xt]&=-129,t[Xt]|=256,t[Va]&&WN(t[Va]),Rve(e,t),Dve(e,t),t[xn].type===1&&t[Pi].destroy();let i=t[gm];if(i!==null&&lh(t[oo])){i!==t[oo]&&x4(i,t);let r=t[rh];r!==null&&r.detachView(e);}ZL(t);}finally{ti(n);}}function Dve(e,t){let n=e.cleanup,i=t[rD];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2;}else{let a=i[n[o+1]];n[o].call(a);}i!==null&&(t[rD]=null);let r=t[Qf];if(r!==null){t[Qf]=null;for(let o=0;o<r.length;o++){let a=r[o];a();}}let s=t[sD];if(s!==null){t[sD]=null;for(let o of s)o.destroy();}}function Rve(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof xm)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Fu(4,a,l);try{l.call(a);}finally{Fu(5,a,l);}}else{Fu(4,r,s);try{s.call(r);}finally{Fu(5,r,s);}}}}}function Lq(e,t,n){return Oq(e,t.parent,n);}function Oq(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[ah];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=e.data[i.directiveStart+r];if(s===Bu.None||s===Bu.Emulated)return null;}return Sl(i,n);}}function Cm(e,t,n,i,r){e.insertBefore(t,n,i,r);}function Bq(e,t,n){e.appendChild(t,n);}function M$(e,t,n,i,r){i!==null?Cm(e,t,n,i,r):Bq(e,t,n);}function w4(e,t){return e.parentNode(t);}function Ive(e,t){return e.nextSibling(t);}function Vq(e,t,n){return Gq(e,t,n);}function Hq(e,t,n){return e.type&40?Sl(e,n):null;}var Gq=Hq,lO;function zq(e,t){Gq=e,lO=t;}function UD(e,t,n,i){let r=Lq(e,i,t),s=t[Pi],o=i.parent||t[Bo],a=Vq(o,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)M$(s,r,n[l],a,!1);else M$(s,r,n,a,!1);lO!==void 0&&lO(s,i,t,n,r);}function v1(e,t){if(t!==null){let n=t.type;if(n&3)return Sl(t,e);if(n&4)return cO(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return v1(e,i);{let r=e[t.index];return lh(r)?cO(-1,r):Cl(r);}}else{if(n&128)return v1(e,t.next);if(n&32)return y4(t,e)()||Cl(e[t.index]);{let i=Uq(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=ym(e[Ga]);return v1(r,i);}else return v1(e,t.next);}}}return null;}function Uq(e,t){if(t!==null){let i=e[Ga][Bo],r=t.projection;return i.projection[r];}return null;}function cO(e,t){let n=Ha+e+1;if(n<t.length){let i=t[n],r=i[xn].firstChild;if(r!==null)return v1(i,r);}return t[mm];}function jq(e,t,n){e.removeChild(null,t,n);}function C4(e,t,n,i,r,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue;}let a=i[n.index],l=n.type;if(o&&t===0&&(a&&Ou(Cl(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)C4(e,t,n.child,i,r,s,!1),Wy(t,e,r,a,s);else if(l&32){let c=y4(n,i),u;for(;u=c();)Wy(t,e,r,u,s);Wy(t,e,r,a,s);}else l&16?$q(e,t,i,n,r,s):Wy(t,e,r,a,s);n=o?n.projectionNext:n.next;}}function jD(e,t,n,i,r,s){C4(n,i,e.firstChild,t,r,s,!1);}function Pve(e,t,n){let i=t[Pi],r=Lq(e,n,t),s=n.parent||t[Bo],o=Vq(s,n,t);$q(i,0,t,n,r,o);}function $q(e,t,n,i,r,s){let o=n[Ga],l=o[Bo].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Wy(t,e,r,u,s);}else{let c=l,u=o[oo];dq(i)&&(c.flags|=128),C4(e,t,c,u,r,s,!0);}}function kve(e,t,n,i,r){let s=n[mm],o=Cl(n);s!==o&&Wy(t,e,i,s,r);for(let a=Ha;a<n.length;a++){let l=n[a];jD(l[xn],l,e,t,i,s);}}function Mve(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Vu.DashCase;r==null?e.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Vu.Important),e.setStyle(n,i,r,s));}}function Fve(e,t,n){e.setAttribute(t,"style",n);}function Wq(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n);}function qq(e,t,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&zL(e,t,i),r!==null&&Wq(e,t,r),s!==null&&Fve(e,t,s);}function Nve(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r;}n=r+1;}}var Kq="ng-template";function Lve(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&Nve(t[r+1].toLowerCase(),n,0)!==-1)return!0;}else if(_4(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===n)return!0;}return!1;}function _4(e){return e.type===4&&e.value!==Kq;}function Ove(e,t,n){let i=e.type===4&&!n?Kq:e.value;return t===i;}function Bve(e,t,n){let i=4,r=e.attrs,s=r!==null?Gve(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!_c(i)&&!_c(l))return!1;if(o&&_c(l))continue;o=!1,i=l|i&1;continue;}if(!o)if(i&4){if(i=2|i&1,l!==""&&!Ove(e,l,n)||l===""&&t.length===1){if(_c(i))return!1;o=!0;}}else if(i&8){if(r===null||!Lve(e,r,l,n)){if(_c(i))return!1;o=!0;}}else{let c=t[++a],u=Vve(l,r,_4(e),n);if(u===-1){if(_c(i))return!1;o=!0;continue;}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(_c(i))return!1;o=!0;}}}}return _c(i)||o;}function _c(e){return(e&1)===0;}function Vve(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue;}else{if(o===4)break;if(o===0){r+=4;continue;}}r+=s?1:2;}return-1;}else return zve(t,e);}function Yq(e,t,n=!1){for(let i=0;i<t.length;i++)if(Bve(e,t[i],n))return!0;return!1;}function Hve(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1];}return null;}function Gve(e){for(let t=0;t<e.length;t++){let n=e[t];if(KW(n))return t;}return e.length;}function zve(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++;}return-1;}function Uve(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0;}}return!1;}function F$(e,t){return e?":not("+t.trim()+")":t;}function jve(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string"){if(i&2){let a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]";}else i&8?r+="."+o:i&4&&(r+=" "+o);}else r!==""&&!_c(o)&&(t+=F$(s,r),r=""),i=o,s=s||!_c(i);n++;}return r!==""&&(t+=F$(s,r)),t;}function $ve(e){return e.map(jve).join(",");}function Wve(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let s=e[i];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++i]):r===8&&n.push(s);else{if(!_c(r))break;r=s;}i++;}return{attrs:t,classes:n};}var Tl={};function J(e=1){Xq(gr(),pn(),sp()+e,!1);}function Xq(e,t,n,i){if(!i)if((t[Xt]&3)===3){let s=e.preOrderCheckHooks;s!==null&&qA(t,s,n);}else{let s=e.preOrderHooks;s!==null&&KA(t,s,0,n);}bm(n);}function Te(e,t=kn.Default){let n=pn();if(n===null)return rt(e,t);let i=Bs();return tq(i,n,Fo(e),t);}function Qq(){let e="invalid";throw new Error(e);}function Zq(e,t,n,i,r,s){let o=ti(null);try{let a=null;r&np.SignalBased&&(a=t[i][Ba]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&np.HasDecoratorInputTransform&&(s=e.inputTransforms[i].call(t,s)),e.setInput!==null?e.setInput(t,a,s,n,i):TW(t,a,i,s);}finally{ti(o);}}function qve(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)bm(~r);else{let s=r,o=n[++i],a=n[++i];l0e(o,s);let l=t[s];a(2,l);}}}finally{bm(-1);}}function $D(e,t,n,i,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[ah]=r,d[Xt]=i|4|128|8|64|1024,(c!==null||e&&e[Xt]&2048)&&(d[Xt]|=2048),kW(d),d[oo]=d[rb]=e,d[Tc]=n,d[ih]=o||e&&e[ih],d[Pi]=a||e&&e[Pi],d[Zy]=l||e&&e[Zy]||null,d[Bo]=s,d[PD]=U0e(),d[S1]=u,d[SW]=c,d[Ga]=t.type==2?e[Ga]:d,d;}function ab(e,t,n,i,r){let s=e.data[t];if(s===null)s=S4(e,t,n,i,r),a0e()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=T1();s.injectorIndex=o===null?-1:o.injectorIndex;}return Lu(s,!0),s;}function S4(e,t,n,i,r){let s=LW(),o=XO(),a=o?s:s&&s.parent,l=e.data[t]=Jve(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l;}function G1(e,t,n,i){if(n===0)return-1;let r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r;}function Jq(e,t,n,i,r){let s=sp(),o=i&2;try{bm(-1),o&&t.length>Es&&Xq(e,t,Es,!1),Fu(o?2:0,r),n(i,r);}finally{bm(s),Fu(o?3:1,r);}}function E4(e,t,n){if(WO(t)){let i=ti(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o);}}}finally{ti(i);}}}function T4(e,t,n){FW()&&(sye(e,t,n,Sl(n,t)),(n.flags&64)===64&&nK(e,t,n));}function A4(e,t,n=Sl){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(t,e):e[o];e[r++]=a;}}}function eK(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=D4(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t;}function D4(e,t,n,i,r,s,o,a,l,c,u){let d=Es+i,h=d+r,f=Kve(d,h),g=typeof c=="function"?c():c;return f[xn]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u};}function Kve(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Tl);return n;}function Yve(e,t,n,i){let s=i.get(K0e,yq)||n===Bu.ShadowDom,o=e.selectRootElement(t,s);return Xve(o),o;}function Xve(e){Qve(e);}var Qve=()=>null;function Zve(e,t,n,i){let r=oK(t);r.push(n),e.firstCreatePass&&aK(e).push(i,r.length-1);}function Jve(e,t,n,i,r,s){let o=t?t.injectorIndex:-1,a=0;return NW()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0};}function N$(e,t,n,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;i??={};let a,l=np.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s];}e===0?L$(i,n,c,a,l):L$(i,n,c,a);}return i;}function L$(e,t,n,i,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,i):s=e[n]=[t,i],r!==void 0&&s.push(r);}function eye(e,t,n){let i=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;l=N$(0,d.inputs,u,l,f),c=N$(1,d.outputs,u,c,g);let m=l!==null&&o!==null&&!_4(t)?gye(l,u,o):null;a.push(m);}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c;}function tye(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e;}function R4(e,t,n,i,r,s,o,a){let l=Sl(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(k4(e,n,u,i,r),kD(t)&&nye(n,t.index)):t.type&3?(i=tye(i),r=o!=null?o(r,t.value||"",i):r,s.setProperty(l,i,r)):t.type&12;}function nye(e,t){let n=rp(t,e);n[Xt]&16||(n[Xt]|=64);}function I4(e,t,n,i){if(FW()){let r=i===null?null:{"":-1},s=aye(e,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&tK(e,t,n,o,r,a),r&&lye(n,i,r);}n.mergedAttrs=A1(n.mergedAttrs,n.attrs);}function tK(e,t,n,i,r,s){for(let c=0;c<i.length;c++)$L(dD(n,t),e,i[c].type);uye(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u);}let o=!1,a=!1,l=G1(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=A1(n.mergedAttrs,u.hostAttrs),dye(e,n,t,l,u),cye(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++;}eye(e,n,s);}function iye(e,t,n,i,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;rye(o)!=a&&o.push(a),o.push(n,i,s);}}function rye(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n;}return 0;}function sye(e,t,n,i){let r=n.directiveStart,s=n.directiveEnd;kD(n)&&hye(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||dD(n,t),Ou(i,t);let o=n.initialInputs;for(let a=r;a<s;a++){let l=e.data[a],c=wm(t,e,a,n);if(Ou(c,t),o!==null&&pye(t,a-r,c,l,n,o),tp(l)){let u=rp(n.index,t);u[Tc]=wm(t,e,a,n);}}}function nK(e,t,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=c0e();try{bm(s);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];GL(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oye(l,c);}}finally{bm(-1),GL(o);}}function oye(e,t){e.hostBindings!==null&&e.hostBindings(1,t);}function aye(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Yq(t,o.selectors,!1))if(i||(i=[]),tp(o)){if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map(),o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;uO(e,t,l);}else i.unshift(o),uO(e,t,0);}else r=r||new Map(),o.findHostDirectiveDefs?.(o,i,r),i.push(o);}return i===null?null:[i,r];}function uO(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index);}function lye(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=n[t[r+1]];if(s==null)throw new Je(-301,!1);i.push(t[r],s);}}}function cye(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;tp(t)&&(n[""]=e);}}function uye(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t;}function dye(e,t,n,i,r){e.data[i]=r;let s=r.factory||(r.factory=pm(r.type,!0)),o=new xm(s,tp(r),Te);e.blueprint[i]=o,n[i]=o,iye(e,t,i,G1(e,n,r.hostVars,Tl),r);}function iK(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t;}function hye(e,t,n){let i=Sl(t,e),r=eK(n),s=e[ih].rendererFactory,o=WD(e,$D(e,r,null,iK(n),i,t,null,s.createRenderer(i,n),null,null,null));e[t.index]=o;}function fye(e,t,n,i,r,s){let o=Sl(e,t);P4(t[Pi],o,s,e.value,n,i,r);}function P4(e,t,n,i,r,s,o){if(s==null)e.removeAttribute(t,r,n);else{let a=o==null?Jf(s):o(s,i||"",r);e.setAttribute(t,r,a,n);}}function pye(e,t,n,i,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Zq(i,n,l,c,u,d);}}function gye(e,t,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue;}else if(s===5){r+=2;continue;}if(typeof s=="number")break;if(e.hasOwnProperty(s)){i===null&&(i=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],n[r+1]);break;}}r+=2;}return i;}function rK(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null];}function sK(e,t){let n=e.contentQueries;if(n!==null){let i=ti(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=e.data[o];JO(s),a.contentQueries(2,t[o],o);}}}finally{ti(i);}}}function WD(e,t){return e[E1]?e[g$][Ec]=t:e[E1]=t,e[g$]=t,t;}function dO(e,t,n){JO(0);let i=ti(null);try{t(e,n);}finally{ti(i);}}function oK(e){return e[rD]??=[];}function aK(e){return e.cleanup??=[];}function lK(e,t){let n=e[Zy],i=n?n.get(sh,null):null;i&&i.handleError(t);}function k4(e,t,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=t[o],u=e.data[o];Zq(u,c,i,a,l,r);}}function cK(e,t,n){let i=FD(t,e);Pq(e[Pi],i,n);}function mye(e,t){let n=rp(t,e),i=n[xn];vye(i,n);let r=n[ah];r!==null&&n[S1]===null&&(n[S1]=g4(r,n[Zy])),M4(i,n,n[Tc]);}function vye(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n]);}function M4(e,t,n){e4(t);try{let i=e.viewQuery;i!==null&&dO(1,i,n);let r=e.template;r!==null&&Jq(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[rh]?.finishViewCreation(e),e.staticContentQueries&&sK(e,t),e.staticViewQueries&&dO(2,e.viewQuery,n);let s=e.components;s!==null&&yye(t,s);}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i;}finally{t[Xt]&=-5,t4();}}function yye(e,t){for(let n=0;n<t.length;n++)mye(e,t[n]);}function uK(e,t,n,i){let r=ti(null);try{let s=t.tView,a=e[Xt]&4096?4096:16,l=$D(e,s,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[gm]=c;let u=e[rh];return u!==null&&(l[rh]=u.createEmbeddedView(s)),M4(s,l,n),l;}finally{ti(r);}}function hO(e,t){return!t||t.firstChild===null||dq(e);}function dK(e,t,n,i=!0){let r=t[xn];if(Ave(r,t,e,n),i){let o=cO(n,e),a=t[Pi],l=w4(a,e[mm]);l!==null&&Eve(r,e[Bo],a,t,l,o);}let s=t[S1];s!==null&&s.firstChild!==null&&(s.firstChild=null);}function gD(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue;}let s=t[n.index];s!==null&&i.push(Cl(s)),lh(s)&&bye(s,i);let o=n.type;if(o&8)gD(e,t,n.child,i);else if(o&32){let a=y4(n,t),l;for(;l=a();)i.push(l);}else if(o&16){let a=Uq(t,n);if(Array.isArray(a))i.push(...a);else{let l=ym(t[Ga]);gD(l[xn],l,a,i,!0);}}n=r?n.projectionNext:n.next;}return i;}function bye(e,t){for(let n=Ha;n<e.length;n++){let i=e[n],r=i[xn].firstChild;r!==null&&gD(i[xn],i,r,t);}e[mm]!==e[ah]&&t.push(e[mm]);}var hK=[];function xye(e){return e[Va]??wye(e);}function wye(e){let t=hK.pop()??Object.create(_ye);return t.lView=e,t;}function Cye(e){e.lView[Va]!==e&&(e.lView=null,hK.push(e));}var _ye=Re(O({},h1),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{LD(e.lView);},consumerOnSignalRead(){this.lView[Va]=this;}});function Sye(e){let t=e[Va]??Object.create(Eye);return t.lView=e,t;}var Eye=Re(O({},h1),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=ym(e.lView);for(;t&&!fK(t[xn]);)t=ym(t);t&&YO(t);},consumerOnSignalRead(){this.lView[Va]=this;}});function fK(e){return e.type!==2;}function pK(e){if(e[sD]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[sD])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[Xt]&8192);}}var Tye=100;function gK(e,t=!0,n=0){let r=e[ih].rendererFactory,s=!1;s||r.begin?.();try{Aye(e,n);}catch(o){throw t&&lK(e,o),o;}finally{s||r.end?.();}}function Aye(e,t){let n=OW();try{v$(!0),fO(e,t);let i=0;for(;ND(e);){if(i===Tye)throw new Je(103,!1);i++,fO(e,1);}}finally{v$(n);}}function Dye(e,t,n,i){let r=t[Xt];if((r&256)===256)return;let s=!1,o=!1;e4(t);let a=!0,l=null,c=null;s||(fK(e)?(c=xye(t),l=uA(c)):Sj()===null?(a=!1,c=Sye(t),l=uA(c)):t[Va]&&(WN(t[Va]),t[Va]=null));try{kW(t),o0e(e.bindingStartIndex),n!==null&&Jq(e,t,n,2,i);let u=(r&3)===3;if(!s)if(u){let f=e.preOrderCheckHooks;f!==null&&qA(t,f,null);}else{let f=e.preOrderHooks;f!==null&&KA(t,f,0,null),bL(t,0);}if(o||Rye(t),pK(t),mK(t,0),e.contentQueries!==null&&sK(e,t),!s)if(u){let f=e.contentCheckHooks;f!==null&&qA(t,f);}else{let f=e.contentHooks;f!==null&&KA(t,f,1),bL(t,1);}qve(e,t);let d=e.components;d!==null&&yK(t,d,0);let h=e.viewQuery;if(h!==null&&dO(2,h,i),!s)if(u){let f=e.viewCheckHooks;f!==null&&qA(t,f);}else{let f=e.viewHooks;f!==null&&KA(t,f,2),bL(t,2);}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yL]){for(let f of t[yL])f();t[yL]=null;}s||(t[Xt]&=-73);}catch(u){throw s||LD(t),u;}finally{c!==null&&(jN(c,l),a&&Cye(c)),t4();}}function mK(e,t){for(let n=pq(e);n!==null;n=gq(n))for(let i=Ha;i<n.length;i++){let r=n[i];vK(r,t);}}function Rye(e){for(let t=pq(e);t!==null;t=gq(t)){if(!(t[Xt]&aD.HasTransplantedViews))continue;let n=t[Jy];for(let i=0;i<n.length;i++){let r=n[i];YO(r);}}}function Iye(e,t,n){let i=rp(t,e);vK(i,n);}function vK(e,t){KO(e)&&fO(e,t);}function fO(e,t){let i=e[xn],r=e[Xt],s=e[Va],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&$N(s)),o||=!1,s&&(s.dirty=!1),e[Xt]&=-9217,o)Dye(i,e,i.template,e[Tc]);else if(r&8192){pK(e),mK(e,1);let a=i.components;a!==null&&yK(e,a,1);}}function yK(e,t,n){for(let i=0;i<t.length;i++)Iye(e,t[i],n);}function F4(e,t){let n=OW()?64:1088;for(e[ih].changeDetectionScheduler?.notify(t);e;){e[Xt]|=n;let i=ym(e);if(OL(e)&&!i)return e;e=i;}return null;}var _m=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[xn];return gD(n,t,n.firstChild,[]);}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i;}get context(){return this._lView[Tc];}get dirty(){return!!(this._lView[Xt]&9280)||!!this._lView[Va]?.dirty;}set context(t){this._lView[Tc]=t;}get destroyed(){return(this._lView[Xt]&256)===256;}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[oo];if(lh(t)){let n=t[oD],i=n?n.indexOf(this):-1;i>-1&&(aO(t,i),nD(n,i));}this._attachedToViewContainer=!1;}Nq(this._lView[xn],this._lView);}onDestroy(t){MW(this._lView,t);}markForCheck(){F4(this._cdRefInjectingView||this._lView,4);}markForRefresh(){YO(this._cdRefInjectingView||this._lView);}detach(){this._lView[Xt]&=-129;}reattach(){VL(this._lView),this._lView[Xt]|=128;}detectChanges(){this._lView[Xt]|=1024,gK(this._lView,this.notifyErrorHandler);}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0;}detachFromAppRef(){this._appRef=null;let t=OL(this._lView),n=this._lView[gm];n!==null&&!t&&x4(n,this._lView),Mq(this._lView[xn],this._lView);}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t;let n=OL(this._lView),i=this._lView[gm];i!==null&&!n&&Fq(i,this._lView),VL(this._lView);}},oh=(()=>{class e{static __NG_ELEMENT_ID__=Mye;}return e;})(),Pye=oh,kye=class extends Pye{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i;}get ssrId(){return this._declarationTContainer.tView?.ssrId||null;}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n);}createEmbeddedViewImpl(t,n,i){let r=uK(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new _m(r);}};function Mye(){return qD(Bs(),pn());}function qD(e,t){return e.type&4?new kye(t,e,sb(e,t)):null;}function bK(e,t,n){let i=t.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?Hq(e,t,n):Cl(n[r]);}function xK(e,t,n,i,r){let s=t.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(t.type&3||(a=o,o=r),o!==null&&t.componentOffset===-1)for(let l=1;l<s.length;l++){let c=n[s[l]];Cm(e,o,c,a,!1);}}}function wK(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){let i=e[n];CK(i)||Fye(i,t)&&Nye(i)===null&&Lye(i,t.index);}}function CK(e){return!(e.type&64);}function Fye(e,t){return CK(t)||e.index>t.index;}function Nye(e){let t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t;}function Lye(e,t){let n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(zq(bK,xK),e.insertBeforeIndex=t);}function b1(e,t){let n=e.data[t];return n===null||typeof n=="string"?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value;}function Oye(e,t,n){let i=e.data[t];i===null?e.data[t]=n:i.value=n;}function Bye(e,t){let n=e.insertBeforeIndex;n===null?(zq(bK,xK),n=e.insertBeforeIndex=[null,t]):(cme(Array.isArray(n),!0,"Expecting array here"),n.push(t));}function Vye(e,t,n){let i=S4(e,n,64,null,null);return wK(t,i),i;}function KD(e,t){let n=t[e.currentCaseLViewIndex];return n===null?n:n<0?~n:n;}function Hye(e){return e>>>17;}function Gye(e){return(e&131070)>>>1;}function zye(e,t,n){return e|t<<17|n<<1;}function Uye(e){return e===-1;}function _K(e,t,n){e.index=0;let i=KD(t,n);i!==null?e.removes=t.remove[i]:e.removes=No;}function pO(e){if(e.index<e.removes.length){let t=e.removes[e.index++];if(t>0)return e.lView[t];{e.stack.push(e.index,e.removes);let n=~t,i=e.lView[xn].data[n];return _K(e,i,e.lView),pO(e);}}else return e.stack.length===0?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),pO(e));}function jye(){let e={stack:[],index:-1};function t(n,i){for(e.lView=i;e.stack.length;)e.stack.pop();return _K(e,n.value,i),pO.bind(null,e);}return t;}var dat=new RegExp(`^(\\d+)*(${q0e}|${W0e})*(.*)`);var $ye=()=>{};function Wye(e,t,n,i){$ye(e,t,n,i);}var qye=()=>{};function Kye(e,t,n){qye(e,t,n);}var Yye=()=>null;function gO(e,t){return Yye(e,t);}var mO=class{},mD=class{},vO=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Lo(t)}.`);}},Hu=class{static NULL=new vO();},_l=class{},Vs=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Xye();}return e;})();function Xye(){let e=pn(),t=Bs(),n=rp(t.index,e);return(Zf(n)?n:e)[Pi];}var Qye=(()=>{class e{static ɵprov=ot({token:e,providedIn:"root",factory:()=>null});}return e;})();function vD(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=IL(r,a);else if(s==2){let l=a,c=t[++o];i=IL(i,l+": "+c+";");}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r;}var yD=class extends Hu{ngModule;constructor(t){super(),this.ngModule=t;}resolveComponentFactory(t){let n=ep(t);return new tb(n,this.ngModule);}};function O$(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:np.None;t?n.push({propName:o,templateName:i,isSignal:(a&np.SignalBased)!==0}):n.push({propName:o,templateName:i});}return n;}function Zye(e){let t=e.toLowerCase();return t==="svg"?IW:t==="math"?Yme:null;}var tb=class extends mD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,n=t.inputTransforms,i=O$(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i;}get outputs(){return O$(this.componentDef.outputs,!1);}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=$ve(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n;}create(t,n,i,r){let s=ti(null);try{r=r||this.ngModule;let o=r instanceof Oo?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new UL(t,o):t,l=a.get(_l,null);if(l===null)throw new Je(407,!1);let c=a.get(Qye,null),u=a.get(eb,null),d={rendererFactory:l,sanitizer:c,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=i?Yve(h,i,this.componentDef.encapsulation,a):b4(h,f,Zye(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=g4(g,a,!0));let b=D4(0,null,null,1,0,null,null,null,null,null,null),C=$D(null,b,null,m,null,null,d,h,a,null,y);e4(C);let _,A,I=null;try{let N=this.componentDef,R,D=null;N.findHostDirectiveDefs?(R=[],D=new Map(),N.findHostDirectiveDefs(N,R,D),R.push(N)):R=[N];let V=Jye(C,g);I=ebe(V,g,N,R,C,d,h),A=PW(b,Es),g&&ibe(h,N,g,i),n!==void 0&&rbe(A,this.ngContentSelectors,n),_=nbe(I,N,R,D,C,[sbe]),M4(b,C,null);}catch(N){throw I!==null&&ZL(I),ZL(C),N;}finally{t4();}return new yO(this.componentType,_,sb(A,C),C,A);}finally{ti(s);}}},yO=class extends mO{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new _m(r,void 0,!1),this.componentType=t;}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map(),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;k4(s[xn],s,r,t,n),this.previousInputValues.set(t,n);let o=rp(this._tNode.index,s);F4(o,1);}}get injector(){return new fm(this._tNode,this._rootLView);}destroy(){this.hostView.destroy();}onDestroy(t){this.hostView.onDestroy(t);}};function Jye(e,t){let n=e[xn],i=Es;return e[i]=t,ab(n,i,2,"#host",null);}function ebe(e,t,n,i,r,s,o){let a=r[xn];tbe(i,e,t,o);let l=null;t!==null&&(l=g4(t,r[Zy]));let c=s.rendererFactory.createRenderer(t,n),u=$D(r,eK(n),null,iK(n),r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&uO(a,e,i.length-1),WD(r,u),r[e.index]=u;}function tbe(e,t,n,i){for(let r of e)t.mergedAttrs=A1(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(vD(t,t.mergedAttrs,!0),n!==null&&qq(i,n,t));}function nbe(e,t,n,i,r,s){let o=Bs(),a=r[xn],l=Sl(o,r);tK(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=wm(r,a,d,o);Ou(h,r);}nK(a,r,o),l&&Ou(l,r);let c=wm(r,a,o.directiveStart+o.componentOffset,o);if(e[Tc]=r[Tc]=c,s!==null)for(let u of s)u(c,t);return E4(a,o,r),c;}function ibe(e,t,n,i){if(i)zL(e,n,["ng-version","19.0.1"]);else{let{attrs:r,classes:s}=Wve(t.selectors[0]);r&&zL(e,n,r),s&&s.length>0&&Wq(e,n,s.join(" "));}}function rbe(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let s=n[r];i.push(s!=null&&s.length?Array.from(s):null);}}function sbe(){let e=Bs();OD(pn()[xn],e);}var ma=(()=>{class e{static __NG_ELEMENT_ID__=obe;}return e;})();function obe(){let e=Bs();return EK(e,pn());}var abe=ma,SK=class extends abe{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i;}get element(){return sb(this._hostTNode,this._hostLView);}get injector(){return new fm(this._hostTNode,this._hostLView);}get parentInjector(){let t=i4(this._hostTNode,this._hostLView);if(YW(t)){let n=cD(t,this._hostLView),i=lD(t),r=n[xn].data[i+8];return new fm(r,n);}else return new fm(null,this._hostLView);}clear(){for(;this.length>0;)this.remove(this.length-1);}get(t){let n=B$(this._lContainer);return n!==null&&n[t]||null;}get length(){return this._lContainer.length-Ha;}createEmbeddedView(t,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=gO(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,hO(this._hostTNode,o)),a;}createComponent(t,n,i,r,s){let o=t&&!$me(t),a;if(o)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef;}let l=o?t:new tb(ep(t)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Oo,null);m&&(s=m);}let u=ep(l.componentType??{}),d=gO(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,hO(this._hostTNode,d)),f;}insert(t,n){return this.insertImpl(t,n,!0);}insertImpl(t,n,i){let r=t._lView;if(Qme(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[oo],c=new SK(l,l[Bo],l[oo]);c.detach(c.indexOf(t));}}let s=this._adjustIndex(n),o=this._lContainer;return dK(o,r,s,i),t.attachToViewContainerRef(),hW(_L(o),s,t),t;}move(t,n){return this.insert(t,n);}indexOf(t){let n=B$(this._lContainer);return n!==null?n.indexOf(t):-1;}remove(t){let n=this._adjustIndex(t,-1),i=aO(this._lContainer,n);i&&(nD(_L(this._lContainer),n),Nq(i[xn],i));}detach(t){let n=this._adjustIndex(t,-1),i=aO(this._lContainer,n);return i&&nD(_L(this._lContainer),n)!=null?new _m(i):null;}_adjustIndex(t,n=0){return t??this.length+n;}};function B$(e){return e[oD];}function _L(e){return e[oD]||(e[oD]=[]);}function EK(e,t){let n,i=t[e.index];return lh(i)?n=i:(n=rK(i,t,null,e),t[e.index]=n,WD(t,n)),cbe(n,t,e,i),new SK(n,e,t);}function lbe(e,t){let n=e[Pi],i=n.createComment(""),r=Sl(t,e),s=w4(n,r);return Cm(n,s,i,Ive(n,r),!1),i;}var cbe=hbe,ube=()=>!1;function dbe(e,t,n){return ube(e,t,n);}function hbe(e,t,n,i){if(e[mm])return;let r;n.type&8?r=Cl(i):r=lbe(t,n),e[mm]=r;}var bO=class e{queryList;matches=null;constructor(t){this.queryList=t;}clone(){return new e(this.queryList);}setDirty(){this.queryList.setDirty();}},xO=class e{queries;constructor(t=[]){this.queries=t;}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone());}return new e(r);}return null;}insertView(t){this.dirtyQueriesWithMatches(t);}detachView(t){this.dirtyQueriesWithMatches(t);}finishViewCreation(t){this.dirtyQueriesWithMatches(t);}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)N4(t,n).matches!==null&&this.queries[n].setDirty();}},bD=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=xbe(t):this.predicate=t;}},wO=class e{queries;constructor(t=[]){this.queries=t;}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n);}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t);}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s]);}return n!==null?new e(n):null;}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n);}getByIndex(t){return this.queries[t];}get length(){return this.queries.length;}track(t){this.queries.push(t);}},CO=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n;}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n);}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1);}template(t,n){this.elementStart(t,n);}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null;}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1);}return this._appliesToNextNode;}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(t,n,fbe(n,s)),this.matchTNodeWithReadOption(t,n,YA(n,t,s,!1,!1));}else i===oh?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,YA(n,t,i,!1,!1));}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null){if(r===Un||r===ma||r===oh&&n.type&4)this.addMatch(n.index,-2);else{let s=YA(n,t,r,!1,!1);s!==null&&this.addMatch(n.index,s);}}else this.addMatch(n.index,i);}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n);}};function fbe(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];}return null;}function pbe(e,t){return e.type&11?sb(e,t):e.type&4?qD(e,t):null;}function gbe(e,t,n,i){return n===-1?pbe(t,e):n===-2?mbe(e,t,i):wm(e,e[xn],n,t);}function mbe(e,t,n){if(n===Un)return sb(t,e);if(n===oh)return qD(t,e);if(n===ma)return EK(t,e);}function TK(e,t,n,i){let r=t[rh].queries[i];if(r.matches===null){let s=e.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(gbe(t,u,o[l+1],n.metadata.read));}}r.matches=a;}return r.matches;}function _O(e,t,n,i){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let o=TK(e,t,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=Ha;d<u.length;d++){let h=u[d];h[gm]===h[oo]&&_O(h[xn],h,c,i);}if(u[Jy]!==null){let d=u[Jy];for(let h=0;h<d.length;h++){let f=d[h];_O(f[xn],f,c,i);}}}}}return i;}function vbe(e,t){return e[rh].queries[t].queryList;}function AK(e,t,n){let i=new QL((n&4)===4);return Zve(e,t,i,i.destroy),(t[rh]??=new xO()).queries.push(new bO(i))-1;}function ybe(e,t,n){let i=gr();return i.firstCreatePass&&(DK(i,new bD(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),AK(i,pn(),t);}function bbe(e,t,n,i){let r=gr();if(r.firstCreatePass){let s=Bs();DK(r,new bD(t,n,i),s.index),wbe(r,e),(n&2)===2&&(r.staticContentQueries=!0);}return AK(r,pn(),n);}function xbe(e){return e.split(",").map(t=>t.trim());}function DK(e,t,n){e.queries===null&&(e.queries=new wO()),e.queries.track(new CO(t,n));}function wbe(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t);}function N4(e,t){return e.queries.getByIndex(t);}function Cbe(e,t){let n=e[xn],i=N4(n,t);return i.crossesNgTemplate?_O(n,e,t,[]):TK(n,e,i,t);}function _be(e){return typeof e=="function"&&e[Ba]!==void 0;}function z1(e,t){ch("NgSignals");let n=Fj(e),i=n[Ba];return t?.equal&&(i.equal=t.equal),n.set=r=>fA(i,r),n.update=r=>Nj(i,r),n.asReadonly=Sbe.bind(n),n;}function Sbe(){let e=this[Ba];if(e.readonlyFn===void 0){let t=()=>this();t[Ba]=e,e.readonlyFn=t;}return e.readonlyFn;}function RK(e){return _be(e)&&typeof e.set=="function";}var ip=class{},D1=class{};var SO=class extends ip{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yD(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let s=gW(t);this._bootstrapComponents=Rq(s.bootstrap),this._r3Injector=rq(t,n,[{provide:ip,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...i],Lo(t),new Set(["environment"])),r&&this.resolveInjectorInitializers();}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType);}get injector(){return this._r3Injector;}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null;}onDestroy(t){this.destroyCbs.push(t);}},EO=class extends D1{moduleType;constructor(t){super(),this.moduleType=t;}create(t){return new SO(this.moduleType,t,[]);}};var xD=class extends ip{injector;componentFactoryResolver=new yD(this);instance=null;constructor(t){super();let n=new _1([...t.providers,{provide:ip,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],t.parent||$O(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers();}destroy(){this.injector.destroy();}onDestroy(t){this.injector.onDestroy(t);}};function YD(e,t,n=null){return new xD({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector;}var Ebe=(()=>{class e{_injector;cachedInjectors=new Map();constructor(n){this._injector=n;}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=bW(!1,n.type),r=i.length>0?YD([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r);}return this.cachedInjectors.get(n);}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy();}finally{this.cachedInjectors.clear();}}static ɵprov=ot({token:e,providedIn:"environment",factory:()=>new e(rt(Oo))});}return e;})();function St(e){return P1(()=>{let t=IK(e),n=Re(O({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hq.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(Ebe).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bu.Emulated,styles:e.styles||No,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&ch("NgStandalone"),PK(n);let i=e.dependencies;return n.directiveDefs=H$(i,!1),n.pipeDefs=H$(i,!0),n.id=Dbe(n),n;});}function Tbe(e){return ep(e)||mW(e);}function Abe(e){return e!==null;}function pi(e){return P1(()=>({type:e.type,bootstrap:e.bootstrap||No,declarations:e.declarations||No,imports:e.imports||No,exports:e.exports||No,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}));}function V$(e,t){if(e==null)return Yy;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],s,o,a=np.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(n[s]=a!==np.None?[i,a]:i,t[s]=o):n[s]=i;}return n;}function Ei(e){return P1(()=>{let t=IK(e);return PK(t),t;});}function XD(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null};}function IK(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Yy,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||No,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:V$(e.inputs,t),outputs:V$(e.outputs),debugInfo:null};}function PK(e){e.features?.forEach(t=>t(e));}function H$(e,t){if(!e)return null;let n=t?vW:Tbe;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(Abe);}function Dbe(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let s of i.join("|"))t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t;}function Rbe(e){return Object.getPrototypeOf(e.prototype).constructor;}function va(e){let t=Rbe(e.type),n=!0,i=[e];for(;t;){let r;if(tp(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp)throw new Je(903,!1);r=t.ɵdir;}if(r){if(n){i.push(r);let o=e;o.inputs=UA(e.inputs),o.inputTransforms=UA(e.inputTransforms),o.declaredInputs=UA(e.declaredInputs),o.outputs=UA(e.outputs);let a=r.hostBindings;a&&Fbe(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&kbe(e,l),c&&Mbe(e,c),Ibe(e,r),ame(e.outputs,r.outputs),tp(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation);}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===va&&(n=!1);}}t=Object.getPrototypeOf(t);}Pbe(i);}function Ibe(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r];}}}function Pbe(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=A1(r.hostAttrs,n=A1(n,r.hostAttrs));}}function UA(e){return e===Yy?{}:e===No?[]:e;}function kbe(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r);}:e.viewQuery=t;}function Mbe(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,s)=>{t(i,r,s),n(i,r,s);}:e.contentQueries=t;}function Fbe(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r);}:e.hostBindings=t;}function U1(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3]);}e.inputTransforms=n;}function kK(e){return L4(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1;}function Nbe(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value);}}function L4(e){return e!==null&&(typeof e=="function"||typeof e=="object");}function O4(e,t,n){return e[t]=n;}function Lbe(e,t){return e[t];}function Gu(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0);}function MK(e,t,n,i){let r=Gu(e,t,n);return Gu(e,t+1,i)||r;}function Obe(e){return(e.flags&32)===32;}function Bbe(e,t,n,i,r,s,o,a,l){let c=t.consts,u=ab(t,e,4,o||null,a||null);I4(t,n,u,vm(c,l)),OD(t,u);let d=u.tView=D4(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u;}function FK(e,t,n,i,r,s,o,a,l,c){let u=n+Es,d=t.firstCreatePass?Bbe(u,t,e,i,r,s,o,a,l):t.data[u];Lu(d,!1);let h=Vbe(t,e,d,n);L1()&&UD(t,e,h,d),Ou(h,e);let f=rK(h,e,h,d);return e[u]=f,WD(e,f),dbe(f,d,e),MD(d)&&T4(t,e,d),l!=null&&A4(e,d,c),d;}function Le(e,t,n,i,r,s,o,a){let l=pn(),c=gr(),u=vm(c.consts,s);return FK(l,c,e,t,n,i,r,u,o,a),Le;}var Vbe=Hbe;function Hbe(e,t,n,i){return O1(!0),t[Pi].createComment("");}var QD=(()=>{class e{log(n){console.log(n);}warn(n){console.warn(n);}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"platform"});}return e;})();var NK=new Tt("");function ap(e){return!!e&&typeof e.then=="function";}function B4(e){return!!e&&typeof e.subscribe=="function";}var ZD=new Tt("");var LK=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i;});appInits=qe(ZD,{optional:!0})??[];injector=qe(is);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let s=ga(this.injector,r);if(ap(s))n.push(s);else if(B4(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l});});n.push(o);}}let i=()=>{this.done=!0,this.resolve();};Promise.all(n).then(()=>{i();}).catch(r=>{this.reject(r);}),n.length===0&&i(),this.initialized=!0;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),Gbe=(()=>{class e{static ɵprov=ot({token:e,providedIn:"root",factory:()=>new TO()});}return e;})(),TO=class{queuedEffectCount=0;queues=new Map();schedule(t){this.enqueue(t);}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set());let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t));}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n));}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run();}},j1=new Tt("");function zbe(){Mj(()=>{throw new Je(600,!1);});}function Ube(e){return e.isBoundToModule;}var jbe=10;function $be(e,t,n){try{let i=n();return ap(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r;}):i;}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i;}}var Al=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=qe(O0e);afterRenderManager=qe(bq);zonelessEnabled=qe(BD);rootEffectScheduler=qe(Gbe);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set();afterTick=new Ar();get allViews(){return[...this.externalTestViews.keys(),...this._views];}get destroyed(){return this._destroyed;}componentTypes=[];components=[];isStable=qe(op).hasPendingTasks.pipe(nn(n=>!n));constructor(){qe(VD,{optional:!0});}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i();}});}).finally(()=>{n.unsubscribe();});}_injector=qe(Oo);get injector(){return this._injector;}bootstrap(n,i){let r=n instanceof mD;if(!this._injector.get(LK).done){let h=!r&&yW(n),f=!1;throw new Je(405,f);}let o;r?o=n:o=this._injector.get(Hu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Ube(o)?void 0:this._injector.get(ip),l=i||o.selector,c=o.create(is.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(NK,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),XA(this.components,c),d?.unregisterApplication(u);}),this._loadComponent(c),c;}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick();}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(f4.CHANGE_DETECTION,this._tick);return;}if(this._runningTick)throw new Je(101,!1);let n=ti(null);try{this._runningTick=!0,this.synchronize();}catch(i){this.internalErrorHandler(i);}finally{this._runningTick=!1,ti(n),this.afterTick.next();}};synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(_l,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<jbe;)this.synchronizeOnce(n);}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:s}of this.allViews)Wbe(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return;}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews();}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ND(n))){this.dirtyFlags|=2;return;}else this.dirtyFlags&=-8;}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this);}detachView(n){let i=n;XA(this._views,i),i.detachFromAppRef();}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(j1,[]).forEach(r=>r(n));}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy());}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[];}}onDestroy(n){return this._destroyListeners.push(n),()=>XA(this._destroyListeners,n);}destroy(){if(this._destroyed)throw new Je(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy();}get viewCount(){return this._views.length;}warnIfDestroyed(){}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();function XA(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1);}function Wbe(e,t,n,i){if(!n&&!ND(e))return;gK(e,t,n&&!i?0:1);}function an(e,t,n,i){let r=pn(),s=N1();if(Gu(r,s,t)){let o=gr(),a=n4();fye(a,r,e,t,n,i);}return an;}function OK(e,t,n,i){return Gu(e,N1(),n)?t+Jf(n)+i:Tl;}function qbe(e,t,n,i,r,s){let o=BW(),a=MK(e,o,n,r);return ZO(2),a?t+Jf(n)+i+Jf(r)+s:Tl;}function jA(e,t){return e<<17|t<<2;}function Sm(e){return e>>17&32767;}function Kbe(e){return(e&2)==2;}function Ybe(e,t){return e&131071|t<<17;}function AO(e){return e|2;}function nb(e){return(e&131068)>>2;}function SL(e,t){return e&-131069|t<<2;}function Xbe(e){return(e&1)===1;}function DO(e){return e|1;}function Qbe(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Sm(o),l=nb(o);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||M1(d,u)>0)&&(c=!0);}else u=n;if(r){if(l!==0){let h=Sm(e[a+1]);e[i+1]=jA(h,a),h!==0&&(e[h+1]=SL(e[h+1],i)),e[a+1]=Ybe(e[a+1],i);}else e[i+1]=jA(a,0),a!==0&&(e[a+1]=SL(e[a+1],i)),a=i;}else e[i+1]=jA(l,0),a===0?a=i:e[l+1]=SL(e[l+1],i),l=i;c&&(e[i+1]=AO(e[i+1])),G$(e,u,i,!0),G$(e,u,i,!1),Zbe(t,u,e,i,s),o=jA(a,l),s?t.classBindings=o:t.styleBindings=o;}function Zbe(e,t,n,i,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&M1(s,t)>=0&&(n[i+1]=DO(n[i+1]));}function G$(e,t,n,i){let r=e[n+1],s=t===null,o=i?Sm(r):nb(r),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];Jbe(l,t)&&(a=!0,e[o+1]=i?DO(c):AO(c)),o=i?Sm(c):nb(c);}a&&(e[n+1]=i?AO(r):DO(r));}function Jbe(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?M1(e,t)>=0:!1;}var Sc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function exe(e){return e.substring(Sc.key,Sc.keyEnd);}function txe(e){return nxe(e),BK(e,VK(e,0,Sc.textEnd));}function BK(e,t){let n=Sc.textEnd;return n===t?-1:(t=Sc.keyEnd=ixe(e,Sc.key=t,n),VK(e,t,n));}function nxe(e){Sc.key=0,Sc.keyEnd=0,Sc.value=0,Sc.valueEnd=0,Sc.textEnd=e.length;}function VK(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t;}function ixe(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t;}function se(e,t,n){let i=pn(),r=N1();if(Gu(i,r,t)){let s=gr(),o=n4();R4(s,o,i,e,t,i[Pi],n,!1);}return se;}function RO(e,t,n,i,r){let s=t.inputs,o=r?"class":"style";k4(e,n,s[o],o,i);}function ya(e,t,n){return GK(e,t,n,!1),ya;}function ba(e,t){return GK(e,t,null,!0),ba;}function JD(e){zK(cxe,HK,e,!0);}function HK(e,t){for(let n=txe(t);n>=0;n=BK(t,n))RD(e,exe(t),!0);}function GK(e,t,n,i){let r=pn(),s=gr(),o=ZO(2);if(s.firstUpdatePass&&jK(s,e,o,i),t!==Tl&&Gu(r,o,t)){let a=s.data[sp()];$K(s,a,r,r[Pi],e,r[o+1]=dxe(t,n),i,o);}}function zK(e,t,n,i){let r=gr(),s=ZO(2);r.firstUpdatePass&&jK(r,null,s,i);let o=pn();if(n!==Tl&&Gu(o,s,n)){let a=r.data[sp()];if(WK(a,i)&&!UK(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=IL(l,n||"")),RO(r,a,o,n,i);}else uxe(r,a,o,o[Pi],o[s+1],o[s+1]=lxe(e,t,n),i,s);}}function UK(e,t){return t>=e.expandoStartIndex;}function jK(e,t,n,i){let r=e.data;if(r[n+1]===null){let s=r[sp()],o=UK(e,n);WK(s,i)&&t===null&&!o&&(t=!1),t=rxe(r,s,t,i),Qbe(r,s,t,n,o,i);}}function rxe(e,t,n,i){let r=u0e(e),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=EL(null,e,t,n,i),n=R1(n,t.attrs,i),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(n=EL(r,e,t,n,i),s===null){let l=sxe(e,t,i);l!==void 0&&Array.isArray(l)&&(l=EL(null,e,t,l[1],i),l=R1(l,t.attrs,i),oxe(e,t,i,l));}else s=axe(e,t,i);}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),n;}function sxe(e,t,n){let i=n?t.classBindings:t.styleBindings;if(nb(i)!==0)return e[Sm(i)];}function oxe(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Sm(r)]=i;}function axe(e,t,n){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;i=R1(i,o,n);}return R1(i,t.attrs,n);}function EL(e,t,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],i=R1(i,s.hostAttrs,r),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i;}function R1(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),RD(e,o,n?!0:t[++s]));}return e===void 0?null:e;}function lxe(e,t,n){if(n==null||n==="")return No;let i=[],r=Em(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else typeof r=="string"&&t(i,r);return i;}function cxe(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&RD(e,i,n);}function uxe(e,t,n,i,r,s,o,a){r===Tl&&(r=No);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0,g=null,m;u===d?(l+=2,c+=2,h!==f&&(g=d,m=f)):d===null||u!==null&&u<d?(l+=2,g=u):(c+=2,g=d,m=f),g!==null&&$K(e,t,n,i,g,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null;}}function $K(e,t,n,i,r,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=Xbe(c)?z$(l,t,n,r,nb(c),o):void 0;if(!wD(u)){wD(s)||Kbe(c)&&(s=z$(l,null,n,r,a,o));let d=FD(sp(),n);Mve(i,o,d,r,s);}}function z$(e,t,n,i,r,s){let o=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Tl&&(h=d?No:void 0);let f=d?mL(h,i):u===i?h:void 0;if(c&&!wD(f)&&(f=mL(l,i)),wD(f)&&(a=f,o))return a;let g=e[r+1];r=o?Sm(g):nb(g);}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=mL(l,i));}return a;}function wD(e){return e!==void 0;}function dxe(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Lo(Em(e)))),e;}function WK(e,t){return(e.flags&(t?8:16))!==0;}function qK(e,t,n){let i=pn(),r=OK(i,e,t,n);zK(RD,HK,r,!0);}function hxe(e,t,n,i,r,s){let o=t.consts,a=vm(o,r),l=ab(t,e,2,i,a);return I4(t,n,l,vm(o,s)),l.attrs!==null&&vD(l,l.attrs,!1),l.mergedAttrs!==null&&vD(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l;}function j(e,t,n,i){let r=pn(),s=gr(),o=Es+e,a=r[Pi],l=s.firstCreatePass?hxe(o,s,r,t,n,i):s.data[o],c=fxe(s,r,l,a,t,e);r[o]=c;let u=MD(l);return Lu(l,!0),qq(a,c,l),!Obe(l)&&L1()&&UD(s,r,c,l),e0e()===0&&Ou(c,r),t0e(),u&&(T4(s,r,l),E4(s,l,r)),i!==null&&A4(r,l),j;}function q(){let e=Bs();XO()?QO():(e=e.parent,Lu(e,!1));let t=e;i0e(t)&&r0e(),n0e();let n=gr();return n.firstCreatePass&&(OD(n,e),WO(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&v0e(t)&&RO(n,t,pn(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&y0e(t)&&RO(n,t,pn(),t.stylesWithoutHost,!1),q;}function Ke(e,t,n,i){return j(e,t,n,i),q(),Ke;}var fxe=(e,t,n,i,r,s)=>(O1(!0),b4(i,r,f0e()));function pxe(e,t,n,i,r){let s=t.consts,o=vm(s,i),a=ab(t,e,8,"ng-container",o);o!==null&&vD(a,o,!0);let l=vm(s,r);return I4(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a;}function lp(e,t,n){let i=pn(),r=gr(),s=e+Es,o=r.firstCreatePass?pxe(s,r,i,t,n):r.data[s];Lu(o,!0);let a=gxe(r,i,o,e);return i[s]=a,L1()&&UD(r,i,a,o),Ou(a,i),MD(o)&&(T4(r,i,o),E4(r,o,i)),n!=null&&A4(i,o),lp;}function cp(){let e=Bs(),t=gr();return XO()?QO():(e=e.parent,Lu(e,!1)),t.firstCreatePass&&(OD(t,e),WO(e)&&t.queries.elementEnd(e)),cp;}function eR(e,t,n){return lp(e,t,n),cp(),eR;}var gxe=(e,t,n,i)=>(O1(!0),kq(t[Pi],""));function zt(){return pn();}var hm=void 0;function mxe(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5;}var vxe=["en",[["a","p"],["AM","PM"],hm],[["AM","PM"],hm,hm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hm,"{1} 'at' {0}",hm],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",mxe],TL={};function Vo(e){let t=yxe(e),n=U$(t);if(n)return n;let i=t.split("-")[0];if(n=U$(i),n)return n;if(i==="en")return vxe;throw new Je(701,!1);}function KK(e){return Vo(e)[hr.PluralCase];}function U$(e){return e in TL||(TL[e]=nh.ng&&nh.ng.common&&nh.ng.common.locales&&nh.ng.common.locales[e]),TL[e];}var hr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e;}(hr||{});function yxe(e){return e.toLowerCase().replace(/_/g,"-");}var bxe=["zero","one","two","few","many"];function xxe(e,t){let n=KK(t)(parseInt(e,10)),i=bxe[n];return i!==void 0?i:"other";}var CD="en-US",wxe="USD",YK={marker:"element"},XK={marker:"ICU"},th=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e;}(th||{}),QK=CD;function Cxe(e){typeof e=="string"&&(QK=e.toLowerCase().replace(/_/g,"-"));}function _xe(){return QK;}var I1=0,x1=0;function Sxe(e){e&&(I1=I1|1<<Math.min(x1,31)),x1++;}function Exe(e,t,n){if(x1>0){let i=e.data[n],r=Array.isArray(i)?i:i.update,s=BW()-x1-1;JK(e,t,r,s,I1);}I1=0,x1=0;}function Txe(e,t,n){let i=e[Pi];switch(n){case Node.COMMENT_NODE:return kq(i,t);case Node.TEXT_NODE:return Iq(i,t);case Node.ELEMENT_NODE:return b4(i,t,null);}}var QA=(e,t,n,i)=>(O1(!0),Txe(e,n,i));function Axe(e,t,n,i){let r=e[Pi];for(let s=0;s<t.length;s++){let o=t[s++],a=t[s],l=(o&th.COMMENT)===th.COMMENT,c=(o&th.APPEND_EAGERLY)===th.APPEND_EAGERLY,u=o>>>th.SHIFT,d=e[u],h=!1;d===null&&(d=e[u]=QA(e,u,a,l?Node.COMMENT_NODE:Node.TEXT_NODE),h=L1()),c&&n!==null&&h&&Cm(r,n,d,i,!1);}}function ZK(e,t,n,i){let r=n[Pi],s=null,o;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="string"){let c=t[++a];n[c]===null&&(n[c]=QA(n,c,l,Node.TEXT_NODE));}else if(typeof l=="number")switch(l&1){case 0:let c=Hye(l);s===null&&(s=c,o=w4(r,i));let u,d;if(c===s?(u=i,d=o):(u=null,d=Cl(n[c])),d!==null){let m=Gye(l),y=n[m];Cm(r,d,y,u,!1);let b=b1(e,m);if(b!==null&&typeof b=="object"){let C=KD(b,n);C!==null&&ZK(e,b.create[C],n,n[b.anchorIdx]);}}break;case 1:let h=l>>>1,f=t[++a],g=t[++a];P4(r,FD(h,n),null,null,f,g,null);break;default:}else switch(l){case XK:let c=t[++a],u=t[++a];if(n[u]===null){let f=n[u]=QA(n,u,c,Node.COMMENT_NODE);Ou(f,n);}break;case YK:let d=t[++a],h=t[++a];if(n[h]===null){let f=n[h]=QA(n,h,d,Node.ELEMENT_NODE);Ou(f,n);}break;default:}}}function JK(e,t,n,i,r){for(let s=0;s<n.length;s++){let o=n[s],a=n[++s];if(o&r){let l="";for(let c=s+1;c<=s+a;c++){let u=n[c];if(typeof u=="string")l+=u;else if(typeof u=="number")if(u<0)l+=Jf(t[i-u]);else{let d=u>>>2;switch(u&3){case 1:let h=n[++c],f=n[++c],g=e.data[d];typeof g=="string"?P4(t[Pi],t[d],null,g,h,l,f):R4(e,g,t,h,l,t[Pi],f,!1);break;case 0:let m=t[d];m!==null&&Pq(t[Pi],m,l);break;case 2:Dxe(e,b1(e,d),t,l);break;case 3:j$(e,b1(e,d),i,t);break;}}}}else{let l=n[s+1];if(l>0&&(l&3)===3){let c=l>>>2,u=b1(e,c);t[u.currentCaseLViewIndex]<0&&j$(e,u,i,t);}}s+=a;}}function j$(e,t,n,i){let r=i[t.currentCaseLViewIndex];if(r!==null){let s=I1;r<0&&(r=i[t.currentCaseLViewIndex]=~r,s=-1),JK(e,i,t.update[r],n,s);}}function Dxe(e,t,n,i){let r=Rxe(t,i);if(KD(t,n)!==r&&(eY(e,t,n),n[t.currentCaseLViewIndex]=r===null?null:~r,r!==null)){let o=n[t.anchorIdx];o&&ZK(e,t.create[r],n,o),Kye(n,t.anchorIdx,r);}}function eY(e,t,n){let i=KD(t,n);if(i!==null){let r=t.remove[i];for(let s=0;s<r.length;s++){let o=r[s];if(o>0){let a=FD(o,n);a!==null&&jq(n[Pi],a);}else eY(e,b1(e,~o),n);}}}function Rxe(e,t){let n=e.cases.indexOf(t);if(n===-1)switch(e.type){case 1:{let i=xxe(t,_xe());n=e.cases.indexOf(i),n===-1&&i!=="other"&&(n=e.cases.indexOf("other"));break;}case 0:{n=e.cases.indexOf("other");break;}}return n===-1?null:n;}var _D=/�(\d+):?\d*�/gi;var Ixe=/�(\d+)�/,tY=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,w1="\uFFFD",Pxe=/�\/?\*(\d+:\d+)�/gi,kxe=/�(\/?[#*]\d+):?\d*�/gi,Mxe=/\uE500/g;function Fxe(e){return e.replace(Mxe," ");}function Nxe(e,t,n,i,r,s){let o=T1(),a=[],l=[],c=[[]],u=[[]];r=Oxe(r,s);let d=Fxe(r).split(kxe);for(let h=0;h<d.length;h++){let f=d[h];if(h&1){let g=f.charCodeAt(0)===47,m=f.charCodeAt(g?1:0),y=Es+Number.parseInt(f.substring(g?2:1));if(g)c.shift(),u.shift(),Lu(T1(),!1);else{let b=Vye(e,c[0],y);c.unshift([]),Lu(b,!0);let C={kind:2,index:y,children:[],type:m===35?0:1};u[0].push(C),u.unshift(C.children);}}else{let g=IO(f);for(let m=0;m<g.length;m++){let y=g[m];if(m&1){let b=y;if(typeof b!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let _=nY(e,o,c[0],n,a,"",!0).index;rY(u[0],e,n,l,t,b,_);}else{let b=y;b!==""&&Lxe(u[0],e,o,c[0],a,l,n,b);}}}}e.data[i]={create:a,update:l,ast:u[0],parentTNodeIndex:t};}function nY(e,t,n,i,r,s,o){let a=G1(e,i,1,null),l=a<<th.SHIFT,c=T1();t===c&&(c=null),c===null&&(l|=th.APPEND_EAGERLY),o&&(l|=th.COMMENT,_ve(jye)),r.push(l,s===null?"":s);let u=S4(e,a,o?32:1,s===null?"":s,null);wK(n,u);let d=u.index;return Lu(u,!1),c!==null&&t!==c&&Bye(c,d),u;}function Lxe(e,t,n,i,r,s,o,a){let l=a.match(_D),u=nY(t,n,i,o,r,l?null:a,!1).index;l&&ZA(s,a,u,null,0,null),e.push({kind:0,index:u});}function ZA(e,t,n,i,r,s){let o=e.length,a=o+1;e.push(null,null);let l=o+2,c=t.split(_D),u=0;for(let d=0;d<c.length;d++){let h=c[d];if(d&1){let f=r+parseInt(h,10);e.push(-1-f),u=u|iY(f);}else h!==""&&e.push(h);}return e.push(n<<2|(i?1:0)),i&&e.push(i,s),e[o]=u,e[a]=e.length-l,u;}function iY(e){return 1<<Math.min(e,31);}function $$(e){let t,n="",i=0,r=!1,s;for(;(t=Pxe.exec(e))!==null;)r?t[0]===`${w1}/*${s}${w1}`&&(i=t.index,r=!1):(n+=e.substring(i,t.index+t[0].length),s=t[1],r=!0);return n+=e.slice(i),n;}function Oxe(e,t){if(Uye(t))return $$(e);{let n=e.indexOf(`:${t}${w1}`)+2+t.toString().length,i=e.search(new RegExp(`${w1}\\/\\*\\d+:${t}${w1}`));return $$(e.substring(n,i));}}function rY(e,t,n,i,r,s,o){let a=0,l={type:s.type,currentCaseLViewIndex:G1(t,n,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};Gxe(i,s,o),Oye(t,o,l);let c=s.values,u=[];for(let d=0;d<c.length;d++){let h=c[d],f=[];for(let m=0;m<h.length;m++){let y=h[m];if(typeof y!="string"){let b=f.push(y)-1;h[m]=`<!--\uFFFD${b}\uFFFD-->`;}}let g=[];u.push(g),a=Vxe(g,t,l,n,i,r,s.cases[d],h.join(""),f)|a;}a&&zxe(i,a,o),e.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex});}function Bxe(e){let t=[],n=[],i=1,r=0;e=e.replace(tY,function(o,a,l){return l==="select"?i=0:i=1,r=parseInt(a.slice(1),10),"";});let s=IO(e);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);let l=IO(s[o++]);t.length>n.length&&n.push(l);}return{type:i,mainBinding:r,cases:t,values:n};}function IO(e){if(!e)return[];let t=0,n=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(e);){let a=s.index;if(s[0]=="}"){if(n.pop(),n.length==0){let l=e.substring(t,a);tY.test(l)?i.push(Bxe(l)):i.push(l),t=a+1;}}else{if(n.length==0){let l=e.substring(t,a);i.push(l),t=a+1;}n.push("{");}}let o=e.substring(t);return i.push(o),i;}function Vxe(e,t,n,i,r,s,o,a,l){let c=[],u=[],d=[];n.cases.push(o),n.create.push(c),n.remove.push(u),n.update.push(d);let f=wq(l4()).getInertBodyElement(a),g=sO(f)||f;return g?sY(e,t,n,i,r,c,u,d,g,s,l,0):0;}function sY(e,t,n,i,r,s,o,a,l,c,u,d){let h=0,f=l.firstChild;for(;f;){let g=G1(t,i,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:let m=f,y=m.tagName.toLowerCase();if(iO.hasOwnProperty(y)){AL(s,YK,y,c,g),t.data[g]=y;let A=m.attributes;for(let N=0;N<A.length;N++){let R=A.item(N),D=R.name.toLowerCase();!!R.value.match(_D)?Eq.hasOwnProperty(D)&&(m4[D]?ZA(a,R.value,g,R.name,0,zD):ZA(a,R.value,g,R.name,0,null)):Uxe(s,g,R);}let I={kind:1,index:g,children:[]};e.push(I),h=sY(I.children,t,n,i,r,s,o,a,f,g,u,d+1)|h,W$(o,g,d);}break;case Node.TEXT_NODE:let b=f.textContent||"",C=b.match(_D);AL(s,null,C?"":b,c,g),W$(o,g,d),C&&(h=ZA(a,b,g,null,0,null)|h),e.push({kind:0,index:g});break;case Node.COMMENT_NODE:let _=Ixe.exec(f.textContent||"");if(_){let A=parseInt(_[1],10),I=u[A];AL(s,XK,"",c,g),rY(e,t,i,r,c,I,g),Hxe(o,g,d);}break;}f=f.nextSibling;}return h;}function W$(e,t,n){n===0&&e.push(t);}function Hxe(e,t,n){n===0&&(e.push(~t),e.push(t));}function Gxe(e,t,n){e.push(iY(t.mainBinding),2,-1-t.mainBinding,n<<2|2);}function zxe(e,t,n){e.push(t,1,n<<2|3);}function AL(e,t,n,i,r){t!==null&&e.push(t),e.push(n,r,zye(0,i,r));}function Uxe(e,t,n){e.push(t<<1|1,n.name,n.value);}var q$=0,jxe=/\[(�.+?�?)\]/,$xe=/\[(�.+?�?)\]|(�\/?\*\d+:\d+�)/g,Wxe=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,qxe=/{([A-Z0-9_]+)}/g,Kxe=/�I18N_EXP_(ICU(_\d+)?)�/g,Yxe=/\/\*/,Xxe=/\d+\:(\d+)/;function Qxe(e,t={}){let n=e;if(jxe.test(e)){let i={},r=[q$];n=n.replace($xe,(s,o,a)=>{let l=o||a,c=i[l]||[];if(c.length||(l.split("|").forEach(m=>{let y=m.match(Xxe),b=y?parseInt(y[1],10):q$,C=Yxe.test(m);c.push([b,C,m]);}),i[l]=c),!c.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);let u=r[r.length-1],d=0;for(let m=0;m<c.length;m++)if(c[m][0]===u){d=m;break;}let[h,f,g]=c[d];return f?r.pop():u!==h&&r.push(h),c.splice(d,1),g;});}return Object.keys(t).length&&(n=n.replace(Wxe,(i,r,s,o,a,l)=>t.hasOwnProperty(s)?`${r}${t[s]}${l}`:i),n=n.replace(qxe,(i,r)=>t.hasOwnProperty(r)?t[r]:i),n=n.replace(Kxe,(i,r)=>{if(t.hasOwnProperty(r)){let s=t[r];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${i} with key: ${r}`);return s.shift();}return i;})),n;}function Dl(e,t,n=-1){let i=gr(),r=pn(),s=Es+e,o=vm(i.consts,t),a=T1();if(i.firstCreatePass&&Nxe(i,a===null?0:a.index,r,s,o,n),i.type===2){let h=r[Ga];h[Xt]|=32;}else r[Xt]|=32;let l=i.data[s],c=a===r[Bo]?null:a,u=Oq(i,c,r),d=a&&a.type&8?r[a.index]:null;Wye(r,s,a,n),Axe(r,l.create,u,d),VW(!0);}function Rl(){VW(!1);}function je(e,t,n){Dl(e,t,n),Rl();}function Il(e){let t=pn();return Sxe(Gu(t,N1(),e)),Il;}function Ac(e){Exe(gr(),pn(),e+Es);}function oY(e,t={}){return Qxe(e,t);}var Zxe=(e,t,n)=>{};function Ze(e,t,n,i){let r=pn(),s=gr(),o=Bs();return aY(s,r,r[Pi],o,e,t,i),Ze;}function Jxe(e,t,n,i){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=t[rD],l=r[s+2];return a.length>l?a[l]:null;}typeof o=="string"&&(s+=2);}return null;}function aY(e,t,n,i,r,s,o){let a=MD(i),c=e.firstCreatePass&&aK(e),u=t[Tc],d=oK(t),h=!0;if(i.type&3||o){let m=Sl(i,t),y=o?o(m):m,b=d.length,C=o?A=>o(Cl(A[i.index])):i.index,_=null;if(!o&&a&&(_=Jxe(e,t,r,i.index)),_!==null){let A=_.__ngLastListenerFn__||_;A.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;}else{s=Y$(i,t,u,s),Zxe(m,r,s);let A=n.listen(y,r,s);d.push(s,A),c&&c.push(r,C,b,b+1);}}else s=Y$(i,t,u,s);let f=i.outputs,g;if(h&&f!==null&&(g=f[r])){let m=g.length;if(m)for(let y=0;y<m;y+=2){let b=g[y],C=g[y+1],I=t[b][C].subscribe(s),N=d.length;d.push(s,I),c&&c.push(r,i.index,N,-(N+1));}}}function K$(e,t,n,i){let r=ti(null);try{return Fu(6,t,n),n(i)!==!1;}catch(s){return lK(e,s),!1;}finally{Fu(7,t,n),ti(r);}}function Y$(e,t,n,i){return function r(s){if(s===Function)return i;let o=e.componentOffset>-1?rp(e.index,t):t;F4(o,5);let a=K$(t,n,i,s),l=r.__ngNextListenerFn__;for(;l;)a=K$(t,n,l,s)&&a,l=l.__ngNextListenerFn__;return a;};}function ve(e=1){return h0e(e);}function ewe(e,t){let n=null,i=Hve(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){n=r;continue;}if(i===null?Yq(e,s,!0):Uve(i,s))return r;}return n;}function $1(e){let t=pn()[Ga][Bo];if(!t.projection){let n=e?e.length:1,i=t.projection=Ime(n,null),r=i.slice(),s=t.child;for(;s!==null;){if(s.type!==128){let o=e?ewe(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s);}s=s.next;}}}function W1(e,t=0,n,i,r,s){let o=pn(),a=gr(),l=i?e+1:null;l!==null&&FK(o,a,l,i,r,s,null,n);let c=ab(a,Es+e,16,null,n||null);c.projection===null&&(c.projection=t),QO();let d=!o[S1]||NW();o[Ga][Bo].projection[c.projection]===null&&l!==null?twe(o,a,l):d&&(c.flags&32)!==32&&Pve(a,o,c);}function twe(e,t,n){let i=Es+n,r=t.data[i],s=e[i],o=gO(s,r.tView.ssrId),a=uK(e,r,void 0,{dehydratedView:o});dK(s,a,0,hO(r,o));}function tR(e,t,n,i){bbe(e,t,n,i);}function Tm(e,t,n){ybe(e,t,n);}function Uu(e){let t=pn(),n=gr(),i=HW();JO(i+1);let r=N4(n,i);if(e.dirty&&Xme(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=Cbe(t,i);e.reset(s,H0e),e.notifyOnChanges();}return!0;}return!1;}function ju(){return vbe(pn(),HW());}function nwe(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i;}function $u(e){let t=s0e();return qO(t,Es+e);}function nt(e,t=""){let n=pn(),i=gr(),r=e+Es,s=i.firstCreatePass?ab(i,r,1,t,null):i.data[r],o=iwe(i,n,s,t,e);n[r]=o,L1()&&UD(i,n,o,s),Lu(s,!1);}var iwe=(e,t,n,i,r)=>(O1(!0),Iq(t[Pi],i));function Mn(e){return jn("",e,""),Mn;}function jn(e,t,n){let i=pn(),r=OK(i,e,t,n);return r!==Tl&&cK(i,sp(),r),jn;}function nR(e,t,n,i,r){let s=pn(),o=qbe(s,e,t,n,i,r);return o!==Tl&&cK(s,sp(),o),nR;}function Am(e,t,n){RK(t)&&(t=t());let i=pn(),r=N1();if(Gu(i,r,t)){let s=gr(),o=n4();R4(s,o,i,e,t,i[Pi],n,!1);}return Am;}function lb(e,t){let n=RK(e);return n&&e.set(t),n;}function Dm(e,t){let n=pn(),i=gr(),r=Bs();return aY(i,n,n[Pi],r,e,t),Dm;}function rwe(e,t,n){let i=gr();if(i.firstCreatePass){let r=tp(e);PO(n,i.data,i.blueprint,r,!0),PO(t,i.data,i.blueprint,r,!1);}}function PO(e,t,n,i,r){if(e=Fo(e),Array.isArray(e))for(let s=0;s<e.length;s++)PO(e[s],t,n,i,r);else{let s=gr(),o=pn(),a=Bs(),l=Qy(e)?e:Fo(e.provide),c=CW(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Qy(e)||!e.multi){let f=new xm(c,r,Te),g=RL(l,t,r?u:u+h,d);g===-1?($L(dD(a,o),s,l),DL(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f);}else{let f=RL(l,t,u+h,d),g=RL(l,t,u,u+h),m=f>=0&&n[f],y=g>=0&&n[g];if(r&&!y||!r&&!m){$L(dD(a,o),s,l);let b=awe(r?owe:swe,n.length,r,i,c);!r&&y&&(n[g].providerFactory=b),DL(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(b),o.push(b);}else{let b=lY(n[r?g:f],c,!r&&i);DL(s,e,f>-1?f:g,b);}!r&&i&&y&&n[g].componentProviders++;}}}function DL(e,t,n,i){let r=Qy(t),s=Ome(t);if(r||s){let l=(s?Fo(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l);}else c.push(n,l);}}}function lY(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1;}function RL(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1;}function swe(e,t,n,i){return kO(this.multi,[]);}function owe(e,t,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=wm(n,n[xn],this.providerFactory.index,i);s=a.slice(0,o),kO(r,s);for(let l=o;l<a.length;l++)s.push(a[l]);}else s=[],kO(r,s);return s;}function kO(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i());}return t;}function awe(e,t,n,i,r){let s=new xm(e,n,Te);return s.multi=[],s.index=t,s.componentProviders=0,lY(s,r,i&&!n),s;}function Rr(e,t=[]){return n=>{n.providersResolver=(i,r)=>rwe(i,r?r(e):e,t);};}function V4(e,t,n){let i=F1()+e,r=pn();return r[i]===Tl?O4(r,i,n?t.call(n):t()):Lbe(r,i);}function dh(e,t,n,i){return uY(pn(),F1(),e,t,n,i);}function q1(e,t,n,i,r){return dY(pn(),F1(),e,t,n,i,r);}function cY(e,t){let n=e[t];return n===Tl?void 0:n;}function uY(e,t,n,i,r,s){let o=t+n;return Gu(e,o,r)?O4(e,o+1,s?i.call(s,r):i(r)):cY(e,o+1);}function dY(e,t,n,i,r,s,o){let a=t+n;return MK(e,a,r,s)?O4(e,a+2,o?i.call(o,r,s):i(r,s)):cY(e,a+2);}function $n(e,t){let n=gr(),i,r=e+Es;n.firstCreatePass?(i=lwe(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=pm(i.type,!0)),o,a=pa(Te);try{let l=uD(!1),c=s();return uD(l),nwe(n,pn(),r,c),c;}finally{pa(a);}}function lwe(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i;}}function iR(e,t,n){let i=e+Es,r=pn(),s=qO(r,i);return hY(r,i)?uY(r,F1(),t,s.transform,n,s):s.transform(n);}function ni(e,t,n,i){let r=e+Es,s=pn(),o=qO(s,r);return hY(s,r)?dY(s,F1(),t,o.transform,n,i,o):o.transform(n,i);}function hY(e,t){return e[xn].data[t].pure;}function hh(e,t){return qD(e,t);}var MO=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n;}},rR=(()=>{class e{compileModuleSync(n){return new EO(n);}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n));}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=gW(n),s=Rq(r.declarations).reduce((o,a)=>{let l=ep(a);return l&&o.push(new tb(l)),o;},[]);return new MO(i,s);}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n));}clearCache(){}clearCacheFor(n){}getModuleId(n){}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();var cwe=(()=>{class e{zone=qe(Tn);changeDetectionScheduler=qe(eb);applicationRef=qe(Al);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick();});}}));}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe();}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),uwe=new Tt("",{factory:()=>!1});function fY({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Tn(Re(O({},gY()),{scheduleInRootZone:n})),[{provide:Tn,useFactory:e},{provide:Xy,multi:!0,useFactory:()=>{let i=qe(cwe,{optional:!0});return()=>i.initialize();}},{provide:Xy,multi:!0,useFactory:()=>{let i=qe(dwe);return()=>{i.initialize();};}},t===!0?{provide:oq,useValue:!0}:[],{provide:aq,useValue:n??sq}];}function pY(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=fY({ngZoneFactory:()=>{let r=gY(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&ch("NgZone_CoalesceEvent"),new Tn(r);},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ib([{provide:uwe,useValue:!0},{provide:BD,useValue:!1},i]);}function gY(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1};}var dwe=(()=>{class e{subscription=new dr();initialized=!1;zone=qe(Tn);pendingTasks=qe(op);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Tn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null);});}));}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Tn.assertInAngularZone(),n??=this.pendingTasks.add();}));}ngOnDestroy(){this.subscription.unsubscribe();}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();var hwe=(()=>{class e{appRef=qe(Al);taskService=qe(op);ngZone=qe(Tn);zonelessEnabled=qe(BD);tracing=qe(VD,{optional:!0});disableScheduling=qe(oq,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dr();angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fD):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(qe(aq,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup();})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup();})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof XL||!this.zoneIsDefined);}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break;}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break;}case 8:{this.appRef.deferredDirtyFlags|=8;break;}case 6:{this.appRef.dirtyFlags|=2,i=!0;break;}case 13:{this.appRef.dirtyFlags|=16,i=!0;break;}case 14:{this.appRef.dirtyFlags|=2,i=!0;break;}case 12:{i=!0;break;}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8;}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?_$:lq;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()));}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fD+this.angularZoneId));}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return;}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick();},void 0,this.schedulerTickApplyArgs);}catch(i){throw this.taskService.remove(n),i;}finally{this.cleanup();}this.useMicrotaskScheduler=!0,_$(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n);});}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup();}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n);}}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();function fwe(){return typeof $localize<"u"&&$localize.locale||CD;}var K1=new Tt("",{providedIn:"root",factory:()=>qe(K1,kn.Optional|kn.SkipSelf)||fwe()}),mY=new Tt("",{providedIn:"root",factory:()=>wxe});var FO=new Tt("");function $A(e){return!e.moduleRef;}function pwe(e){let t=$A(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Tn);return n.run(()=>{$A(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(sh,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:s=>{i.handleError(s);}});}),$A(e)){let s=()=>t.destroy(),o=e.platformInjector.get(FO);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s);});}else{let s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(FO);o.add(s),e.moduleRef.onDestroy(()=>{XA(e.allPlatformModules,e.moduleRef),r.unsubscribe(),o.delete(s);});}return $be(i,n,()=>{let s=t.get(LK);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(K1,CD);if(Cxe(o||CD),$A(e)){let a=t.get(Al);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a;}else return gwe(e.moduleRef,e.allPlatformModules),e.moduleRef;});});});}function gwe(e,t){let n=e.injector.get(Al);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new Je(-403,!1);t.push(e);}var JA=null;function mwe(e=[],t){return is.create({name:t,providers:[{provide:ID,useValue:"platform"},{provide:FO,useValue:new Set([()=>JA=null])},...e]});}function vwe(e=[]){if(JA)return JA;let t=mwe(e);return JA=t,zbe(),ywe(t),t;}function ywe(e){let t=e.get(u4,null);ga(e,()=>{t?.forEach(n=>n());});}var Pl=(()=>{class e{static __NG_ELEMENT_ID__=bwe;}return e;})();function bwe(e){return xwe(Bs(),pn(),(e&16)===16);}function xwe(e,t,n){if(kD(e)&&!n){let i=rp(e.index,t);return new _m(i,i);}else if(e.type&175){let i=t[Ga];return new _m(i,t);}return null;}var NO=class{constructor(){}supports(t){return kK(t);}create(t){return new LO(t);}},wwe=(e,t)=>t,LO=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||wwe;}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n);}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<X$(i,r,s)?n:i,a=X$(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<c&&(s[h]=f+1);}let d=o.previousIndex;s[d]=u-c;}}a!==l&&t(o,a,l);}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n);}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n);}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n);}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n);}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n);}diff(t){if(t==null&&(t=[]),!kK(t))throw new Je(900,!1);return this.check(t)?this:null;}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next;}else r=0,Nbe(t,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++;}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty;}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null;}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null;}}_mismatch(t,n,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new OO(n,i),s,r)),t;}_verifyReinsertion(t,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t;}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n;}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null);}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t;}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t;}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t;}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new SD()),this._linkedRecords.put(t),t.currentIndex=i,t;}_remove(t){return this._addToRemovals(this._unlink(t));}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t;}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t;}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new SD()),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t;}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t;}},OO=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n;}},BO=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t);}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null;}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null;}},SD=class{map=new Map();put(t){let n=t.trackById,i=this.map.get(n);i||(i=new BO(),this.map.set(n,i)),i.add(t);}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null;}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t;}get isEmpty(){return this.map.size===0;}clear(){this.map.clear();}};function X$(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r;}var VO=class{constructor(){}supports(t){return t instanceof Map||L4(t);}create(){return new HO();}},HO=class{_records=new Map();_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null;}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n);}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n);}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n);}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n);}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n);}diff(t){if(!t)t=new Map();else if(!(t instanceof Map||L4(t)))throw new Je(900,!1);return this.check(t)?this:null;}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s);}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null;}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty;}_insertBeforeOrAppend(t,n){if(t){let i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t;}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null;}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,n);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r;}let i=new GO(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i;}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null;}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t));}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t);}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t);}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i));}},GO=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t;}};function Q$(){return new H4([new NO()]);}var H4=(()=>{class e{factories;static ɵprov=ot({token:e,providedIn:"root",factory:Q$});constructor(n){this.factories=n;}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r);}return new e(n);}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Q$()),deps:[[e,new DD(),new k1()]]};}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new Je(901,!1);}}return e;})();function Z$(){return new G4([new VO()]);}var G4=(()=>{class e{static ɵprov=ot({token:e,providedIn:"root",factory:Z$});factories;constructor(n){this.factories=n;}static create(n,i){if(i){let r=i.factories.slice();n=n.concat(r);}return new e(n);}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Z$()),deps:[[e,new DD(),new k1()]]};}find(n){let i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Je(901,!1);}}return e;})();function vY(e){try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=vwe(i),s=[fY({}),{provide:eb,useExisting:hwe},...(n||[])],o=new xD({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return pwe({r3Injector:o.injector,platformInjector:r,rootComponent:t});}catch(t){return Promise.reject(t);}}function Ie(e){return typeof e=="boolean"?e:e!=null&&e!=="false";}function Y1(e,t){ch("NgSignals");let n=Ij(e);return t?.equal&&(n[Ba].equal=t.equal),n;}function Dc(e){let t=ti(null);try{return e();}finally{ti(t);}}var J$=class{[Ba];constructor(t){this[Ba]=t;}destroy(){this[Ba].destroy();}};function yY(e){let t=ep(e);if(!t)return null;let n=new tb(t);return{get selector(){return n.selector;},get type(){return n.componentType;},get inputs(){return n.inputs;},get outputs(){return n.outputs;},get ngContentSelectors(){return n.ngContentSelectors;},get isStandalone(){return t.standalone;},get isSignal(){return t.signals;}};}var AY=null;function vh(){return AY;}function DY(e){AY??=e;}var fR=class{};var mr=new Tt(""),t6=(()=>{class e{historyGo(n){throw new Error("");}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(Cwe),providedIn:"platform"});}return e;})(),RY=new Tt(""),Cwe=(()=>{class e extends t6{_location;_history;_doc=qe(mr);constructor(){super(),this._location=window.location,this._history=window.history;}getBaseHrefFromDOM(){return vh().getBaseHref(this._doc);}onPopState(n){let i=vh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n);}onHashChange(n){let i=vh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n);}get href(){return this._location.href;}get protocol(){return this._location.protocol;}get hostname(){return this._location.hostname;}get port(){return this._location.port;}get pathname(){return this._location.pathname;}get search(){return this._location.search;}get hash(){return this._location.hash;}set pathname(n){this._location.pathname=n;}pushState(n,i,r){this._history.pushState(n,i,r);}replaceState(n,i,r){this._history.replaceState(n,i,r);}forward(){this._history.forward();}back(){this._history.back();}historyGo(n=0){this._history.go(n);}getState(){return this._history.state;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>new e(),providedIn:"platform"});}return e;})();function n6(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t;}function bY(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n);}function ph(e){return e&&e[0]!=="?"?"?"+e:e;}var yh=(()=>{class e{historyGo(n){throw new Error("");}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(i6),providedIn:"root"});}return e;})(),IY=new Tt(""),i6=(()=>{class e extends yh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??qe(mr).location?.origin??"";}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n));}getBaseHref(){return this._baseHref;}prepareExternalUrl(n){return n6(this._baseHref,n);}path(n=!1){let i=this._platformLocation.pathname+ph(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i;}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+ph(s));this._platformLocation.pushState(n,i,o);}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+ph(s));this._platformLocation.replaceState(n,i,o);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState();}historyGo(n=0){this._platformLocation.historyGo?.(n);}static ɵfac=function(i){return new(i||e)(rt(t6),rt(IY,8));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),PY=(()=>{class e extends yh{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i);}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()();}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n));}getBaseHref(){return this._baseHref;}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i;}prepareExternalUrl(n){let i=n6(this._baseHref,n);return i.length>0?"#"+i:i;}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+ph(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o);}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+ph(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o);}forward(){this._platformLocation.forward();}back(){this._platformLocation.back();}getState(){return this._platformLocation.getState();}historyGo(n=0){this._platformLocation.historyGo?.(n);}static ɵfac=function(i){return new(i||e)(rt(t6),rt(IY,8));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),ub=(()=>{class e{_subject=new Ar();_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=Ewe(bY(xY(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type});});}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[];}path(n=!1){return this.normalize(this._locationStrategy.path(n));}getState(){return this._locationStrategy.getState();}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ph(i));}normalize(n){return e.stripTrailingSlash(Swe(this._basePath,xY(n)));}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n);}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ph(i)),r);}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ph(i)),r);}forward(){this._locationStrategy.forward();}back(){this._locationStrategy.back();}historyGo(n=0){this._locationStrategy.historyGo?.(n);}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state);}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null);};}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i));}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0});}static normalizeQueryParams=ph;static joinWithSlash=n6;static stripTrailingSlash=bY;static ɵfac=function(i){return new(i||e)(rt(yh));};static ɵprov=ot({token:e,factory:()=>_we(),providedIn:"root"});}return e;})();function _we(){return new ub(rt(yh));}function Swe(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t;}function xY(e){return e.replace(/\/index.html$/,"");}function Ewe(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n;}return e;}var kY={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},MY=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e;}(MY||{});var Ho=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e;}(Ho||{}),Ui=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e;}(Ui||{}),za=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e;}(za||{}),Ua={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Twe(e){return Vo(e)[hr.LocaleId];}function Awe(e,t,n){let i=Vo(e),r=[i[hr.DayPeriodsFormat],i[hr.DayPeriodsStandalone]],s=kl(r,t);return kl(s,n);}function Dwe(e,t,n){let i=Vo(e),r=[i[hr.DaysFormat],i[hr.DaysStandalone]],s=kl(r,t);return kl(s,n);}function Rwe(e,t,n){let i=Vo(e),r=[i[hr.MonthsFormat],i[hr.MonthsStandalone]],s=kl(r,t);return kl(s,n);}function Iwe(e,t){let i=Vo(e)[hr.Eras];return kl(i,t);}function sR(e,t){let n=Vo(e);return kl(n[hr.DateFormat],t);}function oR(e,t){let n=Vo(e);return kl(n[hr.TimeFormat],t);}function aR(e,t){let i=Vo(e)[hr.DateTimeFormat];return kl(i,t);}function gh(e,t){let n=Vo(e),i=n[hr.NumberSymbols][t];if(typeof i>"u"){if(t===Ua.CurrencyDecimal)return n[hr.NumberSymbols][Ua.Decimal];if(t===Ua.CurrencyGroup)return n[hr.NumberSymbols][Ua.Group];}return i;}function Pwe(e,t){return Vo(e)[hr.NumberFormats][t];}function kwe(e){return Vo(e)[hr.Currencies];}function FY(e){if(!e[hr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[hr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`);}function Mwe(e){let t=Vo(e);return FY(t),(t[hr.ExtraData][2]||[]).map(i=>typeof i=="string"?z4(i):[z4(i[0]),z4(i[1])]);}function Fwe(e,t,n){let i=Vo(e);FY(i);let r=[i[hr.ExtraData][0],i[hr.ExtraData][1]],s=kl(r,t)||[];return kl(s,n)||[];}function kl(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined");}function z4(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n};}function Nwe(e,t,n="en"){let i=kwe(n)[e]||kY[e]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||e;}var Lwe=2;function Owe(e){let t,n=kY[e];return n&&(t=n[2]),typeof t=="number"?t:Lwe;}var Bwe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lR={},Vwe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mh=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e;}(mh||{}),mi=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e;}(mi||{}),gi=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e;}(gi||{});function Hwe(e,t,n,i){let r=Ywe(e);t=fh(n,t)||t;let o=[],a;for(;t;)if(a=Vwe.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u;}else{o.push(t);break;}let l=r.getTimezoneOffset();i&&(l=LY(i,l),r=Kwe(r,i,!0));let c="";return o.forEach(u=>{let d=Wwe(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'");}),c;}function pR(e,t,n){let i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i;}function fh(e,t){let n=Twe(e);if(lR[n]??={},lR[n][t])return lR[n][t];let i="";switch(t){case"shortDate":i=sR(e,za.Short);break;case"mediumDate":i=sR(e,za.Medium);break;case"longDate":i=sR(e,za.Long);break;case"fullDate":i=sR(e,za.Full);break;case"shortTime":i=oR(e,za.Short);break;case"mediumTime":i=oR(e,za.Medium);break;case"longTime":i=oR(e,za.Long);break;case"fullTime":i=oR(e,za.Full);break;case"short":let r=fh(e,"shortTime"),s=fh(e,"shortDate");i=cR(aR(e,za.Short),[r,s]);break;case"medium":let o=fh(e,"mediumTime"),a=fh(e,"mediumDate");i=cR(aR(e,za.Medium),[o,a]);break;case"long":let l=fh(e,"longTime"),c=fh(e,"longDate");i=cR(aR(e,za.Long),[l,c]);break;case"full":let u=fh(e,"fullTime"),d=fh(e,"fullDate");i=cR(aR(e,za.Full),[u,d]);break;}return i&&(lR[n][t]=i),i;}function cR(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return t!=null&&i in t?t[i]:n;})),e;}function Rc(e,t,n="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o;}function Gwe(e,t){return Rc(e,3).substring(0,t);}function rs(e,t,n=0,i=!1,r=!1){return function(s,o){let a=zwe(e,s);if((n>0||a>-n)&&(a+=n),e===mi.Hours)a===0&&n===-12&&(a=12);else if(e===mi.FractionalSeconds)return Gwe(a,t);let l=gh(o,Ua.MinusSign);return Rc(a,t,l,i,r);};}function zwe(e,t){switch(e){case mi.FullYear:return t.getFullYear();case mi.Month:return t.getMonth();case mi.Date:return t.getDate();case mi.Hours:return t.getHours();case mi.Minutes:return t.getMinutes();case mi.Seconds:return t.getSeconds();case mi.FractionalSeconds:return t.getMilliseconds();case mi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`);}}function er(e,t,n=Ho.Format,i=!1){return function(r,s){return Uwe(r,s,e,t,n,i);};}function Uwe(e,t,n,i,r,s){switch(n){case gi.Months:return Rwe(t,r,i)[e.getMonth()];case gi.Days:return Dwe(t,r,i)[e.getDay()];case gi.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let c=Mwe(t),u=Fwe(t,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,g]=h,m=o>=f.hours&&a>=f.minutes,y=o<g.hours||o===g.hours&&a<g.minutes;if(f.hours<g.hours){if(m&&y)return!0;}else if(m||y)return!0;}else if(h.hours===o&&h.minutes===a)return!0;return!1;});if(d!==-1)return u[d];}return Awe(t,r,i)[o<12?0:1];case gi.Eras:return Iwe(t,i)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`);}}function uR(e){return function(t,n,i){let r=-1*i,s=gh(n,Ua.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case mh.Short:return(r>=0?"+":"")+Rc(o,2,s)+Rc(Math.abs(r%60),2,s);case mh.ShortGMT:return"GMT"+(r>=0?"+":"")+Rc(o,1,s);case mh.Long:return"GMT"+(r>=0?"+":"")+Rc(o,2,s)+":"+Rc(Math.abs(r%60),2,s);case mh.Extended:return i===0?"Z":(r>=0?"+":"")+Rc(o,2,s)+":"+Rc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`);}};}var jwe=0,hR=4;function $we(e){let t=pR(e,jwe,1).getDay();return pR(e,0,1+(t<=hR?hR:hR+7)-t);}function NY(e){let t=e.getDay(),n=t===0?-3:hR-t;return pR(e.getFullYear(),e.getMonth(),e.getDate()+n);}function U4(e,t=!1){return function(n,i){let r;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7);}else{let s=NY(n),o=$we(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5);}return Rc(r,e,gh(i,Ua.MinusSign));};}function dR(e,t=!1){return function(n,i){let s=NY(n).getFullYear();return Rc(s,e,gh(i,Ua.MinusSign),t);};}var j4={};function Wwe(e){if(j4[e])return j4[e];let t;switch(e){case"G":case"GG":case"GGG":t=er(gi.Eras,Ui.Abbreviated);break;case"GGGG":t=er(gi.Eras,Ui.Wide);break;case"GGGGG":t=er(gi.Eras,Ui.Narrow);break;case"y":t=rs(mi.FullYear,1,0,!1,!0);break;case"yy":t=rs(mi.FullYear,2,0,!0,!0);break;case"yyy":t=rs(mi.FullYear,3,0,!1,!0);break;case"yyyy":t=rs(mi.FullYear,4,0,!1,!0);break;case"Y":t=dR(1);break;case"YY":t=dR(2,!0);break;case"YYY":t=dR(3);break;case"YYYY":t=dR(4);break;case"M":case"L":t=rs(mi.Month,1,1);break;case"MM":case"LL":t=rs(mi.Month,2,1);break;case"MMM":t=er(gi.Months,Ui.Abbreviated);break;case"MMMM":t=er(gi.Months,Ui.Wide);break;case"MMMMM":t=er(gi.Months,Ui.Narrow);break;case"LLL":t=er(gi.Months,Ui.Abbreviated,Ho.Standalone);break;case"LLLL":t=er(gi.Months,Ui.Wide,Ho.Standalone);break;case"LLLLL":t=er(gi.Months,Ui.Narrow,Ho.Standalone);break;case"w":t=U4(1);break;case"ww":t=U4(2);break;case"W":t=U4(1,!0);break;case"d":t=rs(mi.Date,1);break;case"dd":t=rs(mi.Date,2);break;case"c":case"cc":t=rs(mi.Day,1);break;case"ccc":t=er(gi.Days,Ui.Abbreviated,Ho.Standalone);break;case"cccc":t=er(gi.Days,Ui.Wide,Ho.Standalone);break;case"ccccc":t=er(gi.Days,Ui.Narrow,Ho.Standalone);break;case"cccccc":t=er(gi.Days,Ui.Short,Ho.Standalone);break;case"E":case"EE":case"EEE":t=er(gi.Days,Ui.Abbreviated);break;case"EEEE":t=er(gi.Days,Ui.Wide);break;case"EEEEE":t=er(gi.Days,Ui.Narrow);break;case"EEEEEE":t=er(gi.Days,Ui.Short);break;case"a":case"aa":case"aaa":t=er(gi.DayPeriods,Ui.Abbreviated);break;case"aaaa":t=er(gi.DayPeriods,Ui.Wide);break;case"aaaaa":t=er(gi.DayPeriods,Ui.Narrow);break;case"b":case"bb":case"bbb":t=er(gi.DayPeriods,Ui.Abbreviated,Ho.Standalone,!0);break;case"bbbb":t=er(gi.DayPeriods,Ui.Wide,Ho.Standalone,!0);break;case"bbbbb":t=er(gi.DayPeriods,Ui.Narrow,Ho.Standalone,!0);break;case"B":case"BB":case"BBB":t=er(gi.DayPeriods,Ui.Abbreviated,Ho.Format,!0);break;case"BBBB":t=er(gi.DayPeriods,Ui.Wide,Ho.Format,!0);break;case"BBBBB":t=er(gi.DayPeriods,Ui.Narrow,Ho.Format,!0);break;case"h":t=rs(mi.Hours,1,-12);break;case"hh":t=rs(mi.Hours,2,-12);break;case"H":t=rs(mi.Hours,1);break;case"HH":t=rs(mi.Hours,2);break;case"m":t=rs(mi.Minutes,1);break;case"mm":t=rs(mi.Minutes,2);break;case"s":t=rs(mi.Seconds,1);break;case"ss":t=rs(mi.Seconds,2);break;case"S":t=rs(mi.FractionalSeconds,1);break;case"SS":t=rs(mi.FractionalSeconds,2);break;case"SSS":t=rs(mi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=uR(mh.Short);break;case"ZZZZZ":t=uR(mh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=uR(mh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=uR(mh.Long);break;default:return null;}return j4[e]=t,t;}function LY(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n;}function qwe(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e;}function Kwe(e,t,n){let i=n?-1:1,r=e.getTimezoneOffset(),s=LY(t,r);return qwe(e,i*(s-r));}function Ywe(e){if(wY(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,s=1,o=1]=e.split("-").map(a=>+a);return pR(r,s-1,o);}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(Bwe))return Xwe(i);}let t=new Date(e);if(!wY(t))throw new Error(`Unable to convert "${e}" into a date`);return t;}function Xwe(e){let t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,l,c),t;}function wY(e){return e instanceof Date&&!isNaN(e.valueOf());}var Qwe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,CY=22,gR=".",X1="0",Zwe=";",Jwe=",",$4="#",_Y="\xA4";function eCe(e,t,n,i,r,s,o=!1){let a="",l=!1;if(!isFinite(e))a=gh(n,Ua.Infinity);else{let c=rCe(e);o&&(c=iCe(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){let C=s.match(Qwe);if(C===null)throw new Error(`${s} is not a valid digit info`);let _=C[1],A=C[3],I=C[5];_!=null&&(u=W4(_)),A!=null&&(d=W4(A)),I!=null?h=W4(I):A!=null&&d>h&&(h=d);}sCe(c,d,h);let f=c.digits,g=c.integerLen,m=c.exponent,y=[];for(l=f.every(C=>!C);g<u;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?y=f.splice(g,f.length):(y=f,f=[0]);let b=[];for(f.length>=t.lgSize&&b.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)b.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(gh(n,i)),y.length&&(a+=gh(n,r)+y.join("")),m&&(a+=gh(n,Ua.Exponential)+"+"+m);}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a;}function tCe(e,t,n,i,r){let s=Pwe(t,MY.Currency),o=nCe(s,gh(t,Ua.MinusSign));return o.minFrac=Owe(i),o.maxFrac=o.minFrac,eCe(e,o,t,Ua.CurrencyGroup,Ua.CurrencyDecimal,r).replace(_Y,n).replace(_Y,"").trim();}function nCe(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(Zwe),r=i[0],s=i[1],o=r.indexOf(gR)!==-1?r.split(gR):[r.substring(0,r.lastIndexOf(X1)+1),r.substring(r.lastIndexOf(X1)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf($4));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===X1?n.minFrac=n.maxFrac=u+1:d===$4?n.maxFrac=u+1:n.posSuf+=d;}let c=a.split(Jwe);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=r.length-n.posPre.length-n.posSuf.length,d=s.indexOf($4);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"");}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n;}function iCe(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e;}function rCe(e){let t=Math.abs(e)+"",n=0,i,r,s,o,a;for((r=t.indexOf(gR))>-1&&(t=t.replace(gR,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===X1;s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===X1;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s));}return r>CY&&(i=i.splice(0,CY-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r};}function sCe(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen,s=Math.min(Math.max(t,r),n),o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0;}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0;}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++;}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=s!==0,c=t+e.integerLen,u=i.reduceRight(function(d,h,f,g){return h=h+d,g[f]=h<10?h:h-10,l&&(g[f]===0&&f>=c?g.pop():l=!1),h>=10?1:0;},0);u&&(i.unshift(u),e.integerLen++);}function W4(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t;}function mR(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s);}return null;}var q4=/\s+/,SY=[],Wu=(()=>{class e{_ngEl;_renderer;initialClasses=SY;rawClass;stateMap=new Map();constructor(n,i){this._ngEl=n,this._renderer=i;}set klass(n){this.initialClasses=n!=null?n.trim().split(q4):SY;}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(q4):n;}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff();}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0});}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1;}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(q4).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r);});}static ɵfac=function(i){return new(i||e)(Te(Un),Te(Vs));};static ɵdir=Ei({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}});}return e;})();var K4=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r;}get first(){return this.index===0;}get last(){return this.index===this.count-1;}get even(){return this.index%2===0;}get odd(){return!this.even;}},ji=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0;}set ngForTrackBy(n){this._trackByFn=n;}get ngForTrackBy(){return this._trackByFn;}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r;}set ngForTemplate(n){n&&(this._template=n);}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy);}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n);}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new K4(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),EY(a,r);}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf;}n.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);EY(s,r);});}static ngTemplateContextGuard(n,i){return!0;}static ɵfac=function(i){return new(i||e)(Te(ma),Te(oh),Te(H4));};static ɵdir=Ei({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}});}return e;})();function EY(e,t){e.context.$implicit=t.item;}var rn=(()=>{class e{_viewContainer;_context=new Y4();_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i;}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView();}set ngIfThen(n){TY("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView();}set ngIfElse(n){TY("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView();}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)));}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0;}static ɵfac=function(i){return new(i||e)(Te(ma),Te(oh));};static ɵdir=Ei({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}});}return e;})(),Y4=class{$implicit=null;ngIf=null;};function TY(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Lo(t)}'.`);}var vR=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r;}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create());}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n);}}_setStyle(n,i){let[r,s]=n.split("."),o=r.indexOf("-")===-1?void 0:Vu.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o);}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue));}static ɵfac=function(i){return new(i||e)(Te(Un),Te(G4),Te(Vs));};static ɵdir=Ei({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}});}return e;})(),OY=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n;}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return;}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0});}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector;}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r);}});}static ɵfac=function(i){return new(i||e)(Te(ma));};static ɵdir=Ei({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Si]});}return e;})();function r6(e,t){return new Je(2100,!1);}var X4=class{createSubscription(t,n){return Dc(()=>t.subscribe({next:n,error:i=>{throw i;}}));}dispose(t){Dc(()=>t.unsubscribe());}},Q4=class{createSubscription(t,n){return t.then(n,i=>{throw i;});}dispose(t){}},oCe=new Q4(),aCe=new X4(),yR=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n;}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null;}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n);}finally{this.markForCheckOnValueUpdate=!0;}return this._latestValue;}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue;}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i));}_selectStrategy(n){if(ap(n))return oCe;if(B4(n))return aCe;throw r6(e,n);}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null;}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck());}static ɵfac=function(i){return new(i||e)(Te(Pl,16));};static ɵpipe=XD({name:"async",type:e,pure:!1});}return e;})();var lCe="mediumDate",cCe=new Tt(""),uCe=new Tt(""),Ir=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r;}transform(n,i,r,s){if(n==null||n===""||n!==n)return null;try{let o=i??this.defaultOptions?.dateFormat??lCe,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Hwe(n,o,s||this.locale,a);}catch(o){throw r6(e,o.message);}}static ɵfac=function(i){return new(i||e)(Te(K1,16),Te(cCe,24),Te(uCe,24));};static ɵpipe=XD({name:"date",type:e,pure:!0});}return e;})();var BY=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i;}transform(n,i=this._defaultCurrencyCode,r="symbol",s,o){if(!dCe(n))return null;o||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=Nwe(a,r==="symbol"?"wide":"narrow",o):a=r);try{let l=hCe(n);return tCe(l,o,a,i,s);}catch(l){throw r6(e,l.message);}}static ɵfac=function(i){return new(i||e)(Te(K1,16),Te(mY,16));};static ɵpipe=XD({name:"currency",type:e,pure:!0});}return e;})();function dCe(e){return!(e==null||e===""||e!==e);}function hCe(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e;}var cn=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵmod=pi({type:e});static ɵinj=fi({});}return e;})(),s6="browser",fCe="server";function ja(e){return e===s6;}function bh(e){return e===fCe;}var VY=(()=>{class e{static ɵprov=ot({token:e,providedIn:"root",factory:()=>ja(qe($r))?new Z4(qe(mr),window):new J4()});}return e;})(),Z4=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n;}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t;}getScrollPosition(){return[this.window.scrollX,this.window.scrollY];}scrollToPosition(t){this.window.scrollTo(t[0],t[1]);}scrollToAnchor(t){let n=pCe(this.document,t);n&&(this.scrollToElement(n),n.focus());}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t;}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1]);}};function pCe(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o;}r=i.nextNode();}}return null;}var J4=class{setOffset(t){}getScrollPosition(){return[0,0];}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},cb=class{};var Z1=class{},xR=class{},xh=class e{headers;normalizedNames=new Map();lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map(),t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=n.slice(i+1).trim();this.addHeaderEntry(r,s);}});}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map(),t.forEach((n,i)=>{this.addHeaderEntry(i,n);})):this.lazyInit=()=>{this.headers=new Map(),Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i);});}:this.headers=new Map();}has(t){return this.init(),this.headers.has(t.toLowerCase());}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null;}keys(){return this.init(),Array.from(this.normalizedNames.values());}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null;}append(t,n){return this.clone({name:t,value:n,op:"a"});}set(t,n){return this.clone({name:t,value:n,op:"s"});}delete(t,n){return this.clone({name:t,value:n,op:"d"});}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t);}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null));}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n));});}clone(t){let n=new e();return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n;}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o);}break;}}addHeaderEntry(t,n){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n]);}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r);}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)));}};var a6=class{encodeKey(t){return HY(t);}encodeValue(t){return HY(t);}decodeKey(t){return decodeURIComponent(t);}decodeValue(t){return decodeURIComponent(t);}};function gCe(e,t){let n=new Map();return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l);}),n;}var mCe=/%(\d[a-f0-9])/gi,vCe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HY(e){return encodeURIComponent(e).replace(mCe,(t,n)=>vCe[n]??t);}function bR(e){return`${e}`;}var qu=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new a6(),t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gCe(t.fromString,this.encoder);}else t.fromObject?(this.map=new Map(),Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(bR):[bR(i)];this.map.set(n,r);})):this.map=null;}has(t){return this.init(),this.map.has(t);}get(t){this.init();let n=this.map.get(t);return n?n[0]:null;}getAll(t){return this.init(),this.map.get(t)||null;}keys(){return this.init(),Array.from(this.map.keys());}append(t,n){return this.clone({param:t,value:n,op:"a"});}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"});}):n.push({param:i,value:r,op:"a"});}),this.clone(n);}set(t,n){return this.clone({param:t,value:n,op:"s"});}delete(t,n){return this.clone({param:t,value:n,op:"d"});}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&");}).filter(t=>t!=="").join("&");}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n;}init(){this.map===null&&(this.map=new Map()),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(bR(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(bR(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param);}else{this.map.delete(t.param);break;}}}),this.cloneFrom=this.updates=null);}};var l6=class{map=new Map();set(t,n){return this.map.set(t,n),this;}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t);}delete(t){return this.map.delete(t),this;}has(t){return this.map.has(t);}keys(){return this.map.keys();}};function yCe(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0;}}function GY(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer;}function zY(e){return typeof Blob<"u"&&e instanceof Blob;}function UY(e){return typeof FormData<"u"&&e instanceof FormData;}function bCe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams;}var Q1=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,i,r){this.url=n,this.method=t.toUpperCase();let s;if(yCe(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new xh(),this.context??=new l6(),!this.params)this.params=new qu(),this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o;}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GY(this.body)||zY(this.body)||UY(this.body)||bCe(this.body)?this.body:this.body instanceof qu?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString();}detectContentTypeHeader(){return this.body===null||UY(this.body)?null:zY(this.body)?this.body.type||null:GY(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qu?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null;}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s});}},dp=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e;}(dp||{}),J1=class{headers;status;statusText;url;ok;type;constructor(t,n=200,i="OK"){this.headers=t.headers||new xh(),this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300;}},wR=class e extends J1{constructor(t={}){super(t);}type=dp.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0});}},e_=class e extends J1{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null;}type=dp.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0});}},up=class extends J1{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null;}},qY=200,xCe=204;function o6(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache};}var d6=(()=>{class e{handler;constructor(n){this.handler=n;}request(n,i,r={}){let s;if(n instanceof Q1)s=n;else{let l;r.headers instanceof xh?l=r.headers:l=new xh(r.headers);let c;r.params&&(r.params instanceof qu?c=r.params:c=new qu({fromObject:r.params})),s=new Q1(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache});}let o=Gt(s).pipe(eh(l=>this.handler.handle(l)));if(n instanceof Q1||r.observe==="events")return o;let a=o.pipe(da(l=>l instanceof e_));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(nn(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body;}));case"blob":return a.pipe(nn(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body;}));case"text":return a.pipe(nn(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body;}));case"json":default:return a.pipe(nn(l=>l.body));}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`);}}delete(n,i={}){return this.request("DELETE",n,i);}get(n,i={}){return this.request("GET",n,i);}head(n,i={}){return this.request("HEAD",n,i);}jsonp(n,i){return this.request("JSONP",n,{params:new qu().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"});}options(n,i={}){return this.request("OPTIONS",n,i);}patch(n,i,r={}){return this.request("PATCH",n,o6(r,i));}post(n,i,r={}){return this.request("POST",n,o6(r,i));}put(n,i,r={}){return this.request("PUT",n,o6(r,i));}static ɵfac=function(i){return new(i||e)(rt(Z1));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),wCe=/^\)\]\}',?\n/,CCe="X-Request-URL";function jY(e){if(e.url)return e.url;let t=CCe.toLocaleLowerCase();return e.headers.get(t);}var _Ce=(()=>{class e{fetchImpl=qe(c6,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=qe(Tn);handle(n){return new On(i=>{let r=new AbortController();return this.doRequest(n,r.signal,i).then(u6,s=>i.error(new up({error:s}))),()=>r.abort();});}doRequest(n,i,r){return $(this,null,function*(){let s=this.createRequestInit(n),o;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,O({signal:i},s)));SCe(f),r.next({type:dp.Sent}),o=yield f;}catch(f){r.error(new up({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return;}let a=new xh(o.headers),l=o.statusText,c=jY(o)??n.urlWithParams,u=o.status,d=null;if(n.reportProgress&&r.next(new wR({headers:a,status:u,statusText:l,url:c})),o.body){let f=o.headers.get("content-length"),g=[],m=o.body.getReader(),y=0,b,C,_=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>$(this,null,function*(){for(;;){let{done:I,value:N}=yield m.read();if(I)break;if(g.push(N),y+=N.length,n.reportProgress){C=n.responseType==="text"?(C??"")+(b??=new TextDecoder()).decode(N,{stream:!0}):void 0;let R=()=>r.next({type:dp.DownloadProgress,total:f?+f:void 0,loaded:y,partialText:C});_?_.run(R):R();}}}));let A=this.concatChunks(g,y);try{let I=o.headers.get("Content-Type")??"";d=this.parseBody(n,A,I);}catch(I){r.error(new up({error:I,headers:new xh(o.headers),status:o.status,statusText:o.statusText,url:jY(o)??n.urlWithParams}));return;}}u===0&&(u=d?qY:0),u>=200&&u<300?(r.next(new e_({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new up({error:d,headers:a,status:u,statusText:l,url:c}));});}parseBody(n,i,r){switch(n.responseType){case"json":let s=new TextDecoder().decode(i).replace(wCe,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer;}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>i[s]=o.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s);}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r};}concatChunks(n,i){let r=new Uint8Array(i),s=0;for(let o of n)r.set(o,s),s+=o.length;return r;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),c6=class{};function u6(){}function SCe(e){e.then(u6,u6);}function ECe(e,t){return t(e);}function TCe(e,t,n){return(i,r)=>ga(n,()=>t(i,s=>e(s,r)));}var h6=new Tt(""),ACe=new Tt(""),DCe=new Tt("",{providedIn:"root",factory:()=>!0});var $Y=(()=>{class e extends Z1{backend;injector;chain=null;pendingTasks=qe(op);contributeToStability=qe(DCe);constructor(n,i){super(),this.backend=n,this.injector=i;}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(h6),...this.injector.get(ACe,[])]));this.chain=i.reduceRight((r,s)=>TCe(r,s,this.injector),ECe);}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(dm(()=>this.pendingTasks.remove(i)));}else return this.chain(n,i=>this.backend.handle(i));}static ɵfac=function(i){return new(i||e)(rt(xR),rt(Oo));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();var RCe=/^\)\]\}',?\n/;function ICe(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null;}var WY=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n;}handle(n){if(n.method==="JSONP")throw new Je(-2800,!1);let i=this.xhrFactory;return(i.ɵloadImpl?Gi(i.ɵloadImpl()):Gt(null)).pipe(fa(()=>new On(s=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((m,y)=>o.setRequestHeader(m,y.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&o.setRequestHeader("Content-Type",m);}if(n.responseType){let m=n.responseType.toLowerCase();o.responseType=m!=="json"?m:"text";}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=o.statusText||"OK",y=new xh(o.getAllResponseHeaders()),b=ICe(o)||n.url;return l=new wR({headers:y,status:o.status,statusText:m,url:b}),l;},u=()=>{let{headers:m,status:y,statusText:b,url:C}=c(),_=null;y!==xCe&&(_=typeof o.response>"u"?o.responseText:o.response),y===0&&(y=_?qY:0);let A=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let I=_;_=_.replace(RCe,"");try{_=_!==""?JSON.parse(_):null;}catch(N){_=I,A&&(A=!1,_={error:N,text:_});}}A?(s.next(new e_({body:_,headers:m,status:y,statusText:b,url:C||void 0})),s.complete()):s.error(new up({error:_,headers:m,status:y,statusText:b,url:C||void 0}));},d=m=>{let{url:y}=c(),b=new up({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:y||void 0});s.error(b);},h=!1,f=m=>{h||(s.next(c()),h=!0);let y={type:dp.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),n.responseType==="text"&&o.responseText&&(y.partialText=o.responseText),s.next(y);},g=m=>{let y={type:dp.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y);};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",g)),o.send(a),s.next({type:dp.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",g)),o.readyState!==o.DONE&&o.abort();};})));}static ɵfac=function(i){return new(i||e)(rt(cb));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),KY=new Tt(""),PCe="XSRF-TOKEN",kCe=new Tt("",{providedIn:"root",factory:()=>PCe}),MCe="X-XSRF-TOKEN",FCe=new Tt("",{providedIn:"root",factory:()=>MCe}),CR=class{},NCe=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r;}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=mR(n,this.cookieName),this.lastCookieString=n),this.lastToken;}static ɵfac=function(i){return new(i||e)(rt(mr),rt($r),rt(kCe));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();function LCe(e,t){let n=e.url.toLowerCase();if(!qe(KY)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=qe(CR).getToken(),r=qe(FCe);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e);}var YY=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e;}(YY||{});function OCe(e,t){return{ɵkind:e,ɵproviders:t};}function XY(...e){let t=[d6,WY,$Y,{provide:Z1,useExisting:$Y},{provide:xR,useFactory:()=>qe(_Ce,{optional:!0})??qe(WY)},{provide:h6,useValue:LCe,multi:!0},{provide:KY,useValue:!0},{provide:CR,useClass:NCe}];for(let n of e)t.push(...n.ɵproviders);return ib(t);}function QY(e){return OCe(YY.Interceptors,e.map(t=>({provide:h6,useValue:t,multi:!0})));}var p6=class extends fR{supportsDOMEvents=!0;},g6=class e extends p6{static makeCurrent(){DY(new e());}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i);};}dispatchEvent(t,n){t.dispatchEvent(n);}remove(t){t.remove();}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t);}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle");}getDefaultDocument(){return document;}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE;}isShadowRoot(t){return t instanceof DocumentFragment;}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null;}getBaseHref(t){let n=VCe();return n==null?null:HCe(n);}resetBaseElement(){t_=null;}getUserAgent(){return window.navigator.userAgent;}getCookie(t){return mR(document.cookie,t);}},t_=null;function VCe(){return t_=t_||document.querySelector("base"),t_?t_.getAttribute("href"):null;}function HCe(e){return new URL(e,document.baseURI).pathname;}var GCe=(()=>{class e{build(){return new XMLHttpRequest();}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),m6=new Tt(""),nX=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map();constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this;}),this._plugins=n.slice().reverse();}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r);}getZone(){return this._zone;}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new Je(5101,!1);return this._eventNameToPlugin.set(n,i),i;}static ɵfac=function(i){return new(i||e)(rt(m6),rt(Tn));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),_R=class{_doc;constructor(t){this._doc=t;}manager;},v6="ng-app-id";function ZY(e){for(let t of e)t.remove();}function JY(e,t){let n=t.createElement("style");return n.textContent=e,n;}function zCe(e,t,n){let i=e.head?.querySelectorAll(`style[${v6}="${t}"]`);if(i)for(let r of i)r.textContent&&(r.removeAttribute(v6),n.set(r.textContent,{usage:0,elements:[r]}));}function y6(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n;}var iX=(()=>{class e{doc;appId;nonce;inline=new Map();external=new Map();hosts=new Set();isServer;constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=bh(s),zCe(n,i,this.inline),this.hosts.add(n.head);}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,JY);i?.forEach(r=>this.addUsage(r,this.external,y6));}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external));}addUsage(n,i,r){let s=i.get(n);s?s.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(n,this.doc)))});}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(ZY(r.elements),i.delete(n)));}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ZY(n);this.hosts.clear();}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,JY(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,y6(i,this.doc)));}removeHost(n){this.hosts.delete(n);}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(v6,this.appId),n.appendChild(i);}static ɵfac=function(i){return new(i||e)(rt(mr),rt(c4),rt(h4,8),rt($r));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),f6={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x6=/%COMP%/g,rX="%COMP%",UCe=`_nghost-${rX}`,jCe=`_ngcontent-${rX}`,$Ce=!0,WCe=new Tt("",{providedIn:"root",factory:()=>$Ce});function qCe(e){return jCe.replace(x6,e);}function KCe(e){return UCe.replace(x6,e);}function sX(e,t){return t.map(n=>n.replace(x6,e));}var SR=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map();defaultRenderer;platformIsServer;constructor(n,i,r,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=bh(a),this.defaultRenderer=new n_(n,o,l,this.platformIsServer);}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bu.ShadowDom&&(i=Re(O({},i),{encapsulation:Bu.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof ER?r.applyToHost(n):r instanceof i_&&r.applyStyles(),r;}getOrCreateRenderer(n,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Bu.Emulated:s=new ER(l,c,i,this.appId,u,o,a,d);break;case Bu.ShadowDom:return new b6(l,c,n,i,o,a,this.nonce,d);default:s=new i_(l,c,i,u,o,a,d);break;}r.set(i.id,s);}return s;}ngOnDestroy(){this.rendererByCompId.clear();}static ɵfac=function(i){return new(i||e)(rt(nX),rt(iX),rt(c4),rt(WCe),rt(mr),rt($r),rt(Tn),rt(h4));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),n_=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r;}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(f6[n]||n,t):this.doc.createElement(t);}createComment(t){return this.doc.createComment(t);}createText(t){return this.doc.createTextNode(t);}appendChild(t,n){(eX(t)?t.content:t).appendChild(n);}insertBefore(t,n,i){t&&(eX(t)?t.content:t).insertBefore(n,i);}removeChild(t,n){n.remove();}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Je(-5104,!1);return n||(i.textContent=""),i;}parentNode(t){return t.parentNode;}nextSibling(t){return t.nextSibling;}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=f6[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i);}else t.setAttribute(n,i);}removeAttribute(t,n,i){if(i){let r=f6[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`);}else t.removeAttribute(n);}addClass(t,n){t.classList.add(n);}removeClass(t,n){t.classList.remove(n);}setStyle(t,n,i,r){r&(Vu.DashCase|Vu.Important)?t.style.setProperty(n,i,r&Vu.Important?"important":""):t.style[n]=i;}removeStyle(t,n,i){i&Vu.DashCase?t.style.removeProperty(n):t.style[n]="";}setProperty(t,n,i){t!=null&&(t[n]=i);}setValue(t,n){t.nodeValue=n;}listen(t,n,i){if(typeof t=="string"&&(t=vh().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i));}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault();};}};function eX(e){return e.tagName==="TEMPLATE"&&e.content!==void 0;}var b6=class extends n_{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=sX(r.id,r.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h);}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=y6(d,s);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h);}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t;}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n);}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i);}removeChild(t,n){return super.removeChild(null,n);}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)));}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot);}},i_=class extends n_{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?sX(l,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(l);}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls);}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls);}},ER=class extends i_{contentAttr;hostAttr;constructor(t,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(t,n,i,s,o,a,l,c),this.contentAttr=qCe(c),this.hostAttr=KCe(c);}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"");}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i;}},YCe=(()=>{class e extends _R{constructor(n){super(n);}supports(n){return!0;}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r);}removeEventListener(n,i,r){return n.removeEventListener(i,r);}static ɵfac=function(i){return new(i||e)(rt(mr));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),tX=["alt","control","meta","shift"],XCe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QCe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZCe=(()=>{class e extends _R{constructor(n){super(n);}supports(n){return e.parseEventName(n)!=null;}addEventListener(n,i,r){let s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vh().onAndCancel(n,s.domEventName,o));}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=e._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),tX.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".");}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l;}static matchEventFullKeyCode(n,i){let r=XCe[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),tX.forEach(o=>{if(o!==r){let a=QCe[o];a(n)&&(s+=o+".");}}),s+=r,s===i);}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s));};}static _normalizeKey(n){return n==="esc"?"escape":n;}static ɵfac=function(i){return new(i||e)(rt(mr));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();function oX(e,t){return vY(O({rootComponent:e},JCe(t)));}function JCe(e){return{appProviders:[...r1e,...(e?.providers??[])],platformProviders:i1e};}function e1e(){g6.makeCurrent();}function t1e(){return new sh();}function n1e(){return vq(document),document;}var i1e=[{provide:$r,useValue:s6},{provide:u4,useValue:e1e,multi:!0},{provide:mr,useFactory:n1e,deps:[]}];var r1e=[{provide:ID,useValue:"root"},{provide:sh,useFactory:t1e,deps:[]},{provide:m6,useClass:YCe,multi:!0,deps:[mr,Tn,$r]},{provide:m6,useClass:ZCe,multi:!0,deps:[mr]},SR,iX,nX,{provide:_l,useExisting:SR},{provide:cb,useClass:GCe,deps:[]},[]];var aX=(()=>{class e{_doc;constructor(n){this._doc=n;}getTitle(){return this._doc.title;}setTitle(n){this._doc.title=n||"";}static ɵfac=function(i){return new(i||e)(rt(mr));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();var An="primary",y_=Symbol("RouteTitle"),E6=class{params;constructor(t){this.params=t||{};}has(t){return Object.prototype.hasOwnProperty.call(this.params,t);}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n;}return null;}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n];}return[];}get keys(){return Object.keys(this.params);}};function mb(e){return new E6(e);}function o1e(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=e[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null;}return{consumed:e.slice(0,i.length),posParams:r};}function a1e(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ku(e[n],t[n]))return!1;return!0;}function Ku(e,t){let n=e?T6(e):void 0,i=t?T6(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!yX(e[r],t[r]))return!1;return!0;}function T6(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)];}function yX(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r);}else return e===t;}function bX(e){return e.length>0?e[e.length-1]:null;}function fp(e){return aL(e)?e:ap(e)?Gi(Promise.resolve(e)):Gt(e);}var l1e={exact:wX,subset:CX},xX={exact:c1e,subset:u1e,ignored:()=>!0};function lX(e,t,n){return l1e[n.paths](e.root,t.root,n.matrixParams)&&xX[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment);}function c1e(e,t){return Ku(e,t);}function wX(e,t,n){if(!Im(e.segments,t.segments)||!DR(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!wX(e.children[i],t.children[i],n))return!1;return!0;}function u1e(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>yX(e[n],t[n]));}function CX(e,t,n){return _X(e,t,t.segments,n);}function _X(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Im(r,n)||t.hasChildren()||!DR(r,n,i));}else if(e.segments.length===n.length){if(!Im(e.segments,n)||!DR(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!CX(e.children[r],t.children[r],i))return!1;return!0;}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!Im(e.segments,r)||!DR(e.segments,r,i)||!e.children[An]?!1:_X(e.children[An],t,s,i);}}function DR(e,t,n){return t.every((i,r)=>xX[n](e[r].parameters,i.parameters));}var Ch=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ti([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i;}get queryParamMap(){return this._queryParamMap??=mb(this.queryParams),this._queryParamMap;}toString(){return f1e.serialize(this);}},Ti=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this);}hasChildren(){return this.numberOfChildren>0;}get numberOfChildren(){return Object.keys(this.children).length;}toString(){return RR(this);}},Rm=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n;}get parameterMap(){return this._parameterMap??=mb(this.parameters),this._parameterMap;}toString(){return EX(this);}};function d1e(e,t){return Im(e,t)&&e.every((n,i)=>Ku(n.parameters,t[i].parameters));}function Im(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path);}function h1e(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===An&&(n=n.concat(t(r,i)));}),Object.entries(e.children).forEach(([i,r])=>{i!==An&&(n=n.concat(t(r,i)));}),n;}var b_=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>new vb(),providedIn:"root"});}return e;})(),vb=class{parse(t){let n=new D6(t);return new Ch(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment());}serialize(t){let n=`/${r_(t.root,!0)}`,i=m1e(t.queryParams),r=typeof t.fragment=="string"?`#${p1e(t.fragment)}`:"";return`${n}${i}${r}`;}},f1e=new vb();function RR(e){return e.segments.map(t=>EX(t)).join("/");}function r_(e,t){if(!e.hasChildren())return RR(e);if(t){let n=e.children[An]?r_(e.children[An],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==An&&i.push(`${r}:${r_(s,!1)}`);}),i.length>0?`${n}(${i.join("//")})`:n;}else{let n=h1e(e,(i,r)=>r===An?[r_(e.children[An],!1)]:[`${r}:${r_(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[An]!=null?`${RR(e)}/${n[0]}`:`${RR(e)}/(${n.join("//")})`;}}function SX(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",");}function TR(e){return SX(e).replace(/%3B/gi,";");}function p1e(e){return encodeURI(e);}function A6(e){return SX(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&");}function IR(e){return decodeURIComponent(e);}function cX(e){return IR(e.replace(/\+/g,"%20"));}function EX(e){return`${A6(e.path)}${g1e(e.parameters)}`;}function g1e(e){return Object.entries(e).map(([t,n])=>`;${A6(t)}=${A6(n)}`).join("");}function m1e(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${TR(n)}=${TR(r)}`).join("&"):`${TR(n)}=${TR(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:"";}var v1e=/^[^\/()?;#]+/;function w6(e){let t=e.match(v1e);return t?t[0]:"";}var y1e=/^[^\/()?;=#]+/;function b1e(e){let t=e.match(y1e);return t?t[0]:"";}var x1e=/^[^=?&#]+/;function w1e(e){let t=e.match(x1e);return t?t[0]:"";}var C1e=/^[^&#]+/;function _1e(e){let t=e.match(C1e);return t?t[0]:"";}var D6=class{url;remaining;constructor(t){this.url=t,this.remaining=t;}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ti([],{}):new Ti([],this.parseChildren());}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t;}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null;}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[An]=new Ti(t,n)),i;}parseSegment(){let t=w6(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(t),new Rm(IR(t),this.parseMatrixParams());}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t;}parseParam(t){let n=b1e(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=w6(this.remaining);r&&(i=r,this.capture(i));}t[IR(n)]=IR(i);}parseQueryParam(t){let n=w1e(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=_1e(this.remaining);o&&(i=o,this.capture(i));}let r=cX(n),s=cX(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s);}else t[r]=s;}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=w6(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Je(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=An);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[An]:new Ti([],o),this.consumeOptional("//");}return n;}peekStartsWith(t){return this.remaining.startsWith(t);}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1;}capture(t){if(!this.consumeOptional(t))throw new Je(4011,!1);}};function TX(e){return e.segments.length>0?new Ti([],{[An]:e}):e;}function AX(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=AX(r);if(i===An&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s);}let n=new Ti(e.segments,t);return S1e(n);}function S1e(e){if(e.numberOfChildren===1&&e.children[An]){let t=e.children[An];return new Ti(e.segments.concat(t.segments),t.children);}return e;}function Pm(e){return e instanceof Ch;}function E1e(e,t,n=null,i=null){let r=DX(e);return RX(r,t,n,i);}function DX(e){let t;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c;}let a=new Ti(s.url,o);return s===e&&(t=a),a;}let i=n(e.root),r=TX(i);return t??r;}function RX(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return C6(r,r,r,n,i);let s=T1e(t);if(s.toRoot())return C6(r,r,new Ti([],{}),n,i);let o=A1e(s,r,e),a=o.processChildren?a_(o.segmentGroup,o.index,s.commands):PX(o.segmentGroup,o.index,s.commands);return C6(r,o.segmentGroup,a,n,i);}function PR(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath;}function u_(e){return typeof e=="object"&&e!=null&&e.outlets;}function C6(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`;});let o;e===t?o=n:o=IX(e,t,n);let a=TX(AX(o));return new Ch(a,s,r);}function IX(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=IX(s,t,n);}),new Ti(e.segments,i);}var kR=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&PR(i[0]))throw new Je(4003,!1);let r=i.find(u_);if(r&&r!==bX(i))throw new Je(4004,!1);}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/";}};function T1e(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new kR(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c;}),[...r,{outlets:a}];}if(s.segmentPath)return[...r,s.segmentPath];}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a));}),r):[...r,s];},[]);return new kR(n,t,i);}var fb=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i;}};function A1e(e,t,n){if(e.isAbsolute)return new fb(t,!0,0);if(!n)return new fb(t,!1,NaN);if(n.parent===null)return new fb(n,!0,0);let i=PR(e.commands[0])?0:1,r=n.segments.length-1+i;return D1e(n,r,e.numberOfDoubleDots);}function D1e(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Je(4005,!1);r=i.segments.length;}return new fb(i,!1,r-s);}function R1e(e){return u_(e[0])?e[0].outlets:{[An]:e};}function PX(e,t,n){if(e??=new Ti([],{}),e.segments.length===0&&e.hasChildren())return a_(e,t,n);let i=I1e(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new Ti(e.segments.slice(0,i.pathIndex),{});return s.children[An]=new Ti(e.segments.slice(i.pathIndex),e.children),a_(s,0,r);}else return i.match&&r.length===0?new Ti(e.segments,{}):i.match&&!e.hasChildren()?R6(e,t,n):i.match?a_(e,0,r):R6(e,t,n);}function a_(e,t,n){if(n.length===0)return new Ti(e.segments,{});{let i=R1e(n),r={};if(Object.keys(i).some(s=>s!==An)&&e.children[An]&&e.numberOfChildren===1&&e.children[An].segments.length===0){let s=a_(e.children[An],t,n);return new Ti(e.segments,s.children);}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=PX(e.children[s],t,o));}),Object.entries(e.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o);}),new Ti(e.segments,r);}}function I1e(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let o=e.segments[r],a=n[i];if(u_(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dX(l,c,o))return s;i+=2;}else{if(!dX(l,{},o))return s;i++;}r++;}return{match:!0,pathIndex:r,commandIndex:i};}function R6(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(u_(s)){let l=P1e(s.outlets);return new Ti(i,l);}if(r===0&&PR(n[0])){let l=e.segments[t];i.push(new Rm(l.path,uX(n[0]))),r++;continue;}let o=u_(s)?s.outlets[An]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&PR(a)?(i.push(new Rm(o,uX(a))),r+=2):(i.push(new Rm(o,{})),r++);}return new Ti(i,{});}function P1e(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=R6(new Ti([],{}),0,i));}),t;}function uX(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t;}function dX(e,t,n){return e==n.path&&Ku(t,n.parameters);}var l_="imperative",Ts=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e;}(Ts||{}),Ml=class{id;url;constructor(t,n){this.id=t,this.url=n;}},yb=class extends Ml{type=Ts.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r;}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`;}},Yu=class extends Ml{urlAfterRedirects;type=Ts.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i;}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;}},Wa=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e;}(Wa||{}),MR=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e;}(MR||{}),wh=class extends Ml{reason;code;type=Ts.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r;}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`;}},hp=class extends Ml{reason;code;type=Ts.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r;}},d_=class extends Ml{error;target;type=Ts.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r;}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;}},FR=class extends Ml{urlAfterRedirects;state;type=Ts.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r;}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},I6=class extends Ml{urlAfterRedirects;state;type=Ts.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r;}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},P6=class extends Ml{urlAfterRedirects;state;shouldActivate;type=Ts.GuardsCheckEnd;constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s;}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;}},k6=class extends Ml{urlAfterRedirects;state;type=Ts.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r;}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},M6=class extends Ml{urlAfterRedirects;state;type=Ts.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r;}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;}},F6=class{route;type=Ts.RouteConfigLoadStart;constructor(t){this.route=t;}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`;}},N6=class{route;type=Ts.RouteConfigLoadEnd;constructor(t){this.route=t;}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`;}},L6=class{snapshot;type=Ts.ChildActivationStart;constructor(t){this.snapshot=t;}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},O6=class{snapshot;type=Ts.ChildActivationEnd;constructor(t){this.snapshot=t;}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},B6=class{snapshot;type=Ts.ActivationStart;constructor(t){this.snapshot=t;}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},V6=class{snapshot;type=Ts.ActivationEnd;constructor(t){this.snapshot=t;}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`;}},NR=class{routerEvent;position;anchor;type=Ts.Scroll;constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i;}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`;}},h_=class{},bb=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n;}};function k1e(e,t){return e.providers&&!e._injector&&(e._injector=YD(e.providers,t,`Route: ${e.path}`)),e._injector??t;}function Ic(e){return e.outlet||An;}function M1e(e,t){let n=e.filter(i=>Ic(i)===t);return n.push(...e.filter(i=>Ic(i)!==t)),n;}function x_(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector;}return null;}var H6=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return x_(this.route?.snapshot)??this.rootInjector;}constructor(t){this.rootInjector=t,this.children=new w_(this.rootInjector);}},w_=(()=>{class e{rootInjector;contexts=new Map();constructor(n){this.rootInjector=n;}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r);}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null);}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map(),n;}onOutletReAttached(n){this.contexts=n;}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new H6(this.rootInjector),this.contexts.set(n,i)),i;}getContext(n){return this.contexts.get(n)||null;}static ɵfac=function(i){return new(i||e)(rt(Oo));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),LR=class{_root;constructor(t){this._root=t;}get root(){return this._root.value;}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null;}children(t){let n=G6(t,this._root);return n?n.children.map(i=>i.value):[];}firstChild(t){let n=G6(t,this._root);return n&&n.children.length>0?n.children[0].value:null;}siblings(t){let n=z6(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t);}pathFromRoot(t){return z6(t,this._root).map(n=>n.value);}};function G6(e,t){if(e===t.value)return t;for(let n of t.children){let i=G6(e,n);if(i)return i;}return null;}function z6(e,t){if(e===t.value)return[t];for(let n of t.children){let i=z6(e,n);if(i.length)return i.unshift(t),i;}return[];}var $a=class{value;children;constructor(t,n){this.value=t,this.children=n;}toString(){return`TreeNode(${this.value})`;}};function hb(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t;}var OR=class extends LR{snapshot;constructor(t,n){super(t),this.snapshot=n,Q6(this,t);}toString(){return this.snapshot.toString();}};function kX(e){let t=F1e(e),n=new ps([new Rm("",{})]),i=new ps({}),r=new ps({}),s=new ps({}),o=new ps(""),a=new kr(n,i,s,o,r,An,e,t.root);return a.snapshot=t.root,new OR(new $a(a,[]),t);}function F1e(e){let t={},n={},i={},r="",s=new pb([],t,i,r,n,An,e,null,{});return new VR("",new $a(s,[]));}var kr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nn(c=>c[y_]))??Gt(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s;}get routeConfig(){return this._futureSnapshot.routeConfig;}get root(){return this._routerState.root;}get parent(){return this._routerState.parent(this);}get firstChild(){return this._routerState.firstChild(this);}get children(){return this._routerState.children(this);}get pathFromRoot(){return this._routerState.pathFromRoot(this);}get paramMap(){return this._paramMap??=this.params.pipe(nn(t=>mb(t))),this._paramMap;}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nn(t=>mb(t))),this._queryParamMap;}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`;}};function BR(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:O(O({},t.params),e.params),data:O(O({},t.data),e.data),resolve:O(O(O(O({},e.data),t.data),r?.data),e._resolvedData)}:i={params:O({},e.params),data:O({},e.data),resolve:O(O({},e.data),e._resolvedData??{})},r&&FX(r)&&(i.resolve[y_]=r.title),i;}var pb=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[y_];}constructor(t,n,i,r,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c;}get root(){return this._routerState.root;}get parent(){return this._routerState.parent(this);}get firstChild(){return this._routerState.firstChild(this);}get children(){return this._routerState.children(this);}get pathFromRoot(){return this._routerState.pathFromRoot(this);}get paramMap(){return this._paramMap??=mb(this.params),this._paramMap;}get queryParamMap(){return this._queryParamMap??=mb(this.queryParams),this._queryParamMap;}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`;}},VR=class extends LR{url;constructor(t,n){super(n),this.url=t,Q6(this,n);}toString(){return MX(this._root);}};function Q6(e,t){t.value._routerState=e,t.children.forEach(n=>Q6(e,n));}function MX(e){let t=e.children.length>0?` { ${e.children.map(MX).join(", ")} } `:"";return`${e.value}${t}`;}function _6(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ku(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ku(t.params,n.params)||e.paramsSubject.next(n.params),a1e(t.url,n.url)||e.urlSubject.next(n.url),Ku(t.data,n.data)||e.dataSubject.next(n.data);}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data);}function U6(e,t){let n=Ku(e.params,t.params)&&d1e(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||U6(e.parent,t.parent));}function FX(e){return typeof e.title=="string"||e.title===null;}var N1e=new Tt(""),Z6=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated;}_activatedRoute=null;name=An;activateEvents=new _e();deactivateEvents=new _e();attachEvents=new _e();detachEvents=new _e();routerOutletData=uq(void 0);parentContexts=qe(w_);location=qe(ma);changeDetector=qe(Pl);inputBinder=qe(UR,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName();}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this);}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this;}ngOnInit(){this.initializeOutletWithName();}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector));}get isActivated(){return!!this.activated;}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance;}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute;}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{};}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n;}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance);}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n);}}activateWith(n,i){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=n;let r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new j6(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance);}static ɵfac=function(i){return new(i||e)();};static ɵdir=Ei({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Si]});}return e;})(),j6=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData);}constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r;}get(t,n){return t===kr?this.route:t===w_?this.childContexts:t===N1e?this.outletData:this.parent.get(t,n);}},UR=new Tt(""),hX=(()=>{class e{outletDataSubscriptions=new Map();bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n);}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n);}subscribeToRouteData(n){let{activatedRoute:i}=n,r=g1([i.queryParams,i.params,i.data]).pipe(fa(([s,o,a],l)=>(a=O(O(O({},s),o),a),l===0?Gt(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return;}let o=yY(i.component);if(!o){this.unsubscribeFromRouteData(n);return;}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);});this.outletDataSubscriptions.set(n,r);}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();function L1e(e,t,n){let i=f_(e,t._root,n?n._root:void 0);return new OR(i,t);}function f_(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=O1e(e,t,n);return new $a(i,r);}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>f_(e,a)),o;}}let i=B1e(t.value),r=t.children.map(s=>f_(e,s));return new $a(i,r);}}function O1e(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return f_(e,i,r);return f_(e,i);});}function B1e(e){return new kr(new ps(e.url),new ps(e.params),new ps(e.queryParams),new ps(e.fragment),new ps(e.data),e.outlet,e.component,e);}var p_=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n;}},NX="ngNavigationCancelingError";function HR(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Pm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=LX(!1,Wa.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r;}function LX(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[NX]=!0,n.cancellationCode=t,n;}function V1e(e){return OX(e)&&Pm(e.url);}function OX(e){return!!e&&e[NX];}var H1e=(e,t,n,i)=>nn(r=>(new $6(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),$6=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s;}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),_6(this.futureState.root),this.activateChildRoutes(n,i,t);}deactivateChildRoutes(t,n,i){let r=hb(n);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o];}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i);});}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s){if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children);}else this.deactivateChildRoutes(t,n,i);}else s&&this.deactivateRouteAndItsChildren(n,i);}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n);}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=hb(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a});}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=hb(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null);}activateChildRoutes(t,n,i){let r=hb(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new V6(s.value.snapshot));}),t.children.length&&this.forwardEvent(new O6(t.value.snapshot));}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(_6(r),r===s){if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children);}else this.activateChildRoutes(t,n,i);}else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_6(a.route.value),this.activateChildRoutes(t,null,o.children);}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children);}else this.activateChildRoutes(t,null,i);}},GR=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1];}},gb=class{component;route;constructor(t,n){this.component=t,this.route=n;}};function G1e(e,t,n){let i=e._root,r=t?t._root:null;return s_(i,r,n,[i.value]);}function z1e(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t};}function wb(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!sW(e)?e:t.get(e):i;}function s_(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=hb(t);return e.children.forEach(o=>{U1e(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet];}),Object.entries(s).forEach(([o,a])=>c_(a,n.getContext(o),r)),r;}function U1e(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=j1e(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new GR(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?s_(e,t,a?a.children:null,i,r):s_(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gb(a.outlet.component,o));}else o&&c_(t,a,r),r.canActivateChecks.push(new GR(i)),s.component?s_(e,null,a?a.children:null,i,r):s_(e,null,n,i,r);return r;}function j1e(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Im(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Im(e.url,t.url)||!Ku(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!U6(e,t)||!Ku(e.queryParams,t.queryParams);case"paramsChange":default:return!U6(e,t);}}function c_(e,t,n){let i=hb(e),r=e.value;Object.entries(i).forEach(([s,o])=>{r.component?t?c_(o,t.children.getContext(s),n):c_(o,null,n):c_(o,t,n);}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new gb(t.outlet.component,r)):n.canDeactivateChecks.push(new gb(null,r)):n.canDeactivateChecks.push(new gb(null,r));}function C_(e){return typeof e=="function";}function $1e(e){return typeof e=="boolean";}function W1e(e){return e&&C_(e.canLoad);}function q1e(e){return e&&C_(e.canActivate);}function K1e(e){return e&&C_(e.canActivateChild);}function Y1e(e){return e&&C_(e.canDeactivate);}function X1e(e){return e&&C_(e.canMatch);}function BX(e){return e instanceof Jd||e?.name==="EmptyError";}var AR=Symbol("INITIAL_VALUE");function xb(){return fa(e=>g1(e.map(t=>t.pipe(ha(1),pL(AR)))).pipe(nn(t=>{for(let n of t)if(n!==!0){if(n===AR)return AR;if(n===!1||Q1e(n))return n;}return!0;}),da(t=>t!==AR),ha(1)));}function Q1e(e){return Pm(e)||e instanceof p_;}function Z1e(e,t){return Dr(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Gt(Re(O({},n),{guardsResult:!0})):J1e(o,i,r,e).pipe(Dr(a=>a&&$1e(a)?e_e(i,s,e,t):Gt(a)),nn(a=>Re(O({},n),{guardsResult:a})));});}function J1e(e,t,n,i){return Gi(e).pipe(Dr(r=>s_e(r.component,r.route,n,t,i)),Mu(r=>r!==!0,!0));}function e_e(e,t,n,i){return Gi(t).pipe(eh(r=>Gy(n_e(r.route.parent,i),t_e(r.route,i),r_e(e,r.path,n),i_e(e,r.route,n))),Mu(r=>r!==!0,!0));}function t_e(e,t){return e!==null&&t&&t(new B6(e)),Gt(!0);}function n_e(e,t){return e!==null&&t&&t(new L6(e)),Gt(!0);}function i_e(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Gt(!0);let r=i.map(s=>OA(()=>{let o=x_(t)??n,a=wb(s,o),l=q1e(a)?a.canActivate(t,e):ga(o,()=>a(t,e));return fp(l).pipe(Mu());}));return Gt(r).pipe(xb());}function r_e(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>z1e(o)).filter(o=>o!==null).map(o=>OA(()=>{let a=o.guards.map(l=>{let c=x_(o.node)??n,u=wb(l,c),d=K1e(u)?u.canActivateChild(i,e):ga(c,()=>u(i,e));return fp(d).pipe(Mu());});return Gt(a).pipe(xb());}));return Gt(s).pipe(xb());}function s_e(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return Gt(!0);let o=s.map(a=>{let l=x_(t)??r,c=wb(a,l),u=Y1e(c)?c.canDeactivate(e,t,n,i):ga(l,()=>c(e,t,n,i));return fp(u).pipe(Mu());});return Gt(o).pipe(xb());}function o_e(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return Gt(!0);let s=r.map(o=>{let a=wb(o,e),l=W1e(a)?a.canLoad(t,n):ga(e,()=>a(t,n));return fp(l);});return Gt(s).pipe(xb(),VX(i));}function VX(e){return JN(Ss(t=>{if(typeof t!="boolean")throw HR(e,t);}),nn(t=>t===!0));}function a_e(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return Gt(!0);let s=r.map(o=>{let a=wb(o,e),l=X1e(a)?a.canMatch(t,n):ga(e,()=>a(t,n));return fp(l);});return Gt(s).pipe(xb(),VX(i));}var g_=class{segmentGroup;constructor(t){this.segmentGroup=t||null;}},m_=class extends Error{urlTree;constructor(t){super(),this.urlTree=t;}};function db(e){return Vy(new g_(e));}function l_e(e){return Vy(new Je(4e3,!1));}function c_e(e){return Vy(LX(!1,Wa.GuardRejected));}var W6=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n;}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Gt(i);if(r.numberOfChildren>1||!r.children[An])return l_e(`${t.redirectTo}`);r=r.children[An];}}applyRedirectCommands(t,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:g,title:m}=r,y=ga(s,()=>a({params:f,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(y instanceof Ch)throw new m_(y);n=y;}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new m_(o);return o;}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new Ch(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment);}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a];}else i[r]=s;}),i;}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r);}),new Ti(s,o);}createSegments(t,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i));}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Je(4001,!1);return r;}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++;}return t;}},q6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u_e(e,t,n,i,r){let s=HX(e,t,n);return s.matched?(i=k1e(t,i),a_e(i,t,n,r).pipe(nn(o=>o===!0?s:O({},q6)))):Gt(s);}function HX(e,t,n){if(t.path==="**")return d_e(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?O({},q6):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||o1e)(n,e,t);if(!r)return O({},q6);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path;});let o=r.consumed.length>0?O(O({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}};}function d_e(e){return{matched:!0,parameters:e.length>0?bX(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}};}function fX(e,t,n,i){return n.length>0&&p_e(e,n,i)?{segmentGroup:new Ti(t,f_e(i,new Ti(n,e.children))),slicedSegments:[]}:n.length===0&&g_e(e,n,i)?{segmentGroup:new Ti(e.segments,h_e(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Ti(e.segments,e.children),slicedSegments:n};}function h_e(e,t,n,i){let r={};for(let s of n)if(jR(e,t,s)&&!i[Ic(s)]){let o=new Ti([],{});r[Ic(s)]=o;}return O(O({},i),r);}function f_e(e,t){let n={};n[An]=t;for(let i of e)if(i.path===""&&Ic(i)!==An){let r=new Ti([],{});n[Ic(i)]=r;}return n;}function p_e(e,t,n){return n.some(i=>jR(e,t,i)&&Ic(i)!==An);}function g_e(e,t,n){return n.some(i=>jR(e,t,i));}function jR(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path==="";}function m_e(e,t,n){return t.length===0&&!e.children[n];}var K6=class{};function v_e(e,t,n,i,r,s,o="emptyOnly"){return new Y6(e,t,n,i,r,o,s).recognize();}var y_e=31,Y6=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new W6(this.urlSerializer,this.urlTree);}noMatchError(t){return new Je(4002,`'${t.segmentGroup}'`);}recognize(){let t=fX(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nn(({children:n,rootSnapshot:i})=>{let r=new $a(i,n),s=new VR("",r),o=E1e(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o};}));}match(t){let n=new pb([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),An,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,An,n).pipe(nn(i=>({children:i,rootSnapshot:n})),ku(i=>{if(i instanceof m_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof g_?this.noMatchError(i):i;}));}processSegmentGroup(t,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,s):this.processSegment(t,n,i,i.segments,r,!0,s).pipe(nn(o=>o instanceof $a?[o]:[]));}processChildren(t,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return Gi(s).pipe(eh(o=>{let a=i.children[o],l=M1e(n,o);return this.processSegmentGroup(t,l,a,o,r);}),fL((o,a)=>(o.push(...a),o)),Yf(null),hL(),Dr(o=>{if(o===null)return db(i);let a=GX(o);return b_e(a),Gt(a);}));}processSegment(t,n,i,r,s,o,a){return Gi(n).pipe(eh(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,s,o,a).pipe(ku(c=>{if(c instanceof g_)return Gt(null);throw c;}))),Mu(l=>!!l),ku(l=>{if(BX(l))return m_e(i,r,s)?Gt(new K6()):db(i);throw l;}));}processSegmentAgainstRoute(t,n,i,r,s,o,a,l){return Ic(i)!==o&&(o===An||!jR(r,s,i))?db(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,o,l):db(r);}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=HX(n,r,s);if(!l)return db(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>y_e&&(this.allowRedirects=!1));let f=new pb(s,c,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,pX(r),Ic(r),r.component??r._loadedComponent??null,r,gX(r)),g=BR(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(Dr(y=>this.processSegment(t,i,n,y.concat(h),o,!1,a)));}matchSegmentAgainstRoute(t,n,i,r,s,o){let a=u_e(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(fa(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(fa(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,g=new pb(h,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,pX(i),Ic(i),i.component??i._loadedComponent??null,i,gX(i)),m=BR(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:b}=fX(n,h,f,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y,g).pipe(nn(_=>new $a(g,_)));if(c.length===0&&b.length===0)return Gt(new $a(g,[]));let C=Ic(i)===s;return this.processSegment(u,c,y,b,C?An:s,!0,g).pipe(nn(_=>new $a(g,_ instanceof $a?[_]:[])));}))):db(n)));}getChildConfig(t,n,i){return n.children?Gt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?Gt({routes:n._loadedRoutes,injector:n._loadedInjector}):o_e(t,n,i,this.urlSerializer).pipe(Dr(r=>r?this.configLoader.loadChildren(t,n).pipe(Ss(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector;})):c_e(n))):Gt({routes:[],injector:t});}};function b_e(e){e.sort((t,n)=>t.value.outlet===An?-1:n.value.outlet===An?1:t.value.outlet.localeCompare(n.value.outlet));}function x_e(e){let t=e.value.routeConfig;return t&&t.path==="";}function GX(e){let t=[],n=new Set();for(let i of e){if(!x_e(i)){t.push(i);continue;}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i);}for(let i of n){let r=GX(i.children);t.push(new $a(i.value,r));}return t.filter(i=>!n.has(i));}function pX(e){return e.data||{};}function gX(e){return e.resolve||{};}function w_e(e,t,n,i,r,s){return Dr(o=>v_e(e,t,n,i,o.extractedUrl,r,s).pipe(nn(({state:a,tree:l})=>Re(O({},o),{targetSnapshot:a,urlAfterRedirects:l}))));}function C_e(e,t){return Dr(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Gt(n);let s=new Set(r.map(l=>l.route)),o=new Set();for(let l of s)if(!o.has(l))for(let c of zX(l))o.add(c);let a=0;return Gi(o).pipe(eh(l=>s.has(l)?__e(l,i,e,t):(l.data=BR(l,l.parent,e).resolve,Gt(void 0))),Ss(()=>a++),zy(1),Dr(l=>a===o.size?Gt(n):Mo));});}function zX(e){let t=e.children.map(n=>zX(n)).flat();return[e,...t];}function __e(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!FX(r)&&(s[y_]=r.title),S_e(s,e,t,i).pipe(nn(o=>(e._resolvedData=o,e.data=BR(e,e.parent,n).resolve,null)));}function S_e(e,t,n,i){let r=T6(e);if(r.length===0)return Gt({});let s={};return Gi(r).pipe(Dr(o=>E_e(e[o],t,n,i).pipe(Mu(),Ss(a=>{if(a instanceof p_)throw HR(new vb(),a);s[o]=a;}))),zy(1),dL(s),ku(o=>BX(o)?Mo:Vy(o)));}function E_e(e,t,n,i){let r=x_(t)??i,s=wb(e,r),o=s.resolve?s.resolve(t,n):ga(r,()=>s(t,n));return fp(o);}function S6(e){return fa(t=>{let n=e(t);return n?Gi(n).pipe(nn(()=>t)):Gt(t);});}var UX=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===An);return i;}getResolvedTitleForRoute(n){return n.data[y_];}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(T_e),providedIn:"root"});}return e;})(),T_e=(()=>{class e extends UX{title;constructor(n){super(),this.title=n;}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i);}static ɵfac=function(i){return new(i||e)(rt(aX));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),__=new Tt("",{providedIn:"root",factory:()=>({})}),A_e=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵcmp=St({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&Ke(0,"router-outlet");},dependencies:[Z6],encapsulation:2});}return e;})();function J6(e){let t=e.children&&e.children.map(J6),n=t?Re(O({},e),{children:t}):O({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==An&&(n.component=A_e),n;}var v_=new Tt(""),e8=(()=>{class e{componentLoaders=new WeakMap();childrenLoaders=new WeakMap();onLoadStartListener;onLoadEndListener;compiler=qe(rR);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Gt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=fp(n.loadComponent()).pipe(nn(jX),Ss(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s;}),dm(()=>{this.componentLoaders.delete(n);})),r=new My(i,()=>new Ar()).pipe(ky());return this.componentLoaders.set(n,r),r;}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=D_e(i,this.compiler,n,this.onLoadEndListener).pipe(dm(()=>{this.childrenLoaders.delete(i);})),o=new My(s,()=>new Ar()).pipe(ky());return this.childrenLoaders.set(i,o),o;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();function D_e(e,t,n,i){return fp(e.loadChildren()).pipe(nn(jX),Dr(r=>r instanceof D1||Array.isArray(r)?Gt(r):Gi(t.compileModuleAsync(r))),nn(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(v_,[],{optional:!0,self:!0}).flat()),{routes:o.map(J6),injector:s};}));}function R_e(e){return e&&typeof e=="object"&&"default"in e;}function jX(e){return R_e(e)?e.default:e;}var t8=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(I_e),providedIn:"root"});}return e;})(),I_e=(()=>{class e{shouldProcessUrl(n){return!0;}extract(n){return n;}merge(n,i){return n;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),$X=new Tt(""),WX=new Tt("");function P_e(e,t,n){let i=e.get(WX),r=e.get(mr);return e.get(Tn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c;}),a=r.startViewTransition(()=>(s(),k_e(e))),{onViewTransitionCreated:l}=i;return l&&ga(e,()=>l({transition:a,from:t,to:n})),o;});}function k_e(e){return new Promise(t=>{p4({read:()=>setTimeout(t)},{injector:e});});}var qX=new Tt(""),n8=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ar();transitionAbortSubject=new Ar();configLoader=qe(e8);environmentInjector=qe(Oo);urlSerializer=qe(b_);rootContexts=qe(w_);location=qe(ub);inputBindingEnabled=qe(UR,{optional:!0})!==null;titleStrategy=qe(UX);options=qe(__,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=qe(t8);createViewTransition=qe($X,{optional:!0});navigationErrorHandler=qe(qX,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0;}transitions;afterPreactivation=()=>Gt(void 0);rootComponentType=null;constructor(){let n=r=>this.events.next(new F6(r)),i=r=>this.events.next(new N6(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n;}complete(){this.transitions?.complete();}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Re(O(O({},this.transitions.value),n),{id:i}));}setupNavigations(n,i,r){return this.transitions=new ps({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:l_,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(da(s=>s.id!==0),nn(s=>Re(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fa(s=>{let o=!1,a=!1;return Gt(s).pipe(fa(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Wa.SupersededByNewNavigation),Mo;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new hp(l.id,this.urlSerializer.serialize(l.rawUrl),d,MR.IgnoredSameUrlNavigation)),l.resolve(!1),Mo;}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Gt(l).pipe(fa(d=>{let h=this.transitions?.getValue();return this.events.next(new yb(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Mo:Promise.resolve(d);}),w_e(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ss(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Re(O({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new FR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h);}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:g,extras:m}=l,y=new yb(d,this.urlSerializer.serialize(h),f,g);this.events.next(y);let b=kX(this.rootComponentType).snapshot;return this.currentTransition=s=Re(O({},l),{targetSnapshot:b,urlAfterRedirects:h,extras:Re(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Gt(s);}else{let d="";return this.events.next(new hp(l.id,this.urlSerializer.serialize(l.extractedUrl),d,MR.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Mo;}}),Ss(l=>{let c=new I6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c);}),nn(l=>(this.currentTransition=s=Re(O({},l),{guards:G1e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Z1e(this.environmentInjector,l=>this.events.next(l)),Ss(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw HR(this.urlSerializer,l.guardsResult);let c=new P6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c);}),da(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Wa.GuardRejected),!1)),S6(l=>{if(l.guards.canActivateChecks.length)return Gt(l).pipe(Ss(c=>{let u=new k6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u);}),fa(c=>{let u=!1;return Gt(c).pipe(C_e(this.paramsInheritanceStrategy,this.environmentInjector),Ss({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Wa.NoDataFromResolver);}}));}),Ss(c=>{let u=new M6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u);}));}),S6(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ss(h=>{u.component=h;}),nn(()=>{})));for(let h of u.children)d.push(...c(h));return d;};return g1(c(l.targetSnapshot.root)).pipe(Yf(null),ha(1));}),S6(()=>this.afterPreactivation()),fa(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Gi(u).pipe(nn(()=>s)):Gt(s);}),nn(l=>{let c=L1e(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Re(O({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s;}),Ss(()=>{this.events.next(new h_());}),H1e(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ha(1),Ss({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0);},complete:()=>{o=!0;}}),gL(this.transitionAbortSubject.pipe(Ss(l=>{throw l;}))),dm(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Wa.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null);}),ku(l=>{if(a=!0,OX(l))this.events.next(new wh(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),V1e(l)?this.events.next(new bb(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let c=new d_(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let u=ga(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof p_){let{message:d,cancellationCode:h}=HR(this.urlSerializer,u);this.events.next(new wh(s.id,this.urlSerializer.serialize(s.extractedUrl),d,h)),this.events.next(new bb(u.redirectTo,u.navigationBehaviorOptions));}else throw this.events.next(c),l;}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u);}}return Mo;}));}));}cancelNavigationTransition(n,i,r){let s=new wh(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1);}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString();}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange;}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();function M_e(e){return e!==l_;}var F_e=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(N_e),providedIn:"root"});}return e;})(),X6=class{shouldDetach(t){return!1;}store(t,n){}shouldAttach(t){return!1;}retrieve(t){return null;}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig;}},N_e=(()=>{class e extends X6{static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),KX=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:()=>qe(L_e),providedIn:"root"});}return e;})(),L_e=(()=>{class e extends KX{location=qe(ub);urlSerializer=qe(b_);options=qe(__,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=qe(t8);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ch();getCurrentUrlTree(){return this.currentUrlTree;}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree;}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState();}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.ɵrouterPageId??this.currentPageId;}routerState=kX(null);getRouterState(){return this.routerState;}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState};}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state);});}handleRouterEvent(n,i){if(n instanceof yb)this.stateMemento=this.createStateMemento();else if(n instanceof hp)this.rawUrlTree=i.initialUrl;else if(n instanceof FR){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i);}}else n instanceof h_?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof wh&&(n.code===Wa.GuardRejected||n.code===Wa.NoDataFromResolver)?this.restoreHistory(i):n instanceof d_?this.restoreHistory(i,!0):n instanceof Yu&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId);}setBrowserUrl(n,i){let r=n instanceof Ch?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=O(O({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o);}else{let s=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s);}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree());}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree());}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree);}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId));}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,ɵrouterPageId:i}:{navigationId:n};}static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),o_=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e;}(o_||{});function YX(e,t){e.events.pipe(da(n=>n instanceof Yu||n instanceof wh||n instanceof d_||n instanceof hp),nn(n=>n instanceof Yu||n instanceof hp?o_.COMPLETE:(n instanceof wh?n.code===Wa.Redirect||n.code===Wa.SupersededByNewNavigation:!1)?o_.REDIRECTING:o_.FAILED),da(n=>n!==o_.REDIRECTING),ha(1)).subscribe(()=>{t();});}var O_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree();}get rawUrlTree(){return this.stateManager.getRawUrlTree();}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=qe(QD);stateManager=qe(KX);options=qe(__,{optional:!0})||{};pendingTasks=qe(op);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=qe(n8);urlSerializer=qe(b_);location=qe(ub);urlHandlingStrategy=qe(t8);_events=new Ar();get events(){return this._events;}get routerState(){return this.stateManager.getRouterState();}navigated=!1;routeReuseStrategy=qe(F_e);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=qe(v_,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!qe(UR,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n);}}),this.subscribeToNavigationEvents();}eventsSubscription=new dr();subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof wh&&i.code!==Wa.Redirect&&i.code!==Wa.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Yu)this.navigated=!0;else if(i instanceof bb){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=O({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||M_e(r.source)},o);this.scheduleNavigation(a,l_,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise});}}H_e(i)&&this._events.next(i);}catch(r){this.navigationTransitions.transitionAbortSubject.next(r);}});this.eventsSubscription.add(n);}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n;}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),l_,this.stateManager.restoredState());}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i);},0);});}navigateToSyncWithBrowser(n,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=O({},r);delete l.navigationId,delete l.ɵrouterPageId,Object.keys(l).length!==0&&(s.state=l);}let a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s);}get url(){return this.serializeUrl(this.currentUrlTree);}getCurrentNavigation(){return this.navigationTransitions.currentNavigation;}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation;}resetConfig(n){this.config=n.map(J6),this.navigated=!1;}ngOnDestroy(){this.dispose();}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe();}createUrlTree(n,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null;}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=DX(h);}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root;}return RX(d,n,u,c??null);}navigateByUrl(n,i={skipLocationChange:!1}){let r=Pm(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,l_,null,i);}navigate(n,i={skipLocationChange:!1}){return V_e(n),this.navigateByUrl(this.createUrlTree(n,i),i);}serializeUrl(n){return this.urlSerializer.serialize(n);}parseUrl(n){try{return this.urlSerializer.parse(n);}catch{return this.urlSerializer.parse("/");}}isActive(n,i){let r;if(i===!0?r=O({},O_e):i===!1?r=O({},B_e):r=i,Pm(n))return lX(this.currentUrlTree,n,r);let s=this.parseUrl(n);return lX(this.currentUrlTree,s,r);}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{});}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h;});let u=this.pendingTasks.add();return YX(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u));}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d));}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();function V_e(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Je(4008,!1);}function H_e(e){return!(e instanceof h_)&&!(e instanceof bb);}var Cb=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ar();constructor(n,i,r,s,o,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Yu&&this.updateHref();}):this.setTabIndexIfNotOnNativeEl("0");}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n);}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this);}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Pm(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"));}onClick(n,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement;}ngOnDestroy(){this.subscription?.unsubscribe();}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:Dq(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i);}applyAttributeValue(n,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,n,i):r.removeAttribute(s,n);}get urlTree(){return this.routerLinkInput===null?null:Pm(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment});}static ɵfac=function(i){return new(i||e)(Te(Fn),Te(kr),r4("tabindex"),Te(Vs),Te(Un),Te(yh));};static ɵdir=Ei({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Ze("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey);}),i&2&&an("target",r.target);},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ie],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ie],replaceUrl:[2,"replaceUrl","replaceUrl",Ie],routerLink:"routerLink"},features:[U1,Si]});}return e;})();var zR=class{};var G_e=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,s,o){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=o;}setUpPreloading(){this.subscription=this.router.events.pipe(da(n=>n instanceof Yu),eh(()=>this.preload())).subscribe(()=>{});}preload(){return this.processRoutes(this.injector,this.router.config);}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe();}processRoutes(n,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=YD(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes));}return Gi(r).pipe(qf());}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=Gt(null);let s=r.pipe(Dr(o=>o===null?Gt(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return Gi([s,o]).pipe(qf());}else return s;});}static ɵfac=function(i){return new(i||e)(rt(Fn),rt(rR),rt(Oo),rt(zR),rt(e8));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})(),XX=new Tt(""),z_e=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,i,r,s,o={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled";}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents();}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yu?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof hp&&n.code===MR.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment));});}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof NR&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]));});}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new NR(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i));});},0);});}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe();}static ɵfac=function(i){Qq();};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();function QX(e,...t){return ib([{provide:v_,multi:!0,useValue:e},[],{provide:kr,useFactory:ZX,deps:[Fn]},{provide:j1,multi:!0,useFactory:JX},t.map(n=>n.ɵproviders)]);}function ZX(e){return e.routerState.root;}function S_(e,t){return{ɵkind:e,ɵproviders:t};}function JX(){let e=qe(is);return t=>{let n=e.get(Al);if(t!==n.components[0])return;let i=e.get(Fn),r=e.get(eQ);e.get(i8)===1&&i.initialNavigation(),e.get(tQ,null,kn.Optional)?.setUpPreloading(),e.get(XX,null,kn.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe());};}var eQ=new Tt("",{factory:()=>new Ar()}),i8=new Tt("",{providedIn:"root",factory:()=>1});function U_e(){return S_(2,[{provide:i8,useValue:0},{provide:ZD,multi:!0,deps:[is],useFactory:t=>{let n=t.get(RY,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Fn),s=t.get(eQ);YX(r,()=>{i(!0);}),t.get(n8).afterPreactivation=()=>(i(!0),s.closed?Gt(void 0):s),r.initialNavigation();}));}}]);}function j_e(){return S_(3,[{provide:ZD,multi:!0,useFactory:()=>{let t=qe(Fn);return()=>{t.setUpLocationChangeListener();};}},{provide:i8,useValue:2}]);}var tQ=new Tt("");function $_e(e){return S_(0,[{provide:tQ,useExisting:G_e},{provide:zR,useExisting:e}]);}function W_e(){return S_(8,[hX,{provide:UR,useExisting:hX}]);}function q_e(e){let t=[{provide:$X,useValue:P_e},{provide:WX,useValue:O({skipNextTransition:!!e?.skipInitialTransition},e)}];return S_(9,t);}var mX=new Tt("ROUTER_FORROOT_GUARD"),K_e=[ub,{provide:b_,useClass:vb},Fn,w_,{provide:kr,useFactory:ZX,deps:[Fn]},e8,[]],$R=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[K_e,[],{provide:v_,multi:!0,useValue:n},{provide:mX,useFactory:Z_e,deps:[[Fn,new k1(),new DD()]]},i?.errorHandler?{provide:qX,useValue:i.errorHandler}:[],{provide:__,useValue:i||{}},i?.useHash?X_e():Q_e(),Y_e(),i?.preloadingStrategy?$_e(i.preloadingStrategy).ɵproviders:[],i?.initialNavigation?J_e(i):[],i?.bindToComponentInputs?W_e().ɵproviders:[],i?.enableViewTransitions?q_e().ɵproviders:[],eSe()]};}static forChild(n){return{ngModule:e,providers:[{provide:v_,multi:!0,useValue:n}]};}static ɵfac=function(i){return new(i||e)(rt(mX,8));};static ɵmod=pi({type:e});static ɵinj=fi({});}return e;})();function Y_e(){return{provide:XX,useFactory:()=>{let e=qe(VY),t=qe(Tn),n=qe(__),i=qe(n8),r=qe(b_);return n.scrollOffset&&e.setOffset(n.scrollOffset),new z_e(r,i,e,t,n);}};}function X_e(){return{provide:yh,useClass:PY};}function Q_e(){return{provide:yh,useClass:i6};}function Z_e(e){return"guarded";}function J_e(e){return[e.initialNavigation==="disabled"?j_e().ɵproviders:[],e.initialNavigation==="enabledBlocking"?U_e().ɵproviders:[]];}var vX=new Tt("");function eSe(){return[{provide:vX,useFactory:JX},{provide:j1,multi:!0,useExisting:vX}];}var dQ=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i;}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i);}registerOnTouched(n){this.onTouched=n;}registerOnChange(n){this.onChange=n;}setDisabledState(n){this.setProperty("disabled",n);}static ɵfac=function(i){return new(i||e)(Te(Vs),Te(Un));};static ɵdir=Ei({type:e});}return e;})(),eI=(()=>{class e extends dQ{static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵdir=Ei({type:e,features:[va]});}return e;})(),Tb=new Tt(""),tSe={provide:Tb,useExisting:zu(()=>u8),multi:!0},u8=(()=>{class e extends eI{writeValue(n){this.setProperty("checked",n);}static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵdir=Ei({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&Ze("change",function(o){return r.onChange(o.target.checked);})("blur",function(){return r.onTouched();});},standalone:!1,features:[Rr([tSe]),va]});}return e;})(),nSe={provide:Tb,useExisting:zu(()=>tI),multi:!0};function iSe(){let e=vh()?vh().getUserAgent():"";return /android (\d+)/.test(e.toLowerCase());}var rSe=new Tt(""),tI=(()=>{class e extends dQ{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!iSe());}writeValue(n){let i=n??"";this.setProperty("value",i);}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n);}_compositionStart(){this._composing=!0;}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n);}static ɵfac=function(i){return new(i||e)(Te(Vs),Te(Un),Te(rSe,8));};static ɵdir=Ei({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ze("input",function(o){return r._handleInput(o.target.value);})("blur",function(){return r.onTouched();})("compositionstart",function(){return r._compositionStart();})("compositionend",function(o){return r._compositionEnd(o.target.value);});},standalone:!1,features:[Rr([nSe]),va]});}return e;})();function pp(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0;}function hQ(e){return e!=null&&typeof e.length=="number";}var d8=new Tt(""),h8=new Tt(""),sSe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ft=class{static min(t){return oSe(t);}static max(t){return aSe(t);}static required(t){return lSe(t);}static requiredTrue(t){return cSe(t);}static email(t){return uSe(t);}static minLength(t){return dSe(t);}static maxLength(t){return hSe(t);}static pattern(t){return fSe(t);}static nullValidator(t){return fQ(t);}static compose(t){return bQ(t);}static composeAsync(t){return wQ(t);}};function oSe(e){return t=>{if(pp(t.value)||pp(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null;};}function aSe(e){return t=>{if(pp(t.value)||pp(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null;};}function lSe(e){return pp(e.value)?{required:!0}:null;}function cSe(e){return e.value===!0?null:{required:!0};}function uSe(e){return pp(e.value)||sSe.test(e.value)?null:{email:!0};}function dSe(e){return t=>pp(t.value)||!hQ(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null;}function hSe(e){return t=>hQ(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null;}function fSe(e){if(!e)return fQ;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(pp(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}};};}function fQ(e){return null;}function pQ(e){return e!=null;}function gQ(e){return ap(e)?Gi(e):e;}function mQ(e){let t={};return e.forEach(n=>{t=n!=null?O(O({},t),n):t;}),Object.keys(t).length===0?null:t;}function vQ(e,t){return t.map(n=>n(e));}function pSe(e){return!e.validate;}function yQ(e){return e.map(t=>pSe(t)?t:n=>t.validate(n));}function bQ(e){if(!e)return null;let t=e.filter(pQ);return t.length==0?null:function(n){return mQ(vQ(n,t));};}function xQ(e){return e!=null?bQ(yQ(e)):null;}function wQ(e){if(!e)return null;let t=e.filter(pQ);return t.length==0?null:function(n){let i=vQ(n,t).map(gQ);return lL(i).pipe(nn(mQ));};}function CQ(e){return e!=null?wQ(yQ(e)):null;}function nQ(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t];}function _Q(e){return e._rawValidators;}function SQ(e){return e._rawAsyncValidators;}function r8(e){return e?Array.isArray(e)?e:[e]:[];}function qR(e,t){return Array.isArray(e)?e.includes(t):e===t;}function iQ(e,t){let n=r8(t);return r8(e).forEach(r=>{qR(n,r)||n.push(r);}),n;}function rQ(e,t){return r8(t).filter(n=>!qR(e,n));}var KR=class{get value(){return this.control?this.control.value:null;}get valid(){return this.control?this.control.valid:null;}get invalid(){return this.control?this.control.invalid:null;}get pending(){return this.control?this.control.pending:null;}get disabled(){return this.control?this.control.disabled:null;}get enabled(){return this.control?this.control.enabled:null;}get errors(){return this.control?this.control.errors:null;}get pristine(){return this.control?this.control.pristine:null;}get dirty(){return this.control?this.control.dirty:null;}get touched(){return this.control?this.control.touched:null;}get status(){return this.control?this.control.status:null;}get untouched(){return this.control?this.control.untouched:null;}get statusChanges(){return this.control?this.control.statusChanges:null;}get valueChanges(){return this.control?this.control.valueChanges:null;}get path(){return null;}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xQ(this._rawValidators);}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CQ(this._rawAsyncValidators);}get validator(){return this._composedValidatorFn||null;}get asyncValidator(){return this._composedAsyncValidatorFn||null;}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t);}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[];}reset(t=void 0){this.control&&this.control.reset(t);}hasError(t,n){return this.control?this.control.hasError(t,n):!1;}getError(t,n){return this.control?this.control.getError(t,n):null;}},Mm=class extends KR{name;get formDirective(){return null;}get path(){return null;}},Fm=class extends KR{_parent=null;name=null;valueAccessor=null;},YR=class{_cd;constructor(t){this._cd=t;}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched;}get isUntouched(){return!!this._cd?.control?.untouched;}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine;}get isDirty(){return!!this._cd?.control?.dirty;}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid;}get isInvalid(){return!!this._cd?.control?.invalid;}get isPending(){return!!this._cd?.control?.pending;}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted;}},gSe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Klt=Re(O({},gSe),{"[class.ng-submitted]":"isSubmitted"}),mp=(()=>{class e extends YR{constructor(n){super(n);}static ɵfac=function(i){return new(i||e)(Te(Fm,2));};static ɵdir=Ei({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ba("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending);},standalone:!1,features:[va]});}return e;})(),EQ=(()=>{class e extends YR{constructor(n){super(n);}static ɵfac=function(i){return new(i||e)(Te(Mm,10));};static ɵdir=Ei({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&ba("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted);},standalone:!1,features:[va]});}return e;})();var E_="VALID",WR="INVALID",_b="PENDING",T_="DISABLED",gp=class{},XR=class extends gp{value;source;constructor(t,n){super(),this.value=t,this.source=n;}},A_=class extends gp{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n;}},D_=class extends gp{touched;source;constructor(t,n){super(),this.touched=t,this.source=n;}},Sb=class extends gp{status;source;constructor(t,n){super(),this.status=t,this.source=n;}},s8=class extends gp{source;constructor(t){super(),this.source=t;}},o8=class extends gp{source;constructor(t){super(),this.source=t;}};function f8(e){return(nI(e)?e.validators:e)||null;}function mSe(e){return Array.isArray(e)?xQ(e):e||null;}function p8(e,t){return(nI(t)?t.asyncValidators:e)||null;}function vSe(e){return Array.isArray(e)?CQ(e):e||null;}function nI(e){return e!=null&&!Array.isArray(e)&&typeof e=="object";}function TQ(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new Je(1e3,"");if(!i[n])throw new Je(1001,"");}function AQ(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new Je(1002,"");});}var Eb=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n);}get validator(){return this._composedValidatorFn;}set validator(t){this._rawValidators=this._composedValidatorFn=t;}get asyncValidator(){return this._composedAsyncValidatorFn;}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t;}get parent(){return this._parent;}get status(){return Dc(this.statusReactive);}set status(t){Dc(()=>this.statusReactive.set(t));}_status=Y1(()=>this.statusReactive());statusReactive=z1(void 0);get valid(){return this.status===E_;}get invalid(){return this.status===WR;}get pending(){return this.status==_b;}get disabled(){return this.status===T_;}get enabled(){return this.status!==T_;}errors;get pristine(){return Dc(this.pristineReactive);}set pristine(t){Dc(()=>this.pristineReactive.set(t));}_pristine=Y1(()=>this.pristineReactive());pristineReactive=z1(!0);get dirty(){return!this.pristine;}get touched(){return Dc(this.touchedReactive);}set touched(t){Dc(()=>this.touchedReactive.set(t));}_touched=Y1(()=>this.touchedReactive());touchedReactive=z1(!1);get untouched(){return!this.touched;}_events=new Ar();events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change";}setValidators(t){this._assignValidators(t);}setAsyncValidators(t){this._assignAsyncValidators(t);}addValidators(t){this.setValidators(iQ(t,this._rawValidators));}addAsyncValidators(t){this.setAsyncValidators(iQ(t,this._rawAsyncValidators));}removeValidators(t){this.setValidators(rQ(t,this._rawValidators));}removeAsyncValidators(t){this.setAsyncValidators(rQ(t,this._rawAsyncValidators));}hasValidator(t){return qR(this._rawValidators,t);}hasAsyncValidator(t){return qR(this._rawAsyncValidators,t);}clearValidators(){this.validator=null;}clearAsyncValidators(){this.asyncValidator=null;}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Re(O({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new D_(!0,i));}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t));}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i});}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new D_(!1,i));}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Re(O({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new A_(!1,i));}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent});}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new A_(!0,i));}markAsPending(t={}){this.status=_b;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Sb(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Re(O({},t),{sourceControl:n}));}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=T_,this.errors=null,this._forEachChild(r=>{r.disable(Re(O({},t),{onlySelf:!0}));}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new XR(this.value,i)),this._events.next(new Sb(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Re(O({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0));}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=E_,this._forEachChild(i=>{i.enable(Re(O({},t),{onlySelf:!0}));}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Re(O({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1));}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n));}setParent(t){this._parent=t;}getRawValue(){return this.value;}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===E_||this.status===_b)&&this._runAsyncValidator(i,t.emitEvent);}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new XR(this.value,n)),this._events.next(new Sb(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Re(O({},t),{sourceControl:n}));}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent});}_setInitialStatus(){this.status=this._allControlsDisabled()?T_:E_;}_runValidator(){return this.validator?this.validator(this):null;}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=_b,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=gQ(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t});});}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t;}return!1;}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted);}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this);}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null;}hasError(t,n){return!!this.getError(t,n);}get root(){let t=this;for(;t._parent;)t=t._parent;return t;}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Sb(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i);}_initObservables(){this.valueChanges=new _e(),this.statusChanges=new _e();}_calculateStatus(){return this._allControlsDisabled()?T_:this.errors?WR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_b)?_b:this._anyControlsHaveStatus(WR)?WR:E_;}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t);}_anyControlsDirty(){return this._anyControls(t=>t.dirty);}_anyControlsTouched(){return this._anyControls(t=>t.touched);}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new A_(this.pristine,n));}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new D_(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n);}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t;}_setUpdateStrategy(t){nI(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn);}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty();}_find(t){return null;}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=mSe(this._rawValidators);}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=vSe(this._rawAsyncValidators);}},QR=class extends Eb{constructor(t,n,i){super(f8(n),p8(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator});}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n);}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange();}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange();}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange();}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled;}setValue(t,n={}){AQ(this,!0,t),Object.keys(t).forEach(i=>{TQ(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent});}),this.updateValueAndValidity(n);}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent});}),this.updateValueAndValidity(n));}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent});}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n);}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t));}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t;}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n);});}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange);});}_updateValue(){this.value=this._reduceValue();}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1;}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n));}_reduceChildren(t,n){let i=t;return this._forEachChild((r,s)=>{i=n(i,r,s);}),i;}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled;}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null;}};var a8=class extends QR{};var iI=new Tt("CallSetDisabledState",{providedIn:"root",factory:()=>rI}),rI="always";function DQ(e,t){return[...t.path,e];}function l8(e,t,n=rI){g8(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),bSe(e,t),wSe(e,t),xSe(e,t),ySe(e,t);}function sQ(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),JR(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}));}function ZR(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t);});}function ySe(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i);};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n);});}}function g8(e,t){let n=_Q(e);t.validator!==null?e.setValidators(nQ(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=SQ(e);t.asyncValidator!==null?e.setAsyncValidators(nQ(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();ZR(t._rawValidators,r),ZR(t._rawAsyncValidators,r);}function JR(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=_Q(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(n=!0,e.setValidators(s));}}if(t.asyncValidator!==null){let r=SQ(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(n=!0,e.setAsyncValidators(s));}}}let i=()=>{};return ZR(t._rawValidators,i),ZR(t._rawAsyncValidators,i),n;}function bSe(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&RQ(e,t);});}function xSe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&RQ(e,t),e.updateOn!=="submit"&&e.markAsTouched();});}function RQ(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1;}function wSe(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i);};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n);});}function CSe(e,t){e==null,g8(e,t);}function _Se(e,t){return JR(e,t);}function IQ(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue);}function SSe(e){return Object.getPrototypeOf(e.constructor)===eI;}function ESe(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1);});}function PQ(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(s=>{s.constructor===tI?n=s:SSe(s)?i=s:r=s;}),r||i||n||null;}function TSe(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1);}function oQ(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1);}function aQ(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e;}var km=class extends Eb{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(f8(n),p8(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(aQ(t)?this.defaultValue=t.value:this.defaultValue=t);}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n);}patchValue(t,n={}){this.setValue(t,n);}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1;}_updateValue(){}_anyControls(t){return!1;}_allControlsDisabled(){return this.disabled;}registerOnChange(t){this._onChange.push(t);}_unregisterOnChange(t){oQ(this._onChange,t);}registerOnDisabledChange(t){this._onDisabledChange.push(t);}_unregisterOnDisabledChange(t){oQ(this._onDisabledChange,t);}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1;}_applyFormState(t){aQ(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t;}};var ASe=e=>e instanceof km;var DSe={provide:Fm,useExisting:zu(()=>Nm)},lQ=Promise.resolve(),Nm=(()=>{class e extends Fm{_changeDetectorRef;callSetDisabledState;control=new km();static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _e();constructor(n,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=PQ(this,s);}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)});}this._setUpControl();}"isDisabled"in n&&this._updateDisabled(n),IQ(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model);}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}get path(){return this._getPath(this.name);}get formDirective(){return this._parent?this._parent.formDirective:null;}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n);}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0;}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn);}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone);}_setUpStandalone(){l8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1});}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName();}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name;}_updateValue(n){lQ.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck();});}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Ie(i);lQ.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck();});}_getPath(n){return this._parent?DQ(n,this._parent):[n];}static ɵfac=function(i){return new(i||e)(Te(Mm,9),Te(d8,10),Te(h8,10),Te(Tb,10),Te(Pl,8),Te(iI,8));};static ɵdir=Ei({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Rr([DSe]),va,Si]});}return e;})(),kQ=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵdir=Ei({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1});}return e;})();var MQ=new Tt("");var RSe={provide:Mm,useExisting:zu(()=>m8)},m8=(()=>{class e extends Mm{callSetDisabledState;get submitted(){return Dc(this._submittedReactive);}set submitted(n){this._submittedReactive.set(n);}_submitted=Y1(()=>this._submittedReactive());_submittedReactive=z1(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new _e();constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i);}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form);}ngOnDestroy(){this.form&&(JR(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}));}get formDirective(){return this;}get control(){return this.form;}get path(){return[];}addControl(n){let i=this.form.get(n.path);return l8(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i;}getControl(n){return this.form.get(n.path);}removeControl(n){sQ(n.control||null,n,!1),TSe(this.directives,n);}addFormGroup(n){this._setUpFormContainer(n);}removeFormGroup(n){this._cleanUpFormContainer(n);}getFormGroup(n){return this.form.get(n.path);}addFormArray(n){this._setUpFormContainer(n);}removeFormArray(n){this._cleanUpFormContainer(n);}getFormArray(n){return this.form.get(n.path);}updateModel(n,i){this.form.get(n.path).setValue(i);}onSubmit(n){return this._submittedReactive.set(!0),ESe(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new s8(this.control)),n?.target?.method==="dialog";}onReset(){this.resetForm();}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new o8(this.form));}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(sQ(i||null,n),ASe(r)&&(l8(r,n,this.callSetDisabledState),n.control=r));}),this.form._updateTreeValidity({emitEvent:!1});}_setUpFormContainer(n){let i=this.form.get(n.path);CSe(i,n),i.updateValueAndValidity({emitEvent:!1});}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&_Se(i,n)&&i.updateValueAndValidity({emitEvent:!1});}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{});}_updateValidators(){g8(this.form,this),this._oldForm&&JR(this._oldForm,this);}_checkFormPresent(){this.form;}static ɵfac=function(i){return new(i||e)(Te(d8,10),Te(h8,10),Te(iI,8));};static ɵdir=Ei({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Ze("submit",function(o){return r.onSubmit(o);})("reset",function(){return r.onReset();});},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rr([RSe]),va,Si]});}return e;})();var ISe={provide:Fm,useExisting:zu(()=>v8)},v8=(()=>{class e extends Fm{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new _e();static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=o,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=PQ(this,s);}ngOnChanges(n){this._added||this._setUpControl(),IQ(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model));}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this);}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n);}get path(){return DQ(this.name==null?this.name:this.name.toString(),this._parent);}get formDirective(){return this._parent?this._parent.formDirective:null;}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0;}static ɵfac=function(i){return new(i||e)(Te(Mm,13),Te(d8,10),Te(h8,10),Te(Tb,10),Te(MQ,8));};static ɵdir=Ei({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Rr([ISe]),va,Si]});}return e;})(),PSe={provide:Tb,useExisting:zu(()=>Xu),multi:!0};function FQ(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50));}function kSe(e){return e.split(":")[0];}var Xu=(()=>{class e extends eI{value;_optionMap=new Map();_idCounter=0;set compareWith(n){this._compareWith=n;}_compareWith=Object.is;writeValue(n){this.value=n;let i=this._getOptionId(n),r=FQ(i,n);this.setProperty("value",r);}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value);};}_registerOption(){return(this._idCounter++).toString();}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null;}_getOptionValue(n){let i=kSe(n);return this._optionMap.has(i)?this._optionMap.get(i):n;}static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵdir=Ei({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Ze("change",function(o){return r.onChange(o.target.value);})("blur",function(){return r.onTouched();});},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rr([PSe]),va]});}return e;})(),vp=(()=>{class e{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption());}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(FQ(this.id,n)),this._select.writeValue(this._select.value));}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value);}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n);}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value));}static ɵfac=function(i){return new(i||e)(Te(Un),Te(Vs),Te(Xu,9));};static ɵdir=Ei({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1});}return e;})(),MSe={provide:Tb,useExisting:zu(()=>NQ),multi:!0};function cQ(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50));}function FSe(e){return e.split(":")[0];}var NQ=(()=>{class e extends eI{value;_optionMap=new Map();_idCounter=0;set compareWith(n){this._compareWith=n;}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1);};}else i=(r,s)=>{r._setSelected(!1);};this._optionMap.forEach(i);}registerOnChange(n){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c);}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c);}}}this.value=r,n(r);};}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i;}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null;}_getOptionValue(n){let i=FSe(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n;}static ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();static ɵdir=Ei({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Ze("change",function(o){return r.onChange(o.target);})("blur",function(){return r.onTouched();});},inputs:{compareWith:"compareWith"},standalone:!1,features:[Rr([MSe]),va]});}return e;})(),yp=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this));}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(cQ(this.id,n)),this._select.writeValue(this._select.value));}set value(n){this._select?(this._value=n,this._setElementValue(cQ(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n);}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n);}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n);}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value));}static ɵfac=function(i){return new(i||e)(Te(Un),Te(Vs),Te(NQ,9));};static ɵdir=Ei({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1});}return e;})();var LQ=(()=>{class e{static ɵfac=function(i){return new(i||e)();};static ɵmod=pi({type:e});static ɵinj=fi({});}return e;})(),c8=class extends Eb{constructor(t,n,i){super(f8(n),p8(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator});}controls;at(t){return this.controls[this._adjustIndex(t)];}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange();}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent});}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent});}setControl(t,n,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange();}get length(){return this.controls.length;}setValue(t,n={}){AQ(this,!1,t),t.forEach((i,r)=>{TQ(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent});}),this.updateValueAndValidity(n);}patchValue(t,n={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent});}),this.updateValueAndValidity(n));}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent});}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n);}getRawValue(){return this.controls.map(t=>t.getRawValue());}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}));}_adjustIndex(t){return t<0?t+this.length:t;}_syncPendingControls(){let t=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t;}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i);});}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value);}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n));}_setUpControls(){this._forEachChild(t=>this._registerControl(t));}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled;}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange);}_find(t){return this.at(t)??null;}};function uQ(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0);}var OQ=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e();return n.useNonNullable=!0,n;}group(n,i=null){let r=this._reduceControls(n),s={};return uQ(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new QR(r,s);}record(n,i=null){let r=this._reduceControls(n);return new a8(r,i);}control(n,i,r){let s={};return this.useNonNullable?(uQ(i)?s=i:(s.validators=i,s.asyncValidators=r),new km(n,Re(O({},s),{nonNullable:!0}))):new km(n,i,r);}array(n,i,r){let s=n.map(o=>this._createControl(o));return new c8(s,i,r);}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r]);}),i;}_createControl(n){if(n instanceof km)return n;if(n instanceof Eb)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,r,s);}else return this.control(n);}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}return e;})();var Fl=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:iI,useValue:n.callSetDisabledState??rI}]};}static ɵfac=function(i){return new(i||e)();};static ɵmod=pi({type:e});static ɵinj=fi({imports:[LQ]});}return e;})(),BQ=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:MQ,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:iI,useValue:n.callSetDisabledState??rI}]};}static ɵfac=function(i){return new(i||e)();};static ɵmod=pi({type:e});static ɵinj=fi({imports:[LQ]});}return e;})();function NSe(e,t){e&1&&(j(0,"div",14),je(1,1),q());}function LSe(e,t){if(e&1&&(j(0,"div",10),Ke(1,"label",11)(2,"input",12),Le(3,NSe,2,0,"div",13),q()),e&2){let n,i=ve().$implicit,r=ve();J(),se("innerHTML",i.title,ob),J(),se("ngClass",r.getValidationClass(i.name))("type",i.type)("placeholder",i.placeholder)("formControlName",i.name),J(),se("ngIf",((n=r.formgroup.get(i.name))==null?null:n.dirty)&&!((n=r.formgroup.get(i.name))!=null&&n.valid));}}function OSe(e,t){e&1&&(j(0,"div",14),je(1,2),q());}function BSe(e,t){if(e&1&&(j(0,"div",15),Ke(1,"input",16)(2,"label",17),Le(3,OSe,2,0,"div",13),q()),e&2){let n,i=ve().$implicit,r=ve();J(),se("ngClass",r.getValidationClass(i.name))("formControlName",i.name),J(),se("innerHTML",i.title,ob),J(),se("ngIf",((n=r.formgroup.get(i.name))==null?null:n.dirty)&&!((n=r.formgroup.get(i.name))!=null&&n.valid));}}function VSe(e,t){if(e&1&&(j(0,"option",21),nt(1),q()),e&2){let n=t.$implicit;se("value",n.value),J(),jn(" ",n.label," ");}}function HSe(e,t){e&1&&(j(0,"div",14),je(1,3),q());}function GSe(e,t){if(e&1&&(j(0,"div",10),Ke(1,"label",18),j(2,"select",19),Le(3,VSe,2,2,"option",20),q(),Le(4,HSe,2,0,"div",13),q()),e&2){let n,i,r=ve().$implicit,s=ve();J(),se("innerHTML",r.title,ob),J(),se("ngClass",(n=s.formgroup.get(r.name))!=null&&n.valid?"is-valid":"is-invalid")("formControlName",r.name),J(),se("ngForOf",r.options),J(),se("ngIf",((i=s.formgroup.get(r.name))==null?null:i.dirty)&&!((i=s.formgroup.get(r.name))!=null&&i.valid));}}function zSe(e,t){if(e&1&&(j(0,"div"),Le(1,LSe,4,6,"div",8)(2,BSe,4,4,"div",9)(3,GSe,5,5,"div",8),q()),e&2){let n=t.$implicit;J(),se("ngIf",n.type=="text"||n.type=="password"||n.type=="date"),J(),se("ngIf",n.type=="check"),J(),se("ngIf",n.type==="select"&&n.options);}}var Mr=class e{constructor(t){this.fb=t;}formcontrol;result=new _e();resetAfterSubmit=!0;formgroup;ngOnInit(){this.formgroup=this.fb.group({}),this.formcontrol.forEach(t=>{this.formgroup.addControl(t.name,new km(t.default,t.validators));});}property_validators_required=ft.required;submit(){this.result.emit(this.formgroup.getRawValue()),this.resetAfterSubmit&&this.formgroup.reset();}getValidationClass(t){let n=this.formgroup.get(t);return n?.valid?"is-valid":n?.touched?"is-invalid":"";}static ɵfac=function(n){return new(n||e)(Te(OQ));};static ɵcmp=St({type:e,selectors:[["app-nice-form"]],inputs:{formcontrol:"formcontrol",resetAfterSubmit:"resetAfterSubmit"},outputs:{result:"result"},decls:5,vars:3,consts:()=>{let t;t=""+"\uFFFD#4\uFFFD"+" Submit "+"\uFFFD/#4\uFFFD"+"";let n;n="Neveljaven vhod.";let i;i="Za nadaljevanje ozna\u010Dite to polje";let r;return r="Izberite veljavno opcijo.",[t,n,i,r,[3,"ngSubmit","formGroup"],[4,"ngFor","ngForOf"],[1,"text-center"],["type","submit",1,"btn","btn-primary","w-75",3,"disabled"],["class","mb-3 mt-3",4,"ngIf"],["class","form-check mb-3",4,"ngIf"],[1,"mb-3","mt-3"],["for","myCheck",1,"form-label",3,"innerHTML"],[1,"form-control",3,"ngClass","type","placeholder","formControlName"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"form-check","mb-3"],["type","checkbox",1,"form-check-input",3,"ngClass","formControlName"],["for","myCheck",1,"form-check-label",3,"innerHTML"],[1,"form-label",3,"innerHTML"],[1,"form-select",3,"ngClass","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]];},template:function(n,i){n&1&&(j(0,"form",4),Ze("ngSubmit",function(){return i.submit();}),Le(1,zSe,4,3,"div",5),j(2,"div",6),Dl(3,0),Ke(4,"button",7),Rl(),q()()),n&2&&(se("formGroup",i.formgroup),J(),se("ngForOf",i.formcontrol),J(3),se("disabled",!i.formgroup.valid));},dependencies:[cn,Wu,ji,rn,Fl,kQ,vp,yp,tI,u8,Xu,mp,EQ,BQ,m8,v8],encapsulation:2});};var bp={apiUrl:"https://clock-in.onrender.com/api",production:!0,allowedChainId:31337,contractUrl:"http://localhost:3000/ABI/SimplePay.sol/SimplePay.json",contractAddress:"0x5FbDB2315678afecb367f032d93F642f64180aa3"};var VQ=new Tt("Browser storage",{providedIn:"root",factory:()=>localStorage});var gn=class e{constructor(t,n){this.http=t;this.storage=n;this.initialize();}logged_in=!1;administrator=!1;username="";role="";token="";apiUrl=bp.apiUrl;initialize(){let t=window.sessionStorage.getItem("username");this.username=t??"";let n=window.sessionStorage.getItem("role");this.role=n??"";let i=window.sessionStorage.getItem("token");return this.token=i??"",this.username!=""&&this.token!=""?this.http.get(`${this.apiUrl}/employee/${this.username}`).pipe(nn(r=>(this.logged_in=!0,this.administrator=r.role==="admin",!0)),ku(r=>(this.username="",this.token="",Gt(!1)))):Gt(!1);}login(t,n){return this.http.post(`${this.apiUrl}/login`,{userName:t,password:n});}logout(){this.deleteCookie("username"),this.deleteCookie("token"),this.deleteCookie("role"),window.sessionStorage.setItem("username",""),window.sessionStorage.setItem("role",""),this.username="",this.logged_in=!1,this.administrator=!1;}deleteCookie(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";}addEmployee(t){return this.http.post(`${this.apiUrl}/employee`,t);}getEmployee(t=this.username){return this.http.get(`${this.apiUrl}/employee/${t}`);}filterEmployee(t,n){let i=new qu();for(let r in t)t.hasOwnProperty(r)&&t[r]!==void 0&&(i=i.set(r,t[r]));return n?this.http.get(`${this.apiUrl}/employee-filter`,{params:i}):this.http.get(`${this.apiUrl}/employee-filter?nResults=1000`,{params:i});}getEmployees(){return this.http.get(`${this.apiUrl}/employee-all`);}updateEmployee(t=this.username,n){return this.http.put(`${this.apiUrl}/employee/${t}`,n);}removeEmployee(t){return this.http.delete(`${this.apiUrl}/employee/${t}`);}getEmployeeAttendance(){return this.http.get(`${this.apiUrl}/attendanceByUsername/${this.username}`);}clockIn(){return this.http.post(`${this.apiUrl}/clockIn`,"");}clockOut(){return this.http.post(`${this.apiUrl}/clockOut`,"");}changePassword(t,n){let i={oldPassword:t,newPassword:n};return this.http.put(`${this.apiUrl}/change-password`,i);}addTask(t){return this.http.post(`${this.apiUrl}/tasks`,t);}getTasks(){return this.http.get(`${this.apiUrl}/tasks`).pipe(nn(t=>t.tasks));}getEmployeeTasks(t){return this.http.get(`${this.apiUrl}/tasks/${t}`);}updateTask(t,n){return this.http.put(`${this.apiUrl}/tasks/${t}/status`,n);}removeTask(t){return this.http.delete(`${this.apiUrl}/tasks/${t}`);}addLeave(t){return this.http.post(`${this.apiUrl}/leaves`,t);}getLeaves(){return this.http.get(`${this.apiUrl}/leaves`).pipe(nn(t=>t.leaves));}getEmployeeLeaves(t){return this.http.get(`${this.apiUrl}/leaves/${t}`);}updateLeave(t,n){return this.http.put(`${this.apiUrl}/leaves/${t}/status`,n);}removeLeave(t){return this.http.delete(`${this.apiUrl}/leaves/${t}`);}addSalary(t){return this.http.post(`${this.apiUrl}/salaries`,t);}getSalaries(t){return this.http.get(`${this.apiUrl}/salaries/${t}`);}getSalariesMonth(t,n){return this.http.get(`${this.apiUrl}/salaries/month/${t}/year/${n}`).pipe(nn(i=>i.salaries));}removeSalary(t){return this.http.delete(`${this.apiUrl}/salaries/${t}`);}addDepartment(t){return this.http.post(`${this.apiUrl}/department`,t);}getDepartments(){return this.http.get(`${this.apiUrl}/departments`);}getDepartment(t){return this.http.get(`${this.apiUrl}/department-data/${t}`);}findEmployeesInDepartment(t){return this.http.get(`${this.apiUrl}/department/${t}`);}updateDepartment(t,n){return this.http.put(`${this.apiUrl}/department/${t}`,n);}deleteDepartment(t){return this.http.delete(`${this.apiUrl}/department/${t}`);}addInitialData(){return this.http.post(`${this.apiUrl}/db`,{});}deleteData(){return this.http.delete(`${this.apiUrl}/db`);}getCurrencyConversionRates(){return this.http.get("https://api.fxratesapi.com/latest");}static ɵfac=function(n){return new(n||e)(rt(d6),rt(VQ));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});};function USe(e,t){e&1&&(j(0,"div",8),Dl(1,2),Ke(2,"br"),Rl(),q());}function jSe(e,t){e&1&&(j(0,"div",8),je(1,3),q());}var oI=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.route=i;}invalid=!1;formcontrol=[{name:"username",type:"text",title:"Uporabnisko ime",placeholder:"Uporabnisko ime",default:"admin",validators:[ft.required]},{name:"password",type:"password",title:"Geslo",placeholder:"Geslo",default:"admin123",validators:[ft.required]},{name:"check",type:"check",title:"Prebral sem in se strinjam z\n        <strong><a href=\"\">Pogoji Storitve</a> *</strong>",default:!1,validators:[ft.requiredTrue]}];login(t){this.employeeService.login(t.username,t.password).subscribe(n=>{let i=JSON.stringify(n).slice(10,-2),s=JSON.parse(atob(i.split(".")[1])).role;window.sessionStorage.setItem("role",s),document.cookie="username="+t.username+"; path=/; max-age=3600",document.cookie="token="+i+"; path=/; max-age=3600",document.cookie="role="+s+"; path=/; max-age=3600",this.finishLogin(t.username,i,s);},n=>{this.invalid=!0;});}finishLogin(t,n,i){window.sessionStorage.setItem("username",t),window.sessionStorage.setItem("token",n),window.sessionStorage.setItem("role",i),this.employeeService.initialize().subscribe(r=>{r&&this.router.navigate(["/clockin"]);});}redirected=!1;ngOnInit(){let t=this.getCookie("username"),n=this.getCookie("token"),i=this.getCookie("role");t!=null&&n!=null&&i!=null&&this.finishLogin(t,n,i),this.route.queryParams.subscribe(r=>{r.redirected=="true"?this.redirected=!0:this.redirected=!1;});}getCookie(t){let n=document.cookie.match(new RegExp("(^| )"+t+"=([^;]+)"));return n?n[2]:null;}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr));};static ɵcmp=St({type:e,selectors:[["app-login"]],decls:9,vars:3,consts:()=>{let t;t="Prijavi se";let n;n="Prijavi se za ve\u010D funkcij ure.";let i;i=" Za dostop do ure in koledarja se morate prijaviti."+"\uFFFD#2\uFFFD\uFFFD/#2\uFFFD"+" Do registracijskega menija lahko dostopa le administrator. ";let r;return r=" Username or password incorrect! Try again using the correct username and password! ",[t,n,i,r,[1,"d-flex","w-100","h-100","align-items-center"],[1,"container-sm","p-5","bg-light"],["class","alert alert-danger",4,"ngIf"],[3,"result","formcontrol"],[1,"alert","alert-danger"]];},template:function(n,i){n&1&&(j(0,"main",4)(1,"div",5)(2,"h3"),je(3,0),q(),j(4,"p"),je(5,1),q(),Le(6,USe,3,0,"div",6)(7,jSe,2,0,"div",6),j(8,"app-nice-form",7),Ze("result",function(s){return i.login(s);}),q()()()),n&2&&(J(6),se("ngIf",i.redirected),J(),se("ngIf",i.invalid),J(),se("formcontrol",i.formcontrol));},dependencies:[Fl,cn,rn,Mr],encapsulation:2});};var $Se=e=>({"background-color":"green",opacity:e});function WSe(e,t){if(e&1&&(Ke(0,"div",3),$n(1,"date")),e&2){let n=t.$implicit;se("ngStyle",dh(5,$Se,n.portion))("title",ni(1,2,n.date,"HH:mm"));}}function qSe(e,t){if(e&1&&(j(0,"div",6),nt(1),$n(2,"date"),q()),e&2){let n=t.$implicit;J(),jn(" ",ni(2,1,n.date,"HH:mm")," ");}}function KSe(e,t){if(e&1&&(j(0,"div",4),Le(1,qSe,3,4,"div",5),q()),e&2){let n=ve();J(),se("ngForOf",n.timelineData);}}var Ab=class e{constructor(t){this.employeeService=t;}timeline_start=new Date();type="timeline";attendances=[];timelineData=[];set_added_hours(t,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+n);}intervalId;ngOnInit(){this.employeeService.getEmployeeAttendance().subscribe(t=>{this.attendances=t,this.drawTimeline();}),this.intervalId=setInterval(()=>{this.employeeService.getEmployeeAttendance().subscribe(t=>{this.attendances=t,this.drawTimeline();});},1e3*60);}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId);}drawTimeline(){this.timelineData=[];for(let t=0;t<24;t++){let n=this.set_added_hours(this.timeline_start,t),i=this.set_added_hours(this.timeline_start,t+1),r={date:n,portion:0};this.attendances.forEach(s=>{let o=new Date(s.clock_in_time),a=new Date();if(s.clock_out_time!=null&&(a=new Date(s.clock_out_time)),o.getTime()<i.getTime()&&a.getTime()>n.getTime()){let l=o.getTime(),c=a.getTime();o.getTime()<n.getTime()&&(l=n.getTime()),a.getTime()>i.getTime()&&(c=i.getTime()),r.portion+=(c-l)/36e5;}}),this.timelineData.push(r);}}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-horizontal-timeline"]],inputs:{timeline_start:"timeline_start",type:"type"},decls:3,vars:2,consts:[[1,"timeline-container","d-flex","align-items-center"],["class","timeline-item border",3,"ngStyle","title",4,"ngFor","ngForOf"],["class","d-none d-md-block timeline-container justify-content-center",4,"ngIf"],[1,"timeline-item","border",3,"ngStyle","title"],[1,"d-none","d-md-block","timeline-container","justify-content-center"],["class","timeline-axis",4,"ngFor","ngForOf"],[1,"timeline-axis"]],template:function(n,i){n&1&&(j(0,"div",0),Le(1,WSe,2,7,"div",1),q(),Le(2,KSe,2,1,"div",2)),n&2&&(J(),se("ngForOf",i.timelineData),J(),se("ngIf",i.type!="block"));},dependencies:[cn,ji,rn,vR,Ir],styles:[".timeline-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:0;align-items:center}.timeline-items-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:10px}.timeline-item[_ngcontent-%COMP%]{border-radius:4px;transition:background-color .3s ease;display:block;height:20px;width:4.16%;float:left}.timeline-axis[_ngcontent-%COMP%]{transition:background-color .3s ease;display:block;width:4.16%;float:left;font-size:12px;text-align:center;margin-top:5px}"]});};function YSe(e,t){e&1&&(Dl(0,7,1),Ke(1,"span"),Rl());}function XSe(e,t){e&1&&(Dl(0,7,2),Ke(1,"span"),Rl());}function QSe(e,t){if(e&1&&(j(0,"p"),Dl(1,7),Ke(2,"br")(3,"strong"),$n(4,"date"),Ke(5,"strong"),$n(6,"date"),Le(7,YSe,2,0,"span",26)(8,XSe,2,0,"span",26),Rl(),q()),e&2){let n=ve(2);J(7),se("ngIf",!n.ontime),J(),se("ngIf",n.ontime),Il(ni(4,4,n.employee.clock_in_time,"H:mm"))(ni(6,7,n.employee.clock_out_time,"H:mm")),Ac(1);}}function ZSe(e,t){if(e&1){let n=zt();j(0,"main",9)(1,"div",10)(2,"p"),je(3,0),q()(),j(4,"div",11)(5,"div",12)(6,"strong",13),je(7,1),q(),Ke(8,"button",14),q(),j(9,"div",15)(10,"span"),je(11,2),q(),j(12,"strong",16),nt(13),$n(14,"date"),q(),j(15,"span",17),nt(16),$n(17,"date"),q(),j(18,"span"),je(19,3),q()()(),j(20,"div",18)(21,"div")(22,"p",19),nt(23),$n(24,"date"),q(),j(25,"p",20),Dl(26,4),Ke(27,"strong"),$n(28,"date"),Rl(),q(),j(29,"strong",21),nt(30),$n(31,"date"),q(),j(32,"span",16),nt(33),$n(34,"date"),q(),j(35,"span",22),nt(36),$n(37,"date"),q(),Ke(38,"p",23),q(),Ke(39,"app-horizontal-timeline",24)(40,"hr"),j(41,"div",25),Le(42,QSe,9,10,"p",26),j(43,"button",27),Ze("click",function(){vt(n);let r=ve();return yt(r.clock());}),Dl(44,5),Ke(45,"i",28),Rl(),q(),j(46,"button",29),Ze("click",function(){vt(n);let r=ve();return yt(r.clock());}),Dl(47,6),Ke(48,"i",30),Rl(),q()()()();}if(e&2){let n=ve();J(3),Il(n.employee.firstName)(n.employee.lastName),Ac(3),J(10),Mn(ni(14,16,n.clocked_time,"H")),J(3),Mn(ni(17,19,n.clocked_time,"mm")),J(7),Mn(ni(24,22,n.current_time,"EEE, d MMMM y")),J(2),se("hidden",n.employee.status!="active"),J(3),Il(ni(28,25,n.employee.clocked_in_time,"H:mm")),Ac(26),J(2),Mn(ni(31,28,n.current_time,"h:mm")),J(3),Mn(ni(34,31,n.current_time,":ss")),J(3),Mn(ni(37,34,n.current_time,"aa")),J(2),se("ngClass",n.ontime?"text-success":"text-secondary")("hidden",n.employee.clocked_in),J(),se("timeline_start",n.timeline_start),J(3),se("ngIf",n.employee.clock_in_time!=null),J(),se("hidden",n.employee.status=="active"),J(3),se("hidden",n.employee.status!="active");}}var aI=class e{constructor(t,n){this.employeeService=t;this.router=n;}timeline_start=new Date(new Date().getFullYear(),new Date().getMonth(),new Date().getDate());ontime=!1;clocked_time=0;employee;current_time=new Date();set_time(){this.current_time=new Date();}clock(){this.employee.status=="active"?this.employeeService.clockOut().subscribe(t=>{this.updateStatus("inactive");},t=>{this.employee.status="inactive";}):this.employeeService.clockIn().subscribe(t=>{this.updateStatus("active");},t=>{this.employee.status="active";});}updateStatus(t){this.employee.status=t,this.employeeService.updateEmployee(this.employee.userName,{status:this.employee.status}).subscribe(n=>{this.getEmployee();},n=>{});}getEmployee(){this.employeeService.getEmployee().subscribe(t=>{this.employee=t;});}ngOnInit(){this.getEmployee(),window.setInterval(()=>{this.set_time();},1e3);}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn));};static ɵcmp=St({type:e,selectors:[["app-clockin"]],decls:1,vars:1,consts:()=>{let t;t="Dobro jutro "+"\uFFFD0\uFFFD"+" "+"\uFFFD1\uFFFD"+"";let n;n="Congratulations worker! \uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03\uD83D\uDE03";let i;i="You have worked for ";let r;r=" hours!";let s;s=" Vpisan od "+"\uFFFD#27\uFFFD"+""+"\uFFFD0\uFFFD"+""+"\uFFFD/#27\uFFFD"+"";let o;o=" Pri\u010Dni "+"\uFFFD#45\uFFFD"+""+"\uFFFD/#45\uFFFD"+"";let a;a=" Kon\u010Daj "+"\uFFFD#48\uFFFD"+""+"\uFFFD/#48\uFFFD"+"";let l;return l=" Tvoje delovne ure so "+"\uFFFD#2\uFFFD\uFFFD/#2\uFFFD"+""+"[\uFFFD#3\uFFFD|\uFFFD#5\uFFFD]"+""+"\uFFFD0\uFFFD"+""+"[\uFFFD/#3\uFFFD|\uFFFD/#5\uFFFD]"+" do "+"[\uFFFD#3\uFFFD|\uFFFD#5\uFFFD]"+""+"\uFFFD1\uFFFD"+""+"[\uFFFD/#3\uFFFD|\uFFFD/#5\uFFFD]"+""+"\uFFFD*7:1\uFFFD\uFFFD#1:1\uFFFD"+" Prosti \u010Das "+"[\uFFFD/#1:1\uFFFD\uFFFD/*7:1\uFFFD|\uFFFD/#1:2\uFFFD\uFFFD/*8:2\uFFFD]"+""+"\uFFFD*8:2\uFFFD\uFFFD#1:2\uFFFD"+" Delovni \u010Das "+"[\uFFFD/#1:1\uFFFD\uFFFD/*7:1\uFFFD|\uFFFD/#1:2\uFFFD\uFFFD/*8:2\uFFFD]"+"",l=oY(l),[t,n,i,r,s,o,a,l,["class","col-12",4,"ngIf"],[1,"col-12"],[1,"container","text-center","py-2","my-5"],["data-bs-autohide","false",1,"toast","w-sm","mx-auto"],[1,"toast-header"],[1,"me-auto"],["type","button","data-bs-dismiss","toast",1,"btn-close"],[1,"toast-body","text-left"],[1,"display-6"],[1,"display-8"],[1,"container","text-center","p-5","mt-5","shadow-sm","bg-light"],[1,"h4"],[1,"h5","text-secondary",3,"hidden"],[1,"display-2"],[1,"h3","ms-1"],[3,"ngClass","hidden"],[3,"timeline_start"],[1,"d-flex","flex-column","gap-2","align-items-center"],[4,"ngIf"],["type","button",1,"btn","w-75","btn-success",3,"click","hidden"],[1,"fa-regular","fa-clock"],["type","button",1,"btn","w-75","btn-dark",3,"click","hidden"],[1,"fa-solid","fa-flag-checkered"]];},template:function(n,i){n&1&&Le(0,ZSe,49,37,"main",8),n&2&&se("ngIf",i.employee!=null);},dependencies:[cn,Wu,rn,Ir,Ab],encapsulation:2});};function JSe(e,t){if(e&1&&(j(0,"li",5)(1,"a",6),nt(2),q()()),e&2){let n=t.$implicit;J(),se("routerLink","/user/"+n.userName),J(),Mn(n.userName);}}var Db=class e{constructor(t){this.employeeService=t;}isCollapsed=!1;toggleSidebar(){this.isCollapsed=!this.isCollapsed;}employees;ngOnInit(){this.employees=this.employeeService.getEmployees();}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-sidebar"]],decls:7,vars:3,consts:()=>{let t;return t="Uporabniki",[t,[1,"sidebar-sticky"],[1,"container-fluid","sidebar-header","d-flex","align-items-center","justify-content-between"],[1,"nav","flex-column","mt-3"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"]];},template:function(n,i){n&1&&(j(0,"div",1)(1,"div",2)(2,"h5"),je(3,0),q()(),j(4,"ul",3),Le(5,JSe,3,2,"li",4),$n(6,"async"),q()()),n&2&&(J(5),se("ngForOf",iR(6,1,i.employees)));},dependencies:[cn,ji,yR,$R,Cb],styles:[".sidebar-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:6%}"]});};function e2e(e,t){e&1&&(j(0,"div",11),je(1,2),q());}function t2e(e,t){e&1&&(j(0,"div",12),je(1,3),q());}var lI=class e{constructor(t){this.employeeService=t;}ngOnInit(){this.loadDepartments();}formcontrol=[{name:"username",type:"text",title:"Uporabnisko ime",placeholder:"Uporabnisko ime",default:"",validators:[ft.required,ft.min(3)]},{name:"firstname",type:"text",title:"Ime",placeholder:"Ime",default:"",validators:[ft.required]},{name:"lastname",type:"text",title:"Priimek",placeholder:"Priimek",default:"",validators:[ft.required]},{name:"email",type:"text",title:"Email",placeholder:"Email",default:"",validators:[ft.required,ft.email]},{name:"phonenumber",type:"text",title:"Telefonska stevilka",placeholder:"Telefonska stevilka",default:"",validators:[ft.required,ft.pattern("[0-9]+")]},{name:"jobtitle",type:"text",title:"Naziv slu\u017Ebe",placeholder:"Naziv slu\u017Ebe",default:"",validators:[ft.required]},{name:"role",type:"select",title:"Role",placeholder:"Vloga",default:"employee",validators:[ft.required],options:[{label:"Admin",value:"admin"},{label:"Employee",value:"employee"}]},{name:"departmentid",type:"select",title:"ID oddelka",placeholder:"ID oddelka",default:"",options:[],validators:[ft.required]},{name:"salary",type:"text",title:"Pla\u010Da",placeholder:"Pla\u010Da",default:"",validators:[ft.required]},{name:"walletAddress",type:"text",title:"Wallet Address",placeholder:"0x...",default:"",validators:[ft.pattern("^0x[a-fA-F0-9]{40}$")]},{name:"street",type:"text",title:"Ulica",placeholder:"Ulica",default:"",validators:[ft.required]},{name:"city",type:"text",title:"Mesto",placeholder:"Mesto",default:"",validators:[ft.required]},{name:"zipCode",type:"text",title:"Zip koda",placeholder:"Zip koda",default:"",validators:[ft.required]},{name:"country",type:"text",title:"Dr\u017Eava",placeholder:"Dr\u017Eava",default:"",validators:[ft.required]},{name:"password",type:"password",title:"Geslo",placeholder:"Geslo",default:"",validators:[ft.required]}];success_status="NOT SUBMITTED";register(t){let n={userName:t.username,password:t.password,firstName:t.firstname,lastName:t.lastname,email:t.email,phoneNumber:t.phonenumber,jobTitle:t.jobtitle,role:t.role,departmentId:t.departmentid,hireDate:"2024-11-26T10:21:38.124Z",salary:parseInt(t.salary),walletAddress:t.walletAddress||null,status:"inactive",street:t.street,city:t.city,country:t.country,zipCode:t.zipCode};this.employeeService.addEmployee(n).subscribe(i=>{this.success_status="SUCCESS";},i=>{this.success_status="ERROR";});}loadDepartments(){this.employeeService.getDepartments().pipe(Os(1)).subscribe(t=>{let n=t.map(r=>({label:r.name||"Unknown",value:r._id??""})),i=this.formcontrol.find(r=>r.name==="departmentid");i&&n.length>0&&(i.options=n,i.default=n[0].value);},t=>{});}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-register"]],decls:13,vars:3,consts:()=>{let t;t="Registriraj uporabnika";let n;n="Registriraj uporabnika.";let i;i="Zaposleni uspe\u0161no dodan!";let r;return r="Neuspeh! Poskusi znova.",[t,n,i,r,[1,"d-flex","flex-column-reverse","flex-md-row","gap-2"],[1,"d-flex","align-items-star","p-5",2,"min-width","200px"],[1,"align-items-center"],[1,"container-sm","p-5","bg-light",2,"min-width","500px"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"result","formcontrol"],[1,"alert","alert-success"],[1,"alert","alert-danger"]];},template:function(n,i){n&1&&(j(0,"div",4)(1,"div",5),Ke(2,"app-sidebar"),q(),j(3,"div")(4,"main",6)(5,"div",7),Le(6,e2e,2,0,"div",8)(7,t2e,2,0,"div",9),j(8,"h3"),je(9,0),q(),j(10,"p"),je(11,1),q(),j(12,"app-nice-form",10),Ze("result",function(s){return i.register(s);}),q()()()()()),n&2&&(J(6),se("ngIf",i.success_status=="SUCCESS"),J(),se("ngIf",i.success_status=="ERROR"),J(5),se("formcontrol",i.formcontrol));},dependencies:[Fl,cn,rn,Mr,Db],encapsulation:2});};var n2e=e=>({opacity:e});function i2e(e,t){if(e&1&&(j(0,"div",8),nt(1),q()),e&2){let n=t.$implicit;J(),Mn(n);}}function r2e(e,t){if(e&1){let n=zt();j(0,"div",10),Ze("click",function(){let r=vt(n).$implicit,s=ve(2);return yt(s.show(r.date));}),nt(1),Ke(2,"app-horizontal-timeline",11),q();}if(e&2){let n=t.$implicit;ba("bg-light",n.isCurrentMonth)("bg-secondary",!n.isCurrentMonth),se("ngStyle",dh(8,n2e,n.isCurrentMonth?1:.25)),J(),jn(" ",n.date.getDate()," "),J(),se("timeline_start",n.date)("type","block");}}function s2e(e,t){if(e&1&&(j(0,"div",5),Le(1,r2e,3,10,"div",9),q()),e&2){let n=t.$implicit;J(),se("ngForOf",n);}}var cI=class e{constructor(t,n){this.employeeService=t;this.router=n;}currentDate=new Date();daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];calendarDays=[];ngOnInit(){this.generateCalendar();}changeMonth(t){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+t,this.currentDate.getDate()),this.generateCalendar();}generateCalendar(){let t=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1),n=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0),i=new Date(t);i.setDate(i.getDate()-i.getDay());let r=new Date(n);r.setDate(r.getDate()+(6-r.getDay()));let s=new Date(i),o=[];for(;s<=r;){let a=[];for(let l=0;l<7;l++)a.push({date:new Date(s),isCurrentMonth:s.getMonth()===this.currentDate.getMonth()}),s.setDate(s.getDate()+1);o.push(a);}this.calendarDays=o;}show(t){}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn));};static ɵcmp=St({type:e,selectors:[["app-calendar"]],decls:12,vars:6,consts:()=>{let t;t="Prej\u0161ni";let n;return n="Naslednji",[t,n,[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"row"],["class","col border",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"col","border"],["class","col border","name","test","style","padding: 0",3,"ngStyle","bg-light","bg-secondary","click",4,"ngFor","ngForOf"],["name","test",1,"col","border",2,"padding","0",3,"click","ngStyle"],[3,"timeline_start","type"]];},template:function(n,i){n&1&&(j(0,"div",2)(1,"div",3)(2,"button",4),Ze("click",function(){return i.changeMonth(-1);}),je(3,0),q(),j(4,"h2"),nt(5),$n(6,"date"),q(),j(7,"button",4),Ze("click",function(){return i.changeMonth(1);}),je(8,1),q()(),j(9,"div",5),Le(10,i2e,2,1,"div",6),q(),Le(11,s2e,2,1,"div",7),q()),n&2&&(J(5),Mn(ni(6,3,i.currentDate,"MMMM y")),J(5),se("ngForOf",i.daysOfWeek),J(),se("ngForOf",i.calendarDays));},dependencies:[cn,ji,vR,Ir,Ab],encapsulation:2});};var Lm=(e,t)=>qe(gn).logged_in?!0:qe(Fn).navigate(["/login"],{queryParams:{redirected:"true"}});function o2e(e,t){if(e&1){let n=zt();j(0,"div")(1,"button",19),Ze("click",function(){vt(n);let r=ve(2);return yt(r.deleteTask());}),je(2,6),q()();}}function a2e(e,t){if(e&1){let n=zt();j(0,"div",8)(1,"div",9)(2,"span",10),nt(3),q(),j(4,"span",11),nt(5),$n(6,"date"),q()(),j(7,"div",12)(8,"strong",13),nt(9,"Description: "),q(),Ke(10,"br"),nt(11),Ke(12,"br")(13,"hr"),j(14,"strong"),je(15,0),q(),nt(16),$n(17,"date"),Ke(18,"br"),j(19,"strong"),je(20,1),q(),nt(21),$n(22,"date"),Ke(23,"br"),q(),j(24,"div",14)(25,"div",15)(26,"button",16),Ze("click",function(){vt(n);let r=ve();return yt(r.changeStatus());}),je(27,2),q(),j(28,"select",17),Dm("ngModelChange",function(r){vt(n);let s=ve();return lb(s.selectedStatus,r)||(s.selectedStatus=r),yt(r);}),j(29,"option"),je(30,3),q(),j(31,"option"),je(32,4),q(),j(33,"option"),je(34,5),q()(),Le(35,o2e,3,0,"div",18),q()()();}if(e&2){let n=ve();J(),se("ngClass",n.task.status=="Done"?"bg-success":n.task.status=="Todo"?"bg-secondary":n.task.status=="In progress"?"bg-warning":""),J(2),jn(" ",n.task.status," "),J(2),jn(" ",ni(6,8,n.task.updatedAt,"dd/MM/Y hh:mm:ss"),""),J(6),jn(" ",n.task.description,""),J(5),jn(" ",ni(17,11,n.task.startDate,"dd/MM/Y hh:mm:ss"),""),J(5),jn(" ",ni(22,14,n.task.dueDate,"dd/MM/Y hh:mm:ss")," "),J(7),Am("ngModel",n.selectedStatus),J(7),se("ngIf",n.employeeService.role==="admin");}}var Rb=class e{constructor(t){this.employeeService=t;}task;deleted=!1;selectedStatus;ngOnInit(){this.selectedStatus=this.task.status;}changeStatus(){this.selectedStatus==null||this.task._id==null||this.employeeService.updateTask(this.task._id,{status:this.selectedStatus}).subscribe(t=>{this.task.status=this.selectedStatus;},t=>{});}deleteTask(){this.selectedStatus==null||this.task._id==null||this.employeeService.removeTask(this.task._id).subscribe(t=>{this.deleted=!0;},t=>{});}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-taskcard"]],inputs:{task:"task"},decls:1,vars:1,consts:()=>{let t;t="Za\u010Detek:";let n;n="Rok: ";let i;i="Spremeni stanje";let r;r="Todo";let s;s="In progress";let o;o="Done";let a;return a="Izbri\u0161i nalogo",[t,n,i,r,s,o,a,["class","card",4,"ngIf"],[1,"card"],[1,"card-header",3,"ngClass"],[1,"badge","bg-secondary","float-right"],[1,""],[1,"card-body"],["i18n8",""],[1,"card-footer"],[1,"input-group","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-select",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"]];},template:function(n,i){n&1&&Le(0,a2e,36,17,"div",7),n&2&&se("ngIf",!i.deleted);},dependencies:[cn,Wu,rn,Ir,Fl,vp,yp,Xu,mp,Nm],encapsulation:2});};function l2e(e,t){if(e&1){let n=zt();j(0,"div")(1,"button",19),Ze("click",function(){vt(n);let r=ve(2);return yt(r.deleteLeave());}),je(2,7),q()();}}function c2e(e,t){if(e&1){let n=zt();j(0,"div",9)(1,"div",10)(2,"span",11),nt(3),q(),j(4,"span",12),nt(5),$n(6,"date"),q()(),j(7,"div",13)(8,"strong"),je(9,0),q(),Ke(10,"br"),nt(11),Ke(12,"br")(13,"hr"),j(14,"strong"),je(15,1),q(),nt(16),$n(17,"date"),Ke(18,"br"),j(19,"strong"),je(20,2),q(),nt(21),$n(22,"date"),Ke(23,"br"),q(),j(24,"div",14)(25,"div",15)(26,"button",16),Ze("click",function(){vt(n);let r=ve();return yt(r.changeStatus());}),je(27,3),q(),j(28,"select",17),Dm("ngModelChange",function(r){vt(n);let s=ve();return lb(s.selectedStatus,r)||(s.selectedStatus=r),yt(r);}),j(29,"option"),je(30,4),q(),j(31,"option"),je(32,5),q(),j(33,"option"),je(34,6),q()(),Le(35,l2e,3,0,"div",18),q()()();}if(e&2){let n=ve();J(),se("ngClass",n.leave.status=="Approved"?"bg-success":n.leave.status=="Pending"?"bg-secondary":n.leave.status=="Rejected"?"bg-warning":""),J(2),jn(" ",n.leave.status," "),J(2),jn(" ",ni(6,8,n.leave.appliedAt,"dd/MM/Y hh:mm:ss"),""),J(6),jn(" ",n.leave.reason,""),J(5),jn(" ",ni(17,11,n.leave.startDate,"dd/MM/Y hh:mm:ss"),""),J(5),jn(" ",ni(22,14,n.leave.endDate,"dd/MM/Y hh:mm:ss")," "),J(7),Am("ngModel",n.selectedStatus),J(7),se("ngIf",n.employeeService.role==="admin");}}var uI=class e{constructor(t){this.employeeService=t;}leave;deleted=!1;selectedStatus;ngOnInit(){this.selectedStatus=this.leave.status;}changeStatus(){this.selectedStatus==null||this.leave._id==null||this.employeeService.updateLeave(this.leave._id,{status:this.selectedStatus}).subscribe(t=>{this.leave.status=this.selectedStatus;},t=>{});}deleteLeave(){this.selectedStatus==null||this.leave._id==null||this.employeeService.removeLeave(this.leave._id).subscribe(t=>{this.deleted=!0;},t=>{});}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-leavecard"]],inputs:{leave:"leave"},decls:1,vars:1,consts:()=>{let t;t="Opis: ";let n;n="Za\u010Detek:";let i;i="Rok: ";let r;r="Spremeni stanje";let s;s="V teku";let o;o="Odobrjeno";let a;a="Zavrnjeno";let l;return l="Izbri\u0161i dopust",[t,n,i,r,s,o,a,l,["class","card",4,"ngIf"],[1,"card"],[1,"card-header",3,"ngClass"],[1,"badge","bg-secondary","float-right"],[1,""],[1,"card-body"],[1,"card-footer"],[1,"input-group","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-select",3,"ngModelChange","ngModel"],[4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"]];},template:function(n,i){n&1&&Le(0,c2e,36,17,"div",8),n&2&&se("ngIf",!i.deleted);},dependencies:[cn,Wu,rn,Ir,Fl,vp,yp,Xu,mp,Nm],encapsulation:2});};var Zb=class{constructor(){this.allSyncListeners=new Map(),this.allAsyncListeners=new Map(),this.globalSyncListeners=new Set(),this.globalAsyncListeners=new Set(),this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={};}setFrameworkOverrides(e){this.frameworkOverrides=e;}getListeners(e,t,n){let i=t?this.allAsyncListeners:this.allSyncListeners,r=i.get(e);return!r&&n&&(r=new Set(),i.set(e,r)),r;}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0;}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t);}removeEventListener(e,t,n=!1){let i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e));}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e);}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e);}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0;}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e);}dispatchToListeners(e,t){let n=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath());}let i=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(u):u();}),r=this.getListeners(n,t,!1)??new Set(),s=new Set(r);s.size>0&&i(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(l):l();});}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0);};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0;}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t());}};function u2e(e,t){return t;}function AZ(e){return e?.getLocaleTextFunc()??u2e;}function Ih(e,t,n){n==null||typeof n=="string"&&n==""?DZ(e,t):Nc(e,t,n);}function Nc(e,t,n){e.setAttribute(RZ(t),n.toString());}function DZ(e,t){e.removeAttribute(RZ(t));}function RZ(e){return`aria-${e}`;}function Wo(e,t){t?e.setAttribute("role",t):e.removeAttribute("role");}function d2e(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t;}function h2e(e){return e.getAttribute("aria-label");}function WI(e,t){Ih(e,"label",t);}function $8(e,t){Ih(e,"labelledby",t);}function IZ(e,t){Ih(e,"live",t);}function f2e(e,t){Ih(e,"atomic",t);}function p2e(e,t){Ih(e,"relevant",t);}function g2e(e,t){Ih(e,"disabled",t);}function PZ(e,t){Ih(e,"hidden",t);}function W8(e,t){Nc(e,"expanded",t);}function m2e(e,t){Nc(e,"setsize",t);}function v2e(e,t){Nc(e,"posinset",t);}function y2e(e,t){Nc(e,"multiselectable",t);}function b2e(e,t){Nc(e,"rowcount",t);}function kZ(e,t){Nc(e,"rowindex",t);}function x2e(e,t){Nc(e,"colcount",t);}function MZ(e,t){Nc(e,"colindex",t);}function w2e(e,t){Nc(e,"colspan",t);}function C2e(e,t){Nc(e,"sort",t);}function _2e(e){DZ(e,"sort");}function q8(e,t){Ih(e,"selected",t);}function S2e(e,t){Ih(e,"controls",t.id),$8(t,e.id);}function CB(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked");}var y8,b8,x8,w8,C8,K8,Y8,_8;function qm(){return y8===void 0&&(y8=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),y8;}function FZ(){if(b8===void 0){let e=window;b8=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);}return b8;}function NZ(){return x8===void 0&&(x8=/(firefox)/i.test(navigator.userAgent)),x8;}function LZ(){return w8===void 0&&(w8=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),w8;}function Vm(){return C8===void 0&&(C8=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),C8;}function X8(e){if(!e)return null;let t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!NZ())?null:t.toString();}function E2e(){if(_8!==void 0)return _8;if(!document.body)return-1;let e=1e6,t=NZ()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){let i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i;}return document.body.removeChild(n),_8=e,e;}function T2e(){return Y8==null&&OZ(),Y8;}function OZ(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(Y8=n,K8=n===0);}function BZ(){return K8==null&&OZ(),K8;}var dI;var A2e="[tabindex], input, select, button, textarea, [href]",VZ="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _B(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,VZ),s=Mc(e);return i&&!r&&s;}function rr(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||PZ(e,!t);}function D2e(e,t,n={}){let{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||PZ(e,!t);}function G_(e,t){let n="disabled",i=t?r=>r.setAttribute(n,""):r=>r.removeAttribute(n);i(e),WZ(e.querySelectorAll("input"),r=>i(r));}function Hm(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break;}else if(e===n)break;}return!1;}function Km(e){let{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:f,marginLeft:g,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(g||"0"),boxSizing:m};}function SB(e){let t=Km(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height;}function z_(e){let t=Km(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width;}function HZ(e){let{height:t,marginBottom:n,marginTop:i}=Km(e);return Math.floor(t+n+i);}function TI(e){let{width:t,marginLeft:n,marginRight:i}=Km(e);return Math.floor(t+n+i);}function GZ(e){let t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:s}=Km(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(s||0)};}function AI(){if(typeof dI=="boolean")return dI;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,dI=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),dI;}function DI(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),FZ()&&!AI()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n;}function RI(e,t,n){n&&(AI()?t*=-1:(qm()||FZ())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t;}function lo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild);}function Nl(e){e&&e.parentNode&&e.parentNode.removeChild(e);}function zZ(e){return!!e.offsetParent;}function Mc(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!zZ(e)||window.getComputedStyle(e).visibility!=="visible");}function U_(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild;}function UZ(e,t,n){n&&n.nextSibling===t||(n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t));}function jZ(e,t){for(let n=0;n<t.length;n++){let i=t[n],r=e.children[n];r!==i&&e.insertBefore(i,r);}}function R2e(e,t,n){n?n.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t);}function I2e(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`);}function $Z(e,t){if(t)for(let[n,i]of Object.entries(t)){if(!n||!n.length||i==null)continue;let r=I2e(n),s=i.toString(),o=s.replace(/\s*!important/g,""),a=o.length!=s.length?"important":void 0;e.style.setProperty(r,o,a);}}function P2e(e){return e.clientWidth<e.scrollWidth;}function k2e(e){return e.clientHeight<e.scrollHeight;}function II(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ed(e,t);}function ed(e,t){t=EB(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString();}function N_(e,t){t=EB(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString();}function EB(e){return typeof e=="number"?`${e}px`:e;}function TB(e){return e instanceof Node||e instanceof HTMLElement;}function M2e(e){if(e==null)return[];let t=[];return WZ(e,n=>t.push(n)),t;}function F2e(e,t){if(e)for(let n=0;n<e.length;n++){let i=e[n];t(i.name,i.value);}}function Bl(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString());}function WZ(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n]);}function Tp(e,t,n){let r=tJ(e).ResizeObserver,s=r?new r(n):null;return s?.observe(t),()=>s?.disconnect();}function Eh(e){return e==null||e===""?null:e;}function at(e){return e!=null&&e!=="";}function tr(e){return!at(e);}function Q8(e){return e!=null&&typeof e.toString=="function"?e.toString():null;}function j_(e,t){let n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i;}function N2e(e,t,n=!1){let i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function s(o,a){return o>a?1:o<a?-1:0;}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t);}catch{return s(e,t);}}var qZ="https://www.ag-grid.com",HQ={};function KZ(e,t){HQ[t]||(e(),HQ[t]=!0);}function Sp(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n);}function Nb(e,...t){KZ(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""));}function Lb(e,...t){KZ(()=>console.error("AG Grid: "+e,...t),e+t?.join(""));}var S8=[],E8=!1;function GQ(e){S8.push(e),!E8&&(E8=!0,window.setTimeout(()=>{let t=S8.slice();S8.length=0,E8=!1,t.forEach(n=>n());},0));}function $o(e,t,n){let i;return function(...r){let s=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,r);},n);};}function zQ(e,t){let n=0;return function(...i){let r=this,s=new Date().getTime();s-n<t||(n=s,e.apply(r,i));};}function L2e(e,t,n=100,i){let r=new Date().getTime(),s=null,o=!1,a=()=>{let l=new Date().getTime()-r>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null),l&&i&&Nb(i));};a(),o||(s=window.setInterval(a,10));}var ht="33.0.3",UQ=2e3,jQ=100,YZ="_version_",XZ=null,O2e=!1,jb=`${qZ}/javascript-data-grid`;function B2e(e){XZ=e;}function V2e(e){jb=e;}function QZ(e,t,n){return XZ?.getConsoleMessage(e,t)??[U2e(e,t,n)];}function AB(e,t,n,i){O2e||e(`error #${t}`,...QZ(t,n,i));}function H2e(e){if(!e)return String(e);let t={};for(let n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t);}function G2e(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=H2e(e)),t;}function PI(e){return e===void 0?"undefined":e===null?"null":e;}function Z8(e,t){return`${e}?${t.toString()}`;}function z2e(e,t,n){let i=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length),r=Z8(e,t);for(let[s,o]of i){if(s===YZ)continue;let a=r.length-n;if(a<=0)break;let l="...",c=a+l.length,u=o.length-c>jQ?o.slice(0,o.length-c)+l:o.slice(0,jQ)+l;t.set(s,u),r=Z8(e,t);}return r;}function ZZ(e,t){let n=new URLSearchParams();n.append(YZ,ht),t&&Object.entries(t).forEach(([s,o])=>{n.append(s,G2e(o));});let i=`${jb}/errors/${e}`,r=Z8(i,n);return r.length<=UQ?r:z2e(i,n,UQ);}var U2e=(e,t,n)=>{let i=ZZ(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`;};function et(...e){AB(Nb,e[0],e[1]);}function vi(...e){AB(Lb,e[0],e[1]);}function J8(e,t,n){AB(Lb,e,t,n);}function j2e(e,t){let n=t[0];return`error #${n} `+QZ(n,t[1],e).join(" ");}function _p(...e){return j2e(void 0,e);}function JZ(e,t){return e.get("rowModelType")===t;}function jo(e,t){return JZ(e,"clientSide");}function Z_(e,t){return JZ(e,"serverSide");}function Gs(e,t){return e.get("domLayout")===t;}function Gm(e){return MI(e)!==void 0;}function eJ(e){return typeof e.get("getRowHeight")=="function";}function $2e(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder");}function jm(e,t,n=!1,i){let{gos:r,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),eJ(r)){if(n)return{height:i,estimated:!0};let l={node:t,data:t.data},c=r.getCallback("getRowHeight")(l);if(eB(c))return c===0&&et(23),{height:Math.max(1,c),estimated:!1};}if(t.detail&&r.get("masterDetail"))return W2e(r);let o=r.get("rowHeight");return{height:o&&eB(o)?o:i,estimated:!1};}function W2e(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return eB(t)?{height:t,estimated:!1}:{height:300,estimated:!1};}function zm(e){let{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||tr(i))return t.getDefaultRowHeight();let r=t.refreshRowHeightVariable();return r!==-1?r:(et(24),t.getDefaultRowHeight());}function eB(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e);}function kI(e,t,n){let i=t[e.getDomDataKey()];return i?i[n]:void 0;}function $m(e,t,n,i){let r=e.getDomDataKey(),s=t[r];tr(s)&&(s={},t[r]=s),s[n]=i;}function Fr(e){let{gos:t,eGridDiv:n}=e,i=null,r=t.get("getDocument");return r&&at(r)?i=r():n&&(i=n.ownerDocument),i&&at(i)?i:document;}function tJ(e){return Fr(e).defaultView||window;}function $_(e){return e.eGridDiv.getRootNode();}function sr(e){return $_(e).activeElement;}function DB(e){let t=null,n=null;try{t=Fr(e).fullscreenElement;}catch{}finally{t||(t=$_(e));let i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t;}return n;}function q2e(e){return DB(e)?.clientWidth??(window.innerHeight||-1);}function K2e(e){return DB(e)?.clientHeight??(window.innerHeight||-1);}function Y2e(e,t,n){let r=e.getBoundingClientRect().height,s=q2e(n)-2,o=K2e(n)-2;if(!e.offsetParent)return;let l=GZ(e.offsetParent),{clientY:c,clientX:u}=t,d=c-l.top-r/2,h=u-l.left-10,f=Fr(n),g=f.defaultView||window,m=g.pageYOffset||f.documentElement.scrollTop,y=g.pageXOffset||f.documentElement.scrollLeft;s>0&&h+e.clientWidth>s+y&&(h=s+y-e.clientWidth),h<0&&(h=0),o>0&&d+e.clientHeight>o+m&&(d=o+m-e.clientHeight),d<0&&(d=0),e.style.left=`${h}px`,e.style.top=`${d}px`;}function nJ(e){let t=Fr(e),n=sr(e);return n===null||n===t.body;}function Ob(e){return e.get("ensureDomOrder")?!1:e.get("animateRows");}function iJ(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Gs(e,"print"));}function Ju(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData");}function tB(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0;}function X2e(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents");}function RB(e,t){return t?!1:e.get("groupDisplayType")==="groupRows";}function $b(e){let t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(et(25,{id:i}),i=String(i)),i;};}function Q2e(e,t){let n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup);}function Z2e(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0;}function Bb(e){return e?.checkboxes??!0;}function xI(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0);}function nB(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn";}function T8(e){return e?.hideDisabledCheckboxes??!1;}function J2e(e){return typeof e.get("rowSelection")!="string";}function Dh(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection");}function rJ(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0;}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1;}function eEe(e){let t=rJ(e);return t===!0||t==="enableSelection";}function $Q(e){let t=rJ(e);return t===!0||t==="enableDeselection";}function iB(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable;}function MI(e){let t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return;}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return;}}function qI(e){return MI(e)==="multiRow";}function tEe(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1;}function FI(e){let t=e.get("rowSelection");if(typeof t=="string"){let n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self";}return t?.mode==="multiRow"?t.groupSelects:void 0;}function sJ(e,t=!0){let n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all";}function W_(e){let t=FI(e);return t==="descendants"||t==="filteredDescendants";}function A8(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault");}function Ka(e){return e.get("columnMenu")==="legacy";}function nEe(e){return!Ka(e);}function oJ(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1);}function aJ(e,t,n){typeof e!="object"&&(e={});let i=O({},e);return n.forEach(r=>{let s=t[r];typeof s<"u"&&(i[r]=s);}),i;}function lJ(e,t){if(!e)return;let n={},i=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],i=!0;}),!i)return;let r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);let s=O({type:"componentStateChanged"},n);t.dispatchEvent(s);}var cJ="__ag_Grid_Stop_Propagation",iEe=["touchstart","touchend","touchmove","touchcancel","scroll"],rEe=["wheel"],D8={};function Wb(e){e[cJ]=!0;}function Th(e){return e[cJ]===!0;}var uJ=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof D8[n]=="boolean")return D8[n];let i=document.createElement(e[n]||"div");return n="on"+n,D8[n]=n in i;};})();function dJ(e,t,n){let i=t;for(;i;){let r=kI(e,i,n);if(r)return r;i=i.parentElement;}return null;}function sEe(e,t){return!t||!e?!1:aEe(t).indexOf(e)>=0;}function oEe(e){let t=[],n=e.target;for(;n;)t.push(n),n=n.parentElement;return t;}function aEe(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():oEe(t);}function lEe(e,t,n,i){let r=hJ(n),s;r!=null&&(s={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,s);}var hJ=e=>{let t=iEe.includes(e),n=rEe.includes(e);if(t)return!0;if(n)return!1;},Oe=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed;}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos;}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"});}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Zb()),this.localEventService.addEventListener(e,t,n);}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n);}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e);}addManagedElementListeners(e,t){return this._setupListeners(e,t);}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e);}addManagedListeners(e,t){return this._setupListeners(e,t);}_setupListeners(e,t){let n=[];for(let i of Object.keys(t)){let r=t[i];r&&n.push(this._setupListener(e,i,r));}return n;}_setupListener(e,t,n){if(this.destroyed)return()=>null;e instanceof HTMLElement?lEe(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n);let i=()=>(e.removeEventListener(t,n),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null);}setupGridOptionListener(e,t){let{gos:n}=this;n.addPropertyEventListener(e,t);let i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null);}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t);}addManagedPropertyListeners(e,t){if(this.destroyed)return;let n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id;}let s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s);};e.forEach(r=>this.setupGridOptionListener(r,i));}getLocaleTextFunc(){return AZ(this.beans.localeSvc);}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e();}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0;}createManagedBean(e,t){let n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n;}createBean(e,t,n){return(t||this.stubContext).createBean(e,n);}destroyBean(e,t){return(t||this.stubContext).destroyBean(e);}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e);}},fJ=new Set(["__proto__","constructor","prototype"]);function cEe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return;}for(let[n,i]of Object.entries(e))t(n,i);}}function ao(e,t,n=!0,i=!1){at(t)&&cEe(t,(r,s)=>{if(fJ.has(r))return;let o=e[r];o!==s&&(i&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[r]=o),WQ(s)&&WQ(o)&&!Array.isArray(o)?ao(o,s,n,i):(n||s!==void 0)&&(e[r]=s));});}function L_(e,t,n){if(!t||!e)return;if(!n)return e[t];let i=t.split("."),r=e;for(let s=0;s<i.length;s++){if(r==null)return;r=r[i[s]];}return r;}function WQ(e){return typeof e=="object"&&e!==null;}var uEe={resizable:!0,sortable:!0},dEe=0;function pJ(){return dEe++;}function Ep(e){return e instanceof IB;}var IB=class extends Oe{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=pJ(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Zb(),this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null;}getInstanceId(){return this.instanceId;}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);let r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this);}setColDef(e,t,n){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.dispatchColEvent("colDefChanged",n);}getUserProvidedColDef(){return this.userProvidedColDef;}getParent(){return this.parent;}getOriginalParent(){return this.originalParent;}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip();}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=at(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=at(n)&&n.indexOf(".")>=0&&!i;}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER;}initTooltip(){this.beans.tooltipSvc?.initCol(this);}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0);}calculateColInitialWidth(e){let t,n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth);}isEmptyGroup(){return!1;}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1;}isPrimary(){return this.primary;}isFilterAllowed(){return!!this.colDef.filter;}isFieldContainsDots(){return this.fieldContainsDots;}isTooltipEnabled(){return this.tooltipEnabled;}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots;}getHighlighted(){return this.highlighted;}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let n=this.frameworkEventListenerService?.wrap(t)??t;this.colEventSvc.addEventListener(e,n);}removeEventListener(e,t){let n=this.frameworkEventListenerService?.unwrap(t)??t;this.colEventSvc.removeEventListener(e,n);}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef});}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1;}isCellEditable(e){return this.beans.editSvc?.isCellEditable(this,e)??!1;}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle;}isAutoHeight(){return!!this.colDef.autoHeight;}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight;}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag);}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource);}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1;}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null);}isResizable(){return!!this.getColDefValue("resizable");}getColDefValue(e){return this.colDef[e]??uEe[e];}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let n=this.createColumnFunctionCallbackParams(e);return t(n);}return!1;}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t});}isMoving(){return this.moving;}getSort(){return this.sort;}isSortable(){return!!this.getColDefValue("sortable");}isSortAscending(){return this.sort==="asc";}isSortDescending(){return this.sort==="desc";}isSortNone(){return tr(this.sort);}isSorting(){return at(this.sort);}getSortIndex(){return this.sortIndex;}isMenuVisible(){return this.menuVisible;}getAggFunc(){return this.aggFunc;}getLeft(){return this.left;}getOldLeft(){return this.oldLeft;}getRight(){return this.left+this.actualWidth;}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t));}isFilterActive(){return this.filterActive;}isHovered(){return et(261),!!this.beans.colHover?.isHovered(this);}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t));}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t));}isFirstRightPinned(){return this.firstRightPinned;}isLastLeftPinned(){return this.lastLeftPinned;}isPinned(){return this.pinned==="left"||this.pinned==="right";}isPinnedLeft(){return this.pinned==="left";}isPinnedRight(){return this.pinned==="right";}getPinned(){return this.pinned;}setVisible(e,t){let n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide");}isVisible(){return this.visible;}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight;}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,n=!0;for(;e;){if(!e.isPadding()){n=!1;break;}e=e.getParent();}return{numberOfParents:t,isSpanningTotal:n};}getColDef(){return this.colDef;}getDefinition(){return this.colDef;}getColumnGroupShow(){return this.colDef.columnGroupShow;}getColId(){return this.colId;}getId(){return this.colId;}getUniqueId(){return this.colId;}getActualWidth(){return this.actualWidth;}getAutoHeaderHeight(){return this.autoHeaderHeight;}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t;}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this});}getColSpan(e){if(tr(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1);}getRowSpan(e){if(tr(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1);}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width");}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e);}isGreaterThanMax(e){return e>this.maxWidth;}getMinWidth(){return this.minWidth;}getMaxWidth(){return this.maxWidth;}getFlex(){return this.flex;}isRowGroupActive(){return this.rowGroupActive;}isPivotActive(){return this.pivotActive;}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive();}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue();}isValueActive(){return this.aggregationActive;}isAllowPivot(){return this.colDef.enablePivot===!0;}isAllowValue(){return this.colDef.enableValue===!0;}isAllowRowGroup(){return this.colDef.enableRowGroup===!0;}dispatchColEvent(e,t,n){let i=this.createColumnEvent(e,t);n&&ao(i,n),this.colEventSvc.dispatchEvent(i);}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e});}};function Uo(e){return e instanceof wI;}var wI=class extends Oe{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=pJ(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault;}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy();}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0;}getInstanceId(){return this.instanceId;}getOriginalParent(){return this.originalParent;}getLevel(){return this.level;}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1;}isPadding(){return this.padding;}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"});}isExpandable(){return this.expandable;}isExpanded(){return this.expanded;}getGroupId(){return this.groupId;}getId(){return this.getGroupId();}setChildren(e){this.children=e;}getChildren(){return this.children;}getColGroupDef(){return this.colGroupDef;}getLeafColumns(){let e=[];return this.addLeafColumns(e),e;}addLeafColumns(e){this.children&&this.children.forEach(t=>{Ep(t)?e.push(t):Uo(t)&&t.addLeafColumns(e);});}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow;}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null;};}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding();for(let s=0,o=i.length;s<o;s++){let a=i[s];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0);}let r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}));}findChildrenRemovingPadding(){let e=[],t=n=>{n.forEach(i=>{Uo(i)&&i.isPadding()?t(i.children):e.push(i);});};return t(this.children),e;}onColumnVisibilityChanged(){this.setExpandable();}},hEe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},fEe=class{constructor(){this.existingKeys={};}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0;}getUniqueKey(e,t){e=Q8(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++;}}},qQ=Object.freeze([]);function ii(e){if(e?.length)return e[e.length-1];}function Ym(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i);}function pEe(e){return e.sort((t,n)=>t-n);}function Fc(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1);}function KQ(e,t,n){for(let i=0;i<t.length;i++)Fc(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i]);}function gJ(e,t){let n=[],i=[],r=[];return e.forEach(o=>{let a=o.getColDef().lockPosition;a==="right"?r.push(o):a==="left"||a===!0?n.push(o):i.push(o);}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r];}function mJ(e,t){let n=!0;return Ah(null,t,i=>{if(!Uo(i))return;let r=i,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;let a=[];r.getLeafColumns().forEach(h=>{let f=e.indexOf(h);a.push(f);});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,d=r.getLeafColumns().length-1;u>d&&(n=!1);}),n;}function vJ(e,t){if(!e||e.length==0)return;let n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n;}function yJ(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=vJ(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n});}function gEe(e,t,n){if(!t.length)return;let i=t.length===1?t[0]:null,r=vJ(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n});}function mEe(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i});}function qb(e,t,n,i,r=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i});}function kc(e,t,n){let{colModel:i,rowGroupColsSvc:r,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:u,environment:d,valueColsSvc:h,eventSvc:f,gos:g}=e,m=i.getColDefCols()||[];if(!m?.length)return!1;if(t?.state&&!t.state.forEach)return et(32),!1;let y=(A,I,N,R,D)=>{if(!A)return;let V=SEe(I,t.defaultState),X=V("flex").value1;if(AJ(e,A,V("hide").value1,V("sort").value1,V("sortIndex").value1,V("pinned").value1,X,n),X==null){let S=V("width").value1;if(S!=null){let T=A.getColDef().minWidth??d.getDefaultColumnMinWidth();T!=null&&S>=T&&A.setActualWidth(S,n);}}D||!A.isPrimary()||(h?.syncColumnWithState(A,n,V),r?.syncColumnWithState(A,n,V,N),s?.syncColumnWithState(A,n,V,R));},b=(A,I,N)=>{let R=bJ(e,n),D=I.slice(),V={},X={},S=[],T=[],z=[],W=0,H=r?.columns.slice()??[],F=s?.columns.slice()??[];A.forEach(ne=>{let ae=ne.colId;if(ae.startsWith(KI)){S.push(ne),z.push(ne);return;}if(td(ae)){T.push(ne),z.push(ne);return;}let P=N(ae);P?(y(P,ne,V,X,!1),Fc(D,P)):(z.push(ne),W+=1);});let Y=ne=>y(ne,null,V,X,!1);D.forEach(Y),r?.sortColumns(YQ.bind(r,V,H)),s?.sortColumns(YQ.bind(s,X,F)),i.refreshCols(!1);let Z=(ne,ae,Ce=[])=>{ae.forEach(P=>{let Q=ne(P.colId);Fc(Ce,Q),y(Q,P,null,null,!0);}),Ce.forEach(Y);};return Z(ne=>o?.getAutoCol(ne)??null,S,o?.getAutoCols()?.slice()),Z(ne=>a?.getSelectionCol(ne)??null,T,a?.getSelectionCols()?.slice()),yEe(t,i,g),c.refresh(n),f.dispatchEvent({type:"columnEverythingChanged",source:n}),R(),{unmatchedAndAutoStates:z,unmatchedCount:W};};l?.start();let{unmatchedAndAutoStates:C,unmatchedCount:_}=b(t.state||[],m,A=>i.getColDefCol(A));if(C.length>0||at(t.defaultState)){let A=u?.getPivotResultCols()?.list??[];_=b(C,A,I=>u?.getPivotResultCol(I)??null).unmatchedCount;}return l?.finish(),_===0;}function vEe(e,t){let{colModel:n,autoColSvc:i}=e;if(!n.getColDefCols()?.length)return;let s=n.getColDefColTree(),o=SJ(s),a=[],l=1e3,c=1e3,u=[],d=i?.getAutoCols();d&&(u=u.concat(d)),o&&(u=u.concat(o)),u.forEach(h=>{let f=xJ(h);tr(f.rowGroupIndex)&&f.rowGroup&&(f.rowGroupIndex=l++),tr(f.pivotIndex)&&f.pivot&&(f.pivotIndex=c++),a.push(f);}),kc(e,{state:a,applyOrder:!0},t);}function bJ(e,t){let{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:r?.columns.slice()??[]},c=q_(e),u={};return c.forEach(d=>{u[d.colId]=d;}),()=>{let d=s.getAllCols(),h=(R,D,V,X)=>{let S=D.map(X),T=V.map(X);if(Ym(S,T))return;let W=new Set(D);V.forEach(F=>{W.delete(F)||W.add(F);});let H=[...W];a.dispatchEvent({type:R,columns:H,column:H.length===1?H[0]:null,source:t});},f=R=>{let D=[];return d.forEach(V=>{let X=u[V.getColId()];X&&R(X,V)&&D.push(V);}),D;},g=R=>R.getColId();h("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],g),h("columnPivotChanged",l.pivotColumns,i?.columns??[],g);let y=f((R,D)=>{let V=R.aggFunc!=null,X=V!=D.isValueActive(),S=V&&R.aggFunc!=D.getAggFunc();return X||S;});y.length>0&&mEe(a,"columnValueChanged",y,t),qb(a,f((R,D)=>R.width!=D.getActualWidth()),!0,t),yJ(a,f((R,D)=>R.pinned!=D.getPinned()),t),gEe(a,f((R,D)=>R.hide==D.isVisible()),t);let I=f((R,D)=>R.sort!=D.getSort()||R.sortIndex!=D.getSortIndex());I.length>0&&o?.dispatchSortChangedEvents(t,I);let N=q_(e);xEe(c,N,t,s,a);};}function q_(e){let{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(tr(r)||!t.isAlive())return[];let s=t.getAllCols(),o=n?.columns,a=i?.columns,l=d=>{let h=d.isRowGroupActive()&&o?o.indexOf(d):null,f=d.isPivotActive()&&a?a.indexOf(d):null,g=d.isValueActive()?d.getAggFunc():null,m=d.getSort()!=null?d.getSort():null,y=d.getSortIndex()!=null?d.getSortIndex():null;return{colId:d.getColId(),width:d.getActualWidth(),hide:!d.isVisible(),pinned:d.getPinned(),sort:m,sortIndex:y,aggFunc:g,rowGroup:d.isRowGroupActive(),rowGroupIndex:h,pivot:d.isPivotActive(),pivotIndex:f,flex:d.getFlex()??null};},c=s.map(d=>l(d)),u=new Map(t.getCols().map((d,h)=>[d.getColId(),h]));return c.sort((d,h)=>{let f=u.has(d.colId)?u.get(d.colId):-1,g=u.has(h.colId)?u.get(h.colId):-1;return f-g;}),c;}function xJ(e){let t=(g,m)=>g??m??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex),c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);let f=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:f};}function yEe(e,t,n){if(!e.applyOrder||!e.state)return;let i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId);}),bEe(t.cols,i,t,n);}function bEe(e,t,n,i){if(e==null)return;let r=[],s={};t.forEach(a=>{if(s[a])return;let l=e.map[a];l&&(r.push(l),s[a]=!0);});let o=0;if(e.list.forEach(a=>{let l=a.getColId();if(s[l]!=null)return;l.startsWith(KI)?r.splice(o++,0,a):r.push(a);}),r=gJ(r,i),!mJ(r,n.getColTree())){et(39);return;}e.list=r;}function xEe(e,t,n,i,r){let s={};t.forEach(u=>s[u.colId]=u);let o={};e.forEach(u=>{s[u.colId]&&(o[u.colId]=!0);});let a=e.filter(u=>o[u.colId]),l=t.filter(u=>o[u.colId]),c=[];l.forEach((u,d)=>{let h=a&&a[d];if(h&&h.colId!==u.colId){let f=i.getCol(h.colId);f&&c.push(f);}}),c.length&&r.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n});}var YQ=(e,t,n,i)=>{let r=e[n.getId()],s=e[i.getId()],o=r!=null,a=s!=null;if(o&&a)return r-s;if(o)return-1;if(a)return 1;let l=t.indexOf(n),c=t.indexOf(i),u=l>=0,d=c>=0;return u&&d?l-c:u?-1:1;},wJ="ag-Grid-SelectionColumn",wEe=class extends Oe{constructor(){super(...arguments),this.beanName="selectionColSvc";}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Vb(e.source));});}addSelectionCols(e){let t=this.selectionCols;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),_Ee(e));}createSelectionCols(e,t){let n=()=>{NI(this.beans,this.selectionCols?.tree),this.selectionCols=null;},i=e.treeDepth,s=(this.selectionCols?.treeDepth??-1)==i,o=this.generateSelectionCols();if(CEe(o,this.selectionCols?.list??[])&&s)return;n();let{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,u=l?.balanceTreeForAutoCols(o,c)??[];this.selectionCols={list:o,tree:u,treeDepth:c,map:{}},t(h=>{if(!h)return null;let f=h.filter(g=>!td(g));return[...o,...f];});}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Gm(e))return!1;let i=(t.autoColSvc?.getAutoCols()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;let r=!!Bb(n),s=xI(n);return r||s;}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let{gos:e,validation:t}=this.beans,n=e.get("selectionColumnDef"),i=e.get("enableRtl"),r=Re(O({width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,c,u){let d=c.isSelected(),h=u.isSelected();return d===h?0:d?1:-1;},editable:!1,suppressFillHandle:!0},n),{colId:wJ}),s=r.colId;t?.validateColDef(r,s,!0);let o=new IB(r,null,s,!1);return this.createBean(o),[o];}putSelectionColsFirstInList(e,t){if(!t)return null;let n=t.filter(i=>!td(i));return[...e,...n];}getSelectionCol(e){return this.selectionCols?.list.find(t=>EJ(t,e))??null;}getSelectionCols(){return this.selectionCols?.list??null;}onSelectionOptionsChanged(e,t,n){let i=t&&typeof t!="string"?Bb(t):void 0,r=e&&typeof e!="string"?Bb(e):void 0,s=i!==r,o=t&&typeof t!="string"?xI(t):void 0,a=e&&typeof e!="string"?xI(e):void 0,l=o!==a,c=nB(e),u=nB(t);(s||l||c!==u)&&this.beans.colModel.refreshAll(n);}destroy(){NI(this.beans,this.selectionCols?.tree),super.destroy();}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;let t=this.beans,n=t.visibleCols.getAllTrees()??[];if(n.length!==0){if(!n.some(CJ)){let i=q_(t).find(r=>td(r.colId));i&&kc(t,{state:[{colId:i.colId,hide:!i.hide}]},e);}if(n.length===1){let i=n[0],r=_J(i);if(!r)return;kc(t,{state:[{colId:r.getColId(),hide:!0}]},e);}}}},CJ=e=>e.isColumn?td(e):e.getChildren()?.some(CJ)??!1;function _J(e){if(e.isColumn)return td(e)?e:null;let t=e.getChildren()??[];for(let n of t){let i=_J(n);if(i)return i;}return null;}var KI="ag-Grid-AutoColumn";function SJ(e){let t=[],n=i=>{for(let r=0;r<i.length;r++){let s=i[r];Ep(s)?t.push(s):Uo(s)&&n(s.getChildren());}};return n(e),t;}function _h(e){return e.reduce((t,n)=>t+n.getActualWidth(),0);}function NI(e,t,n){let i={};if(!t)return;Ah(null,t,s=>{i[s.getInstanceId()]=s;}),n&&Ah(null,n,s=>{i[s.getInstanceId()]=null;});let r=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(r);}function PB(e){return e.getId().startsWith(KI);}function td(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(wJ)??!1;}function LI(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t;}function CEe(e,t){return Ym(e,t,(n,i)=>n.getColId()===i.getColId());}function _Ee(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t);}function Vb(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e;}function EJ(e,t){let n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r;}var SEe=(e,t)=>(n,i)=>{let r={value1:void 0,value2:void 0},s=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],s=!0),at(i)&&e[i]!==void 0&&(r.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(r.value1=t[n]),at(i)&&t[i]!==void 0&&(r.value2=t[i])),r;};function EEe(e,t=null,n,i,r){let s=new fEe(),{existingCols:o,existingGroups:a,existingColKeys:l}=TEe(i);s.addExistingKeys(l);let c=TJ(e,t,0,n,o,s,a,r),{colGroupSvc:u}=e,d=u?.findMaxDepth(c,0)??0,h=u?u.balanceColumnTree(c,0,d,s):c;return Ah(null,h,(g,m)=>{Uo(g)&&g.setupExpandable(),g.originalParent=m;}),{columnTree:h,treeDept:d};}function TEe(e){let t=[],n=[],i=[];return e&&Ah(null,e,r=>{if(Uo(r)){let s=r;n.push(s);}else{let s=r;i.push(s.getId()),t.push(s);}}),{existingCols:t,existingGroups:n,existingColKeys:i};}function TJ(e,t,n,i,r,s,o,a){if(!t)return[];let{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){let d=t[u];l&&kEe(d)?c[u]=l.createProvidedColumnGroup(i,d,n,r,s,o,a):c[u]=AEe(e,i,d,r,s,a);}return c;}function AEe(e,t,n,i,r,s){let o=REe(n,i);o&&i?.splice(o.idx,1);let a=o?.column;if(a){let l=rB(e,n,a.getColId());a.setColDef(l,n,s),DEe(e,a,l,s);}else{let l=r.getUniqueKey(n.colId,n.field),c=rB(e,n,l);a=new IB(c,n,l,t),e.context.createBean(a);}return e.dataTypeSvc?.addColumnListeners(a),a;}function AJ(e,t,n,i,r,s,o,a){let{sortSvc:l,pinnedCols:c,colFlex:u}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&u?.setColFlex(t,o);}function DEe(e,t,n,i){AJ(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);let r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{let s=t.getActualWidth();t.setActualWidth(s,i);}}function REe(e,t){if(t)for(let n=0;n<t.length;n++){let i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue;}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue;}if(i===e)return{idx:n,column:t[n]};}}function rB(e,t,n,i){let{gos:r,dataTypeSvc:s,validation:o}=e,a={},l=r.get("defaultColDef");ao(a,l,!1,!0);let c=IEe(e,a,t,n);c&&PEe(e,c,a),ao(a,t,!1,!0);let u=r.get("autoGroupColumnDef"),d=Ju(r);return t.rowGroup&&u&&d&&ao(a,{sort:u.sort,initialSort:u.initialSort},!1,!0),s?.validateColDef(a),o?.validateColDef(a,n,i),a;}function IEe(e,t,n,i){let r=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),s=n.type??r??t.type;return t.type=s,s?LI(s):void 0;}function PEe(e,t,n){if(!t.length)return;let i=Object.assign({},hEe),r=e.gos.get("columnTypes")||{};for(let[s,o]of Object.entries(r))s in i?et(34,{key:s}):(o.type&&et(35),i[s]=o);t.forEach(s=>{let o=i[s.trim()];o?ao(n,o,!1,!0):et(36,{t:s});});}function kEe(e){return e.children!==void 0;}function Ah(e,t,n){if(t)for(let i=0;i<t.length;i++){let r=t[i];Uo(r)&&Ah(r,r.getChildren(),n),n(r,e);}}var MEe=class extends Oe{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1;}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Vb(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(Vb(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Vb(e.source)));}createColsFromColDefs(e){let{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,colViewport:l,eventSvc:c}=t,u=this.colDefs?bJ(t,e):void 0;n?.expire();let d=this.colDefCols?.list,h=this.colDefCols?.tree,f=EEe(t,this.colDefs,!0,h,e);NI(t,this.colDefCols?.tree,f.columnTree);let g=f.columnTree,m=f.treeDept,y=SJ(g),b={};y.forEach(C=>b[C.getId()]=C),this.colDefCols={tree:g,treeDepth:m,list:y,map:b},r?.extractCols(e,d),s?.extractCols(e,d),o?.extractCols(e,d),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),c.dispatchEvent({type:"columnEverythingChanged",source:e}),u&&(this.changeEventsDispatching=!0,u(),this.changeEventsDispatching=!1),c.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy();}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:n,selectionColSvc:i,quickFilter:r,pivotResultCols:s,showRowGroupCols:o,rowAutoHeight:a,visibleCols:l,colViewport:c,eventSvc:u}=this.beans,d=this.selectCols(s,this.colDefCols);n?.createAutoCols(d,g=>{this.lastOrder=g(this.lastOrder),this.lastPivotOrder=g(this.lastPivotOrder);}),n?.addAutoCols(d),i?.createSelectionCols(d,g=>{this.lastOrder=g(this.lastOrder)??null,this.lastPivotOrder=g(this.lastPivotOrder)??null;}),i?.addSelectionCols(d);let h=$2e(this.gos,this.showingPivotResult);(!e||h)&&this.restoreColOrder(d),this.positionLockedCols(d),o?.refresh(),r?.refreshCols(),this.setColSpanActive(),a?.setAutoHeightActive(d),l.clear(),c.clear(),!Ym(t,this.cols.tree)&&u.dispatchEvent({type:"gridColumnsChanged"});}selectCols(e,t){let n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;let{map:i,list:r,tree:s,treeDepth:o}=n??t;return this.cols={list:r.slice(),map:O({},i),tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols;}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(i=>{let r=PB(i);if(e){let s=t?.includes(i);return r||s;}else return r||i.isVisible();});}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e));}setColsVisible(e,t=!1,n){kc(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n);}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let n=new Map(t.map((c,u)=>[c,u]));if(!e.list.some(c=>n.has(c)))return;let r=new Map(e.list.map(c=>[c,!0])),s=t.filter(c=>r.has(c)),o=new Map(s.map(c=>[c,!0])),a=e.list.filter(c=>!o.has(c)),l=s.slice();a.forEach(c=>{let u=c.getOriginalParent();if(!u){l.push(c);return;}let d=[];for(;!d.length&&u;)u.getLeafColumns().forEach(m=>{let y=l.indexOf(m)>=0,b=d.indexOf(m)<0;y&&b&&d.push(m);}),u=u.getOriginalParent();if(!d.length){l.push(c);return;}let h=d.map(g=>l.indexOf(g)),f=Math.max(...h);l.splice(f+1,0,c);}),e.list=l;}positionLockedCols(e){e.list=gJ(e.list,this.gos);}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null;}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0;}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null);}isPivotMode(){return this.pivotMode;}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"});}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length;}recreateColumnDefs(e){this.cols&&(this.beans.autoColSvc?.updateAutoCols(e),this.createColsFromColDefs(e));}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t);}destroy(){NI(this.beans,this.colDefCols?.tree),super.destroy();}getColTree(){return this.cols?.tree??[];}getColDefColTree(){return this.colDefCols?.tree??[];}getColDefCols(){return this.colDefCols?.list??null;}getCols(){return this.cols?.list??[];}getAllCols(){let{pivotResultCols:e,autoColSvc:t,selectionColSvc:n}=this.beans,i=e?.getPivotResultCols()?.list;return[this.colDefCols?.list??[],t?.autoCols?.list??[],n?.selectionCols?.list??[],i??[]].flat();}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[];}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null;}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols);}getColFromCollection(e,t){if(t==null)return null;let{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let r=0;r<i.length;r++)if(EJ(i[r],e))return i[r];return this.beans.autoColSvc?.getAutoCol(e)??null;}};var DJ=class{constructor(){this.existingIds={};}getInstanceIdForKey(e){let t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n;}};function J_(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e;}var FEe=class{constructor(e){this.cssClassStates={},this.getGui=e;}addCssClass(e){this.addOrRemoveCssClass(e,!0);}removeCssClass(e){this.addOrRemoveCssClass(e,!1);}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1;}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.addOrRemoveCssClass(r,t));return;}}if(this.cssClassStates[e]!==t&&e.length){let i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t;}}},NEe=0,dt=null,ri=class extends Oe{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=NEe++,this.cssClassManager=new FEe(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e);}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e));}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t));}getCompId(){return this.compId;}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null;}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let r=this[t];if(r===dt)this[t]=i??e;else{let s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`);}}}createChildComponentsFromTags(e,t){M2e(e.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;let r=this.createComponentFromElement(i,s=>{s.getGui()&&this.copyAttributesFromNode(i,s.getGui());},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);let s=Array.prototype.slice.call(i.children);r.addItems(s);}this.swapComponentForNode(r,e,i);}else i.childNodes&&this.createChildComponentsFromTags(i,t);});}createComponentFromElement(e,t,n){let i=e.nodeName,r=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,o=s?this.componentSelectors.get(i):null,a=null;if(o){let l=n&&r?n[r]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t);}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a;}copyAttributesFromNode(e,t){F2e(e.attributes,(n,i)=>t.setAttribute(n,i));}swapComponentForNode(e,t,n){let i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e));}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()));}setTemplate(e,t,n){let i=U_(e);this.setTemplateFromElement(i,t,n);}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){let s=t[r];this.componentSelectors.set(s.selector,s);}this.wireTemplate(e,n);}getGui(){return this.eGui;}getFocusableElement(){return this.eGui;}getAriaElement(){return this.getFocusableElement();}setParentComponent(e){this.parentComponent=e;}getParentComponent(){return this.parentComponent;}setGui(e){this.eGui=e;}queryForHtmlElement(e){return this.eGui.querySelector(e);}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),TB(e)?{element:e,parent:n}:{element:e.getGui(),parent:n});}prependChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n);}appendChild(e,t){let{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n);}isDisplayed(){return this.displayed;}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:n}=t;D2e(this.eGui,e,{skipAriaHidden:n});}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:n}=t;rr(this.eGui,e,{skipAriaHidden:n});let i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i);}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy();}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t));}addCssClass(e){this.cssClassManager.addCssClass(e);}removeCssClass(e){this.cssClassManager.removeCssClass(e);}containsCssClass(e){return this.cssClassManager.containsCssClass(e);}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t);}registerCSS(e){this.css||(this.css=[]),this.css.push(e);}};var wa=class M_{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n));}static all(t){return t.length?new M_(n=>{let i=t.length,r=new Array(i);t.forEach((s,o)=>{s.then(a=>{r[o]=a,i--,i===0&&n(r);});});}):M_.resolve();}static resolve(t=null){return new M_(n=>n(t));}then(t){return new M_(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)));});}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t));}onReject(t){}};function LEe(e){return e?e.prototype&&"getGui"in e.prototype:!1;}function RJ(e,t,n,i){let{name:r}=n,s,o,a,l,c,u;if(t){let d=t,h=d[r+"Selector"],f=h?h(i):null,g=m=>{typeof m=="string"?s=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?a=m:o=m);};f?(g(f.component),l=f.params,c=f.popup,u=f.popupPosition):g(d[r]);}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u};}var OEe=class extends Oe{constructor(){super(...arguments),this.beanName="userCompFactory";}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions;}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i);}getCompDetails(e,t,n,i,r=!1){let{name:s,cellRenderer:o}=t,{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}=RJ(this.beans.frameworkOverrides,e,t,i),f,g=C=>{let _=this.registry.getUserComponent(s,C);_&&(l=_.componentFromFramework?void 0:_.component,c=_.componentFromFramework?_.component:void 0,f=_.params);};if(a!=null&&g(a),l==null&&c==null&&n!=null&&g(n),l&&o&&!LEe(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){let{validation:C}=this.beans;r&&(a!==n||!n)?a?C?.isProvidedUserComp(a)||vi(50,{compName:a}):n?C||vi(260,Re(O({},this.gos.getModuleErrorParams()),{propName:s,compName:n})):vi(216,{name:s}):n&&!C&&vi(146,{comp:n});return;}let m=this.mergeParams(e,t,i,u,f),y=l==null,b=l??c;return{componentFromFramework:y,componentClass:b,params:m,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(b,y,m,t)};}newAgStackInstance(e,t,n,i){let r=!t,s;r?s=new e():s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);let o=s.init?.(n);return o==null?wa.resolve(s):o.then(()=>s);}mergeParams(e,t,n,i=null,r){let s=this.gos.getGridCommonParams();ao(s,n),r&&ao(s,r);let o=e,a=o&&o[t.name+"Params"];if(typeof a=="function"){let l=a(n);ao(s,l);}else typeof a=="object"&&ao(s,a);return ao(s,i),s;}},BEe={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},VEe={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},HEe={name:"headerComponent",optionalMethods:["refresh"]},GEe={name:"innerHeaderComponent"},zEe={name:"innerHeaderGroupComponent"},UEe={name:"headerGroupComponent"};var jEe={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var $Ee={name:"loadingCellRenderer",cellRenderer:!0},WEe={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},qEe={name:"loadingOverlayComponent",optionalMethods:["refresh"]},KEe={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},YEe={name:"tooltipComponent"},kB={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},XEe={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},QEe={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},ZEe={name:"loadingCellRenderer",cellRenderer:!0},JEe={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},eTe={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function tTe(e,t){return e.getCompDetailsFromGridOptions(VEe,"agDragAndDropImage",t,!0);}function nTe(e,t,n){return e.getCompDetails(t,HEe,"agColumnHeader",n);}function iTe(e,t,n){return e.getCompDetails(t,GEe,void 0,n);}function rTe(e,t){let n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,UEe,"agColumnGroupHeader",t);}function sTe(e,t,n){return e.getCompDetails(t,zEe,void 0,n);}function oTe(e,t){return e.getCompDetailsFromGridOptions(QEe,void 0,t,!0);}function aTe(e,t){return e.getCompDetailsFromGridOptions(ZEe,"agLoadingCellRenderer",t,!0);}function lTe(e,t){return e.getCompDetailsFromGridOptions(JEe,"agGroupRowRenderer",t,!0);}function cTe(e,t){return e.getCompDetailsFromGridOptions(eTe,"agDetailCellRenderer",t,!0);}function uTe(e,t,n){return e.getCompDetails(t,jEe,void 0,n);}function dTe(e,t,n){return e.getCompDetails(t,$Ee,"agSkeletonCellRenderer",n,!0);}function XQ(e,t,n){return e.getCompDetails(t,WEe,"agCellEditor",n,!0);}function hTe(e,t,n,i){return e.getCompDetails(t,kB,i,n,!0);}function fTe(e,t){return e.getCompDetailsFromGridOptions(BEe,"agDateInput",t,!0);}function pTe(e,t){return e.getCompDetailsFromGridOptions(qEe,"agLoadingOverlay",t,!0);}function gTe(e,t){return e.getCompDetailsFromGridOptions(KEe,"agNoRowsOverlay",t,!0);}function mTe(e,t){return e.getCompDetails(t.colDef,YEe,"agTooltipComponent",t,!0);}function vTe(e,t,n,i){return e.getCompDetails(t,XEe,i,n);}function yTe(e,t){return RJ(e,t,kB);}function bTe(e,t,n){return e.mergeParams(t,kB,n);}function K_(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e;}var IJ=new Set(),OI={},Hb={},CI,PJ=!1;function xTe(e){let[t,n]=e.version.split(".")||[],[i,r]=CI.split(".")||[];return t===i&&n===r;}function wTe(e){CI||(CI=e.version);let t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?xTe(e)||Lb(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${CI}.`)):Lb(t(`'${e.moduleName}' is incompatible.`)),e.validate){let n=e.validate();n.isValid||Lb(`${n.message}`);}}function Y_(e,t){wTe(e);let n=e.rowModels??["all"];IJ.add(e);let i;t!==void 0?(PJ=!0,Hb[t]===void 0&&(Hb[t]={}),i=Hb[t]):i=OI,n.forEach(r=>{i[r]===void 0&&(i[r]={}),i[r][e.moduleName]=e;}),e.dependsOn&&e.dependsOn.forEach(r=>Y_(r,t));}function CTe(e){delete Hb[e];}function kJ(e,t,n){let i=r=>!!OI[r]?.[e]||!!Hb[t]?.[r]?.[e];return i(n)||i("all");}function MB(){return PJ;}function _Te(e,t){let n=Hb[e]??{};return[...Object.values(OI.all??{}),...Object.values(n.all??{}),...Object.values(OI[t]??{}),...Object.values(n[t]??{})];}function STe(){return new Set(IJ);}var YI=class{static register(e){Y_(e,void 0);}static registerModules(e){e.forEach(t=>Y_(t,void 0));}},ETe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e));}init(e){Object.entries(e.providedBeanInstances).forEach(([t,n])=>{this.beans[t]=n;}),e.beanClasses.forEach(t=>{let n=new t();n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n);}),e.derivedBeans?.forEach(t=>{let{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i);}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans);}getBeanInstances(){return Object.values(this.beans);}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e;}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans);}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.());}getBeans(){return this.beans;}getBean(e){return this.beans[e];}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[];}destroyBean(e){e?.destroy?.();}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[];}isDestroyed(){return this.destroyed;}},TTe=class extends ETe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e);}destroy(){super.destroy(),CTe(this.gridId),this.destroyCallback?.();}getGridId(){return this.gridId;}},ATe="ag-column-first",DTe="ag-column-last";function MJ(e,t,n,i){return tr(e)?[]:ITe(e.headerClass,e,t,n,i);}function FJ(e,t,n){e.addOrRemoveCssClass(ATe,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(DTe,n.isColAtEdge(t,"last"));}function RTe(e,t,n,i){return t.addGridCommonParams({colDef:e,column:n,columnGroup:i});}function ITe(e,t,n,i,r){if(tr(e))return[];let s;if(typeof e=="function"){let o=RTe(t,n,i,r);s=e(o);}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[];}function Ap(e,t){let n=tJ(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0);}var PTe=class extends Oe{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set();}setScrollTop(e){let{gos:t,pagination:n}=this.beans,i=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&e===0){let r=n?.getCurrentPage()??0;r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0);}this.lastScrollTop=e;}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame");}verifyAnimationFrameOn(e){this.active===!1&&et(92,{methodName:e});}createTask(e,t,n){this.verifyAnimationFrameOn(n);let i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule();}cancelTask(e){this.cancelledTasks.add(e);}addTaskToList(e,t){e.list.push(t),e.sorted=!1;}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0;}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule();}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let t=this.createTasksP1,n=t.list,i=this.createTasksP2,r=i.list,s=this.destroyTasks,o=new Date().getTime(),a=new Date().getTime()-o,l=e<=0,c=this.beans.ctrlsSvc.getScrollFeature();for(;l||a<e;){if(!c.scrollGridIfNeeded()){let d;if(n.length)this.sortTaskList(t),d=n.pop().task;else if(r.length)this.sortTaskList(i),d=r.pop().task;else if(s.length)d=s.pop();else{this.cancelledTasks.clear();break;}this.cancelledTasks.has(d)||d();}a=new Date().getTime()-o;}n.length||r.length||s.length?this.requestFrame():this.ticking=!1;}flushAllFrames(){this.active&&this.executeFrame(-1);}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()));}requestFrame(){let e=this.executeFrame.bind(this,60);Ap(this.beans,e);}isQueueEmpty(){return!this.ticking;}},Me={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},sB=!1,BI=0;function kTe(e){BI>0||(e.addEventListener("keydown",VI),e.addEventListener("mousedown",VI));}function MTe(e){BI>0||(e.removeEventListener("keydown",VI),e.removeEventListener("mousedown",VI));}function VI(e){let t=sB,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(sB=n);}function FTe(e){let t=Fr(e);return kTe(t),BI++,()=>{BI--,MTe(t);};}function NTe(){return sB;}function LTe(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===Me.TAB){let r=i.shiftKey;Xm(e,n,!1,r)||Kb(e,r)&&i.preventDefault();}}});}function Gb(e,t,n=!1){let i=A2e,r=VZ;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');let s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>Mc(l)),o=Array.prototype.slice.apply(e.querySelectorAll(r));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(s,o):s;}function Wm(e,t=!1,n=!1){let i=Gb(e,null,n),r=t?ii(i):i[0];return r?(r.focus({preventScroll:!0}),!0):!1;}function Xm(e,t,n,i){let r=Gb(t,n?':not([tabindex="-1"])':null),s=sr(e),o;n?o=r.findIndex(l=>l.contains(s)):o=r.indexOf(s);let a=o+(i?-1:1);return a<0||a>=r.length?null:r[a];}function NJ(e,t=5){let n=0;for(;e&&X8(e)===null&&++n<=t;)e=e.parentElement;return X8(e)===null?null:e;}function OTe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t);}function zb(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive();}function LJ(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive();}function Kb(e,t,n=!1){let i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1);}var BTe=/[&<>"']/g,VTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function nd(e,t){if(e==null)return null;let n=e.toString().toString();return t?n:n.replace(BTe,i=>VTe[i]);}function HTe(e,t=!1){return e===Me.DELETE?!0:!t&&e===Me.BACKSPACE?LZ():!1;}var GTe=class extends Oe{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t;}setComp(e){this.eGui=e;}onKeyDown(e){let t=e.key;switch(t){case Me.ENTER:this.onEnterKeyDown(e);break;case Me.F2:this.onF2KeyDown(e);break;case Me.ESCAPE:this.onEscapeKeyDown(e);break;case Me.TAB:this.onTabKeyDown(e);break;case Me.BACKSPACE:case Me.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Me.DOWN:case Me.UP:case Me.RIGHT:case Me.LEFT:this.onNavigationKeyDown(e,t);break;}}onNavigationKeyDown(e,t){this.cellCtrl.editing||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigation?.navigateToNextCell(e,t,this.cellCtrl.cellPosition,!0),e.preventDefault());}onShiftRangeSelect(e){let{rangeSvc:t,navigation:n}=this.beans;if(!t)return;let i=t.extendLatestRangeInDirection(e);i&&n?.ensureCellVisible(i);}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e);}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:n,beans:i,rowNode:r}=this,{gos:s,rangeSvc:o,eventSvc:a}=i;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),HTe(e,s.get("enableCellEditingOnBackspace"))){if(o&&Dh(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){let{column:l}=n,c=this.beans.valueSvc.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear");}}else i.editSvc?.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"});}}onEnterKeyDown(e){let{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){let i=e.shiftKey?Me.UP:Me.DOWN;n.navigation?.navigateToNextCell(null,i,t.cellPosition,!1);}else n.editSvc?.startRowOrCellEdit(t,Me.ENTER,e),t.editing&&e.preventDefault();}onF2KeyDown(e){let{cellCtrl:t,beans:n}=this;t.editing||n.editSvc?.startRowOrCellEdit(t,Me.F2,e);}onEscapeKeyDown(e){let{cellCtrl:t,beans:n}=this;t.editing&&(n.editSvc?.stopRowOrCellEdit(t,!0),t.focusCell(!0));}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.editing)return;let i=e.key;i===Me.SPACE?this.onSpaceKeyDown(e):this.beans.editSvc?.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault();}onSpaceKeyDown(e){let{gos:t}=this.beans;!this.cellCtrl.editing&&Gm(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,"spaceKey"),e.preventDefault();}destroy(){super.destroy();}},zTe=class extends Oe{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t;}onMouseEvent(e,t){if(!Th(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break;}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:n,gos:i,editSvc:r}=this.beans,s=e.ctrlKey||e.metaKey;n&&s&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);let o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);let a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(o);});},0),(i.get("singleClickEdit")||a.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&n?.getCellRanges().length!=0)&&r?.startRowOrCellEdit(this.cellCtrl);}onCellDoubleClicked(e){let{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:s,gos:o,editSvc:a}=n,l=t.getColDef(),c=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c);});},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&a?.startRowOrCellEdit(i,null,e);}onMouseDown(e){let{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,focusSvc:c,gos:u}=o;if(this.isRightClickInExistingRange(e))return;let d=l&&!l.isEmpty(),h=this.containsWidget(r),{cellPosition:f}=s;if(!i||!d){let m=u.get("enableCellTextSelection")&&e.defaultPrevented,y=(qm()||m)&&!s.editing&&!_B(r)&&!h;s.focusCell(y);}if(i&&d&&!c.isCellFocused(f)){e.preventDefault();let g=c.getFocusedCell();if(g){let{column:m,rowIndex:y,rowPinned:b}=g,_=o.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:b})?.getCellCtrl(m);_?.editing&&_.stopEditing(),c.setFocusedCell({column:m,rowIndex:y,rowPinned:b,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0});}}if(!h){if(l)if(i)l.extendLatestRangeToCell(f);else{let g=t||n;l.setRangeToCell(f,g);}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"));}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0;}return!1;}containsWidget(e){return Hm(e,"ag-selection-checkbox",3)||Hm(e,"ag-drag-handle",3);}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver();}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column]);}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let{eGui:t}=this.cellCtrl,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i;}destroy(){super.destroy();}},UTe=class extends Oe{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode;}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()});}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan();}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0));}onDisplayColumnsChanged(){let e=this.getColSpanningList();Ym(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged());}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}));}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`;}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth();}getColSpanningList(){let{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e,s=e.getPinned();for(let o=0;r&&o<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||tr(r)||s!==r.getPinned()));o++);}return i;}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px";}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=ii(this.colsSpanning):e=this.column,e.getLeft();}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=t.bodyWidth;return n+i+(e||0);}return n+(e||0);}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let n=zm(this.beans)*this.rowSpan;this.eGui.style.height=`${n}px`,this.eGui.style.zIndex="1";}destroy(){super.destroy();}},jTe="ag-cell",$Te="ag-cell-auto-height",WTe="ag-cell-normal-height",qTe="ag-cell-focus",KTe="ag-cell-first-right-pinned",YTe="ag-cell-last-left-pinned",XTe="ag-cell-not-inline-editing",QTe="ag-cell-wrap-text",HI="cellCtrl";function OJ(e,t){return dJ(e,t,HI);}var ZTe=0,_I=class extends Oe{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=n,this.instanceId=e.getId()+"-"+ZTe++,this.colIdSanitised=nd(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1);}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition);}onFocusOut(){this.beans.focusSvc.clearRestoreFocus();}addFeatures(){let{beans:e}=this;this.positionFeature=new UTe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.mouseListener=new zTe(this,e,this.column),this.keyboardListener=new GTe(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();let{rangeSvc:t}=e;t&&Dh(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this));}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature();}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t);}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature);}setComp(e,t,n,i,r,s){this.comp=e,this.eGui=t,this.printLayout=i,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.setComp(t),this.customStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.setComp(this.eGui),this.rangeFeature&&this.rangeFeature.setComp(e,t),r&&this.isCellEditable()?this.beans.editSvc?.startEditing(this):this.showValue(),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(o=>o()),this.onCompAttachedFuncs=[]);}setupAutoHeight(e,t){this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)&&this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t);}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell";}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null;}getValueToDisplay(){return this.valueFormatted??this.value;}showValue(e=!1){let{beans:t,column:n,rowNode:i,rangeFeature:r}=this,{userCompFactory:s}=t,o=this.getValueToDisplay(),a;if(i.stub&&i.groupData?.[n.getId()]==null){let c=this.createCellRendererParams();a=dTe(s,n.getColDef(),c);}else if(this.isCellRenderer()){let c=this.createCellRendererParams();a=uTe(s,n.getColDef(),c);}this.comp.setRenderDetails(a,o,e),r&&Ap(t,()=>r?.refreshHandle());}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag);}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight();}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0;}isCheckboxSelection(e){let{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||td(this.column)&&t&&typeof t!="string"&&Bb(t);}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r;}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus();}stopEditing(e=!1){return this.beans.editSvc?.stopEditing(this,e)??!1;}createCellRendererParams(){let{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:s,beans:{valueSvc:o,gos:a}}=this;return a.addGridCommonParams({value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,i),setValue:c=>o.setValue(i,n,c),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:r.getParentOfValue(),registerRowDragger:(c,u,d,h)=>this.registerRowDragger(c,u,h),setTooltip:(c,u)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,u),this.tooltipFeature?.refreshTooltip();}});}onCellChanged(e){e.column===this.column&&this.refreshCell({});}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e);}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;let t=this.column.getColDef(),n=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,r=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,s=e&&e.forceRefresh||r||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(n);let c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!i&&!c&&t.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef();}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules();}}stopEditingAndFocus(e=!1,t=!1){this.beans.editSvc?.stopEditingAndFocus(this,e,t);}isCellEditable(){return this.column.isCellEditable(this.rowNode);}formatValue(e){return this.callValueFormatter(e)??e;}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e);}updateAndFormatValue(e){let t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0;}valuesAreEqual(e,t){let n=this.column.getColDef();return n.equals?n.equals(e,t):e===t;}addDomData(e){let t=this.eGui;$m(this.beans.gos,t,HI,this),e.addDestroyFunc(()=>$m(this.beans.gos,t,HI,null));}createEvent(e,t){let{rowNode:n,column:i,value:r}=this;return this.beans.gos.addGridCommonParams({type:t,node:n,data:n.data,value:r,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex});}processCharacter(e){this.keyboardListener?.processCharacter(e);}onKeyDown(e){this.keyboardListener?.onKeyDown(e);}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t);}getColSpanningList(){return this.positionFeature.getColSpanningList();}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged();}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles());}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:n}=this;FJ(e,t,n.visibleCols);}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);MZ(this.eGui,e);}onWidthChanged(){return this.positionFeature?.onWidthChanged();}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t};}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount();}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged();}isRangeSelectionEnabled(){return this.rangeFeature!=null;}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({rowIndex:this.cellPosition.rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e});}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.rangeFeature?.onCellSelectionChanged();}onSuppressCellFocusChanged(e){this.eGui&&Bl(this.eGui,"tabindex",e?void 0:-1);}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(KTe,e);}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(YTe,e);}onCellFocused(e){let{beans:t}=this;if(LJ(t))return;let n=t.focusSvc.isCellFocused(this.cellPosition);if(!this.comp){n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e);return;}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(qTe,n),n&&e&&e.forceBrowserFocus){let r=this.comp.getFocusableElement();if(this.editing){let s=Gb(r,null,!0);s.length&&(r=s[0]);}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus});}let i=t.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&t.editSvc?.stopRowOrCellEdit(this),n&&this.rowCtrl.announceDescription();}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Eh(t),column:this.column};}setInlineEditingCss(){this.beans.editSvc?.setInlineEditingCss(this.rowCtrl);}applyStaticCssClasses(){let{comp:e}=this;e.addOrRemoveCssClass(jTe,!0),e.addOrRemoveCssClass(XTe,!0);let t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass($Te,t),e.addOrRemoveCssClass(WTe,!t);}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp);}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}));}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(QTe,e);}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n);});},0);}getCellRenderer(){return this.comp?.getCellRenderer()??null;}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy();}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e;}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e;}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return;}let i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null;}));}createRowDragComp(e,t,n){let i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i;}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[];}},BJ="__ag_grid_instance";function VJ(e,t){t[BJ]=e.gridInstanceId;}function GI(e,t){return HJ(e,t.target);}function HJ(e,t){let n=t;for(;n;){let i=n[BJ];if(at(i))return i===e.gridInstanceId;n=n.parentElement;}return!1;}function JTe(e,t){return OJ(e,t.target)?.cellPosition??null;}function R8(e,t){let n=Gs(e.gos,"normal"),i=t,r,s;if(i.clientX!=null||i.clientY!=null?(r=i.clientX,s=i.clientY):(r=i.x,s=i.y),n){let o=e.ctrlsSvc.getScrollFeature(),a=o.getVScrollPosition(),l=o.getHScrollPosition();r+=l.left,s+=a.top;}return{x:r,y:s};}var eAe=class extends Oe{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[];}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory;}addDragSource(e,t=!1){let n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n);}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp;}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),Fc(t,i));}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy();}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0);}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent();}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n);}this.clearDragAndDropProperties();}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties();}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent();}onDragging(e,t=!1){let n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let r=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),s=this.findCurrentDropTarget(e,r),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,i,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,n,i,t),s&&l){let{comp:u,promise:d}=l;u?u.setIcon(s.getIconName?s.getIconName():null,!1):d.then(h=>{h&&h.setIcon(s.getIconName?s.getIconName():null,!1);});}this.lastDropTarget=s;}else if(s&&s.onDragging){let u=this.createDropTargetEvent(s,e,n,i,t);s.onDragging(u);}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n;}isMouseOnDropTarget(e,t){let n=this.getAllContainersFromDropTarget(t),i=!1,r=(a,l)=>{for(let c of l){let{width:u,height:d,left:h,right:f,top:g,bottom:m}=c.getBoundingClientRect();if(u===0||d===0)return!1;let y=a.clientX>=h&&a.clientX<f,b=a.clientY>=g&&a.clientY<m;if(!y||!b)return!1;}return!0;};for(let a of n)if(r(e,a)){i=!0;break;}let{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(o,s);}findCurrentDropTarget(e,t){let n=t.length;if(n===0)return null;if(n===1)return t[0];let r=$_(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let s of r)for(let o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null;}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){let s=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(s);}}leaveLastTargetIfExists(e,t,n,i){let{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){let o=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(o);}let s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1);}addDropTarget(e){this.dropTargets.push(e);}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer());}hasExternalDropZones(){return this.dropTargets.some(e=>e.external);}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null;}isDropZoneWithinThisGrid(e){let n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i);}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right";}getVerticalDirection(e){let t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down";}createDropTargetEvent(e,t,n,i,r){let s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,u=t.clientX-o.left,d=t.clientY-o.top;return c.addGridCommonParams({event:t,x:u,y:d,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:s});}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&Y2e(t.getGui(),e,this.beans);}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t);}}this.dragAndDropImageComp=null;}createDragAndDropImageComponent(){let{dragSource:e}=this;if(!e)return;let t=tTe(this.userCompFactory,{dragSource:e});if(!t)return;let n=t.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(i=>{!i||!this.isAlive()||(this.processDragAndDropImageComponent(i),this.dragAndDropImageComp.comp=i);});}processDragAndDropImageComponent(e){let{dragSource:t,environment:n}=this;if(!t)return;let i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),VJ(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";let s=DB(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(i):et(54);}registerGridDropTarget(e,t){let n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n));}},tAe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1);}check(e,t=!1){let n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;let i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared();}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0);}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e);}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e);}this.onScrollCallback&&this.onScrollCallback();}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null);}};function nAe(e){let{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`;}function oB(e,t){let n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r;}function iAe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(at(t.rowPinned))return t.rowPinned!=="top";break;}return e.rowIndex<t.rowIndex;}function rAe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned;}function sAe(e){let t=0,n,{pinnedRowModel:i,rowModel:r,pageBounds:s}=e;return i?.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=s.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n};}function oAe(e){let t,n=null,{pinnedRowModel:i,pageBounds:r}=e,s=i?.getPinnedBottomRowCount(),o=i?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n};}function aB(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex);}}function kb(e,t){let n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null;}var aAe=class extends Oe{constructor(e){super(),this.eContainer=e;}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;jo(t,e)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{let r=i.gridBodyCtrl;this.autoScrollService=new tAe({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>r.scrollFeature.getVScrollPosition().top,setVerticalPosition:s=>r.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent);}});});}getContainer(){return this.eContainer;}isInterestedIn(e){return e===2;}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move";}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive());}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let i=[...(this.beans.selectionSvc?.getSelectedNodes()??[])].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(i.indexOf(t)!==-1)return i;}return[t];}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0);}),this.onEnterOrDragging(e);}onDragging(e){this.onEnterOrDragging(e);}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey();}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let t=R8(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event);}doManagedDrag(e,t){let{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e),s=i.get("rowDragManaged"),o=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(i.get("suppressMoveWhenRowDragging")||!r?n.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t));}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(ii(t.split("-")),10);}moveRowAndClearHighlight(e){let t=this.clientSideRowModel,n=t.getLastHighlightedRowNode(),i=n&&n.highlighted==="Below",r=R8(this.beans,e).y,s=e.dragItem.rowNodes,o=i?1:0;if(this.isFromThisGrid(e))s.forEach(a=>{a.rowTop<r&&(o-=1);}),this.moveRows(s,r,o);else{let a=$b(this.gos),l=t.getRowIndexAtPixel(r)+1;t.getHighlightPosition(r)==="Above"&&l--,t.updateRowData({add:s.filter(c=>!t.getRowNode(a?.({data:c.data,level:0,rowPinned:c.rowPinned})??c.data.id)).map(c=>c.data),addIndex:l});}this.clearRowHighlight();}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null);}moveRows(e,t,n=0){let i=this.beans.focusSvc,r=i.getFocusedCell(),s=r&&kb(this.beans,r);this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(s?s.focusCell():i.clearFocusedCell());}addRowDropZone(e){if(!e.getContainer()){et(55);return;}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){et(56);return;}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r));}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r));}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r));}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r));}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r));}));let i=O({isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0},n);t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i));}getRowDropZone(e){let t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l));}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l));}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l));}:r,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l));}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l));}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,onDragCancel:o,fromGrid:!0},a;}draggingToRowDragEvent(e,t){let n=this.beans,{pageBounds:i,rowModel:r,gos:s}=n,o=R8(n,t).y,a=o>i.getCurrentPageHeight(),l=-1,c;return a||(l=r.getRowIndexAtPixel(o),c=r.getRow(l)),s.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection});}dispatchGridEvent(e,t){let n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n);}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight();}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e);}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight();}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1);});}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"));}};function GJ(e,t,n){if(n===0)return!1;let i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n;}var lAe=class extends Oe{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[];}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy();}removeListener(e){let t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){let i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0});}}removeDragSource(e){let{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),Fc(t,n));}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let s=null,o=this.gos.get("suppressTouch");i&&!o&&(s=a=>{_B(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a));},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i});}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let n=t.touches[0];this.touchLastTime=n,this.touchStart=n;let i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault();},o=t.target,a=[{target:$_(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement);}onMouseDown(e,t){let n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let i=c=>this.onMouseMove(c,e.eElement),r=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===Me.ESCAPE&&this.cancelDrag(e.eElement);},a=$_(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement);}addTemporaryEvents(e){e.forEach(t=>{let{target:n,type:i,listener:r,options:s}=t;n.addEventListener(i,r,s);}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:n,type:i,listener:r,options:s}=t;n.removeEventListener(i,r,s);});});}isEventNearStartEvent(e,t){let{dragStartPixels:n}=this.currentDragParams,i=at(n)?n:4;return GJ(e,t,i);}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null;}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return;}this.currentDragParams.onDragging(t);}this.currentDragParams?.onDragging(e);}onTouchMove(e,t){let n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t);}onMouseMove(e,t){qm()&&Fr(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t);}shouldPreventMouseEvent(e){let{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&i&&e.cancelable&&GI(t,e)&&!r(e);}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t);}onMouseUp(e,t){this.onUpCommon(e,t);}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties();}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties();}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0;}};function zJ(e,t){return e+"_"+t;}function vr(e){return e instanceof UJ;}var UJ=class extends Oe{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null;}reset(){this.parent=null,this.children=null,this.displayedChildren=null;}getParent(){return this.parent;}getUniqueId(){return zJ(this.groupId,this.partId);}isEmptyGroup(){return this.displayedChildren.length===0;}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving());}checkLeft(){if(this.displayedChildren.forEach(e=>{vr(e)&&e.checkLeft();}),this.displayedChildren.length>0){if(this.gos.get("enableRtl")){let t=ii(this.displayedChildren).getLeft();this.setLeft(t);}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e);}}else this.setLeft(null);}getLeft(){return this.left;}getOldLeft(){return this.oldLeft;}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}));}getPinned(){return this.pinned;}getGroupId(){return this.groupId;}getPartId(){return this.partId;}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth();}),e;}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0);}),e;}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth();}),e;}addChild(e){this.children||(this.children=[]),this.children.push(e);}getDisplayedChildren(){return this.displayedChildren;}getLeafColumns(){let e=[];return this.addLeafColumns(e),e;}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e;}getDefinition(){return this.providedColumnGroup.getColGroupDef();}getColGroupDef(){return this.providedColumnGroup.getColGroupDef();}isPadding(){return this.providedColumnGroup.isPadding();}isExpandable(){return this.providedColumnGroup.isExpandable();}isExpanded(){return this.providedColumnGroup.isExpanded();}setExpanded(e){this.providedColumnGroup.setExpanded(e);}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight;}getAutoHeaderHeight(){return this.autoHeaderHeight;}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t;}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Ep(t)?e.push(t):vr(t)&&t.addDisplayedLeafColumns(e);});}addLeafColumns(e){this.children.forEach(t=>{Ep(t)?e.push(t):vr(t)&&t.addLeafColumns(e);});}getChildren(){return this.children;}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow();}getProvidedColumnGroup(){return this.providedColumnGroup;}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel();}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return;}this.children.forEach(n=>{if(vr(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break;}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"});}},lB="row-group-",jJ="t-",$J="b-",cAe=0,Yb=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=cAe++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e;}setData(e){this.setDataCommon(e,!1);}updateData(e){this.setDataCommon(e,!0);}setDataCommon(e,t){let n=this.data;this.data=e,this.beans.valueCache?.onDataChanged(),this.updateDataOnDetailNode(),this.beans.selectionSvc?.updateRowSelectable(this),this.resetQuickFilterAggregateText();let i=this.createDataChangedEvent(e,n,t);this.__localEventService?.dispatchEvent(i);}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data);}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n};}getRowIndexString(){return this.rowIndex==null?(vi(13),null):this.rowPinned==="top"?jJ+this.rowIndex:this.rowPinned==="bottom"?$J+this.rowIndex:this.rowIndex.toString();}setDataAndId(e,t){let{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));let s=this.createDataChangedEvent(e,r,!1);this.__localEventService?.dispatchEvent(s);}setId(e){let t=$b(this.beans.gos);if(t){if(this.data){let n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(lB)&&vi(14,{groupPrefix:lB});}else this.id=void 0;}else this.id=e;}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null));}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null);}setHovered(e){this.hovered=e;}isHovered(){return this.hovered;}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged");}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n);}setDataValue(e,t,n){let{colModel:i,valueSvc:r,gos:s,selectionSvc:o}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;let l=r.getValueForDisplay(a,this);if(s.get("readOnlyEdit")){let{beans:{eventSvc:u},data:d,rowIndex:h,rowPinned:f}=this;return u.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:h,rowPinned:f,column:a,colDef:a.colDef,data:d,node:this,oldValue:l,newValue:t,value:t,source:n}),!1;}let c=r.setValue(this,a,t,n);return this.dispatchCellChangedEvent(a,t,l),o?.updateRowSelectable(this),c;}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"));}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren;}dispatchCellChangedEvent(e,t,n){let i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i);}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null;}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1;}isSelected(){return this.footer?this.sibling.isSelected():this.__selected;}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this);}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this});}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n});}isRowPinned(){return!!this.rowPinned;}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Zb()),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let n=this.frameworkEventListenerService?.wrap(t)??t;this.__localEventService.addEventListener(e,n);}removeEventListener(e,t){if(!this.__localEventService)return;let n=this.frameworkEventListenerService?.unwrap(t)??t;this.__localEventService.removeEventListener(e,n),this.__localEventService.noRegisteredListenersExist()&&(this.__localEventService=null);}isFullWidthCell(){if(et(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1;}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse();}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"));}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"));}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"));}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"));}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"));}};function uAe(e,t,n){return t.addGridCommonParams({type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned});}var dAe=class extends ri{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null;}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)});}hasFilter(){return!!this.filterWrapper;}getFilter(){return this.filterWrapper?.filterPromise??null;}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??wa.resolve();}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e);});}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.();});}createFilter(e){let{column:t,source:n}=this;this.filterWrapper=this.beans.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(i=>{let r=i.getGui();at(r)||et(69,{guiFromFilter:r}),this.appendChild(r),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()});});}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(lo(this.getGui()),this.createFilter());}destroy(){this.filterWrapper=null,super.destroy();}},WJ="ag-resizer-wrapper",xp=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,hAe=`<div class="${WJ}">
        ${xp("eTopLeft","topLeft")}
        ${xp("eTop","top")}
        ${xp("eTopRight","topRight")}
        ${xp("eRight","right")}
        ${xp("eBottomRight","bottomRight")}
        ${xp("eBottom","bottom")}
        ${xp("eBottomLeft","bottomLeft")}
        ${xp("eLeft","left")}
    </div>`,fAe=class extends Oe{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t);}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc;}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i);}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:s,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,u=Mc(this.element);if(u){let d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){let f=d.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-f;}if(h.minHeight!=null){let f=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-f;}}if(this.minHeight=r||l,this.minWidth=n||c,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&t){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){let f=parseFloat(d.style.top),g=parseFloat(d.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f);}}this.positioned=!!this.offsetParent;}isPositioned(){return this.positioned;}getPosition(){return this.position;}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0);}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e};}Object.keys(e).forEach(t=>{let i=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i);});}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex");}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`);}getHeight(){return this.element.offsetHeight;}setHeight(e){let{popup:t}=this.config,n=this.element,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)N_(n,e),e=HZ(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let r=this.getAvailableHeight();r&&e>r&&(e=r);}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?N_(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)));}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:n}=this.offsetParent;if(!n)return null;let i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,o=e?0:r.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:u}=c.getBoundingClientRect();a=u-i.bottom;}}return n+o-s-a;}getWidth(){return this.element.offsetWidth;}setWidth(e){let t=this.element,{popup:n}=this.config,i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ed(t,e),e=TI(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:r}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s);}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ed(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)));}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)));}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`);};e&&this.popupSvc?this.resizeObserverSubscriber=Tp(this.beans,this.popupSvc?.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0));}setPosition(e,t){this.position.x=e,this.position.y=t;}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t};}calculateMouseMovement(e){let{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,o)?0:o,c=this.shouldSkipY(t,!!i,s,a)?0:a;return{movementX:l,movementY:c};}shouldSkipX(e,t,n,i){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=i<0&&e.clientX>a+s.left||i>0&&e.clientX<a+s.left:n?l=i<0&&e.clientX>o.right||i>0&&e.clientX<a+s.left:l=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,l);}shouldSkipY(e,t,n=0,i){let r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=i<0&&e.clientY>a+s.top+n||i>0&&e.clientY<a+s.top:l=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,l);}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}};}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let n=new DOMParser().parseFromString(hAe,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0;}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${WJ}`);e&&this.element.removeChild(e),this.resizersAdded=!1;}getResizerElement(e){return this.resizerMap[e].element;}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY);}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null;}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,n=0;for(let i=0;i<e.length;i++){let r=e[i],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){let l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10));}else o=r.offsetHeight,a=r.offsetWidth;t+=o,n+=a;}return{height:t,width:n};}applySizeToSiblings(e){let t=null,n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){let r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]));}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto");}}isResizable(){return Object.values(this.resizable).some(e=>e);}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:s,isLeft:o}=this.currentResizer,a=r||o,l=s||i,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),d=this.position.x,h=this.position.y,f=0,g=0;if(a&&c){let m=o?-1:1,y=this.getWidth(),b=y+c*m,C=!1;o&&(f=y-b,(d+f<=0||b<=this.minWidth)&&(C=!0,f=0)),C||this.setWidth(b);}if(l&&u){let m=i?-1:1,y=this.getHeight(),b=y+u*m,C=!1;i?(g=y-b,(h+g<=0||b<=this.minHeight)&&(C=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(C=!0),C||this.setHeight(b);}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&f||g)&&this.offsetElement(d+f,h+g);}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"});}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight));}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY);}onMove(e){if(!this.isMoving)return;let{x:t,y:n}=this.position,i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());let{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY);}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving");}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent;}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement;}return this.element;}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e);}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers();}},pAe="ag-focus-managed",Jb=class extends Oe{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=O({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;let i=Xm(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault());}},t);}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(pAe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n});}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Th(t))return;let{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Wb(t);return;}t.key===Me.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t);}});}},qJ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function FB(e,t){let{debounceMs:n}=e;return zI(e)?(n!=null&&et(71),0):n??t;}function zI(e){return(e.buttons?.indexOf("apply")??-1)>=0;}var gAe=class extends ri{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=dt,this.buttonListeners=[],this.defaultDebounceMs=0;}postConstruct(){this.resetTemplate(),this.createManagedBean(new Jb(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new fAe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature);}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey);}isFilterActive(){return!!this.appliedModel;}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t?.addEventListener("submit",this.onFormSubmit);}isReadOnly(){return!!this.params.readOnly;}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce();});}setParams(e){this.params=e,this.applyActive=zI(e),this.resetButtonsPanel(e);}updateParams(e){this.params=e,this.applyActive=zI(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce();});}resetButtonsPanel(e,t){let{buttons:n,readOnly:i}=t??{},{buttons:r,readOnly:s}=e;if(i===s&&j_(n,r))return;let o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(lo(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Nl(this.eButtonsPanel);return;}let a=document.createDocumentFragment(),l=c=>{let u,d=c?this.translate(`${c}Filter`):void 0;switch(c){case"apply":u=g=>this.onBtApply(!1,!1,g);break;case"clear":u=()=>this.onBtClear();break;case"reset":u=()=>this.onBtReset();break;case"cancel":u=g=>{this.onBtCancel(g);};break;default:et(75);return;}let f=U_(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(f,{click:u})),a.append(f);};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel);}setupOnBtApplyDebounce(){let e=FB(this.params,this.defaultDebounceMs),t=$o(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t();};}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply());}getModel(){return this.appliedModel??null;}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api");});}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e);});}handleCancelEnd(e){this.params.closeOnApply&&this.close(e);}resetUiToActiveModel(e,t){let n=()=>{this.onUiChanged(!1,"prevent"),t?.();};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n);}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged());}onBtReset(){this.onBtClear(),this.onBtApply();}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t);}isModelValid(e){return!0;}onFormSubmit(e){e.preventDefault();}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(n);}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,n=t&&t.key,i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null;}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&G_(i,!n);}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce();}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container);}refreshFilterResizer(e){let{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0);}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1);}refresh(e){let t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0;}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy();}translate(e){return this.getLocaleTextFunc()(e,qJ[e]);}getCellValue(e){return this.params.getValue(e);}getPositionableElement(){return this.eFilterBody;}};function mAe(e,t,n){if(t==null)return null;let i=null,{compName:r,jsComp:s,fwComp:o}=yTe(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&o==null&&t.filter===!0&&(i=n()),i;}var Pc={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},NB=class extends Oe{constructor(e){super(),this.view=e;}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses();}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Pc.AUTO_HEIGHT:t.print?Pc.PRINT:Pc.NORMAL;this.view.updateLayoutClasses(n,t);}},wp="Viewport",QQ="fakeVScrollComp",ZQ=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],vAe=class extends Oe{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=$o(this,()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=$o(this,()=>this.lastScrollSource[0]=null,500);}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols;}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer);}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener();});}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0;}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners();}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,wp)});for(let e of ZQ){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e));}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?$o(this,this.onVScroll.bind(this,wp),100):this.onVScroll.bind(this,wp),i=t?$o(this,this.onVScroll.bind(this,QQ),100):this.onVScroll.bind(this,QQ);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i);}registerScrollPartner(e,t){e.onScrollCallback(t);}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter();}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)));}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...ZQ,wp]){if(this.lastScrollSource[1]===t)continue;let n=this.getViewportForSource(t);RI(n,e,this.enableRtl);}}getViewportForSource(e){return e===wp?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport;}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e;}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;let i=DI(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced();}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===wp?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===wp?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!n||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():n.schedule(),this.resetLastVScrollDebounced();}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0));}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent(Re(O({},t),{type:"bodyScrollEnd"}));},100);}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Vm()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t);}shouldBlockVerticalScroll(e){let t=SB(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n;}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&AI()){if(e>0)return!0;}else if(e<0)return!0;return Math.abs(e)+t>n;}redrawRowsAfterScroll(){this.fireScrollEvent(0);}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(wp);}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e;}setHorizontalScrollPosition(e,t=!1){let i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&AI()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),RI(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e);}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e;}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){let{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n};}this.needsRefreshedScrollPosition=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t};}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition();}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition();}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing();}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t;}scrollToTop(){this.eBodyViewport.scrollTop=0;}ensureNodeVisible(e,t=null){let{rowModel:n}=this.beans,i=n.getRowCount(),r=-1;for(let s=0;s<i;s++){let o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){r=s;break;}}else if(e===o||e===o.data){r=s;break;}}r>=0&&this.ensureIndexVisible(r,t);}ensureIndexVisible(e,t){if(Gs(this.gos,"print"))return;let{rowModel:n}=this.beans,i=n.getRowCount();if(typeof e!="number"||e<0||e>=i){et(88,{index:e});return;}let s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:o,pagination:a,pageBounds:l,rowContainerHeight:c,rowRenderer:u}=this.beans;o.wrapIncoming(()=>{s||a?.goToPageWithIndex(e);let d=this.ctrlsSvc.getGridBodyCtrl(),h=d.stickyTopHeight,f=d.stickyBottomHeight,g=n.getRow(e),m;do{let y=g.rowTop,b=g.rowHeight,C=l.getPixelOffset(),_=g.rowTop-C,A=_+g.rowHeight,I=this.getVScrollPosition(),N=c.divStretchOffset,R=I.top+N,D=I.bottom+N,V=D-R,X=c.getScrollPositionForPixel(_),S=c.getScrollPositionForPixel(A-V),T=Math.min((X+S)/2,_),z=R+h>_,W=D-f<A,H=null;t==="top"?H=X:t==="bottom"?H=S:t==="middle"?H=T:z?H=X-h:W&&(H=S+f),H!==null&&(this.setVerticalScrollPosition(H),u.redraw({afterScroll:!0})),m=y!==g.rowTop||b!==g.rowHeight;}while(m);this.animationFrameSvc?.flushAllFrames();});}ensureColumnVisible(e,t="auto"){let{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;let s=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames();});}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl,a=(o?n:i)||r,l=o?i:n;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:u,colMiddle:d,colRight:h}=this.getColumnBounds(e);return c?d-s/2:a?o?h:u:o?u-s:h-s;}return null;}isColumnOutsideViewport(e){let{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>r:n<r,a=s?n<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a};}getColumnBounds(e){let t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,o=t?n-r:r,a=o+i*s,l=o+i/2*s;return{colLeft:o,colMiddle:l,colRight:a};}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e};}},LB=class extends Oe{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t;}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth();}setWidth(){let e=Gs(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),o;e?o=i+r+s:(o=i,this.addSpacer&&(this.gos.get("enableRtl")?r:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o);}},yAe=class extends Oe{constructor(e){super(),this.centerContainerCtrl=e;}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc;}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize();}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls();});}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{Ap(e,()=>{this.onCenterViewportResized();});};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i);}onScrollbarWidthChanged(){this.checkViewportAndScrolls();}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}));}else this.bodyHeight=0;}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft();}getBodyHeight(){return this.bodyHeight;}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=SB(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}));}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500);}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e);}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t);}};function OB(e,t,n,i,r,s){if(n==null&&t==null)return;let o={},a={},l=(c,u)=>{c.split(" ").forEach(d=>{d.trim()!=""&&u(d);});};if(n){let c=Object.keys(n);for(let u=0;u<c.length;u++){let d=c[u],h=n[d],f;typeof h=="string"?f=e?e.evaluate(h,i):!0:typeof h=="function"&&(f=h(i)),l(d,g=>{f?o[g]=!0:a[g]=!0;});}}t&&s&&Object.keys(t).forEach(c=>l(c,u=>{o[u]||(a[u]=!0);})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(r);}function JQ(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0;}var bAe=class extends Oe{constructor(){super(...arguments),this.beanName="rowStyleSvc";}processClassesFromGridOptions(e,t){let n=this.gos,i=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a));},r=n.get("rowClass");r&&i(r);let s=n.getCallback("getRowClass");if(s){let o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);i(a);}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n);},()=>{});}processRowClassRules(e,t,n){let{gos:i,expressionSvc:r}=this.beans,s=i.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});OB(r,void 0,i.get("rowClassRules"),s,t,n);}processStylesFromGridOptions(e){let t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle"),r;if(i){let s={data:e.data,node:e,rowIndex:e.rowIndex};r=i(s);}if(r||n)return Object.assign({},n,r);}},xAe=0,X_="renderedRow",cB=class extends Oe{constructor(e,t,n,i,r){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+xAe++,this.rowId=nd(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=JQ(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners();}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey();}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=nd(e);}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t;}setComp(e,t,n,i){i=J_(this,this.beans.context,i);let r={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(r),this.updateGui(n,r),this.initialiseRowComp(r),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0);}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows");}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t);}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.beans.rowAutoHeight?.checkAutoHeights(this.rowNode),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Gm(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&W8(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),$m(t,e.element,X_,this),e.compBean.addDestroyFunc(()=>$m(t,e.element,X_,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0);}),this.executeProcessRowPostCreateFunc();}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey);}setRowCompRowId(e){let t=nd(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t);}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(GQ(()=>{this.onTopChanged();}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(GQ(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1);}),this.fadeInAnimation[t]=!1);}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.destroyBean(n,this.beans.context);});}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n);}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()];}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t);}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),s=!!t,o=!!n||!i.isPinningRight();return r&&s&&o;}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1;}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&RB(this.gos,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal";}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:n}=this.beans;if(!n||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return;}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0);},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0);}createCellCtrls(e,t,n=null){let i={list:[],map:{}},r=(s,o)=>{i.list.push(o),i.map[s]=o;};return t.forEach(s=>{let o=s.getInstanceId(),a=e.map[o];a||(a=new _I(s,this.rowNode,this.beans,this)),r(o,a);}),e.list.forEach(s=>{let o=s.column.getInstanceId();if(i.map[o]!=null)return;if(!this.isCellEligibleToBeRemoved(s,n)){r(o,s);return;}s.destroy();}),i;}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e);}setCellCtrls(e){this.allRowGuis.forEach(t=>{let n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e);});}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);let i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");let r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right");}}isCellEligibleToBeRemoved(e,t){let{column:r}=e;if(r.getPinned()!=t)return!0;let{editing:s,cellPosition:o}=e,{focusSvc:a,visibleCols:l}=this.beans,c=a.isCellFocused(o);return s||c?!(l.allCols.indexOf(r)>=0):!0;}getDomOrder(){return this.gos.get("ensureDomOrder")||Gs(this.gos,"print");}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder());};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t);}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=at(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){let{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return;}s.center=!0,s.left=i,s.right=r;}else{let{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return;}s.center=!0,s.left=i,s.right=r;}}isFullWidth(){return this.rowType!=="Normal";}refreshFullWidth(){let e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r;}addListeners(){this.addManagedListeners(this.rowNode,O({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},this.beans.expansionSvc?.getRowExpandedListeners(this)??{})),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context);}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(t=>{this.addRowDraggerToRow(t);});return;}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context);}),this.addListenersForCellComps();}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged());},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e));}});}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return;}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return;}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);}),this.onRowSelected(),this.postProcessCss();}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging();}onRowNodeHighlightChanged(){let e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{let n=e==="Above",i=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i);});}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e));}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.checkAutoHeights(this.rowNode);}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0);}getRowPosition(){return{rowPinned:Eh(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex};}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e));}onKeyboardNavigate(e){let t=this.findFullWidthRowGui(e.target);if(!((t?t.element:null)===e.target))return;let r=this.rowNode,{focusSvc:s,navigation:o}=this.beans,a=s.getFocusedCell(),l={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:a?.column??this.getColumnForFullWidth(t)};o?.navigateToNextCell(e,e.key,l,!0),e.preventDefault();}onTabKeyDown(e){if(e.defaultPrevented||Th(e))return;let t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=sr(this.beans),s=!1;n&&r&&(s=n.contains(r)&&r.classList.contains("ag-cell"));let o=null;!i&&!s&&(o=Xm(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigation?.onTabKeyDown(this,e);}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null;}getRowYPosition(){let e=this.allRowGuis.find(t=>Mc(t.element))?.element;return e?e.getBoundingClientRect().top:0;}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Bl(n.element,"tabindex",t);});}onFullWidthRowFocused(e){let t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,i=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;i&&(i.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&i.focus({preventScroll:!0}));}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists();}removeCellCtrl(e,t){let n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i);}),n;}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break;}}createRowEvent(e,t){let{rowNode:n}=this;return this.gos.addGridCommonParams({type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t});}createRowEventWithSource(e,t){let n=this.createRowEvent(e,t);return n.source=this,n;}onRowDblClick(e){Th(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e));}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0];}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Hm(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n?.removeAllCellRanges();let r=this.findFullWidthRowGui(e.target),s=r?.element,o=e.target,a=!0;s&&s.contains(o)&&_B(o)&&(a=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:this.getColumnForFullWidth(r),rowPinned:t.rowPinned,forceBrowserFocus:a});}onRowClick(e){if(Th(e)||this.lastMouseDownOnDragger)return;let{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i?.handleSelectionEvent(e,this.rowNode,"rowClicked");}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e);}createFullWidthCompDetails(e,t){let{gos:n,rowNode:i}=this,r=n.addGridCommonParams({fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,a);}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return cTe(s,r);case"FullWidthGroup":return lTe(s,r);case"FullWidthLoading":return aTe(s,r);default:return oTe(s,r);}}refreshRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.refreshRowTooltip(this.tooltipFeature,this,e,t));}addFullWidthRowDragging(e,t,n="",i){let{rowDragSvc:r,context:s}=this.beans;if(!r||!this.isFullWidth())return;let o=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s);});}onUiLevelChanged(){let e=JQ(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(n,!1);});}this.rowLevel=e;}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow();}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow();}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)));}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list];}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0));});}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0));},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1));});}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles));}getPinnedForContainer(e){return e==="left"||e==="right"?e:null;}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&s.push("ag-row-pinned"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),r.expansionSvc?.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");let{rowStyleSvc:o}=r;return o&&(o.processClassesFromGridOptions(s,i),o.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s;}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle;}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription();},e);}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode);}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:s}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{!r.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0));},mouseLeave:()=>{t.classList.remove("ag-row-hover"),i.setHovered(!1);}});}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i);}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t);}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=eJ(this.gos)?jm(this.beans,this.rowNode).height:void 0,s=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s);});}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&Ob(this.gos)&&!t.sticky)if(t.rowTop!=null){let r=this.roundRowTopToBounds(t.rowTop);this.setRowTop(r);}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy();}destroySecondPass(){this.allRowGuis.length=0,this.beans.editSvc?.stopRowEditing(this);let e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls);}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused);});}onCellFocusChanged(){let{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&t?.stopRowEditing(this,!1);}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles();}onTopChanged(){this.setRowTop(this.rowNode.rowTop);}onPaginationPixelOffsetChanged(){this.onTopChanged();}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1);}setRowTop(e){if(!this.printLayout&&at(e)){let t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r);}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0;}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`;}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,n;if(t.sticky)n=t.stickyRowTop;else{let i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r);}return n+"px";}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`));}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i);}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i);}),n;}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss());}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.addOrRemoveCssClass("ag-row-even",i),s.rowComp.addOrRemoveCssClass("ag-row-odd",!i),kZ(s.element,r);});}};function KJ(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1;}function uB(e,t,n,i,r){let s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;let o=e.addGridCommonParams({event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(o));}var wAe=65,CAe=67,_Ae=86,SAe=68,EAe=90,TAe=89;function AAe(e){let{keyCode:t}=e,n;switch(t){case wAe:n=Me.A;break;case CAe:n=Me.C;break;case _Ae:n=Me.V;break;case SAe:n=Me.D;break;case EAe:n=Me.Z;break;case TAe:n=Me.Y;break;default:n=e.code;}return n;}var DAe=class extends Oe{constructor(e){super(),this.element=e;}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this);}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t});}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",uJ("touchstart")?"touchstart":"mousedown"].forEach(n=>{let i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i});});}processMouseEvent(e,t){if(!GI(this.gos,t)||Th(t))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t));}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:OJ(t,e),rowCtrl:dJ(t,e,X_)};}processKeyboardEvent(e,t){let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t));}processCellKeyboardEvent(e,t,n){let{rowNode:i,column:r,editing:s}=e;!uB(this.gos,n,i,r,s)&&t==="keydown"&&(!s&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.editing),KJ(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"));}processFullWidthRowKeyboardEvent(e,t,n){let{rowNode:i}=e,{focusSvc:r,navigation:s}=this.beans,o=r.getFocusedCell(),a=o&&o.column;if(!uB(this.gos,n,i,a,!1)){let c=n.key;if(t==="keydown")switch(c){case Me.PAGE_HOME:case Me.PAGE_END:case Me.PAGE_UP:case Me.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case Me.UP:case Me.DOWN:e.onKeyboardNavigate(n);break;case Me.TAB:e.onTabKeyDown(n);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n));}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!GI(this.gos,e))return;let n=AAe(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===Me.A)return this.onCtrlAndA(e);if(n===Me.C)return this.onCtrlAndC(i,e);if(n===Me.D)return this.onCtrlAndD(i,e);if(n===Me.V)return this.onCtrlAndV(i,e);if(n===Me.X)return this.onCtrlAndX(i,e);if(n===Me.Y)return this.onCtrlAndY(r);if(n===Me.Z)return this.onCtrlAndZ(r,e);}onCtrlAndA(e){let{beans:{pinnedRowModel:t,rowModel:n,visibleCols:i,rangeSvc:r,selectionSvc:s},gos:o}=this;if(r&&Dh(o)&&n.isRowsToRender()){let[a,l]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],c=a?null:"top",u,d;l?(u=null,d=n.getRowCount()-1):(u="bottom",d=t?.getPinnedBottomRowCount()??-1);let h=i.allCols;if(!h?.length)return;r.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:d,rowEndPinned:u,columnStart:h[0],columnEnd:ii(h)});}else s&&s?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:sJ(o)});e.preventDefault();}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n?.editing||i?.editing||(t.preventDefault(),e.copyToClipboard());}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n?.editing||i?.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"));}onCtrlAndV(e,t){let{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n?.editing||i?.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard();}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault();}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"));}onCtrlAndY(e){e?.redo("ui");}},YJ=class extends Oe{constructor(e,t){super(),this.eContainer=e,this.eViewport=t;}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)});}onHeightChanged(e){let t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n);}},hI=e=>e.topRowCtrls,fI=e=>e.getStickyTopRowCtrls(),pI=e=>e.getStickyBottomRowCtrls(),gI=e=>e.bottomRowCtrls,mI=e=>e.allRowCtrls,RAe={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:mI},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:mI},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:mI},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:mI},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:hI},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:hI},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:hI},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:hI},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:fI},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:fI},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:fI},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:fI},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:pI},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:pI},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:pI},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:pI},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:gI},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:gI},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:gI},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:gI}};function Mb(e){return RAe[e];}var IAe=["topCenter","topLeft","topRight"],PAe=["bottomCenter","bottomLeft","bottomRight"],kAe=["center","left","right"],MAe=["center","left","right","fullWidth"],FAe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],NAe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],LAe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],XJ=["stickyTopCenter","stickyTopLeft","stickyTopRight"],QJ=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],OAe=[...XJ,"stickyTopFullWidth",...QJ,"stickyBottomFullWidth"],BAe=[...IAe,...PAe,...kAe,...XJ,...QJ],VAe=class extends Oe{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Mb(e);}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new yAe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)});});}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`);}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this);}forContainers(e,t){e.indexOf(this.name)>=0&&t();}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new DAe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:i,rangeSvc:r}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(NAe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(this.eContainer,!0)),this.addManagedEventListeners({leftPinnedWidthChanged:s});}),this.forContainers(LAe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(this.eContainer,!1)),this.addManagedEventListeners({rightPinnedWidthChanged:s});}),this.forContainers(MAe,()=>this.createManagedBean(new YJ(this.eContainer,this.name==="center"?n:void 0))),r&&this.forContainers(BAe,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(FAe,()=>this.createManagedBean(new LB(o=>this.comp.setContainerWidth(`${o}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService();}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e});}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged();}listenOnDomOrder(){if(OAe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return;}let t=()=>{let n=this.gos.get("ensureDomOrder"),i=Gs(this.gos,"print");this.comp.setDomOrder(n||i);};this.addManagedPropertyListener("domLayout",t),t();}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged());}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=n=>{e.dragging&&n.cancelable&&n.preventDefault();};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t));}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e);}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0;}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0;}getCenterWidth(){return z_(this.eViewport);}getCenterViewportScrollLeft(){return DI(this.eViewport,this.enableRtl);}registerViewportResizeListener(e){let t=Tp(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t());}isViewportInTheDOMTree(){return zZ(this.eViewport);}getViewportScrollLeft(){return DI(this.eViewport,this.enableRtl);}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||P2e(this.eViewport);}setHorizontalScroll(e){this.comp.setHorizontalScroll(e);}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};}setCenterViewportScrollLeft(e){RI(this.eViewport,e,this.enableRtl);}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0;}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged());}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return;}let n=Gs(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{let a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a;});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e});}},ZJ="ag-force-vertical-scroll",HAe="ag-selectable",GAe="ag-column-moving",zAe=class extends Oe{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0;}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc;}setComp(e,t,n,i,r,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${Mb("center").viewport}`),this.eFullWidthContainer=n.querySelector(`.${Mb("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Mb("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${Mb("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new NB(this.comp)),this.scrollFeature=this.createManagedBean(new vAe(this.eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this);}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t);}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length);}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let n=t&&e.getScrollbarWidth()||0,i=BZ()?16:0,r=`calc(100% + ${n+i}px)`;Ap(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses();}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,n=this.gos.get("treeData");if(!n){let i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1);}this.comp.setGridRootRole(n?"treegrid":"grid");}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{let{target:i}=n,r=Hm(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r);},focusout:n=>{let{target:i,relatedTarget:r}=n,s=t.contains(r),o=Hm(r,"ag-root",t);Hm(i,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus");}});});}setColumnMovingCss(e){this.comp.setColumnMovingCss(GAe,e);}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(HAe,e);}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap);}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1;}});}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom]);}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i);}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e);}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t);}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?ZJ:null,n=Gs(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&k2e(this.eBodyViewport);}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,n=t.sizesMeasured,i=()=>{let r=n&&Ob(this.gos)&&!e.stretching,s=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,r);};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i());}});}addBodyViewportListener(){let{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t?.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener();}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)});}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&GI(this.gos,e)&&this.scrollGridBodyToMatchEvent(e);}onStickyWheel(e){let{deltaX:t,deltaY:n,shiftKey:i}=e,r=i||Math.abs(t)>Math.abs(n),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n));}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n});}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();let{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody});}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault();}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t;}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e?.getPinnedTopTotalHeight()??0,n=e?.getPinnedBottomTotalHeight()??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom();}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e;}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e;}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`);}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`);}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=i+s;n.setStickyBottomBottom(`${o}px`);}},JJ=class extends ri{constructor(e,t){super(),this.direction=t,this.eViewport=dt,this.eContainer=dt,this.hideTimeout=0,this.setTemplate(e);}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",LZ()||Vm());}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout);}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=BZ(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()));}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n});}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Ap(this.beans,()=>this.setScrollVisible());}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0));},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0;},400);}});}attemptSettingScrollPosition(e){let t=this.eViewport;L2e(()=>Mc(t),()=>this.setScrollPosition(e),100);}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e});}},UAe=class extends JJ{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=dt,this.eRightSpacer=dt,this.setScrollVisibleDebounce=0;}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc;}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new LB(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this));}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy();}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom());}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`;}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths();}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),ed(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),ed(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i);}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),N_(this.getGui(),s),N_(this.eViewport,s),N_(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0});};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o();}getScrollPosition(){return DI(this.eViewport,this.enableRtl);}setScrollPosition(e){Mc(this.eViewport)||this.attemptSettingScrollPosition(e),RI(this.eViewport,e,this.enableRtl);}},jAe={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:UAe},$Ae=class extends JJ{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical");}postConstruct(){super.postConstruct(),this.createManagedBean(new YJ(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)});}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),ed(this.getGui(),r),ed(this.eViewport,r),ed(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0});}onRowContainerHeightChanged(e){let n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0);}getScrollPosition(){return this.eViewport.scrollTop;}setScrollPosition(e,t){!t&&!Mc(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e;}},WAe={selector:"AG-FAKE-VERTICAL-SCROLL",component:$Ae};function qAe(e){return e.cols?e.cols.treeDepth+1:-1;}function Sh(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0;}function BB(e){let t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let i of n){if(!i)continue;let r=i.getGroupRowCount()||0;for(let s=0;s<r;s++){let o=i.getGroupRowCtrlAtIndex(s),a=t[s];if(o){let l=KAe(e,o);(a==null||l>a)&&(t[s]=l);}}}return t;}function KAe(e,t){let n=e.colModel.isPivotMode()?XAe(e):tee(e),i=0,r=t.getHeaderCtrls();for(let s of r){let{column:o}=s;if(o.isAutoHeaderHeight()){let a=o.getAutoHeaderHeight();a!=null&&a>i&&(i=a);}}return Math.max(n,i);}function VB(e){let t=e.colModel.isPivotMode()?YAe(e):eS(e),i=e.visibleCols.allCols.filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(t,...i);}function eS(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight();}function eee(e){return e.gos.get("floatingFiltersHeight")??eS(e);}function tee(e){return e.gos.get("groupHeaderHeight")??eS(e);}function YAe(e){return e.gos.get("pivotHeaderHeight")??eS(e);}function XAe(e){return e.gos.get("pivotGroupHeaderHeight")??tee(e);}var QAe=class extends Oe{setComp(e,t,n){this.comp=e,this.eGui=t;let{beans:i}=this,{headerNavigation:r,touchSvc:s,ctrlsSvc:o}=i;r&&this.createManagedBean(new Jb(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();let a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this);}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Ap(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e});}setHeaderHeight(){let{beans:e}=this,t=0,n=BB(e).reduce((s,o)=>s+o,0),i=VB(e);if(e.filterManager?.hasFloatingFilters()&&(t+=eee(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;let r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"});}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t);}onDisplayedColumnsChanged(e){let n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n);}onTabKeyDown(e){let t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:s,focusSvc:o}=r;(s.navigateHorizontally(i,!0,e)||!n&&o.focusOverlay(!1)||Kb(r,n,!0))&&e.preventDefault();}handleKeyDown(e){let t=null,{headerNavigation:n}=this.beans;switch(e.key){case Me.LEFT:t="LEFT";case Me.RIGHT:{at(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break;}case Me.UP:t="UP";case Me.DOWN:{at(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break;}default:return;}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(sr(i))||n.contains(t)||(i.focusSvc.focusedHeader=null);}onHeaderContextMenu(e,t,n){let{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;let{target:s}=e??t;(s===this.eGui||s===r.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n);}},HB=class extends ri{constructor(e,t){super(e),this.ctrl=t;}getCtrl(){return this.ctrl;}},ZAe=class extends HB{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=dt,this.eHeaderCompWrapper=dt,this.headerCompVersion=0;}postConstruct(){let e=this.getGui();((r,s)=>{s!=null&&s!=""?e.setAttribute(r,s):e.removeAttribute(r);})("col-id",this.ctrl.column.getColId());let n={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,s)=>this.addOrRemoveCssClass(r,s),setAriaSort:r=>r?C2e(e,r):_2e(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let i=this.ctrl.getSelectAllGui();i&&this.eResize.insertAdjacentElement("afterend",i);}destroy(){this.destroyHeaderComp(),super.destroy();}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0);}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n));}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return;}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui());}},JAe=class extends HB{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=dt,this.eHeaderCompWrapper=dt;}postConstruct(){let e=this.getGui(),t=(i,r)=>r!=null?e.setAttribute(i,r):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let n={addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display");},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null);},setResizableDisplayed:i=>rr(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0);}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t));}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return;}let n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n);}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:n}=this;t?n.style.setProperty(e,t):n.style.removeProperty(e);}},eDe=class extends HB{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=dt,this.eButtonWrapper=dt,this.eButtonShowMainFilter=dt;}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(n,i)=>this.addOrRemoveCssClass(n,i),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>rr(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0);}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return;}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t));}destroy(){this.destroyFloatingFilterComp(),super.destroy();}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp));}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return;}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached();}}},tDe=class extends ri{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.headerRowClass}" role="row"></div>`);}postConstruct(){kZ(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0);}destroy(){this.setHeaderCtrls([],!1),super.destroy();}setHeaderCtrls(e,t){if(!this.isAlive())return;let n=this.headerComps;if(this.headerComps={},e.forEach(i=>{let r=i.instanceId,s=n[r];delete n[r],s==null&&(s=this.createHeaderComp(i),this.getGui().appendChild(s.getGui())),this.headerComps[r]=s;}),Object.values(n).forEach(i=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i);}),t){let i=Object.values(this.headerComps);i.sort((s,o)=>{let a=s.getCtrl().column.getLeft(),l=o.getCtrl().column.getLeft();return a-l;});let r=i.map(s=>s.getGui());jZ(this.getGui(),r);}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new JAe(e);break;case"filter":t=new eDe(e);break;default:t=new ZAe(e);break;}return this.createBean(t),t.setParentComponent(this),t;}},GB=class extends Oe{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n;}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged();}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?ii(t):this.columnOrGroup;}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e);}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=at(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged();}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n);});}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft);}modifyLeftForPrintLayout(e,t){let{gos:n,visibleCols:i}=this.beans;if(!Gs(n,"print")||e.getPinned()==="left")return t;let s=i.getColsLeftWidth();if(e.getPinned()==="right"){let o=i.bodyWidth;return s+o+t;}return s+t;}setLeft(e){if(at(e)&&(this.eCell.style.left=`${e}px`),vr(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&w2e(this.ariaEl,t.length);}}},nDe=0,nee="headerCtrl",zB=class extends Oe{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+nDe++;}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e});}shouldStopEventPropagation(e){let{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!at(r))return!1;let s=this.gos.addGridCommonParams({colDef:i,column:n,headerRowIndex:t,event:e});return!!r(s);}getWrapperHasFocus(){return sr(this.beans)===this.eGui;}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex();}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column});}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,s=d=>{if(!this.isAlive()||!i.isAlive())return;let{paddingTop:h,paddingBottom:f,borderBottomWidth:g,borderTopWidth:m}=Km(this.eGui),y=h+f+g+m,C=t.offsetHeight+y;if(d<5){let _=Fr(r),A=!_||!_.contains(t),I=C==0;if(A||I){Ap(r,()=>s(d+1));return;}}this.setColHeaderHeight(this.column,C);},o=!1,a,l=()=>{let d=this.column.isAutoHeaderHeight();d&&!o&&c(),!d&&o&&u();},c=()=>{o=!0,s(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=Tp(this.beans,t,()=>s(0));},u=()=>{o=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0;};l(),i.addDestroyFunc(()=>u()),i.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0));}}),n&&n(l);}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(FJ(e,t,n.visibleCols),MZ(i,n.visibleCols.getAriaColIndex(t)));}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)});}refreshTabIndex(){let e=zb(this.beans);this.eGui&&Bl(this.eGui,"tabindex",e?null:"-1");}onGuiKeyDown(e){let t=sr(this.beans),n=e.key===Me.LEFT||e.key===Me.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;let r=e.key===Me.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0);}else this.moveHeader(r);}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this);}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t;}getResizeDiff(e){let{gos:t,column:n}=this,i=e.key===Me.LEFT!==t.get("enableRtl"),r=n.getPinned(),s=t.get("enableRtl");return r&&s!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier;}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1);},150));}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case Me.PAGE_DOWN:case Me.PAGE_UP:case Me.PAGE_HOME:case Me.PAGE_END:t&&e.preventDefault();}}addDomData(e){let t=nee,{eGui:n,gos:i}=this;$m(i,n,t,this),e.addDestroyFunc(()=>$m(i,n,t,null));}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1;}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column};}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null);}handleContextMenuMouseEvent(e,t,n){let i=e??t,{menuSvc:r,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),r?.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n);}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t});}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"});}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null;}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null;}},iDe=class extends zB{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set(),this.ariaDescriptionProperties=new Map();}setComp(e,t,n,i,r){this.comp=e;let{colResize:s,context:o,colHover:a}=this.beans,l=J_(this,o,r);this.setGui(t,l),this.updateState(),this.setupWidth(l),this.setupMovingCss(l),this.setupMenuClass(l),this.setupSortableClass(l),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:u=>this.setRefreshFunction("measuring",u),compBean:l}),this.addColumnHoverListener(l),this.setupFilterClass(l),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(l),this.setupSelectAll(l),this.setupUserComp(),this.refreshAria(),s?this.resizeFeature=l.createManagedBean(s.createResizeFeature(this.rowCtrl.pinned,this.column,n,e,this)):rr(n,!1),a?.createHoverFeature(l,[this.column],t),l.createManagedBean(new GB(this.column,t,this.beans)),l.createManagedBean(new Jb(t,{shouldStopEventPropagation:u=>this.shouldStopEventPropagation(u),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(l),l.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh()),l.addManagedListeners(this.column,{colDefChanged:()=>this.refresh()}),l.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let c=()=>this.checkDisplayName();l.addManagedEventListeners({columnValueChanged:c,columnRowGroupChanged:c,columnPivotChanged:c,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),l.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent();});}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t);}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e);}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e);}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return nTe(this.beans.userCompFactory,t,e);}createParams(){let{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return i.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Ka(this.gos)),showColumnMenu:s=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button"});},showColumnMenuAfterMouseClick:s=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse"});},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"});},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted");},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted");},eGridHeader:this.eGui,setTooltip:(s,o)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o);}});}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this));}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui();}handleKeyDown(e){super.handleKeyDown(e),e.key===Me.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===Me.ENTER&&this.onEnterKeyDown(e),e.key===Me.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1);}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted");}showMenuOnKeyPress(e,t){let n=this.comp.getUserCompInstance();eZ(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault();}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),NTe()&&this.setActiveHeader(!0);}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1);}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t);}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),n=MJ(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.addOrRemoveCssClass(r,!0);}),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!1));};this.setRefreshFunction("headerClasses",e),e();}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null);}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable();}setRefreshFunction(e,t){this.refreshFunctions[e]=t;}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e());}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e);}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e);}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0);}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh();}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot;}setupWidth(e){let t=()=>{let n=this.column.getActualWidth();this.comp.setWidth(`${n}px`);};e.addManagedListeners(this.column,{widthChanged:t}),t();}setupMovingCss(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());};e.addManagedListeners(this.column,{movingChanged:t}),t();}setupMenuClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible());};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t();}setupSortableClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable);};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)});}setupFilterClass(e){let t=()=>{let n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria();};e.addManagedListeners(this.column,{filterActiveChanged:t}),t();}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t);};e(),this.setRefreshFunction("wrapText",e);}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n);}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged();}onHeaderHeightChanged(){this.refreshSpanHeaderHeight();}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:n,beans:i}=this,r=BB(this.beans),s=r.reduce((u,d)=>u+=d,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return;}let{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",o>0);let l=VB(i);if(o===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return;}n.addOrRemoveCssClass("ag-header-span-total",a);let c=0;for(let u=0;u<o;u++)c+=r[r.length-1-u];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${l+c}px`);}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(d2e(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"));}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null);}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"));}else this.setAriaDescriptionProperty("menu",null);}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Ka(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"));}else this.setAriaDescriptionProperty("filterButton",null);}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null);}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e);}announceAriaDescription(){if(!this.eGui.contains(sr(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader");}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered();}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column);}addActiveHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i});}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column});}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e);}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return eZ(t)?t.getAnchorElementForMenu(e):this.eGui;}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy();}};function eZ(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function";}var rDe=0,I8=class extends Oe{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=rDe++;let i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`;}postConstruct(){this.isPrintLayout=Gs(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder");}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1;}setComp(e,t,n=!0){this.comp=e,t=J_(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t);}getAriaRowIndex(){return this.rowIndex+1;}addEventListeners(e){let t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t);}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(let t of this.headerCellCtrls.values())if(t.column===e)return t;}}onDisplayedColumnsChanged(){this.isPrintLayout=Gs(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged();}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`);}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned);}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px");}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],n=BB(this.beans),i=VB(this.beans);t.push(...n),t.push(i),e?.hasFloatingFilters()&&t.push(eee(this.beans));let r=0;for(let o=0;o<this.rowIndex;o++)r+=t[o];let s=t[this.rowIndex];return{topOffset:r,rowHeight:s};}onVirtualColumnsChanged(e=!1){let t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e);}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map();let t=this.getColumnsInViewport();for(let i of t)this.recycleAndCreateHeaderCtrls(i,e);let n=i=>{let{focusSvc:r,visibleCols:s}=this.beans;return r.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1;};if(e)for(let[i,r]of e)n(r)?this.headerCellCtrls.set(i,r):this.destroyBean(r);return this.getHeaderCellCtrls();}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[]);}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;let n=e.getUniqueId(),i;if(t&&(i=t.get(n),t.delete(n)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break;}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new iDe(e,this));break;}this.headerCellCtrls.set(n,i);}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout();}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{let r=n.getHeadersToRender(i,t);e=e.concat(r);}),e;}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex;}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth());}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let t=this.getHeaderCellCtrls(),n;return typeof e=="function"?n=t.find(e):n=t.find(i=>i.column==e),n;}focusHeader(e,t){let n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1;}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e);}),this.headerCellCtrls=void 0,super.destroy();}},sDe=class extends Oe{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[];}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:s,filterManager:o}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);let a=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});let l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh();}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e;}refresh(e=!1){let{focusSvc:t,colModel:n,filterManager:i}=this.beans,r=0,s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{let u=qAe(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<u;d++){let h=this.createBean(new I8(r++,this.pinned,"group"));this.groupsRowCtrls.push(h);}},a=()=>{let u=r++,d=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==u);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new I8(u,this.pinned,"column")));},l=()=>{this.includeFloatingFilter=!!i?.hasFloatingFilters()&&!this.hidden;let u=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl);};if(!this.includeFloatingFilter){u();return;}let d=r++;if(this.filtersRowCtrl){let h=this.filtersRowCtrl.rowIndex!==d;(!e||h)&&u();}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new I8(d,this.pinned,"filter")));};o(),a(),l();let c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(t,s);}getHeaderCtrlForColumn(e){if(Ep(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){let n=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(n)return n;}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null;}getRowType(e){return this.getAllCtrls()[e]?.type;}focusHeader(e,t,n){let r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1;}getGroupRowCount(){return this.groupsRowCtrls.length;}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e];}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0);}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e);}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e});}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy();}setupDragAndDrop(e,t){let n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n);}restoreFocusOnHeader(e,t){if(!t)return;let{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t});}onGridColumnsChanged(){this.refresh(!0);}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0);}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new LB(e=>this.comp.setCenterWidth(`${e}px`),!0));}},oDe=class extends Oe{constructor(){super(...arguments),this.beanName="menuSvc";}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t;}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu");}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&Ka(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0);}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n);}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu();}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Ka(this.gos)||!!this.beans.enterpriseMenuFactory);}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e);}isHeaderContextMenuEnabled(e){return!(e&&Ep(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new";}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide();}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(Vm()&&e);}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Ka(this.gos)&&!this.isFloatingFilterButtonDisplayed(e);}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Ka(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e);}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton;}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e);}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return Ka(e)?e.exists("suppressMenuHide")?t:!1:t;}showColumnMenuCommon(e,t,n,i){let{positionBy:r}=t,s=t.column;if(r==="button"){let{buttonElement:o}=t;e?.showMenuAfterButtonClick(s,o,n,i);}else if(r==="mouse"){let{mouseEvent:o}=t;e?.showMenuAfterMouseEvent(s,o,n,i);}else if(s){let o=this.beans,a=o.ctrlsSvc;a.getScrollFeature().ensureColumnVisible(s,"auto"),Ap(o,()=>{let l=a.getHeaderRowContainerCtrl(s.getPinned())?.getHeaderCtrlForColumn(s);l&&e?.showMenuAfterButtonClick(s,l.getAnchorElementForMenu(i),n,!0);});}}};function tZ(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n));}var iee=class extends ri{constructor(){super();}},aDe=class extends iee{init(){let e=Eh(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...");});}}},lDe=class extends iee{init(){let e=Eh(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show");});}}};function cDe(e,t,n){let i=Ll(e,t,n);if(i){let{className:s}=i;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return i;}let r=document.createElement("span");return r.appendChild(i),r;}function Ll(e,t,n){let i=null;e==="smallDown"?et(262):e==="smallLeft"?et(263):e==="smallRight"&&et(264);let r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){let s=t.gos.get("icons");s&&(i=s[e]);}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{et(38,{iconName:e});return;}if(typeof s=="string")return U_(s);if(TB(s))return s;et(133,{iconName:e});return;}else{let s=document.createElement("span"),o=t.registry.getIcon(e);o||t.validation?.validateIcon(e);let a=o??e;return s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),Wo(s,"presentation"),s;}}var uDe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",dDe=class extends ri{constructor(){super(),this.dragSource=null,this.eIcon=dt,this.eLabel=dt,this.registerCSS(uDe);}postConstruct(){let e=t=>cDe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")};}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`);}destroy(){this.dragSource=null,super.destroy();}setIcon(e,t){let{eIcon:n,dragSource:i,dropIconMap:r,gos:s}=this;lo(n);let o=null;e||(e=i?.getDefaultIconName?i.getDefaultIconName():"notAllowed"),o=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===r.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o);}setLabel(e){this.eLabel.textContent=nd(e);}},hDe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",fDe=class extends ri{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(hDe);}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel();}refreshLabel(){let{label:e,eLabel:t}=this;lo(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(rr(t,!1),Wo(t,"presentation")):(rr(t,!0),Wo(t,null));}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this);}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id;}getLabel(){return this.label;}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this);}setLabelAlignment(e){let n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this;}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this;}setLabelWidth(e){return this.label==null?this:(II(this.eLabel,e),this);}setDisabled(e){e=!!e;let t=this.getGui();return G_(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this;}isDisabled(){return!!this.disabled;}},ree=class extends fDe{constructor(e,t,n,i){super(e,t,n),this.className=i;}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy();}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this;}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||h2e(e)!==null?$8(e,""):$8(e,t??"");}setAriaLabel(e){return WI(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this;}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this;}getWidth(){return this.getGui().clientWidth;}setWidth(e){return ed(this.getGui(),e),this;}getPreviousValue(){return this.previousValue;}getValue(){return this.value;}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this);}},Bm=class extends ree{constructor(e,t,n="text",i="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} data-ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=dt,this.eWrapper=dt,this.eInput=dt;}postConstruct(){super.postConstruct(),this.setInputType();let{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;let{inputName:r,inputWidth:s}=this.config;r!=null&&this.setInputName(r),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n]);}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)});}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType);}getInputElement(){return this.eInput;}setInputWidth(e){return II(this.eWrapper,e),this;}setInputName(e){return this.getInputElement().setAttribute("name",e),this;}getFocusableElement(){return this.eInput;}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this;}setInputPlaceholder(e){return Bl(this.eInput,"placeholder",e),this;}setInputAriaLabel(e){return WI(this.eInput,e),this.refreshAriaLabelledBy(),this;}setDisabled(e){return G_(this.eInput,e),super.setDisabled(e);}setAutoComplete(e){if(e===!0)Bl(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";Bl(this.eInput,"autocomplete",t);}return this;}},UB=class extends Bm{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1;}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t);}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)});}getNextValue(){return this.selected===void 0?!0:!this.selected;}setPassive(e){this.passive=e;}isReadOnly(){return this.readOnly;}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e;}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e);}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t);}getValue(){return this.isSelected();}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this;}setName(e){let t=this.getInputElement();return t.name=e,this;}isSelected(){return this.selected;}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue);}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});let i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t});}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e);}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null);}},jB={selector:"AG-CHECKBOX",component:UB},pDe=".ag-checkbox-cell{height:100%}",gDe=class extends ri{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[jB]),this.eCheckbox=dt,this.registerCSS(pDe);}init(e){this.refresh(e);let{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),IZ(i,"polite"),this.addManagedListeners(i,{click:r=>{if(Wb(r),t.isDisabled())return;let s=t.getValue();this.onCheckboxChanged(s);},dblclick:r=>{Wb(r);}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===Me.SPACE&&!t.isDisabled()){e.eGridCell===sr(n)&&t.toggle();let s=t.getValue();this.onCheckboxChanged(s),r.preventDefault();}}});}refresh(e){return this.params=e,this.updateCheckbox(e),!0;}updateCheckbox(e){let t,n=!0,{value:i,column:r,node:s}=e;if(s.group&&r){if(typeof i=="boolean")t=i;else{let d=r.getColId();d.startsWith(KI)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[d]!==void 0?t=i??void 0:n=!1;}}else t=i??void 0;let{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return;}o.setValue(t);let a=e.disabled??!r?.isCellEditable(s);o.setDisabled(a);let l=this.getLocaleTextFunc(),c=CB(l,t),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(u);}onCheckboxChanged(e){let{eventSvc:t,params:n}=this,{column:i,node:r,value:s}=n,o={column:i,colDef:i.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:s};t.dispatchEvent(O({type:"cellEditingStarted"},o));let a=r.setDataValue(i,e,"edit");t.dispatchEvent(Re(O({type:"cellEditingStopped"},o),{oldValue:s,newValue:e,valueChanged:a})),a||this.updateCheckbox(n);}},mDe="ROOT_NODE_ID",vDe=class extends Oe{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null;}get treeData(){return!1;}getRowNode(e){return this.allNodesMap[e];}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data);}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=mDe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e);}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null);}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null;}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t));}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren);}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[];}setImmutableRowData(e,t){let n=this.createTransactionForRowData(t),i=this.updateRowData(n,e.changedRowNodes),r=!1;this.gos.get("suppressMaintainUnsortedOrder")||(r=this.updateRowOrderFromRowData(t));let{rowNodeTransaction:s,rowsInserted:o}=i,{add:a,remove:l,update:c}=s;(o||r||a.length||l.length||c.length)&&(e.step="group",e.rowDataUpdated=!0,e.rowNodeTransactions=[s],e.rowNodesOrderChanged=o||r);}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=$b(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n;}createTransactionForRowData(e){let t=$b(this.gos),n=O({},this.allNodesMap),i=[],r=[],s=[];at(e)&&e.forEach(o=>{let a=t({data:o,level:0}),l=n[a];l?(l.data!==o&&r.push(o),n[a]=void 0):s.push(o);});for(let o of Object.values(n))o&&i.push(o.data);return{remove:i,update:r,add:s};}updateRowOrderFromRowData(e){let t=this.rootNode?.allLeafChildren,n=t?.length??0,i=new Map(),r=-1,s=-1;for(let o=0;o<n;++o){let a=t[o],l=a.data;l!==e[o]&&(s<0&&(r=o),s=o,i.set(l,a));}if(r<0)return!1;for(let o=r;o<=s;++o){let a=i.get(e[o]);a!==void 0&&(t[o]=a,a.sourceRowIndex=o);}return!0;}executeAdd(e,t){let n=e.add;if(!n?.length)return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let d=0;d<i.length;d++)if(i[d]?.rowIndex==r-1){r=d+1;break;}}let s=n.length,o=t.changedRowNodes,a=new Array(s);for(let u=0;u<s;u++){let d=this.createRowNode(n[u],r+u);o.add(d),a[u]=d;}let l=this.rootNode;if(r<i.length){let u=i.slice(0,r),d=i.slice(r,i.length),h=u.length+a.length;for(let f=0,g=d.length;f<g;++f)d[f].sourceRowIndex=h+f;i=[...u,...a,...d],t.rowsInserted=!0;}else i=i.concat(a);l.allLeafChildren=i;let c=l.sibling;c&&(c.allLeafChildren=i),t.rowNodeTransaction.add=a;}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{remove:s}=t;if(!s?.length)return;let o={};s.forEach(c=>{let u=this.lookupRowNode(e,c);u&&(u.isSelected()&&r.push(u),u.clearRowTopAndRowIndex(),o[u.id]=!0,delete this.allNodesMap[u.id],i.remove.push(u),n.remove(u));});let a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,u)=>{c.sourceRowIndex=u;});let l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren);}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){let{update:s}=t;s?.length&&s.forEach(o=>{let a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a));});}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null});}deselectNodes(e){let t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t});}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e);}createRowNode(e,t){let n=new Yb(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&et(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n;}lookupRowNode(e,t){let n;if(e){let i=e({data:t,level:0});if(n=this.allNodesMap[i],!n)return vi(4,{id:i}),null;}else if(n=this.rootNode?.allLeafChildren?.find(i=>i.data===t),!n)return vi(5,{data:t}),null;return n||null;}};var yDe=class extends ri{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[jB]),this.eCheckbox=dt;}postConstruct(){this.eCheckbox.setPassive(!0);}getCheckboxId(){return this.eCheckbox.getInputElement().id;}onDataChanged(){this.onSelectionChanged();}onSelectableChanged(){this.showOrHideSelect();}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=CB(e,i),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`);}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Wb,click:i=>{Wb(i),this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected");}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{let s=typeof i=="object"?T8(i):void 0,o=typeof r=="object"?T8(r):void 0;s!==o&&this.onSelectableChanged();}),iB(this.gos)||typeof this.getIsVisible()=="function"){let i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect();}this.eCheckbox.getInputElement().setAttribute("tabindex","-1");}showOrHideSelect(){let{column:e,rowNode:t,overrides:n,gos:i}=this,r=t.selectable,s=this.getIsVisible();if(r)if(typeof s=="function"){let l=n?.callbackParams;if(!e)r=s(Re(O({},l),{node:t,data:t.data}));else{let c=e.createColumnFunctionCallbackParams(t);r=s(O(O({},l),c));}}else r=s??!1;let o=i.get("rowSelection");if(o&&typeof o!="string"?!T8(o):e?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return;}if(n?.removeHidden){this.setDisplayed(r);return;}this.setVisible(r);}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?Bb(t):this.column?.getColDef()?.checkboxSelection;}},bDe=class{constructor(e){this.rootId=null,this.endId=null,this.cachedRange=[],this.rowModel=e;}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0;}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0;}setEndRange(e){this.endId=e.id,this.cachedRange.length=0;}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[];}return this.cachedRange;}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id);}getRoot(){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:null;}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null;}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){let r=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:s}:{keep:s,discard:r};}else return{keep:t,discard:[]};}extend(e,t=!1){let n=this.getRoot();if(n==null){let r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]};}let i=this.rowModel.getNodesInRangeForSelection(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r};}}},xDe=class extends Oe{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1;}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(sr(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()));}getCheckboxGui(){return this.cbSelectAll.getGui();}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new UB());this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Wo(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideSelectAll.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel();}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll();}showOrHideSelectAll(){let e=this.isCheckboxSelection();this.cbSelectAllVisible=e,this.cbSelectAll.setDisplayed(e),e&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel();}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox();}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox();}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);let r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1;}refreshSelectAllLabel(){let e=this.getLocaleTextFunc(),{headerCellCtrl:t,cbSelectAll:n,cbSelectAllVisible:i}=this,s=n.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");t.setAriaDescriptionProperty("selectAll",i?`${o} (${s})`:null),n.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),t.announceAriaDescription();}checkSelectionType(e){return qI(this.gos)?!0:(et(128,{feature:e}),!1);}checkRightRowModelType(e){let{gos:t,rowModel:n}=this.beans;return jo(t)||Z_(t)?!0:(et(129,{feature:e,rowModel:n.getType()}),!1);}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");let i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i);}isCheckboxSelection(){let{column:e,gos:t,beans:n}=this,i=t.get("rowSelection"),r=e.getColDef(),{headerCheckboxSelection:s}=r,o=!1,a=typeof i=="object";if(a){let c=td(e),u=PB(e);(nB(i)==="autoGroupColumn"&&u||c&&n.selectionColSvc?.isSelectionColumnEnabled())&&(o=xI(i));}else typeof s=="function"?o=s(t.addGridCommonParams({column:e,colDef:r})):o=!!s;let l=a?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(l)&&this.checkSelectionType(l);}getSelectAllMode(){let e=sJ(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all";}},wDe=class extends Oe{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new bDe(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let n=iB(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable());}),this.isRowSelectable=iB(e);}destroy(){super.destroy(),this.selectionCtx.reset();}createCheckboxSelectionComponent(){return new yDe();}createSelectAllFeature(e){return new xDe(e);}isMultiSelect(){return qI(this.gos);}onRowCtrlSelected(e,t,n){let i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",i);let s=r.element;q8(s,i),s.contains(sr(this.beans))&&t(r);});}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(t&&!$Q(this.gos))return;let i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(i,"rowSelection");}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e});}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Gm(this.gos);}updateRowSelectable(e,t){let n=this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n;}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(W_(this.gos)){let r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return;}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"});}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){let r=e.childrenAfterGroup[i],s=r.isSelected();if(!r.selectable){let o=this.calculateSelectedFromChildren(r);if(o===null)continue;s=o;}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return;}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null;}selectRowNode(e,t,n,i="api"){let r=!e.selectable&&t,s=e.__selected===t;if(r||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let o=e.sibling;return o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent(Re(O({},uAe(e,this.gos,"rowSelected")),{event:n||null,source:i})),!0;}isCellCheckboxSelection(e,t){let n=this.gos.get("rowSelection");if(n&&typeof n!="string"){let i=td(e)&&Bb(n);return e.isColumnFunc(t,i);}else return e.isColumnFunc(t,e.colDef.checkboxSelection);}inferNodeSelections(e,t,n,i){let{gos:r,selectionCtx:s}=this,o=e.isSelected(),a=W_(r),l=eEe(r),c=$Q(r),u=i==="rowClicked";if(u&&a&&e.group||u&&!(l||c))return null;if(t&&n&&this.isMultiSelect()){let d=s.getRoot();if(d){if(d.isSelected()){let h=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:h.discard,select:h.keep,reset:!1};}else{let h=s.extend(e,a);return{select:[],deselect:h.keep,reset:!1};}}else return null;}else if(t&&this.isMultiSelect()){let d=s.getRoot(),h=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:h.keep,deselect:h.discard,reset:!!(d&&!d.isSelected())};}else{if(n)return s.setRoot(e),u&&o&&!c?null:{node:e,newValue:!o,clearSelection:!this.isMultiSelect()};{s.setRoot(e);let d=tEe(r),h=FI(r)==="filteredDescendants",f=u&&(!d||!l);if(h&&o===void 0&&jo(r))return{node:e,newValue:!1,clearSelection:!this.isMultiSelect()||f};if(u){let g=o?!d:l;return g===o?null:{node:e,newValue:g,clearSelection:!this.isMultiSelect()||f};}return{node:e,newValue:!o,clearSelection:!this.isMultiSelect()||f};}}}},CDe=class extends UB{constructor(e){super(e,"ag-radio-button","radio");}isSelected(){return this.eInput.checked;}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0);}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)});}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0);}};var Qm=class extends Bm{constructor(e,t="ag-text-field",n="text"){super(e,t,n);}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters();}setValue(e,t){let n=this.eInput;return n.value!==e&&(n.value=at(e)?e:""),super.setValue(e,t);}setStartValue(e){this.setValue(e,!0);}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{KJ(n)&&n.key&&!e.test(n.key)&&n.preventDefault();};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{let i=n.clipboardData?.getData("text");i&&i.split("").some(r=>!e.test(r))&&n.preventDefault();}});}},XI={selector:"AG-INPUT-TEXT-FIELD",component:Qm},_De=class extends Bm{constructor(e){super(e,"ag-text-area",null,"textarea");}setValue(e,t){let n=super.setValue(e,t);return this.eInput.value=e,n;}setCols(e){return this.eInput.cols=e,this;}setRows(e){return this.eInput.rows=e,this;}},SDe={selector:"AG-INPUT-TEXT-AREA",component:_De},$B=class extends Qm{constructor(e){super(e,"ag-number-field","number");}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o);},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r);}onWheel(e){sr(this.beans)===this.eInput&&e.preventDefault();}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e),{min:n,max:i}=this;return n!=null&&t<n?e=n.toString():i!=null&&t>i&&(e=i.toString()),e;}adjustPrecision(e,t){let n=this.precision;if(n==null)return e;if(t){let r=parseFloat(e).toFixed(n);return parseFloat(r).toString();}let i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`;}return i[0];}setMin(e){return this.min===e?this:(this.min=e,Bl(this.eInput,"min",e),this);}setMax(e){return this.max===e?this:(this.max=e,Bl(this.eInput,"max",e),this);}setPrecision(e){return this.precision=e,this;}setStep(e){return this.step===e?this:(this.step=e,Bl(this.eInput,"step",e),this);}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e);}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t;},e);}setValueOrInputValue(e,t,n){if(at(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);let r=this.normalizeValue(n);i=n!=r;}if(i)return t(n);}return e(n);}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue();}isScientificNotation(e){return typeof e=="string"&&e.includes("e");}},EDe={selector:"AG-INPUT-NUMBER-FIELD",component:$B};function O_(e,t){return e.toString().padStart(t,"0");}function Vl(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>O_(r,2)).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>O_(r,2)).join(":")),i;}var P8=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";}return"th";};function B_(e,t="YYYY-MM-DD"){let n=O_(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>O_(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${P8(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${P8(e.getDate())}`,DD:()=>O_(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${P8(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a);}function Ca(e){if(!e)return null;let[t,n]=e.split(" ");if(!t)return null;let i=t.split("-").map(d=>parseInt(d,10));if(i.filter(d=>!isNaN(d)).length!==3)return null;let[r,s,o]=i,a=new Date(r,s-1,o);if(a.getFullYear()!==r||a.getMonth()!==s-1||a.getDate()!==o)return null;if(!n||n==="00:00:00")return a;let[l,c,u]=n.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a;}var TDe=class extends Qm{constructor(e){super(e,"ag-date-field","date");}postConstruct(){super.postConstruct();let e=qm();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus();}}),this.eInput.step="any";}onWheel(e){sr(this.beans)===this.eInput&&e.preventDefault();}setMin(e){let t=e instanceof Date?Vl(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Bl(this.eInput,"min",t),this);}setMax(e){let t=e instanceof Date?Vl(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Bl(this.eInput,"max",t),this);}setStep(e){return this.step===e?this:(this.step=e,Bl(this.eInput,"step",e),this);}getDate(){if(this.eInput.validity.valid)return Ca(this.getValue())??void 0;}setDate(e,t){this.setValue(Vl(e??null,!1),t);}},see={selector:"AG-INPUT-DATE-FIELD",component:TDe},ADe=1e3,DDe=1e3,nZ=100,iZ,vI=!1,RDe=class extends Oe{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1;}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory;}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)});}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t);}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay");}destroy(){this.setToDoNothing(),super.destroy();}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1;}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Vm()&&(vI?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e);},nZ):this.prepareToShowTooltip(e));}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip();}onMouseDown(){this.setToDoNothing();}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing();}onFocusIn(){this.prepareToShowTooltip();}onFocusOut(e){let t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing();}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing();}prepareToShowTooltip(e){if(this.state!=0||vI)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1;}isLastTooltipHiddenRecently(){return new Date().getTime()-iZ<ADe;}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null;}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!at(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return;}let n=t.getRowNode?.(),i=O({location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0)},t.getAdditionalParams?.()??{});this.state=2,this.tooltipInstanceCount++;let r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);mTe(this.userCompFactory,i)?.newAgStackInstance().then(r);}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),iZ=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0));}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return;}let i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");let r=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o});}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Fr(this.beans),{keydown:o=>{i.contains(o?.target)||this.onKeyDown();}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout();}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService();}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService());}onTooltipFocusIn(){this.isInteractingWithTooltip=!0;}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=sr(this.beans);return!!e&&e.contains(t);}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip());}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent(Re(O({},e),{mouseEvent:this.lastMouseEvent})):this.popupSvc?.positionPopupByComponent(Re(O({},e),{eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}));}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?DDe:0;window.setTimeout(()=>{e(),this.destroyBean(t);},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0;}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e();}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null;}lockService(){vI=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing();},nZ);}unlockService(){vI=!1,this.clearInteractiveTimeout();}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"));}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0);}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0);}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0);}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout();}};function k8(e){return e.get("tooltipShowMode")==="whenTruncated";}function SI(e){return()=>{let t=e();return t?t.scrollWidth>t.clientWidth:!0;};}var IDe=class extends Oe{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t);}postConstruct(){this.refreshTooltip();}setBrowserTooltip(e){let t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t));}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e());}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new RDe(this.ctrl,()=>this.tooltip),this.beans.context));}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip();}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded());}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy();}},PDe=class extends ri{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[];}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)});}handleKeyDown(e){let t=e.key;switch(t){case Me.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n);}break;case Me.DOWN:case Me.UP:e.preventDefault(),this.navigate(t);break;case Me.PAGE_DOWN:case Me.PAGE_UP:case Me.PAGE_HOME:case Me.PAGE_END:e.preventDefault(),this.navigateToPage(t);break;}}navigate(e){let t=e===Me.DOWN,n,{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let o=i.indexOf(r)+(t?1:-1);o=Math.min(Math.max(o,0),i.length-1),n=i[o];}this.highlightItem(n);}navigateToPage(e){let{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;let i=t.indexOf(n),r=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s),a=-1;e===Me.PAGE_HOME?a=0:e===Me.PAGE_END?a=r:e===Me.PAGE_DOWN?a=Math.min(i+o,r):e===Me.PAGE_UP&&(a=Math.max(i-o,0)),a!==-1&&this.highlightItem(t[a]);}addOptions(e){return e.forEach(t=>this.addOption(t)),this;}addOption(e){let{value:t,text:n}=e,i=n||t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this;}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Nl(e);}),this.itemEls=[];}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{v2e(t,n+1),m2e(t,e.length);});}renderOption(e,t){let n=Fr(this.beans),i=n.createElement("div");Wo(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let r=n.createElement("span");i.appendChild(r),r.textContent=t,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e);}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(i);}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let n=this.options.findIndex(i=>i.value===e);if(n!==-1){let i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent();}return this;}setValueByIndex(e){return this.setValue(this.options[e].value);}getValue(){return this.value;}getDisplayValue(){return this.displayValue;}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e]);}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent();}highlightItem(e){if(!Mc(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),q8(e,!0);let t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus();}clearHighlighted(){let e=this.highlightedEl;!e||!Mc(e)||(e.classList.remove(this.activeClass),q8(e,!1),this.highlightedEl=null);}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected();}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"});}},kDe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}",MDe=class extends ree{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=dt,this.eWrapper=dt,this.eDisplayField=dt,this.eIcon=dt,this.registerCSS(kDe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s);}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:n,inputWidth:i}=this.config;if(n){let r=Ll(n,this.beans);r&&this.eIcon.appendChild(r);}i!=null&&this.setInputWidth(i);}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),W8(e,!1),this.ariaRole&&Wo(e,this.ariaRole);}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus();}if(this.skipClick){this.skipClick=!1;return;}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker());}onKeyDown(e){switch(e.key){case Me.UP:case Me.DOWN:case Me.ENTER:case Me.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Me.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break;}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0);}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker();}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:u}=this,d={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{let m=nJ(c);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus();},ariaLabel:t(n,i),anchorToElement:u};e.style.position="absolute";let h=c.popupSvc,f=h.addPopup(d);l?(o&&(e.style.minWidth=o),e.style.width=EB(TI(u)),a&&(e.style.maxWidth=a)):II(e,a??TI(u));let g=s??`${SB(h.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),f.hideFunc;}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:s}=this,o=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e});}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null;}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();W8(t,e);let n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e);}onPickerFocusIn(){this.togglePickerHasFocus(!0);}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1);}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e);}hidePicker(){this.hideCurrentPicker?.();}setInputWidth(e){return II(this.eWrapper,e),this;}getFocusableElement(){return this.eWrapper;}setPickerGap(e){return this.pickerGap=e,this;}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this;}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this;}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this;}destroy(){this.hidePicker(),super.destroy();}},FDe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",WB=class extends MDe{constructor(e){super(O({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox"},e)),this.registerCSS(FDe);}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:SI(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)});}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker();}createListComponent(){let e=this.createBean(new PDe("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),S2e(this.getAriaElement(),t),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"});}}),e.addManagedListeners(e,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker());}});}createPickerComponent(){return this.listComponent;}onKeyDown(e){let{key:t}=e;switch(t===Me.TAB&&this.hidePicker(),t){case Me.ENTER:case Me.UP:case Me.DOWN:case Me.PAGE_UP:case Me.PAGE_DOWN:case Me.PAGE_HOME:case Me.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Me.ESCAPE:super.onKeyDown(e);break;case Me.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break;}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted());}addOptions(e){return e.forEach(t=>this.addOption(t)),this;}addOption(e){return this.listComponent.addOption(e),this;}clearOptions(){return this.listComponent?.clearOptions(),this;}setValue(e,t,n){let{listComponent:i,config:{placeholder:r},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t);}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy();}},NDe={selector:"AG-SELECT",component:WB},M8={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},LDe=class extends Oe{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h;}postConstruct(){this.createManagedBean(new Jb(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}));}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e);}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex");}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1;}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString());}deactivateTabGuards(){this.comp.setTabIndex();}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return;}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return;}if(this.forceFocusOutWhenTabGuardsAreEmpty&&Gb(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return;}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t);}findNextElementOutsideAndFocus(e){let t=Fr(this.beans),n=Gb(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,s;e?(r=0,s=i):(r=i+1,s=n.length);let o=n.slice(r,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{let u=parseInt(l.getAttribute("tabindex")||"0"),d=parseInt(c.getAttribute("tabindex")||"0");return d===a?1:u===a?-1:u===0?1:d===0?-1:u-d;}),o[e?o.length-1:0]?.focus();}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards());}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards());}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return;}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault());}focusInnerElement(e=!1){let t=Gb(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0});}getNextFocusableElement(e){return Xm(this.beans,this.eFocusableElement,!1,e);}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards();});}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0);}setAllowFocus(e){this.allowFocus=e;}},ODe=class extends Oe{constructor(e){super(),this.comp=e;}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],s={setTabIndex:m=>{r.forEach(y=>m!=null?y.setAttribute("tabindex",m):y.removeAttribute("tabindex"));}};this.addTabGuards(t,n);let{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new LDe({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}));}getTabGuardCtrl(){return this.tabGuardCtrl;}createTabGuard(e){let t=Fr(this.beans).createElement("div"),n=e==="top"?M8.TAB_GUARD_TOP:M8.TAB_GUARD_BOTTOM;return t.classList.add(M8.TAB_GUARD,n),Wo(t,"presentation"),t;}addTabGuards(e,t){let n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t);}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];lo(this.comp.getFocusableElement()),this.addTabGuards(...e);}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e);}appendChild(e,t,n){TB(t)||(t=t.getGui());let{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n);}},oee=class extends ri{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ODe(this)),this.tabGuardFeature.initialiseTabGuard(e);}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e);}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t);}},ex=class extends ri{isPopup(){return!0;}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e);}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy();}},Pb=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Zb(),this.preventMouseClick=t;let n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1});});}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null;}addEventListener(e,t){this.localEventService.addEventListener(e,t);}removeEventListener(e,t){this.localEventService.removeEventListener(e,t);}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;let i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i);}},500);}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!GJ(t,this.touchStart,4)&&(this.moved=!0);}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap();}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1;}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null;}else this.lastTapTime=e;}else this.lastTapTime=e;}destroy(){this.destroyFuncs.forEach(e=>e());}};var qB=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${qZ}/${this.frameworkName}-data-grid`,V2e(this.baseDocLink);}setInterval(e,t){return new wa(n=>{n(window.setInterval(e,t));});}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){let s=hJ(t);s!=null&&(r.passive=s);}e.addEventListener(t,n,r);}frameworkComponent(e){return null;}isFrameworkComponent(e){return!1;}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`;}};function BDe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api};}var VDe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],rZ=Object.fromEntries(VDe.map((e,t)=>[e,t]));function HDe(e,t){let n=(e.beanName?rZ[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?rZ[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i;}function GDe(e,t){return e?.beanName==="gridDestroySvc"?-1:0;}var zDe='<div class="ag-pinned-left-header" role="rowgroup"></div>',UDe='<div class="ag-pinned-right-header" role="rowgroup"></div>',jDe=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,F8=class extends ri{constructor(e){super(),this.eCenterContainer=dt,this.headerRowComps={},this.rowCompsList=[],this.pinned=e;}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{let i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n;}};this.createManagedBean(new sDe(this.pinned)).setComp(e,this.getGui());}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",n=e?zDe:t?UDe:jDe;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==dt?this.eCenterContainer:this.getGui();}destroy(){this.setCtrls([]),super.destroy();}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui());}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n,i=r=>{let s=r.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),n&&UZ(this.eRowContainer,s,n),n=s;};e.forEach(r=>{let s=r.instanceId,o=t[s];delete t[s];let a=o||this.createBean(new tDe(r));this.headerRowComps[s]=a,this.rowCompsList.push(a),i(a);}),Object.values(t).forEach(r=>this.destroyRowComp(r));}},$De=class extends ri{constructor(){super('<div class="ag-header" role="presentation"/>');}postConstruct(){let e={addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i;}};this.createManagedBean(new QAe()).setComp(e,this.getGui(),this.getFocusableElement());let n=i=>{this.createManagedBean(i),this.appendChild(i);};n(new F8("left")),n(new F8(null)),n(new F8("right"));}},WDe={selector:"AG-HEADER-ROOT",component:$De},qDe=class extends ri{constructor(e,t,n,i,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;let s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(s);let o=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),Wo(o,t.getCellAriaRole()),o.setAttribute("col-id",t.colIdSanitised);let a={addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>$Z(o,l),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,u)=>this.setRenderDetails(l,c,u),setEditDetails:(l,c,u)=>this.setEditDetails(l,c,u),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,this.getGui(),this.eCellWrapper,n,r,void 0);}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui();}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t));}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor();}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp);}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;if(i){let c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper);}let r=!n&&this.eCellWrapper!=null;r&&(Nl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);let s=!e&&n,o=s&&this.eCellValue==null;if(o){let c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue);}let a=!s&&this.eCellValue!=null;a&&(Nl(this.eCellValue),this.eCellValue=void 0);let l=i||r||o||a;return l&&this.removeControls(),e||t&&this.addControls(),l;}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.dndSourceComp&&this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.checkboxSelectionComp&&this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue));}createCellEditorInstance(e,t,n){let i=this.editorVersion,r=e.newAgStackInstance(),{params:s}=e;r.then(a=>this.afterCellEditorCreated(i,a,s,t,n)),tr(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0);}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();lo(t);let n=e!=null?nd(e,!0):null;n!=null&&(t.textContent=n);}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor();}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Nl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++;}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Nl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++;}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0;}createCellRendererInstance(e){let n=!this.beans.gos.get("suppressAnimationFrame")&&this.beans.animationFrameSvc,i=this.rendererVersion,{componentClass:r}=e,s=()=>{if(this.rendererVersion!==i||!this.isAlive())return;let a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,i,r);a&&a.then(l);};n&&this.firstRender?this.beans.animationFrameSvc.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s();}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return;}if(this.cellRenderer=n,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let r=this.getParentOfValue();lo(r),r.appendChild(this.cellRendererGui);}}afterCellEditorCreated(e,t,n,i,r){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return;}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return;}if(!t.getGui){et(97,{colId:this.column.getId()}),this.beans.context.destroyBean(t);return;}this.cellEditor=t,this.cellEditorGui=t.getGui();let a=i||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached();}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.cellCtrl.setInlineEditingCss();}addInCellEditor(){let e=this.getGui();e.contains(sr(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui);}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&et(98);let n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editSvc.createPopupEditorWrapper(e));let i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);let r=this.beans.popupSvc,s=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),o=t??n.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:o,alignSide:a?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,l),u=AZ(this.beans.localeSvc),d=r.addPopup({modal:s,eChild:i,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed();},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:u("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc);}detach(){this.eRow.removeChild(this.getGui());}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy();}clearParentOfValue(){let e=this.getGui();e.contains(sr(this.beans))&&e.focus({preventScroll:!0}),lo(this.getParentOfValue());}},KDe=class extends ri{constructor(e,t,n){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;let i=document.createElement("div");i.setAttribute("comp-id",`${this.getCompId()}`),i.setAttribute("style",this.getInitialStyle(n)),this.setTemplateFromElement(i);let r=this.getGui(),s=r.style;this.domOrder=this.rowCtrl.getDomOrder(),Wo(r,"row");let o={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>$Z(r,a),setTop:a=>s.top=a,setTransform:a=>s.transform=a,setRowIndex:a=>r.setAttribute("row-index",a),setRowId:a=>r.setAttribute("row-id",a),setRowBusinessKey:a=>r.setAttribute("row-business-key",a),refreshFullWidth:a=>this.fullWidthCellRenderer?.refresh?.(a())??!1};e.setComp(o,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n);});}getInitialStyle(e){let t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`;}showFullWidth(e){let t=i=>{if(this.isAlive()){let r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i);}else this.beans.context.destroyBean(i);};e.newAgStackInstance().then(t);}setCellCtrls(e){let t=Object.assign({},this.cellComps);e.forEach(i=>{let r=i.instanceId;this.cellComps[r]==null?this.newCellComp(i):t[r]=null;});let n=Object.values(t).filter(i=>i!=null);this.destroyCells(n),this.ensureDomOrder(e);}ensureDomOrder(e){if(!this.domOrder)return;let t=[];e.forEach(n=>{let i=this.cellComps[n.instanceId];i&&t.push(i.getGui());}),jZ(this.getGui(),t);}newCellComp(e){let t=new qDe(this.beans,e,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui());}destroy(){super.destroy(),this.destroyAllCells();}destroyAllCells(){let e=Object.values(this.cellComps).filter(t=>t!=null);this.destroyCells(e);}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer);});}destroyCells(e){e.forEach(t=>{if(!t)return;let n=t.cellCtrl.instanceId;this.cellComps[n]===t&&(t.detach(),t.destroy(),this.cellComps[n]=null);});}};function YDe(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer"></div>`,t;}var XDe=class extends ri{constructor(e){super(),this.eViewport=dt,this.eContainer=dt,this.rowComps={},this.name=e?.name,this.options=Mb(this.name),this.setTemplate(YDe(this.options));}postConstruct(){let e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n;},setContainerWidth:n=>this.eContainer.style.width=n,setOffsetTop:n=>this.eContainer.style.transform=`translateY(${n})`};this.createManagedBean(new VAe(this.name)).setComp(e,this.eContainer,this.eViewport);}destroy(){this.setRowCtrls([]),super.destroy();}setRowCtrls(e){let t=O({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let n=i=>{let r=i.instanceId,s=t[r];if(s)this.rowComps[r]=s,delete t[r],this.ensureDomOrder(s.getGui());else{if(!i.rowNode.displayed)return;let o=new KDe(i,this.beans,this.options.type);this.rowComps[r]=o,this.appendRow(o.getGui());}};e.forEach(n),Object.values(t).forEach(i=>{this.eContainer.removeChild(i.getGui()),i.destroy();}),Wo(this.eContainer,"rowgroup");}appendRow(e){this.domOrder?R2e(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e;}ensureDomOrder(e){this.domOrder&&(UZ(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e);}},QDe={selector:"AG-ROW-CONTAINER",component:XDe};function R_(e,t){return t.map(n=>{let i=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[i]={name:n},`<ag-row-container name="${n}" data-ref="${i}"></ag-row-container>`;}).join("");}function ZDe(e){let t={},n=`<div class="ag-root ag-unselectable" data-ref="eGridRoot">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${R_(t,["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${R_(t,["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${R_(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${R_(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${R_(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        ${e?"<ag-overlay-wrapper></ag-overlay-wrapper>":""}
    </div>`;return{paramsMap:t,template:n};}var JDe=class extends ri{constructor(){super(...arguments),this.eGridRoot=dt,this.eBodyViewport=dt,this.eStickyTop=dt,this.eStickyBottom=dt,this.eTop=dt,this.eBottom=dt,this.eBody=dt;}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,n=e?.getOverlayWrapperSelector(),{paramsMap:i,template:r}=ZDe(!!n);this.setTemplate(r,[...(n?[n]:[]),jAe,WAe,WDe,QDe],i);let s=(a,l)=>{let c=`${a}px`;l.style.minHeight=c,l.style.height=c;},o={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>x2e(this.getGui(),a),setRowCount:a=>b2e(this.getGui(),a),setTopHeight:a=>s(a,this.eTop),setBottomHeight:a=>s(a,this.eBottom),setTopDisplay:a=>this.eTop.style.display=a,setBottomDisplay:a=>this.eBottom.style.display=a,setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-hidden",a==="0px");},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.addOrRemoveCssClass(a,l),updateLayoutClasses:(a,l)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(u=>{u.toggle(Pc.AUTO_HEIGHT,l.autoHeight),u.toggle(Pc.NORMAL,l.normal),u.toggle(Pc.PRINT,l.print);}),this.addOrRemoveCssClass(Pc.AUTO_HEIGHT,l.autoHeight),this.addOrRemoveCssClass(Pc.NORMAL,l.normal),this.addOrRemoveCssClass(Pc.PRINT,l.print);},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(ZJ,l),registerBodyViewportResizeListener:a=>{let l=Tp(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l());},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(c=>c.classList.toggle(a,l));},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>Wo(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new zAe()),this.ctrl.setComp(o,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&Dh(this.gos)||qI(this.gos))&&y2e(this.getGui(),!0);}setRowAnimationCssOnBodyViewport(e,t){let n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t);}},eRe={selector:"AG-GRID-BODY",component:JDe},tRe=class extends Oe{constructor(){super(...arguments),this.additionalFocusableContainers=new Set();}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:i,ctrlsSvc:r}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),VJ(this.gos,t),this.createManagedBean(new NB(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let s=Tp(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),r.register("gridCtrl",this);}isDetailGrid(){return NJ(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1;}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()};}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight});}destroyGridUi(){this.view.destroyGridUi();}getGui(){return this.eGui;}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null);}disableUserSelect(e){this.view.setUserSelect(e?"none":null);}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){let{visibleCols:r,focusSvc:s}=this.beans,o=r.allCols,a=ii(o);if(s.focusGridView(a,!0))return!0;}return!1;}return this.focusContainer(t[i],e);}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,s=r.allCols;if(e){if(n.length>1)return this.focusContainer(ii(n),!0);let o=ii(s);if(i.focusGridView(o,!0))return!0;}if(this.gos.get("headerHeight")===0||zb(this.beans)){if(i.focusGridView(s[0]))return!0;for(let o=1;o<n.length;o++)if(Wm(n[o].getGui()))return!0;return!1;}return i.focusFirstHeader();}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e);}addFocusableContainer(e){this.additionalFocusableContainers.add(e);}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e);}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;let r=t[n];r.setAllowFocus?.(!0),setTimeout(()=>{r.setAllowFocus?.(!1);});}getNextFocusableIndex(e,t){let n=sr(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r};}focusContainer(e,t){e.setAllowFocus?.(!0);let n=Wm(e.getGui(),t);return e.setAllowFocus?.(!1),n;}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers];}destroy(){this.additionalFocusableContainers.clear(),super.destroy();}},nRe=class extends oee{constructor(e){super(),this.gridBody=dt,this.sideBar=dt,this.pagination=dt,this.rootWrapperBody=dt,this.eGridDiv=e;}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:s=>this.addCssClass(s),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:s=>{this.getGui().style.userSelect=s??"",this.getGui().style.webkitUserSelect=s??"";},setCursor:s=>{this.getGui().style.cursor=s??"";}},t=this.createManagedBean(new tRe()),n=t.getOptionalSelectors(),i=this.createTemplate(n),r=[eRe,...Object.values(n).filter(s=>!!s)];this.setTemplate(i,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>t.focusInnerElement(s),forceFocusOutWhenTabGuardsAreEmpty:!0});}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),Sp(this.gos,"Grid removed from DOM");});}updateLayoutClasses(e,t){let n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=Pc,{autoHeight:o,normal:a,print:l}=t;n.toggle(i,o),n.toggle(r,a),n.toggle(s,l),this.addOrRemoveCssClass(i,o),this.addOrRemoveCssClass(r,a),this.addOrRemoveCssClass(s,l);}createTemplate(e){let t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",i=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",r=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",s=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${n}
                </div>
                ${i}
                ${s}
                ${r}
            </div>`;}getFocusableElement(){return this.rootWrapperBody;}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return;}super.forceFocusOutOfContainer(e);}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t);}),e.filter(t=>Mc(t.getGui()));}},sn=(e,t)=>{for(let n of Object.keys(t))t[n]=e;return t;},sZ=O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O(O({dispatchEvent:"CommunityCore"},sn("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0})),sn("GridState",{getState:0})),sn("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),sn("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),sn("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),sn("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),sn("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),sn("ValueCache",{expireValueCache:0})),sn("CellApi",{getCellValue:0})),sn("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),sn("Sort",{onSortChanged:0})),sn("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0})),sn("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),sn("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),sn("HighlightChanges",{flashCells:0})),sn("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0})),sn("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),sn("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),sn("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),sn("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),sn("ColumnResize",{setColumnWidths:0})),sn("ColumnHover",{isColumnHovered:0})),sn("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0})),sn("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),sn("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),sn("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0})),sn("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),sn("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),sn("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),sn("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),sn("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),sn("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),sn("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),sn("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),sn("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),sn("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),sn("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),sn("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),sn("ContextMenu",{showContextMenu:0})),sn("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),sn("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),sn("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),sn("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),sn("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),sn("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),sn("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),sn("StatusBar",{getStatusPanel:0})),N8={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},iRe=(e,t)=>e.eventSvc.dispatchEvent(t),aee=class{};Reflect.defineProperty(aee,"name",{value:"GridApi"});var rRe=class extends Oe{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new aee(),this.fns=Re(O({},N8),{dispatchEvent:iRe}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(sZ))e[t]=this.makeApi(t)[t];}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed");}addFunction(e,t){let{fns:n,beans:i}=this;n!==N8&&(n[e]=i?.validation?.validateApiFunction(e,t)??t);}makeApi(e){return{[e]:(...t)=>{let{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e);}};}apiNotFound(e){let{beans:t,gos:n,preDestroyLink:i}=this;if(!t)et(26,{fnName:e,preDestroyLink:i});else{let r=sZ[e];n.assertModuleRegistered(r,`api.${e}`)&&et(27,{fnName:e,module:r});}}destroy(){super.destroy(),this.fns=N8,this.beans=null;}};function sRe(e){return e.context.getGridId();}function oRe(e){e.gridDestroySvc.destroy();}function aRe(e){return e.gridDestroySvc.destroyCalled;}function lRe(e,t){return e.gos.get(t);}function cRe(e,t,n){lee(e,{[t]:n});}function lee(e,t){e.gos.updateGridOptions({options:t});}var uRe=class extends ri{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n;}postConstruct(){this.getGui().appendChild(Ll("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation();}),this.addDragSource(),this.checkVisibility();}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this));}onDragStart(e){let{rowNode:t,column:n,eCell:i,gos:r}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(i,0,0),s){let a=r.addGridCommonParams({rowNode:t,dragEvent:e});s(a);}else try{let a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a);}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e);}};function dRe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t);}function hRe(e,t){let n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n);}function fRe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t);}var pRe=class extends Oe{constructor(){super(...arguments),this.beanName="horizontalResizeSvc";}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t);}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n);}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0);}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons();}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1);}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount);}},gRe=class extends ri{constructor(e,t,n,i,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null;}isCustomGui(){return this.customGui!=null;}postConstruct(){let{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ll("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let r=i.get("rowDragManaged")?new vRe(this,t,n):new mRe(this,t,n);this.createManagedBean(r,this.beans.context);}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t);}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e];}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()};}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText;}return this.gos.get("rowDragText");}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i?.preventDefault();}})[0]);let n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let i=this.getDragItem(),r=i.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`;},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0);}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy();}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null);}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0);}},cee=class extends Oe{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n;}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1,{column:r,rowNode:s,parent:o}=this;r&&(n=r.isRowDrag(s)||o.isCustomGui(),i=typeof r.getColDef().rowDrag=="function"),i?(o.setDisplayed(!0,t),o.setVisible(n,t)):(o.setDisplayed(n,t),o.setVisible(!0,t));}}},mRe=class extends cee{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility();}onSuppressRowDrag(){this.workOutVisibility();}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e);}},vRe=class extends cee{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility();}onSuppressRowDrag(){this.workOutVisibility();}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=r&&!o||s;this.setDisplayedOrVisible(a);}},yRe=class extends Oe{constructor(){super(...arguments),this.beanName="rowDragSvc";}setupRowDrag(e,t){let n=t.createManagedBean(new aAe(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n;}createRowDragComp(e,t,n,i,r,s){return new gRe(e,t,n,i,r,s);}createRowDragCompForRow(e,t){if(Dh(this.gos))return;let n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0);}createRowDragCompForCell(e,t,n,i,r,s){let o=this.gos;return o.get("rowDragManaged")&&(!jo(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,s);}},uee={moduleName:"Drag",version:ht,beans:[lAe]},bRe={moduleName:"DragAndDrop",version:ht,dynamicBeans:{dndSourceComp:uRe},icons:{rowDrag:"grip"}},dee={moduleName:"SharedDragAndDrop",version:ht,beans:[eAe],dependsOn:[uee],userComponents:{agDragAndDropImage:dDe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},xRe={moduleName:"RowDrag",version:ht,beans:[yRe],apiFunctions:{addRowDropZone:dRe,removeRowDropZone:hRe,getRowDropZoneParams:fRe},dependsOn:[dee]},wRe={moduleName:"HorizontalResize",version:ht,beans:[pRe],dependsOn:[uee]},CRe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",_Re=class extends Oe{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0;}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl);}isActive(){return this.active&&!this.suppressAnimation;}setSuppressAnimation(e){this.suppressAnimation=e;}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0);}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1);}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e();}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e();}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1);});}flush(e,t){let{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return;}let r=s=>{for(;s.length;){let o=s.pop();o&&o();}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n);},0),window.setTimeout(()=>{t(),r(i);},200);});}};function SRe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api");}function ERe(e,t,n){e.colMoves?.moveColumns(t,n,"api");}var TRe=class extends Oe{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[];}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)));});}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null;}onDragLeave(e){this.clearColumnsList();}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0;}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop");}onDragCancel(){this.clearColumnsList();}};function ARe(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{let s=e.indexOf(i),o=e.indexOf(r);return s-o;});}function hee(e){let{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:u}=e,{allMovingColumns:d}=e;if(t){let I=[];d.forEach(N=>{let R=null,D=N.getParent();for(;D!=null&&D.getDisplayedLeafColumns().length===1;)R=D,D=D.getParent();R!=null?(!!R.getColGroupDef()?.marryChildren?R.getProvidedColumnGroup().getLeafColumns():R.getLeafColumns()).forEach(S=>{I.includes(S)||I.push(S);}):I.includes(N)||I.push(N);}),d=I;}let h=d.slice();ARe(l.getCols(),h);let f=PRe({movingCols:h,draggingRight:n,xPosition:i,pinned:o,gos:a,colModel:l,visibleCols:u}),g=DRe(h,l);if(f.length===0)return;let m=f[0],y=g!==null&&!r;if(t&&(y=g!==null),y&&!s&&(!n&&m>=g||n&&m<=g))return;let b=u.allCols,C=[],_=null;for(let I=0;I<f.length;I++){let N=f[I],R=c.getProposedColumnOrder(h,N);if(!c.doesOrderPassRules(R))continue;let D=R.filter(X=>b.includes(X));if(_===null)_=D;else if(!Ym(D,_))break;let V=RRe(R);C.push({move:N,fragCount:V});}if(C.length===0)return;C.sort((I,N)=>I.fragCount-N.fragCount);let A=C[0].move;if(!(A>l.getCols().length-d.length))return{columns:d,toIndex:A};}function fee(e){let{columns:t,toIndex:n}=hee(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n});}function DRe(e,t){let n=t.getCols(),i=pEe(e.map(l=>n.indexOf(l))),r=i[0];return ii(i)-r!==i.length-1?null:r;}function RRe(e){function t(i){let r=[],s=i.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r;}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),s=t(e[i+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(o=>{s.indexOf(o)===-1&&n++;});}return n;}function IRe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols;}}function PRe(e){let{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(_=>_.getColDef().suppressMovable))return[];let c=IRe(a,r),u=o.getCols(),d=c.filter(_=>t.includes(_)),h=c.filter(_=>!t.includes(_)),f=u.filter(_=>!t.includes(_)),g=0,m=i;if(n){let _=0;d.forEach(A=>_+=A.getActualWidth()),m-=_;}if(m>0){for(let _=0;_<h.length;_++){let A=h[_];if(m-=A.getActualWidth(),m<0)break;g++;}n&&g++;}let y;if(g>0){let _=h[g-1];y=f.indexOf(_)+1;}else y=f.indexOf(h[0]),y===-1&&(y=0);let b=[y],C=(_,A)=>_-A;if(n){let _=y+1,A=u.length-1;for(;_<=A;)b.push(_),_++;b.sort(C);}else{let _=y,A=u.length-1,I=u[_];for(;_<=A&&c.indexOf(I)<0;)_++,b.push(_),I=u[_];_=y-1;let N=0;for(;_>=N;)b.push(_),_--;b.sort(C).reverse();}return b;}function dB(e){let{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:s,skipScrollPadding:o}=e,a=r.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0;}function L8(e,t){for(let n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved");}var oZ=7,hB=100,yI=hB/2,kRe=5,MRe=100,FRe=class extends Oe{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!at(e);}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl;});}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,n=t?.dragItem.columns??[];for(let i of n){let r=i.getPinned();if(i.getColDef().lockPinned){if(r==e)return"move";continue;}if(r===e||!e)return"move";if(!r&&e)return"pinned";}return"notAllowed";}onDragEnter(e){let t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{let r=t.visibleState,s=(n||[]).filter(o=>r[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged");}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0);}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){let{gos:r,ctrlsSvc:s}=this.beans,o=r.get("suppressMoveWhenColumnDragging");if(i&&!o){this.finishColumnMoving();return;}if(this.lastDraggingEvent=e,!e||!i&&tr(e.hDirection))return;let a=dB({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i);}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null;}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null;}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null;}setColumnsVisible(e,t,n){if(!e)return;let i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n);}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0);}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){let s=this.getAllMovingColumns(e,!0);if(r){let o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return;}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a});}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i);}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){let s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:i,fromLeft:o,fromEnter:t,fakeEvent:n}),c=fee(Re(O({},l),{finished:r}));c&&(this.lastMovedInfo=c);}getAllMovingColumns(e,t=!1){let n=e.dragSource.getDragItem(),i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;let r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(r):[];}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:u};}highlightHoveredColumn(e,t){let{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),s=i.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned),o=null,a=null,l=null;for(let u of s){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,r),o!=null){let d=o+a;if(o<=t&&d>=t){l=u;break;}}o=null,a=null;}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=s.length-1;u>=0;u--){let d=s[u],h=s[u].getParent();if(!h){l=d;break;}let f=h?.getDisplayedLeafColumns();if(f.length){l=ii(f);break;}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth();}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==r?c=0:c=1,aZ(l,c),this.lastHighlightedColumn={column:l,position:c};}getNormalisedXPositionInfo(e,t){let{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!o||a==null)return;let l=i.allCols,c=l.indexOf(s),u=l.indexOf(o),d=a===0!==r,h=c<u||c===u&&!d,f=0;if(d?h&&(f-=1):h||(f+=1),u+f===c)return;let g=l[u+f];if(!g)return;let m=this.getNormalisedColumnLeft(g,20,r);return{fromLeft:h,xPosition:m};}getColumnMoveAndTargetInfo(e,t,n){let i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=NRe(e);if(!r||!s||i.column||!t)return O({firstMovingCol:r},i);let a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:s};}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left";}return e;}getNormalisedColumnLeft(e,t,n){let{gos:i,ctrlsSvc:r}=this.beans,s=e.getLeft();if(s==null)return null;let o=e.getActualWidth();return dB({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r});}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>oZ;return t&&n||e.some(i=>i.getPinned()!==this.pinned);}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=hee(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving();}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(aZ(e.column,null),this.lastHighlightedColumn=null);}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth(),r,s;this.gos.get("enableRtl")?(r=e<n+yI,s=e>i-yI):(s=e<n+yI,r=e>i-yI),this.needToMoveRight=r,this.needToMoveLeft=s,s||r?this.ensureIntervalStarted():this.ensureIntervalCleared();}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),MRe),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0));}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1));}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*kRe,e>hB&&(e=hB);let t=null,n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:i,dragAndDrop:r,gos:s}=this.beans;if(this.failedMoveAttempts<=oZ+1||!i)return;if(r.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){let o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0);}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right";}attemptToPinColumns(e,t,n=!1){let i=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());let{pinnedCols:r,dragAndDrop:s}=this.beans;return r?.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length;}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null;}};function aZ(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"));}function NRe(e){let t=e.length,n,i;for(let r=0;r<=t;r++){if(!n){let s=e[r];s.getLeft()!=null&&(n=s);}if(!i){let s=e[t-1-r];s.getLeft()!=null&&(i=s);}if(n&&i)break;}return{firstMovingCol:n,lastMovingCol:i};}var LRe=class extends Oe{constructor(e,t){super(),this.pinned=e,this.eContainer=t;}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r,s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break;}this.eSecondaryContainers=r;}),this.moveColumnFeature=this.createManagedBean(new FRe(n)),this.bodyDropPivotTarget=this.createManagedBean(new TRe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this));}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel");}getSecondaryContainers(){return this.eSecondaryContainers;}getContainer(){return this.eContainer;}getIconName(){return this.currentDropListener.getIconName();}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0;}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e);}onDragLeave(e){this.currentDropListener.onDragLeave(e);}onDragging(e){this.currentDropListener.onDragging(e);}onDragStop(e){this.currentDropListener.onDragStop(e);}onDragCancel(){this.currentDropListener.onDragCancel();}},ORe=class extends Oe{constructor(){super(...arguments),this.beanName="colMoves";}moveColumnByIndex(e,t,n){let i=this.beans.colModel.getCols();if(!i)return;let r=i[e];this.moveColumns([r],t,n);}moveColumns(e,t,n,i=!0){let{colModel:r,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){et(30,{toIndex:t});return;}s?.start();let c=r.getColsForKeys(e);this.doesMovePassRules(c,t)&&(KQ(r.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:i,source:n})),s?.finish();}doesMovePassRules(e,t){let n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n);}doesOrderPassRules(e){let{colModel:t,gos:n}=this.beans;return!(!mJ(e,t.getColTree())||!(r=>{let s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl"),a=o?1:-1,l=!0;return r.forEach(c=>{let u=s(c.getColDef().lockPosition);o?u>a&&(l=!1):u<a&&(l=!1),a=u;}),l;})(e));}getProposedColumnOrder(e,t){let i=this.beans.colModel.getCols().slice();return KQ(i,e,t),i;}createBodyDropTarget(e,t){return new LRe(e,t);}moveHeader(e,t,n,i,r){let{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),d=u.left,h=vr(n),f=h?u.width:n.getActualWidth(),g=e==="left"!==o.get("enableRtl"),m=dB({x:g?d-20:d+f+20,pinned:i,fromKeyboard:!0,gos:o,ctrlsSvc:s}),y=c.focusedHeader;fee({allMovingColumns:h?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:i,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let b;if(h){let C=n.getDisplayedLeafColumns();b=g?C[0]:ii(C);}else b=n;if(s.getScrollFeature().ensureColumnVisible(b,"auto"),(!r.isAlive()||o.get("ensureDomOrder"))&&y){let C;if(h){let _=n.getGroupId(),A=n.getLeafColumns();if(!A.length)return;let I=A[0].getParent();if(!I)return;C=BRe(I,_);}else C=n;C&&c.focusHeaderPosition({headerPosition:Re(O({},y),{column:C})});}}setDragSourceForHeader(e,t,n){let{gos:i,colModel:r,dragAndDrop:s,visibleCols:o}=this.beans,a=!i.get("suppressDragLeaveHidesColumns"),l=vr(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],d={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>HRe(t,o.allCols):()=>VRe(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),L8(c,!0);},onDragStopped:()=>L8(c,!1),onDragCancelled:()=>L8(c,!1),onGridEnter:h=>{if(a){let{columns:f=[],visibleState:g}=h??{},m=l?b=>!g||g[b.getColId()]:()=>!0,y=f.filter(b=>!b.getColDef().lockVisible&&m(b));r.setColsVisible(y,!0,"uiColumnMoved");}},onGridExit:h=>{if(a){let f=h?.columns?.filter(g=>!g.getColDef().lockVisible)||[];r.setColsVisible(f,!1,"uiColumnMoved");}}};return s.addDragSource(d,!0),d;}};function BRe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent();}}function VRe(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t};}function HRe(e,t){let n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());let r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),Fc(n,a));}),n.forEach(a=>r.push(a));let s=[],o=e.getLeafColumns();for(let a of r)o.indexOf(a)!==-1&&s.push(a);return{columns:r,columnsInSplit:s,visibleState:i};}var GRe={moduleName:"ColumnMove",version:ht,beans:[ORe,_Re],apiFunctions:{moveColumnByIndex:SRe,moveColumns:ERe},dependsOn:[dee],css:[CRe]},zRe=class extends Oe{constructor(){super(...arguments),this.beanName="autoWidthCalc";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center;});}getPreferredWidthForColumn(e,t){let n=this.getHeaderCellForColumn(e);if(!n)return-1;let i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.addElementsToContainerAndGetWidth(i);}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1;}addElementsToContainerAndGetWidth(e){let t=document.createElement("form");t.style.position="fixed";let n=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,t)),n.appendChild(t);let i=t.offsetWidth;n.removeChild(t);let r=this.gos.get("autoSizePadding");return i+r;}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{let i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i);}),t;}cloneItemIntoDummy(e,t){let n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";let i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){let c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c);}break;}o=o.parentElement;}i.appendChild(n),t.appendChild(i);}},pee={moduleName:"AutoWidth",version:ht,beans:[zRe]};function URe(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i);}var jRe=class extends Oe{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i;}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return;}let{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")));}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0);}onResizing(e,t,n="uiColumnResized"){let i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e);}getInitialValues(e){let t=l=>l.reduce((c,u)=>c+u.getActualWidth(),0),n=(l,c)=>l.map(u=>u.getActualWidth()/c),i=this.getColumnsToResize(),r=t(i),s=n(i,r),o={columnsToResize:i,resizeStartWidth:r,resizeRatios:s},a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){let l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(d=>d.isResizable()),u=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,u);}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o;}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0);}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;let i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n);}resizeColumns(e,t,n,i=!0){let{columnsToResize:r,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:r,ratios:o,width:t}),a){let d=t-s;u.push({columns:a,ratios:c,width:l-d});}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:i,source:n}),i&&this.toggleColumnResizing(!1);}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e);}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable());}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t;}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0;}},$Re=class extends Oe{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r;}postConstruct(){let e=[],t,n,i=()=>{if(rr(this.eResize,t),!t)return;let{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column));},r=()=>{e.forEach(o=>o()),e.length=0;},s=()=>{let o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,r(),i());};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s);}onResizing(e,t){let{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:s}=this,o=this.normaliseResizeAmount(t),a=r+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:u,colResize:d}=s;if(this.column.getPinned()){let h=c?.leftWidth??0,f=c?.rightWidth??0,g=z_(u.getGridBodyCtrl().eBodyViewport)-50;if(h+f+(o-i)>g)return;}this.lastResizeAmount=o,d?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1);}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0);}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e);}normaliseResizeAmount(e){let t=e,n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t;}},WRe=class extends Oe{constructor(){super(...arguments),this.beanName="colResize";}setColumnWidths(e,t,n,i){let r=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{let c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(r.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){let d=a.getColAfter(c);if(!d)return;let h=c.getActualWidth()-l.newWidth,f=d.getActualWidth()+h;r.push({width:f,ratios:[1],columns:[d]});}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i});}resizeColumnSets(e){let{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(u=>qRe(u)))){if(n){let u=t&&t.length>0?t[0].columns:null;qb(this.eventSvc,u,n,i);}return;}let s=[],o=[];t.forEach(u=>{let{width:d,columns:h,ratios:f}=u,g={},m={};h.forEach(C=>o.push(C));let y=!0,b=0;for(;y;){if(b++,b>1e3){vi(31);break;}y=!1;let C=[],_=0,A=d;h.forEach((N,R)=>{if(m[N.getId()])A-=g[N.getId()];else{C.push(N);let V=f[R];_+=V;}});let I=1/_;C.forEach((N,R)=>{let D=R===C.length-1,V;D?V=A:(V=Math.round(f[R]*d*I),A-=V);let X=N.getMinWidth(),S=N.getMaxWidth();V<X?(V=X,m[N.getId()]=!0,y=!0):S>0&&V>S&&(V=S,m[N.getId()]=!0,y=!0),g[N.getId()]=V;});}h.forEach(C=>{let _=g[C.getId()];C.getActualWidth()!==_&&(C.setActualWidth(_,i),s.push(C));});});let a=s.length>0,l=[];if(a){let{colFlex:u,visibleCols:d,colViewport:h}=this.beans;l=u?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],d.setLeftValues(i),d.updateBodyWidths(),h.checkViewportColumns();}let c=o.concat(l);(a||n)&&qb(this.eventSvc,c,n,i,l);}resizeHeader(e,t,n){if(!e.isResizable())return;let i=e.getActualWidth(),r=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(i+t,r),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized");}createResizeFeature(e,t,n,i,r){return new $Re(e,t,n,i,r);}createGroupResizeFeature(e,t,n,i){return new jRe(e,t,n,i);}};function qRe(e){let{columns:t,width:n}=e,i=0,r=0,s=!0;t.forEach(l=>{let c=l.getMinWidth();i+=c||0;let u=l.getMaxWidth();u>0?r+=u:s=!1;});let o=n>=i,a=!s||n<=r;return o&&a;}var KRe={moduleName:"ColumnResize",version:ht,beans:[WRe],apiFunctions:{setColumnWidths:URe},dependsOn:[wRe,pee]},YRe=class extends Oe{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e;}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this));}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e);});});}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[];}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged();}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0);}},XRe=class extends zB{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui);};}setComp(e,t,n,i,r){let{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,colResize:u}=o;this.comp=e,r=J_(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let d=this.rowCtrl.pinned,h=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(r,h,t),r.createManagedBean(new GB(s,t,o)),r.createManagedBean(new YRe(e,s)),u?this.resizeFeature=r.createManagedBean(u.createGroupResizeFeature(e,n,d,s)):e.setResizableDisplayed(!1),r.createManagedBean(new Jb(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,h),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent());}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null));}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)});}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=ii(t)===e;if(!n&&!i)return;let r=e.getHighlighted(),s=!!this.rowCtrl.findHeaderCellCtrl(l=>l.column.isMoving()),o=!1,a=!1;if(s){let l=this.beans.gos.get("enableRtl"),c=r===1,u=r===0;n&&(l?a=c:o=u),i&&(l?o=u:a=c);}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a);}resizeHeader(e,t){let{resizeFeature:n}=this;if(!n)return;let i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0);}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e);}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,i=n.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing");},setTooltip:(s,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o);}}),r=rTe(t,i);r&&this.comp.setUserCompDetails(r);}addHeaderMouseListeners(e){let t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i});}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()});}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t);}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n});}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0);}addClasses(){let{column:e}=this,t=e.getColGroupDef(),n=MJ(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!0));}setupMovingCss(e){let{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());i.forEach(s=>{e.addManagedListeners(s,{movingChanged:r});}),r();}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis();}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Me.ENTER){let n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded");}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null));}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition);}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy();}};function QRe(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api");}function ZRe(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null;}function JRe(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null;}function eIe(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||"";}function tIe(e){return e.colGroupSvc?.getColumnGroupState()??[];}function nIe(e,t){e.colGroupSvc?.setColumnGroupState(t,"api");}function iIe(e){e.colGroupSvc?.resetColumnGroupState("api");}function rIe(e){return e.visibleCols.treeLeft;}function sIe(e){return e.visibleCols.treeCenter;}function oIe(e){return e.visibleCols.treeRight;}function aIe(e){return e.visibleCols.getAllTrees();}function lIe(e,t){for(let n=0;n<t.length;n++){let i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop());}}var cIe=class extends Oe{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0;}refresh(e,t=!1){let{colModel:n,colGroupSvc:i,colViewport:r}=this.beans;t||this.buildTrees(n,i),i?.updateOpenClosedVisibility();let s=O8(this.treeLeft);this.leftCols=s,this.centerCols=O8(this.treeCenter);let o=O8(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),this.beans.colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),r.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,s,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e});}updateBodyWidths(){let e=_h(this.centerCols),t=_h(this.leftCols),n=_h(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}));}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups();}setFirstRightAndLastLeftPinned(e,t,n,i){let r,s;this.gos.get("enableRtl")?(r=t?t[0]:null,s=n?ii(n):null):(r=t?ii(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===r,i),o.setFirstRightPinned(o===s,i);});}buildTrees(e,t){let n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new DJ(),a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap();}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[];}joinColsAriaOrder(e){let t=e.getCols(),n=[],i=[],r=[];for(let s of t){let o=s.getPinned();o?o===!0||o==="left"?n.push(s):r.push(s):i.push(s);}this.ariaOrderColumns=n.concat(i).concat(r);}getAriaColIndex(e){let t;return vr(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1;}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{vr(t)&&t.checkLeft();});});}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(r){let o=_h(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e);});}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth();});}lIe(i,s);}),i.forEach(s=>{s.setLeft(null,e);});}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols);}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null;}isColDisplayed(e){return this.allCols.indexOf(e)>=0;}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t;}getRightColsForRow(e){let{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t;}getColsForRow(e,t,n,i){let r=[],s=null;for(let o=0;o<t.length;o++){let a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){let h=c-1;for(let f=1;f<=h;f++)u.push(t[o+f]);o+=h;}let d;n?(d=!1,u.forEach(h=>{n(h)&&(d=!0);})):d=!0,d&&(r.length===0&&s&&i&&i(a)&&r.push(s),r.push(a)),s=a;}return r;}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth;}}getColBefore(e){let t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null;}isPinningLeft(){return this.leftCols.length>0;}isPinningRight(){return this.rightCols.length>0;}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t;};Um(this.treeCenter,!1,e),Um(this.treeLeft,!1,e),Um(this.treeRight,!1,e);}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e;}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){let i=this[t[n]];if(i.length)return e?ii(i):i[0];}return null;}getColAfter(e){let t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null;}getColsLeftWidth(){return _h(this.leftCols);}getDisplayedColumnsRightWidth(){return _h(this.rightCols);}isColAtEdge(e,t){let n=this.allCols;if(!n.length)return!1;let i=t==="first",r;if(vr(e)){let s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=i?s[0]:ii(s);}else r=e;return(i?n[0]:ii(n))===r;}};function Um(e,t,n){if(e)for(let i=0;i<e.length;i++){let r=e[i];if(vr(r)){let s=t?r.getDisplayedChildren():r.getChildren();Um(s,t,n);}n(r);}}function O8(e){let t=[];return Um(e,!0,n=>{Ep(n)&&t.push(n);}),t;}var uIe=class extends Oe{constructor(){super(...arguments),this.beanName="colGroupSvc";}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return Ah(null,t,n=>{Uo(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()});}),e;}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let n=[];Ah(null,t,i=>{if(Uo(i)){let r=i.getColGroupDef(),s={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(s);}}),this.setColumnGroupState(n,e);}setColumnGroupState(e,t){let{colModel:n,colAnimation:i,visibleCols:r,eventSvc:s}=this.beans;if(!n.getColTree())return;i?.start();let a=[];e.forEach(l=>{let c=l.groupId,u=l.open,d=this.getProvidedColGroup(c);d&&d.isExpanded()!==u&&(d.setExpanded(u),a.push(d));}),r.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i?.finish();}setColumnGroupOpened(e,t,n){let i;Uo(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n);}getProvidedColGroup(e){let t=null;return Ah(null,this.beans.colModel.getColTree(),n=>{Uo(n)&&n.getId()===e&&(t=n);}),t;}getGroupAtDirection(e,t){let n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?ii(i):i[0],s=`getCol${t}`;for(;;){let o=this.beans.visibleCols[s](r);if(!o)return null;let a=this.getColGroupAtLevel(o,n);if(a!==e)return a;}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n;}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();Um(e,!1,t=>{vr(t)&&t.calculateDisplayedColumns();});}getColumnGroup(e,t){if(!e)return null;if(vr(e))return e;let n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number",r=null;return Um(n,!1,s=>{if(vr(s)){let o=s,a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(r=o);}}),r;}createColumnGroups(e){let{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(r),a=[],l=t;for(;l.length;){let c=l;l=[];let u=0,d=h=>{let f=u;u=h;let g=c[f],y=(vr(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(y==null){for(let C=f;C<h;C++)a.push(c[C]);return;}let b=this.createColumnGroup(y,n,o,i,s);for(let C=f;C<h;C++)b.addChild(c[C]);l.push(b);};for(let h=1;h<c.length;h++){let f=c[h],m=(vr(f)?f.getProvidedColumnGroup():f).getOriginalParent(),y=c[u],C=(vr(y)?y.getProvidedColumnGroup():y).getOriginalParent();m!==C&&d(h);}u<c.length&&d(c.length);}return s||this.setupParentsIntoCols(a,null),a;}createProvidedColumnGroup(e,t,n,i,r,s,o){let a=r.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),c=new wI(l,a,!1,n);this.createBean(c);let u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);let d=u?.group;d&&c.setExpanded(d.isExpanded());let h=TJ(this.beans,l.children,n+1,e,i,r,s,o);return c.setChildren(h),c;}balanceColumnTree(e,t,n,i){let r=[];for(let s=0;s<e.length;s++){let o=e[s];if(Uo(o)){let a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a);}else{let a,l;for(let c=n-1;c>=t;c--){let u=i.getUniqueKey(null,null),d=this.createMergedColGroupDef(null,u),h=new wI(d,u,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l);}if(a&&l)if(r.push(a),e.some(u=>Uo(u))){l.setChildren([o]);continue;}else{l.setChildren(e);break;}r.push(o);}}return r;}findDepth(e){let t=0,n=e;for(;n&&n[0]&&Uo(n[0]);)t++,n=n[0].getChildren();return t;}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){let r=e[i];if(Uo(r)){let s=r,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o);}}return n;}balanceTreeForAutoCols(e,t){let n=[];return e.forEach(i=>{let r=i;for(let s=t-1;s>=0;s--){let o=new wI(null,`FAKE_PATH_${i.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([r]),r.originalParent=o,r=o;}t===0&&(i.originalParent=null),n.push(r);}),n;}createMergedColGroupDef(e,t){let n={},{gos:i,validation:r}=this.beans;return Object.assign(n,i.get("defaultColGroupDef")),Object.assign(n,e),r?.validateColDef(n,t),n;}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){let r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r};}}createColumnGroup(e,t,n,i,r){let s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=zJ(s,o),l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),at(l)?l.reset():(l=new UJ(e,s,o,i),r||this.createBean(l)),l;}mapOldGroupsById(e){let t={},n=i=>{i.forEach(r=>{if(vr(r)){let s=r;t[r.getUniqueId()]=s,n(s.getChildren());}});};return e&&n(e),t;}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,vr(n)){let i=n;this.setupParentsIntoCols(i.getChildren(),i);}});}},dIe={moduleName:"ColumnGroup",version:ht,dynamicBeans:{headerGroupCellCtrl:XRe},beans:[uIe],apiFunctions:{getAllDisplayedColumnGroups:aIe,getCenterDisplayedColumnGroups:sIe,getColumnGroup:ZRe,getColumnGroupState:tIe,getDisplayNameForColumnGroup:eIe,getLeftDisplayedColumnGroups:rIe,getProvidedColumnGroup:JRe,getRightDisplayedColumnGroups:oIe,resetColumnGroupState:iIe,setColumnGroupOpened:QRe,setColumnGroupState:nIe}},hIe={moduleName:"CheckboxCellRenderer",version:ht,userComponents:{agCheckboxCellRenderer:gDe}};function fIe(e,t){let n=e.colModel.getColDefCol(t);return n?n.getColDef():null;}function pIe(e){return e.colModel.getColumnDefs();}function gIe(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||"";}function mIe(e,t){return e.colModel.getColDefCol(t);}function vIe(e){return e.colModel.getColDefCols();}function yIe(e,t){return kc(e,t,"api");}function bIe(e){return q_(e);}function xIe(e){vEe(e,"api");}function wIe(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight();}function CIe(e){return e.visibleCols.isPinningLeft();}function _Ie(e){return e.visibleCols.isPinningRight();}function SIe(e,t){return e.visibleCols.getColAfter(t);}function EIe(e,t){return e.visibleCols.getColBefore(t);}function TIe(e,t,n){e.colModel.setColsVisible(t,n,"api");}function AIe(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api");}function DIe(e){return e.colModel.getCols();}function RIe(e){return e.visibleCols.leftCols;}function IIe(e){return e.visibleCols.centerCols;}function PIe(e){return e.visibleCols.rightCols;}function kIe(e){return e.visibleCols.allCols;}function MIe(e){return e.colViewport.getViewportColumns();}function fB(e,t){if(!e)return;let n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||fJ.has(r))return;let s=n[r];typeof s=="object"&&s!==null&&s.constructor===Object?i[r]=fB(s):i[r]=s;}),i;}var FIe=class extends Oe{constructor(){super(...arguments),this.beanName="colDefFactory";}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc;}getColumnDefs(e,t,n,i){let r=e.slice();t?r.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&r.sort((a,l)=>i.indexOf(a)-i.indexOf(l));let s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(r,s,o);}buildColumnDefs(e,t=[],n=[]){let i=[],r={};return e.forEach(s=>{let o=this.createDefFromColumn(s,t,n),a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let d=null;if(c.isPadding()){c=c.getOriginalParent();continue;}let h=r[c.getGroupId()];if(h){h.children.push(l),a=!1;break;}if(d=this.createDefFromGroup(c),d&&(d.children=[l],r[d.groupId]=d,l=d,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break;}u=c;}a&&i.push(l);}),i;}createDefFromGroup(e){let t=fB(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t;}createDefFromColumn(e,t,n){let i=fB(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i;}},NIe=class extends Oe{constructor(){super(...arguments),this.beanName="colFlex";}refreshFlexedColumns(e={}){let t=e.source?e.source:"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let n=this.flexViewportWidth;if(!n)return[];let{visibleCols:i}=this.beans,r=i.centerCols,s=-1;if(e.resizingCols){let g=new Set(e.resizingCols);for(let m=r.length-1;m>=0;m--)if(g.has(r[m])){s=m;break;}}let o=!1,a=r.map((g,m)=>{let y=g.getFlex(),b=y!=null&&y>0&&m>s;return o||(o=b),{col:g,isFlex:b,flex:Math.max(0,y??0),initialSize:g.getActualWidth(),min:g.getMinWidth(),max:g.getMaxWidth(),targetSize:0};});if(!o)return[];let l=a.length,c=a.reduce((g,m)=>g+m.flex,0),u=n,d=(g,m)=>{g.frozenSize=m,g.col.setActualWidth(m,t),u-=m,c-=g.flex,l-=1;},h=g=>g.frozenSize!=null;for(let g of a)g.isFlex||d(g,g.initialSize);for(;l>0;){let g=Math.round(c<1?u*c:u),m,y=0,b=0;for(let A of a){if(h(A))continue;m=A,b+=g*(A.flex/c);let I=b-y,N=Math.round(I);A.targetSize=N,y+=N;}m&&(m.targetSize+=g-y);let C=0;for(let A of a){if(h(A))continue;let I=A.targetSize,N=Math.min(Math.max(I,A.min),A.max);C+=N-I,A.violationType=N===I?void 0:N<I?"max":"min",A.targetSize=N;}let _=C===0?"all":C>0?"min":"max";for(let A of a)h(A)||(_==="all"||A.violationType===_)&&d(A,A.targetSize);}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();let f=a.filter(g=>g.isFlex&&!g.violationType).map(g=>g.col);if(e.fireResizedEvent){let g=a.filter(y=>y.initialSize!==y.frozenSize).map(y=>y.col),m=a.filter(y=>y.flex).map(y=>y.col);qb(this.eventSvc,g,!0,t,m);}return f;}initCol(e){let{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n);}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex");}},LIe=class extends Oe{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[];}wireBeans(e){this.colModel=e.colModel;}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(Vb(e.source));});}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;let n={};this.formatValueFuncs=n;let i=o=>a=>{let{column:l,node:c,value:u}=a,d=l.getColDef().valueFormatter;return d===o.groupSafeValueFormatter&&(d=o.valueFormatter),this.beans.valueSvc.formatValue(l,c,u,d);};Object.entries(e).forEach(([o,a])=>{let l=Re(O({},a),{groupSafeValueFormatter:uZ(a,this.gos)});t[o]=l,n[o]=i(l);});let r=this.gos.get("dataTypeDefinitions")??{},s={};this.dataTypeMatchers=s,Object.entries(r).forEach(([o,a])=>{let l=this.processDataTypeDefinition(a,r,[o],e);l&&(t[o]=l,a.dataTypeMatcher&&(s[o]=a.dataTypeMatcher),n[o]=i(l));}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{let a=s[o];a&&delete s[o],s[o]=a??e[o].dataTypeMatcher;});}processDataTypeDefinition(e,t,n,i){let r,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[s],a=t[s];if(o&&a&&(o=a),!cZ(e,o,s))return;r=lZ(o,e);}else{if(n.includes(s)){et(44);return;}let o=t[s];if(!cZ(e,o,s))return;let a=this.processDataTypeDefinition(o,t,[...n,s],i);if(!a)return;r=lZ(a,e);}return Re(O({},r),{groupSafeValueFormatter:uZ(r,this.gos)});}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t,{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return;}let s=this.dataTypeDefinitions[i];if(!s){et(47,{cellDataType:i});return;}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes;}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let n=i=>{t.add(i.key);};e.addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",n));}canInferCellDataType(e,t){let{gos:n}=this;if(!jo(n))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(B8(t,i))return!1;let r=t.type===null?e.type:t.type;if(r){let s=n.get("columnTypes")??{};if(LI(r).some(a=>{let l=s[a.trim()];return l&&B8(l,i);}))return!1;}return!B8(e,i);}inferCellDataType(e,t){if(!e)return;let n,i=this.getInitialData();if(i){let s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=L_(i,e,s);}else this.initWaitForRowData(t);if(n==null)return;let[r]=Object.entries(this.dataTypeMatchers).find(([s,o])=>o(n))??["object"];return r;}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data;}return null;}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set(),this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);let[r]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{let{firstRowData:o}=s;o&&(r?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}));}});}processColumnsPendingInference(e,t){this.initialData=e;let n=[];this.destroyColumnStateUpdateListeners();let i={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,o])=>{let a=this.colModel.getCol(s);if(!a)return;let l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let u=BIe(a,o);u.rowGroup&&u.rowGroupIndex==null&&(i[s]=u),u.pivot&&u.pivotIndex==null&&(r[s]=u),n.push(u);}}),t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&kc(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null;}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i?.restoreColumnOrder(n,e),r?.restoreColumnOrder(n,t),Object.values(n);}resetColDefIntoCol(e,t){let n=e.getUserProvidedColDef();if(!n)return!1;let i=rB(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0;}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter;}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t;}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser;}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter;}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType];}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType;}checkType(e,t){if(t==null)return!0;let n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0;}validateColDef(e){let t=n=>et(48,{property:n});if(e.cellDataType==="object"){let{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser");}}getFormatValue(e){return this.formatValueFuncs[e];}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e];}setColDefPropertiesForBaseDataType(e,t,n,i){let r=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break;}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===Me.SPACE;break;}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break;}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break;}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,o)=>{let a=this.colModel.getColDefCol(i),l=a?.getColDef();if(!a||!l)return 0;let c=s==null?"":r({column:a,node:null,value:s}),u=o==null?"":r({column:a,node:null,value:o});return c===u?0:c>u?1:-1;},e.keyCreator=r;break;}}this.beans.filterManager?.setColDefPropertiesForDataType(e,n,r);}getDefaultDataTypes(){let e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>n.newValue?.trim?.()===""?null:Number(n.newValue),valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:Q8(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>n.newValue==null?n.newValue:n.newValue?.trim?.()===""?null:String(n.newValue).toLowerCase()==="true",valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>Ca(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):Vl(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>Ca(n)??void 0,dateFormatter:n=>Vl(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>Q8(n.value)??""}};}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[];}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy();}};function lZ(e,t){let n=O(O({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...LI(e.columnTypes),...LI(t.columnTypes)]),n;}function cZ(e,t,n){return t?t.baseDataType!==e.baseDataType?(et(46),!1):!0:(et(45,{parentCellDataType:n}),!1);}function uZ(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){let i=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&i!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(Re(O({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(Re(O({},n),{value:n.value.value}));}}return;}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return;}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n);};}function OIe(e,t,n,i){if(!t[n])return!1;let r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i;}function B8(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>OIe(e,t,n,i));}function BIe(e,t){let n=xJ(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex;}),n;}var VIe={moduleName:"DataType",version:ht,beans:[LIe],dependsOn:[hIe]},HIe={moduleName:"ColumnFlex",version:ht,beans:[NIe]},GIe={moduleName:"ColumnApi",version:ht,beans:[FIe],apiFunctions:{getColumnDef:fIe,getDisplayNameForColumn:gIe,getColumn:mIe,getColumns:vIe,applyColumnState:yIe,getColumnState:bIe,resetColumnState:xIe,isPinning:wIe,isPinningLeft:CIe,isPinningRight:_Ie,getDisplayedColAfter:SIe,getDisplayedColBefore:EIe,setColumnsVisible:TIe,setColumnsPinned:AIe,getAllGridColumns:DIe,getDisplayedLeftColumns:RIe,getDisplayedCenterColumns:IIe,getDisplayedRightColumns:PIe,getAllDisplayedColumns:kIe,getAllDisplayedVirtualColumns:MIe,getColumnDefs:pIe}};function zIe(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ");}var UIe=class extends Oe{constructor(){super(...arguments),this.beanName="colNames";}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;let i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i;}getDisplayNameForProvidedColumnGroup(e,t,n){let i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null;}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t);}getHeaderName(e,t,n,i,r){let s=e.headerValueGetter;if(s){let o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:"";}else{if(e.headerName!=null)return e.headerName;if(e.field)return zIe(e.field);}return"";}},jIe=class extends Oe{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel;}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");}setScrollPosition(e,t,n=!1){let{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let o=i.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t;}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n);}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break;}return n||[];}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)));}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0;}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="");}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||$Ie(e)?!0:this.isColumnInRowViewport(e);}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,s=t<i&&n<i,o=t>r&&n>r;return!s&&!o;}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t);}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=s=>{let o=s.getLeft();return at(o)&&o>this.viewportLeft;},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t);}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e});}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:s}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);let a=(l,c,u)=>{let d=!1;for(let h=0;h<l.length;h++){let f=l[h],g=!1;if(Ep(f))g=e[f.getId()]===!0;else{let y=f.getDisplayedChildren();y&&(g=a(y,c,u+1));}g&&(d=!0,c[u]||(c[u]=[]),c[u].push(f));}return d;};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(s,this.rowsOfHeadersToRenderCenter,0);}extractViewport(){let e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n;}};function $Ie(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent();}return!1;}var WIe=class extends Oe{constructor(){super(...arguments),this.beanName="agCompUtils";}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1;}getGui(){return this.eGui;}init(r){let s=t(r),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=U_("<span>"+s+"</span>");return;}if(s==null){this.eGui=U_("<span></span>");return;}this.eGui=s;}}return n;}},qIe={moduleName:"CellRendererFunction",version:ht,beans:[WIe]},KIe=class extends Oe{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={};}postConstruct(){let e=this.gos.get("components");e!=null&&Object.entries(e).forEach(([t,n])=>{this.jsComps[t]=n;});}registerModule(e){let{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){let s=(o,a,l)=>{this.agGridDefaults[o]=a,l&&(this.agGridDefaultParams[o]=l);};for(let o of Object.keys(n)){let a=n[o];typeof a=="object"?s(o,a.classImp,a.params):s(o,a);}}if(i)for(let s of Object.keys(i))this.dynamicBeans[s]=i[s];if(r?.forEach(s=>{this.selectors[s.selector]=s;}),t)for(let s of Object.keys(t))this.icons[s]=t[s];}getUserComponent(e,t){let n=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);let s=this.jsComps[t];if(s){let a=i.isFrameworkComponent(s);return n(s,a);}let o=this.agGridDefaults[t];return o?n(o,!1,this.agGridDefaultParams[t]):(this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null);}createDynamicBean(e,t,...n){let i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(_p(256));return;}return new i(...n);}getSelector(e){return this.selectors[e];}getIcon(e){return this.icons[e];}},YIe=23,XIe=class extends Oe{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[];}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0);},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1);}updateReady(){let e=Object.values(this.params);this.ready=e.length===YIe&&e.every(t=>t?.isAlive()??!1);}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1);});}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady();});}get(e){return this.params[e];}getGridBodyCtrl(){return this.params.gridBodyCtrl;}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t];}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader;}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature;}},QIe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px))}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}:where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;outline:solid 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}:where(.ag-ltr) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}:where(.ag-rtl) :where(.ag-resizer){&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}',KB=typeof window!="object"||!window?.document?.fonts?.forEach,pB=new WeakMap(),Xb=(e,t,n)=>{if(KB)return;let i=t.getRootNode()===document?document.head:t,r=pB.get(i);if(r||(r={css:new Set()},pB.set(i,r)),r.css.has(e))return;let s=document.createElement("style");s.dataset.agGlobalCss=n,s.textContent=e,r.last?r.last.insertAdjacentElement("afterend",s):i.insertBefore(s,i.querySelector(":not(title, meta)")),r.css.add(e),r.last=s;},gee=e=>{Xb(QIe,e,"core"),Array.from(STe()).sort((t,n)=>t.moduleName.localeCompare(n.moduleName)).forEach(t=>t.css?.forEach(n=>Xb(n,e,`module-${t.moduleName}`)));},gB=new Set(),ZIe=e=>{gB.add(e);},JIe=e=>{if(gB.delete(e),gB.size===0){pB=new WeakMap();for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove();}},co=e=>new mee(e),Cp="$default",e3e=0,mee=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams=O({[Cp]:O(O({},n[Cp]??{}),t??{})},n);}use(e){let t=this._inject;if(t==null){let{css:n}=this;if(n){let i=`ag-theme-${this.feature??"part"}-${++e3e}`;typeof n=="function"&&(n=n()),n=`:where(.${i}) {
${n}
}
`;for(let r of this.cssImports??[])n=`@import url(${JSON.stringify(r)});
${n}`;t={css:n,class:i};}else t=!1;this._inject=t;}return t&&e&&Xb(t.css,e,t.class),t?t.class:!1;}},t3e=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),vee=e=>`--ag-${t3e(e)}`,Rh=e=>`var(${vee(e)})`,n3e=(e,t,n)=>Math.max(t,Math.min(n,e)),i3e=e=>{let t=new Map();return n=>{let i=n;return t.has(i)||t.set(i,e(n)),t.get(i);};},Zu=e=>({ref:"accentColor",mix:e}),zo=e=>({ref:"foregroundColor",mix:e}),Ol=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),r3e={ref:"foregroundColor"},id={ref:"accentColor"},Qb={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:zo(.15),chromeBackgroundColor:Ol(.02),browserColorScheme:"light"},s3e=Re(O({},Qb),{textColor:r3e,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:{ref:"backgroundColor"},sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:id,rangeSelectionBackgroundColor:Zu(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Zu(.5),rowHoverColor:Zu(.08),columnHoverColor:Zu(.05),selectedRowBackgroundColor:Zu(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:zo(.7),focusShadow:{spread:3,color:Zu(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:id,toggleButtonOffBackgroundColor:Ol(.3),toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},toggleButtonSwitchInset:2,menuBorder:{color:zo(.2)},menuBackgroundColor:Ol(.03),menuTextColor:Ol(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:zo(.8),iconButtonHoverColor:zo(.1),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:id},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:zo(.2)},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:zo(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:zo(.13)},selectCellBackgroundColor:zo(.07),selectCellBorder:{color:zo(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:zo(.1),rowLoadingSkeletonEffectColor:zo(.15)}),o3e=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],a3e=i3e(e=>(e=e.toLowerCase(),o3e.find(t=>e.endsWith(t.toLowerCase()))??"length")),QI=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,YB=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Rh(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Rh(e.onto):"transparent"}, ${t} ${n3e(e.mix*100,0,100)}%)`;}return!1;},l3e=QI,Fb=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Rh(n)} `)})`:e&&"ref"in e?Rh(e.ref):!1,c3e=QI,u3e=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Rh(e.ref):yee(e.style??"solid")+" "+Fb(e.width??1)+" "+YB(e.color??{ref:"borderColor"}),d3e=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Rh(e.ref):[Fb(e.offsetX??0),Fb(e.offsetY??0),Fb(e.radius??0),Fb(e.spread??0),YB(e.color??{ref:"foregroundColor"})].join(" "),yee=QI,bee=e=>typeof e=="string"?e:e&&"googleFont"in e?bee(e.googleFont):e&&"ref"in e?Rh(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),h3e(t))).join(", "):!1,h3e=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),f3e=QI,xee=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?xee({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Rh(e.ref):!1,p3e=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&vi(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Rh(e.ref):!1,g3e={color:YB,colorScheme:l3e,length:Fb,scale:c3e,border:u3e,borderStyle:yee,shadow:d3e,image:xee,fontFamily:bee,fontWeight:f3e,duration:p3e},m3e=(e,t)=>{let n=a3e(e);return g3e[n](t,e);};var XB=()=>new wee(),wee=class Cee{constructor(t=[]){this.parts=t;}withPart(t){return typeof t=="function"&&(t=t()),t instanceof mee?new Cee([...this.parts,t]):(J8(259,{part:t},"Invalid part"),this);}withoutPart(t){return this.withPart(co({feature:t}));}withParams(t,n=Cp){return this.withPart(co({modeParams:{[n]:t}}));}_startUse({container:t,loadThemeGoogleFonts:n}){if(KB)return;y3e(),gee(t);let i=v3e(this);if(i.length>0)for(let r of i)n&&x3e(r);for(let r of this.parts)r.use(t);}_getCssClass(){return this._cssClassCache??(this._cssClassCache=dZ(this.parts).map(t=>t.use()).filter(Boolean).join(" "));}_getModeParams(){let t=this._paramsCache;if(!t){let n={[Cp]:O({},s3e)};for(let i of dZ(this.parts))for(let[r,s]of Object.entries(i.modeParams))if(s){let o=n[r]??(n[r]={}),a=new Set();for(let[l,c]of Object.entries(s))c!==void 0&&(o[l]=c,a.add(l));if(r===Cp){for(let[l,c]of Object.entries(n))if(l!==Cp)for(let u of a)delete c[u];}}this._paramsCache=t=n;}return t;}_getPerGridCss(t){let n="##SELECTOR##",i=this._paramsCssCache;if(!i){let r="",s="";for(let[a,l]of Object.entries(this._getModeParams())){if(a!==Cp){let u=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(a):a}"]) & {
`;r+=u,s+=u;}for(let[c,u]of Object.entries(l)){let d=m3e(c,u);if(d===!1)vi(107,{key:c,value:u});else{let h=vee(c),f=h.replace("--ag-","--ag-inherited-");r+=`	${h}: var(${f}, ${d});
`,s+=`	${f}: var(${h});
`;}}a!==Cp&&(r+=`}
`,s+=`}
`);}let o=`${n} {
${r}}
`;o+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=i=o;}return i.replaceAll(n,`:where(.${t})`);}},dZ=e=>{let t=new Map();for(let i of e)t.set(i.feature,i);let n=[];for(let i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n;},v3e=e=>{let t=new Set(),n=s=>{if(Array.isArray(s))s.forEach(n);else{let o=s?.googleFont;typeof o=="string"&&t.add(o);}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort();},hZ=!1,y3e=()=>{if(!hZ){hZ=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove();}},b3e=new Set(),x3e=e=>$(void 0,null,function*(){b3e.add(e);let t=`@import url('https://${w3e}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Xb(t,document.head,`googleFont:${e}`);}),w3e="fonts.googleapis.com",C3e='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',QB=co({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:Ol(.3),checkboxCheckedBackgroundColor:id,checkboxCheckedBorderColor:id,checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:Ol(.3),checkboxIndeterminateBorderColor:Ol(.3),checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:C3e});var nut=co({feature:"colorScheme",params:Re(O({},Qb),{foregroundColor:"#000000de",borderColor:"#60300026",chromeBackgroundColor:"#60300005"})}),iut=co({feature:"colorScheme",params:Re(O({},Qb),{foregroundColor:"#000",chromeBackgroundColor:"#f3f8f8"})}),_ee=Re(O({},Qb),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Ol(.05),rowHoverColor:Zu(.15),selectedRowBackgroundColor:Zu(.2),menuBackgroundColor:Ol(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Ol(.4),toggleButtonOffBackgroundColor:Ol(.4)});var _3e=Re(O({},_ee),{backgroundColor:"#1f2836"});var ZB=co({feature:"colorScheme",params:Qb,modeParams:{light:Qb,dark:_ee,"dark-blue":_3e}}),See=':where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}',S3e=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,Eee=co({feature:"iconSet",css:()=>See+S3e});var Tee={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Aee={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},E3e=(e={})=>{let t=See;for(let n of[...Object.keys(Tee),...Object.keys(Aee)]){let i=T3e(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`;}return t;},T3e=(e,t=1.5)=>{let n=Aee[e];if(n)return n;let i=Tee[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>";},A3e=(e={})=>co({feature:"iconSet",css:()=>E3e(e)});var D3e=A3e();var JB=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',R3e=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",I3e=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}",e7={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"}},rut=co({feature:"inputStyle",params:e7,css:JB}),t7=co({feature:"inputStyle",params:Re(O({},e7),{inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:id},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Ol(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}}),css:()=>JB+R3e}),sut=co({feature:"inputStyle",params:Re(O({},e7),{inputBorder:{width:2,color:zo(.3)},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}}),css:()=>JB+I3e}),tS='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',P3e=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",nS={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},out=co({feature:"tabStyle",params:nS,css:tS}),k3e=co({feature:"tabStyle",params:Re(O({},nS),{tabBarBorder:!0,tabBarBackgroundColor:zo(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}),css:tS}),aut=co({feature:"tabStyle",params:Re(O({},nS),{tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0}),css:tS}),M3e=co({feature:"tabStyle",params:Re(O({},nS),{tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:id,tabSelectedTextColor:id,tabSelectedUnderlineColor:id,tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"}),css:tS}),F3e=co({feature:"tabStyle",params:Re(O({},nS),{tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}),css:()=>tS+P3e}),N3e=XB().withPart(QB).withPart(ZB).withPart(D3e).withPart(k3e).withPart(()=>t7).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),lut=XB().withPart(QB).withPart(ZB).withPart(Eee).withPart(M3e).withPart(t7).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:Zu(.3),inputFocusBorder:{color:Zu(.4)},fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:id,tabSelectedBorderWidth:2,tabSelectedUnderlineTransitionDuration:.3}),cut=XB().withPart(QB).withPart(ZB).withPart(Eee).withPart(F3e).withPart(t7).withParams({spacing:4,borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},headerTextColor:zo(.5),fontSize:12,headerFontWeight:"bold"}),fZ={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},pZ={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},gZ={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},V8={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},L3e=0,O3e=class extends Oe{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map(),this.lastKnownValues=new Map(),this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++L3e}`,this.globalCSS=[];}wireBeans(e){this.eGridDiv=e.eGridDiv;}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(fZ),this.getSizeEl(pZ),this.getSizeEl(gZ),this.getSizeEl(V8),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>JIe(this));}getDefaultRowHeight(){return this.getCSSVariablePixelValue(fZ);}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(pZ);}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight());}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(gZ);}getRowBorderWidth(){return this.getCSSVariablePixelValue(V8);}applyThemeClasses(e){let{gridTheme:t}=this,n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{let i=this.eGridDiv;for(;i;){for(let r of Array.from(i.classList))r.startsWith("ag-theme-")&&(n=n?`${n} ${r}`:r);i=i.parentElement;}}for(let i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){let i=e.className;e.className=i+(i?" ":"")+n;}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1;}addGlobalCSS(e,t){this.gridTheme?Xb(e,this.eGridDiv,t):this.globalCSS.push([e,t]);}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n);}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let n=t.offsetWidth;return n===H8?"no-styles":(this.sizesMeasured=!0,n);}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e;}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let n=this.getMeasurementContainer();t=document.createElement("div");let{border:i}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${H8}px`)):t.style.width=`var(${e.cssName}, ${H8}px)`,n.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&et(9,{variable:e});let s=Tp(this.beans,t,()=>{let o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==r&&(r=o,this.fireGridStylesChangedEvent(e.changeKey)));});return this.addDestroyFunc(()=>s()),t;}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0});}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(V8);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`);}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme"),s;if(r==="legacy")s=void 0;else{let o=r??N3e;o instanceof wee?s=o:vi(240,{theme:o});}if(s!==i){if(s){ZIe(this),gee(t);for(let[a,l]of n)Xb(a,t,l);n.length=0;}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:t});let o=this.eParamsStyle;o||(o=this.eParamsStyle=document.createElement("style"),t.appendChild(o)),KB||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged");}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&vi(r?106:239);}},H8=15538,B3e=class extends Oe{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Zb();}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1);}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n);}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n);}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t);}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t);}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e));}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e));}};function Dee(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1;}function mB(e,t){let n;if(vr(e)&&Dee(e)&&e.isPadding()){let i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent();}return{column:n||e,headerRowIndex:t};}var V3e=class extends Oe{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1;}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl;});let t=Fr(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1;}});}getHeaderPositionForColumn(e,t){let n,{colModel:i,colGroupSvc:r,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=r?.getColumnGroup(e)??null)):n=e,!n)return null;let a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=ii(a||[]).type==="filter",c=Sh(this.beans)-1,u=-1,d=n;for(;d;)u++,d=d.getParent();let h=u;return t&&l&&h===c-1&&h++,h===-1?null:{headerRowIndex:h,column:n};}navigateVertically(e,t,n){let i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;let{headerRowIndex:r}=t,s=t.column,o=Sh(this.beans),a=e==="UP",l=this.getHeaderRowType(r),{headerRowIndex:c,column:u,headerRowIndexWithoutSpan:d}=a?H3e(l,s,r):G3e(l,s,r),h=!1;return c<0&&(c=0,u=s,h=!0),c>=o?(c=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!u?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:u},allowUserOverride:!0,event:n});}navigateHorizontally(e,t=!1,n){let{focusSvc:i,gos:r}=this.beans,s=i.focusedHeader,o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a)),o||!t)return i.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n});if(t){let l=r.getCallback("tabToNextHeader");if(l)return i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});}return this.focusNextHeaderRow(s,a,n);}focusNextHeaderRow(e,t,n){let i=e.headerRowIndex,r=null,s,o=this.beans;if(t==="Before"?i>0&&(s=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,this.currentHeaderRowWithoutSpan<Sh(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;let{column:a,headerRowIndex:l}=mB(r.column,r?.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n});}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(vr(e)){let i=e.getDisplayedLeafColumns();n=t==="Before"?ii(i):i[0];}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n);}findHeader(e,t){let n,i,{colGroupSvc:r,visibleCols:s}=this.beans;if(vr(e.column)?n=r?.getGroupAtDirection(e.column,t)??void 0:(i=`getCol${t}`,n=s[i](e.column)),!n)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){let c=[n];for(;n.getParent();)n=n.getParent(),c.push(n);n=c[Math.max(0,c.length-1-o)];}let{column:a,headerRowIndex:l}=mB(n,o);return{column:a,headerRowIndex:l};}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e);}findColAtEdgeForHeaderRow(e,t){let{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,s=n.allCols,o=s[t==="start"?0:s.length-1];if(!o)return;let l=i.getHeaderRowContainerCtrl(o.getPinned())?.getRowType(e);if(l=="group"){let c=r?.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:c};}return{headerRowIndex:l==null?-1:e,column:o};}};function H3e(e,t,n){let i=e==="filter",r=e==="column",s=i?t:t.getParent(),o=n-1,a=o;if(r&&Dee(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;a=o,o<0&&(s=t,o=n,a=void 0);}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:a};}function G3e(e,t,n,i="After"){let r=t,s=n+1,o=s;if(e==="group"){let a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:ii(a),c=[],u=l;for(;u.getParent()!==t;)u=u.getParent(),c.push(u);if(r=l,l.isSpanHeaderHeight())for(let d=c.length-1;d>=0;d--){let h=c[d];if(!h.isPadding()){r=h;break;}s++;}else r=ii(c),r||(r=l);}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:o};}var z3e=class extends Oe{constructor(){super(...arguments),this.beanName="focusSvc";}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays;}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(FTe(this.beans));}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell();}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(sr(this.beans),X_)?null:this.focusedCell;}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(sr(this.beans),nee)?null:this.focusedHeader;}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(kI(this.gos,n,t))return!1;n=n.parentNode;}return!0;}getFocusedCell(){return this.focusedCell;}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null;},0),!0):!1;}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1;}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t());});}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:oB(e,this.restoredFocusedCell);}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e);}getFocusEventParams(e){let{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(r.isFullWidthCell=s.isFullWidth()),r;}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(O({type:"cellFocusCleared"},e));}setFocusedCell(e){let{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:s=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return;}this.focusedCell={rowIndex:n,rowPinned:Eh(i),column:o},this.eventSvc.dispatchEvent(Re(O({type:"cellFocused"},this.getFocusEventParams(this.focusedCell)),{forceBrowserFocus:r,preventScrollOnBrowserFocus:s}));}isCellFocused(e){return this.focusedCell==null?!1:oB(e,this.focusedCell);}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned);}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:s}=this.focusedHeader;return t===r&&n===s&&i==r.getPinned();}focusHeaderPosition(e){if(zb(this.beans))return!1;let{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:s,rowWithoutSpanValue:o}=e,{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){let l=this.focusedHeader,c=Sh(this.beans);if(n){let u=this.gos.getCallback("tabToNextHeader");u&&(a=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}));}else{let u=this.gos.getCallback("navigateToNextHeader");if(u&&r){let d={key:r.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:r};a=u(d);}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:s,rowWithoutSpanValue:o}):!1;}focusHeaderPositionFromUserFunc(e){if(zb(this.beans))return!1;let{userFunc:t,headerPosition:n,direction:i,event:r}=e,s=this.focusedHeader,o=Sh(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r});}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:s});return a===!0?i:a===!1?null:a;}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:u}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(o);u?.scrollToColumn(o,n);let h=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return u&&h&&(r!=null||i)&&(u.currentHeaderRowWithoutSpan=r??-1),h;}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let n=mB(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0});}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=Sh(this.beans)-1,n=ii(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e});}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e);}isAnyCellFocused(){return!!this.focusedCell;}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Eh(t);}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Wm(t,e);}focusGridView(e,t=!1,n=!0){if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(LJ(this.beans))return t&&!zb(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:Kb(this.beans,!1);let i=t?oAe(this.beans):sAe(this.beans);if(i){let{rowIndex:r,rowPinned:s}=i;if(e??(e=this.focusedHeader?.column),e&&r!==void 0&&r!==null)return this.navigation?.ensureCellVisible({rowIndex:r,column:e,rowPinned:s}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:r,column:e,rowPinned:Eh(s),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:r,rowPinned:s,column:e})),!0;}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader());}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1;}focusNextFromAdvancedFilter(e,t){let n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:Sh(this.beans)-1}}):this.focusGridView(n);}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0;}},U3e=class extends Oe{constructor(){super(...arguments),this.beanName="scrollVisibleSvc";}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation;}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)});}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl());}):this.updateScrollVisibleImpl();}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap();}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}));}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}));}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:T2e();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}));}return this.scrollbarWidth;}},j3e=class extends Oe{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1;}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy();}},EI=new Set(["gridPreDestroyed","fillStart","pasteStart"]),$3e={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},W3e=0,q3e=0,K3e=class extends Oe{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=q3e++,this.propEventSvc=new Zb(),this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;let i=EI.has(t);if(i&&!e||!i&&e)return;let r=oJ(t),s=this.gridOptions[r];typeof s=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{s(n);});};}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId();}get gridOptionsContext(){return this.gridOptions.context;}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"});}});}get(e){return this.gridOptions[e]??$3e[e];}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e]);}exists(e){return at(this.gridOptions[e]);}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)));}updateGridOptions({options:e,force:t,source:n="api"}){let i={id:W3e++,properties:[]},r=[],{gridOptions:s,validation:o}=this;Object.entries(e).forEach(([a,l])=>{o?.warnOnInitialPropertyUpdate(n,a);let c=t||typeof l=="object"&&n==="api",u=s[a];if(c||u!==l){s[a]=l;let d={type:a,currentValue:l,previousValue:u,changeSet:i,source:n};r.push(d);}}),o?.processGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{Sp(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a);});}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t);}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t);}getDomDataKey(){return this.domDataKey;}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext};}addGridCommonParams(e){let t=e;return t.api=this.api,t.context=this.gridOptionsContext,t;}assertModuleRegistered(e,t){let n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||vi(200,Re(O({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),n;}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:MB(),rowModelType:this.get("rowModelType")};}isModuleRegistered(e){return kJ(e,this.gridId,this.get("rowModelType"));}};function Y3e(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`;}var X3e=class extends ri{constructor(){super(...arguments),this.eFilter=dt,this.eFilterButton=dt,this.eSortIndicator=dt,this.eMenu=dt,this.eLabel=dt,this.eText=dt,this.eSortOrder=dt,this.eSortAsc=dt,this.eSortDesc=dt,this.eSortMixed=dt,this.eSortNone=dt,this.isLoadingInnerComponent=!1;}refresh(e){let t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0);}workOutTemplate(){let{params:e,beans:t}=this,n=e.template??Y3e(!!t.sortSvc);return n?.trim?n.trim():n;}init(e){this.params=e;let{sortSvc:t,touchSvc:n,userCompFactory:i}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e);}workOutInnerHeaderComponent(e,t){let n=iTe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText.appendChild(i.getGui())):this.destroyBean(i));}));}setDisplayName(e){let{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;let i=nd(t,!0);this.eText.innerText=i;}addInIcon(e,t,n){if(t==null)return;let i=Ll(e,this.beans,n);i&&t.appendChild(i);}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled();}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled();}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Nl(this.eMenu),this.eMenu=void 0;return;}let{gos:e,eMenu:t,params:n}=this,i=Ka(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);let r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>n.showColumnMenu(t)}),t.classList.toggle("ag-header-menu-always-show",r);}onMenuKeyboardShortcut(e){let{params:t,gos:n,beans:i,eMenu:r,eFilterButton:s}=this,o=t.column,a=Ka(n);if(e&&!a){if(i.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??r??this.getGui()),!0;}else if(t.enableMenu)return t.showColumnMenu(r??s??this.getGui()),!0;return!1;}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:i,eSortOrder:r,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,s,o,a,l);}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel);}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive");}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0;}configureFilter(e,t,n,i){if(!e)return Nl(t),!1;let r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0;}onFilterChangedIcon(){let e=this.params.column.isFilterActive();rr(this.eFilter,e,{skipAriaHidden:!0});}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e);}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui();}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0);}},Q3e=class extends ri{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=dt,this.agClosed=dt,this.agLabel=dt,this.isLoadingInnerComponent=!1;}init(e){let{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons();}checkWarnings(){this.params.template&&et(89);}workOutInnerHeaderGroupComponent(e,t){let n=sTe(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i));}));}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let r=l=>{if(Th(l))return;let c=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded");};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);let s=l=>{Wb(l);};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();let o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a});}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n});}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){let i=n.isExpanded();rr(e,i),rr(t,!i);}else rr(e,!1),rr(t,!1);}addInIcon(e,t){let n=Ll(e,this.beans,null);n&&t.appendChild(n);}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:n}=this;rr(t,!1),rr(n,!1);return;}}setupLabel(e){let{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(at(t)&&!i){let r=nd(t,!0);this.agLabel.textContent=r;}this.addOrRemoveCssClass("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel);}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0);}},Z3e={moduleName:"ColumnHeaderComp",version:ht,userComponents:{agColumnHeader:X3e},icons:{menu:"menu",menuAlt:"menu-alt"}},J3e={moduleName:"ColumnGroupHeaderComp",version:ht,userComponents:{agColumnGroupHeader:Q3e},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},ePe={moduleName:"AnimationFrame",version:ht,beans:[PTe]},tPe=class extends Oe{constructor(){super(...arguments),this.beanName="touchSvc";}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t);}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t);}mockRowContextMenu(e){if(!Vm())return;let t=(n,i,r)=>{let{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(r?.target??null);o?.column&&o.dispatchCellContextMenuEvent(r??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,r,s,o);};this.mockContextMenu(e,e.element,t);}handleCellDoubleClick(e,t){return(()=>{if(!Vm()||uJ("dblclick"))return!1;let i=new Date().getTime(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r;})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1;}setupForHeader(e){let{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;let{params:i,eMenu:r,eFilterButton:s}=e,o=new Pb(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&at(r),c=l?new Pb(r,!0):o;if(i.enableMenu){let u=l?"tap":"longTap",d=h=>i.showColumnMenuAfterMouseClick(h.touchStart);e.addManagedListeners(c,{[u]:d});}if(i.enableSorting){let u=d=>{let h=d.touchStart.target;a&&(r?.contains(h)||s?.contains(h))||n?.progressSort(i.column,!1,"uiColumnSorted");};e.addManagedListeners(o,{tap:u});}if(i.enableFilterButton&&s){let u=new Pb(s,!0);e.addManagedListeners(u,{tap:()=>i.showFilter(s)}),e.addDestroyFunc(()=>u.destroy());}e.addDestroyFunc(()=>o.destroy()),l&&e.addDestroyFunc(()=>c.destroy());}setupForHeaderGroup(e,t,n){let i=new Pb(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy());}mockContextMenu(e,t,n){if(!Vm())return;let i=new Pb(t),r=s=>{n(void 0,s.touchStart,s.touchEvent);};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy());}},nPe={moduleName:"Touch",version:ht,beans:[tPe]},iPe=class extends Oe{constructor(){super(...arguments),this.beanName="cellNavigation";}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t);}getNextCellToFocusWithCtrlPressed(e,t){let n=e===Me.UP,i=e===Me.DOWN,r=e===Me.LEFT,s,o,{pageBounds:a,gos:l,visibleCols:c}=this.beans;if(n||i)o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{let u=c.allCols,d=l.get("enableRtl");o=t.rowIndex,s=r!==d?u[0]:ii(u);}return{rowIndex:o,rowPinned:null,column:s};}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Me.UP:n=this.getCellAbove(n);break;case Me.DOWN:n=this.getCellBelow(n);break;case Me.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Me.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,et(8,{key:e});break;}n?i=this.isCellGoodToFocusOn(n):i=!0;}return n;}isCellGoodToFocusOn(e){let t=e.column,n,{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break;}return n?!this.isSuppressNavigable(t,n):!1;}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null;}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null;}getRowBelow(e){let t=e.rowIndex,n=e.rowPinned,i=!1,{pageBounds:r,pinnedRowModel:s,rowModel:o}=this.beans;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return o.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;}else n&&(i=!0);let a=o.getRow(e.rowIndex),l=i?void 0:this.getNextStickyPosition(a);return l||{rowIndex:t+1,rowPinned:n};}getNextStickyPosition(e,t){let{gos:n,rowRenderer:i}=this.beans;if(!iJ(n)||!e||!e.sticky)return;let r=i.getStickyTopRowCtrls().some(c=>c.rowNode.rowIndex===e.rowIndex),s=[];r?s=[...i.getStickyTopRowCtrls()].sort((c,u)=>c.rowNode.rowIndex-u.rowNode.rowIndex):s=[...i.getStickyBottomRowCtrls()].sort((c,u)=>u.rowNode.rowIndex-c.rowNode.rowIndex);let o=t?-1:1,a=s.findIndex(c=>c.rowNode.rowIndex===e.rowIndex),l=s[a+o];if(l)return{rowIndex:l.rowNode.rowIndex,rowPinned:null};}getCellBelow(e){if(!e)return null;let t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null;}isLastRowInContainer(e){let t=e.rowPinned,n=e.rowIndex,{pinnedRowModel:i,pageBounds:r}=this.beans;return t==="top"?(i?.getPinnedTopRowCount()??-1)<=n:t==="bottom"?(i?.getPinnedBottomRowCount()??-1)<=n:r.getLastRow()<=n;}getRowAbove(e){let t=e.rowIndex,n=e.rowPinned,{pageBounds:i,pinnedRowModel:r,rowModel:s}=this.beans,o=n?t===0:t===i.getFirstRow(),a=!1,l=()=>({rowIndex:r?.getPinnedTopRowCount()??-1,rowPinned:"top"});if(o)return n==="top"?null:n&&s.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:r?.isRowsToRender("top")?l():null;n&&(a=!0);let c=s.getRow(e.rowIndex),u=a?void 0:this.getNextStickyPosition(c,!0);return u||{rowIndex:t-1,rowPinned:n};}getCellAbove(e){if(!e)return null;let t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null;}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e);}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:n}=this.beans,i=t.allCols,r=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=i[0];let a=this.getRowBelow(e);if(tr(a)||!a.rowPinned&&!(n?.isRowInPage(a)??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null;}return{rowIndex:r,column:o,rowPinned:s};}getNextTabbedCellBackwards(e){let{visibleCols:t,pagination:n}=this.beans,i=t.allCols,r=e.rowIndex,s=e.rowPinned,o=t.getColBefore(e.column);if(!o){o=ii(i);let a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(tr(a)||!a.rowPinned&&!(n?.isRowInPage(a)??!0))return null;r=a?a.rowIndex:null,s=a?a.rowPinned:null;}return{rowIndex:r,column:o,rowPinned:s};}isSuppressNavigable(e,t){let{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){let i=e.createColumnFunctionCallbackParams(t);return n(i);}return!1;}};function rPe(e){return e.focusSvc.getFocusedCell();}function sPe(e){return e.focusSvc.clearFocusedCell();}function oPe(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0});}function aPe(e,t){return e.navigation?.tabToNextCell(!1,t)??!1;}function lPe(e,t){return e.navigation?.tabToNextCell(!0,t)??!1;}function cPe(e,t,n=!1){let i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i});}var uPe=class extends Oe{constructor(){super(),this.beanName="navigation",this.onPageDown=zQ(this.onPageDown,100),this.onPageUp=zQ(this.onPageUp,100);}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl;});}handlePageScrollingKey(e,t=!1){let n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=JTe(this.gos,e),a=!1;switch(n){case Me.PAGE_HOME:case Me.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case Me.LEFT:case Me.RIGHT:case Me.UP:case Me.DOWN:if(!o)return!1;r&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case Me.PAGE_DOWN:case Me.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,o,t));break;}return a&&e.preventDefault(),a;}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Me.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1;}navigateTo(e){let{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:s}=e,{scrollFeature:o}=this.gridBodyCon;at(i)&&!i.isPinned()&&o.ensureColumnVisible(i),at(t)&&o.ensureIndexVisible(t,n),e.isAsync||o.ensureIndexVisible(r);let{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),l?.setRangeToCell({rowIndex:r,rowPinned:null,column:s});}onPageDown(e){let t=this.beans,n=G8(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:s,rowAutoHeight:o}=t,a=r.getPixelOffset(),l=n.top+i,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c);}onPageUp(e){let t=this.beans,n=G8(t),{pageBounds:i,rowModel:r,rowAutoHeight:s}=t,o=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0);}navigateToNextPage(e,t,n=!1){let{pageBounds:i,rowModel:r}=this.beans,s=this.getViewportHeight(),o=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),c=r.getRow(e.rowIndex),u=n?c?.rowHeight-s-l:s-l,d=c?.rowTop+u,h=r.getRowIndexAtPixel(d+l);if(h===e.rowIndex){let g=n?-1:1;t=h=e.rowIndex+g;}let f;n?(f="bottom",h<o&&(h=o),t<o&&(t=o)):(f="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(h))&&(t=h,f="top"),this.navigateTo({scrollIndex:t,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:e.column});}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0});},50);}getNextFocusIndexForAutoHeight(e,t=!1){let n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:s}=this.beans,o=r.getLastRow(),a=0,l=e.rowIndex;for(;l>=0&&l<=o;){let c=s.getRow(l);if(c){let u=c.rowHeight??0;if(a+u>i)break;a+=u;}l+=n;}return Math.max(0,Math.min(l,o));}getViewportHeight(){let e=this.beans,t=G8(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth(),i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i;}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight();}onCtrlUpDownLeftRight(e,t){let n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r});}onHomeOrEndKey(e){let t=e===Me.PAGE_HOME,{visibleCols:n,pageBounds:i}=this.beans,r=n.allCols,s=t?r[0]:ii(r),o=t?i.getFirstRow():i.getLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s});}onTabKeyDown(e,t){let n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return;}if(n){let{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||zb(r)?Kb(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)));}else e instanceof _I&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||Kb(r,n))&&t.preventDefault();}tabToNextCell(e,t){let n=this.beans,{focusSvc:i,rowRenderer:r}=n,s=i.getFocusedCell();if(!s)return!1;let o=kb(n,s);return!o&&(o=r.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t);}tabToNextCellCommon(e,t,n){let i=e.editing;if(!i&&e instanceof _I){let o=e.rowCtrl;o&&(i=o.editing);}let r;return i?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,n):r=this.moveToNextEditingCell(e,t,n):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.beans.focusSvc.focusedHeader;}moveToNextEditingCell(e,t,n=null){let i=e.cellPosition;e.eGui.focus(),e.stopEditing();let r=this.findNextCellToFocusOn(i,t,!0);return r===!1?null:r==null?!1:(this.beans.editSvc?.startEditing(r,null,!0,n),r.focusCell(!1),!0);}moveToNextEditingRow(e,t,n=null){let i=e.cellPosition,r=this.findNextCellToFocusOn(i,t,!0);if(r===!1)return null;if(r==null)return!1;let s=r.cellPosition,o=this.isCellEditable(i),a=this.isCellEditable(s),l=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned,{editSvc:c,rowEditSvc:u}=this.beans;if(o&&c?.setFocusOutOnEditor(e),!l){let d=e.rowCtrl;c?.stopRowEditing(d);let h=r.rowCtrl;u?.startEditing(h,void 0,void 0,n);}return a?(c?.setFocusInOnEditor(r),r.focusCell()):r.focusCell(!0),!0;}moveToNextCellNotEditing(e,t){let n=this.beans.visibleCols.allCols,i;e instanceof cB?i=Re(O({},e.getRowPosition()),{column:t?n[0]:ii(n)}):i=e.cellPosition;let r=this.findNextCellToFocusOn(i,t,!1);if(r===!1)return null;if(r instanceof _I)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return at(r);}findNextCellToFocusOn(e,t,n){let i=e,r=this.beans,{cellNavigation:s,gos:o,focusSvc:a,rowRenderer:l,rangeSvc:c}=r;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=s.getNextTabbedCell(i,t);let u=o.getCallback("tabToNextCell");if(at(u)){let g=u({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(g===!0)i=e;else{if(g===!1)return!1;i={rowIndex:g.rowIndex,column:g.column,rowPinned:g.rowPinned};}}if(!i)return null;if(i.rowIndex<0){let f=Sh(r);return a.focusHeaderPosition({headerPosition:{headerRowIndex:f+i.rowIndex,column:i.column},fromCell:!0}),null;}let d=o.get("editType")==="fullRow";if(n&&!d&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);let h=kb(r,i);if(!h){let f=l.getRowByPosition(i);if(!f||!f.isFullWidth()||n)continue;return f;}if(!s.isSuppressNavigable(h.column,h.rowNode))return c?.setRangeToCell(i),h;}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1;}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e);}navigateToNextCell(e,t,n,i){let r=n,s=!1,o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;r&&(r===n||!this.isValidNavigateCell(r));)c.get("enableRtl")?t===Me.LEFT&&(r=this.getLastCellOfColSpan(r)):t===Me.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),s=tr(r);if(s&&e&&e.key===Me.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){let d=c.getCallback("navigateToNextCell");if(at(d)){let f=d({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});at(f)?r={rowPinned:f.rowPinned,rowIndex:f.rowIndex,column:f.column}:r=null;}}if(!r)return;if(r.rowIndex<0){let d=Sh(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:d+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return;}let u=this.getNormalisedPosition(r);u?this.focusPosition(u):this.tryToFocusFullWidthRow(r);}getNormalisedPosition(e){this.ensureCellVisible(e);let t=kb(this.beans,e);return t?(e=t.cellPosition,this.ensureCellVisible(e),e):null;}tryToFocusFullWidthRow(e,t){let{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:s}=this.beans,o=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;let l=r.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?ii(o):o[0])};this.focusPosition(c);let u=t??(l!=null&&iAe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0;}focusPosition(e){let{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e);}isValidNavigateCell(e){return!!aB(this.beans,e);}getLastCellOfColSpan(e){let t=kb(this.beans,e);if(!t)return e;let n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:ii(n),rowPinned:e.rowPinned};}ensureCellVisible(e){let t=iJ(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:r}=this.gridBodyCon;!i&&tr(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column);}};function G8(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition();}var dPe={moduleName:"KeyboardNavigation",version:ht,beans:[uPe,iPe,V3e],apiFunctions:{getFocusedCell:rPe,clearFocusedCell:sPe,setFocusedCell:oPe,setFocusedHeader:cPe,tabToNextCell:aPe,tabToPreviousCell:lPe}},hPe=class extends Oe{constructor(){super(...arguments),this.beanName="pageBoundsListener";}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated();}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1});}calculatePages(){let{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1);}},fPe=class extends Oe{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0;}getFirstRow(){return this.topRowBounds?.rowIndex??-1;}getLastRow(){return this.bottomRowBounds?.rowIndex??-1;}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0);}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i};}calculateBounds(e,t){let{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;let r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset();}getPixelOffset(){return this.pixelOffset;}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}));}},pPe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",gPe=class extends Oe{constructor(e,t){super(),this.element=e,this.isLeft=t,this.getWidth=t?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth;}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)});}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;rr(this.element,t),ed(this.element,e);}},mPe=class extends Oe{constructor(){super(...arguments),this.beanName="pinnedCols";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl;});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e);}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Gs(e,"print"),r=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}));}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=z_(e);if(t<=50)return;let n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns");n.length&&(i&&(n=i({columns:n,viewportWidth:t})),this.setColsPinned(n,null,"viewportSizeFeature"));}createPinnedWidthFeature(e,t){return new gPe(e,t);}setColsPinned(e,t,n){let{colModel:i,colAnimation:r,visibleCols:s,gos:o}=this.beans;if(!i.cols||!e?.length)return;if(Gs(o,"print")){et(37);return;}r?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;let l=[];e.forEach(c=>{if(!c)return;let u=i.getCol(c);u&&u.getPinned()!==a&&(this.setColPinned(u,a),l.push(u));}),l.length&&(s.refresh(n),yJ(this.eventSvc,l,n)),r?.finish();}initCol(e){let{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n);}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned");}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;let r=()=>{let s=n?this.leftWidth:this.rightWidth;if(s==null)return;let o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),d=t.verticalScrollShowing&&(l&&n||!l&&i)?s+c:s;e.comp.setPinnedContainerWidth(`${d}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh());};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r});}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:i,rightWidth:r}=this,s=z_(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>s)if(s>i+r)e=s-i-r;else return 0;}return e;}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;if(i<e)return[];let{visibleCols:r}=this.beans,s=[...r.leftCols],o=[...r.rightCols],a=0,l=0,c=0,u=[],d=i-c-e;for(;(l<s.length||a<o.length)&&d>0;){if(a<o.length){let h=o[a++];d-=h.getActualWidth(),u.push(h);}if(l<s.length&&d>0){let h=s[l++];d-=h.getActualWidth(),u.push(h);}}return u;}},vPe={moduleName:"PinnedColumn",version:ht,beans:[mPe],css:[pPe]},yPe=class extends Oe{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map(),this.lastAnnouncement="",this.updateAnnouncement=$o(this,this.updateAnnouncement.bind(this),200);}postConstruct(){let e=this.beans,t=Fr(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),IZ(n,"polite"),p2e(n,"additions text"),f2e(n,!0),e.eGridDiv.appendChild(n);}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement();}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t;}},50);}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(lo(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear();}},bPe={moduleName:"Aria",version:ht,beans:[yPe]};function xPe(e){e.overlays?.showLoadingOverlay();}function wPe(e){e.overlays?.showNoRowsOverlay();}function CPe(e){e.overlays?.hideOverlay();}var _Pe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",Ree=class extends ri{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=dt,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(_Pe);}handleKeyDown(e){if(e.key!==Me.TAB||e.defaultPrevented||Th(e))return;let t=this.beans;if(Xm(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView(ii(t.visibleCols.allCols),!0,!1):i=Kb(t,!1),i&&e.preventDefault();}updateLayoutClasses(e,t){let n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:s}=Pc;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(s,t.print);}postConstruct(){this.createManagedBean(new NB(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)});}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0);}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){let r=sr(this.beans);r&&!nJ(this.beans)&&(this.elToFocusAfter=r);}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return;}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){let s=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:o})=>{s.refresh?.(this.gos.addGridCommonParams(O({},o??{})));});}n&&this.isGridFocused()&&Wm(this.eOverlayWrapper);}});}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`);}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),lo(this.eOverlayWrapper),t?.focus?.({preventScroll:!0});}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0});}isGridFocused(){let e=sr(this.beans);return!!e&&this.beans.eGridDiv.contains(e);}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy();}},SPe={selector:"AG-OVERLAY-WRAPPER",component:Ree},EPe=class extends Oe{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0;}postConstruct(){this.isClientSide=jo(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility();}}),this.addManagedPropertyListener("loading",e);}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility();}isVisible(){return this.state!==0&&!!this.eWrapper;}isExclusive(){return this.state===1&&!!this.eWrapper;}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay();}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay();}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){et(99);return;}this.doHideOverlay();}getOverlayWrapperSelector(){return SPe;}getOverlayWrapperCompClass(){return Ree;}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return;}let{state:e,isClientSide:t,beans:{gos:n,colModel:i,rowModel:r}}=this,s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!n.get("suppressLoadingOverlay")&&(s=!n.get("columnDefs")||!i.ready||!n.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,r.isEmpty()&&!n.get("suppressNoRowsOverlay")&&t?e!==2&&this.doShowNoRowsOverlay():e!==0&&this.doHideOverlay());}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(pTe(this.beans.userCompFactory,{}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive());}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(gTe(this.beans.userCompFactory,{}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive());}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive());}showOverlay(e,t,n){let i=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding();}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"});}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t));}},TPe={moduleName:"Overlay",version:ht,userComponents:{agLoadingOverlay:aDe,agNoRowsOverlay:lDe},apiFunctions:{showLoadingOverlay:xPe,showNoRowsOverlay:wPe,hideOverlay:CPe},beans:[EPe]},APe=class extends Oe{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0;}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=E2e(),Sp(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight);}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset());}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Sp(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t);}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}));}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0);}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}));}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset();}getRealPixelPosition(e){return e-this.divStretchOffset;}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top;}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n;}},DPe=400,RPe=class extends Oe{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged());},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount());},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t);},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t);};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Dh(this.gos)?n():i();}),Dh(this.gos)&&n();};}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc;}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise();});}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:i})=>{(!i&&n||i&&!n)&&this.redrawRows();});let{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0);}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Gs(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate();}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new IPe(t);}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount");}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[];}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[];}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e;}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e));}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e));}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e);},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e));},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover());},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged());},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged());}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this));}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0;}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c);});},i=()=>{n(l=>l.onLeftChanged());},r=()=>{n(l=>l.onWidthChanged());},s=()=>{n(l=>l.onFirstRightPinnedChanged());},o=()=>{n(l=>l.onLastLeftPinnedChanged());},a=()=>{n(l=>l.onColDefChanged());};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a);});});}onDomLayoutChanged(){let e=Gs(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0});}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e);}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t);}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(n=>{let i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i);}),t;}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom");}refreshFloatingRows(e,t){let{pinnedRowModel:n,beans:i,printLayout:r}=this,s=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));n?.forEachPinnedRow(t,(a,l)=>{let c=e[l];c&&n.getPinnedRowById(c.rowNode.id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in s?(e[l]=s[a.id],delete s[a.id]):e[l]=new cB(a,i,!1,!1,r);});let o=(t==="top"?n?.getPinnedTopRowCount():n?.getPinnedBottomRowCount())??0;e.length=o;}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e);}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return;}else{let n=i=>{let r=i[e.rowIndex];r&&r.rowNode===e&&(r.destroyFirstPass(),r.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1));};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls();}}t||this.dispatchDisplayedRowsChanged(!1);}redrawRows(e){if(e!=null){e?.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return;}this.redrawAfterModelUpdate();}getCellToRestoreFocusToAfterRefresh(e){let t=e?.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;let n=sr(this.beans),i=kI(this.gos,n,HI),r=kI(this.gos,n,X_);return i||r?t:null;}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Ob(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:s}=this;if(s){s.checkStickyRows();let o=s.extraTopHeight+s.extraBottomHeight;o&&this.updateContainerHeights(o);}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh();}scrollToTopIfNewData(e){let t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets());}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return;}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e);}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(_p(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.();}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.();}isRefreshInProgress(){return this.refreshInProgress;}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}));});}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){let r=t[i].getAllCellCtrls(),s=r.length;for(let o=0;o<s;o++)e.push(r[o]);}return e;}getAllRowCtrls(){let e=this.getStickyTopRowCtrls(),t=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t,...Object.values(this.rowCtrlsByRowIndex)];}addRenderedRowListener(e,t,n){let i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n);}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes);}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(let n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.rowNode,!0);}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t);}getRowCtrls(e){let t=vB(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{let r=i.rowNode;return yB(r,t);});}getCellCtrls(e,t){let n;at(t)&&(n={},t.forEach(r=>{let s=this.colModel.getCol(r);at(s)&&(n[s.getId()]=!0);}));let i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{let o=s.column.getId();n&&!n[o]||i.push(s);});}),i;}destroy(){this.removeAllRowComps(!0),super.destroy();}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls();}getRowsToRecycle(){let e=[];for(let[n,i]of Object.entries(this.rowCtrlsByRowIndex))i.rowNode.id==null&&e.push(n);this.removeRowCtrls(e);let t={};for(let n of Object.values(this.rowCtrlsByRowIndex)){let i=n.rowNode;t[i.id]=n;}return this.rowCtrlsByRowIndex={},t;}removeRowCtrls(e,t=!1){e.forEach(n=>{let i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n];});}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0});}redraw(e={}){let{afterScroll:t}=e,n,i=this.stickyRowFeature;i&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);let r=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(i){o=i.checkStickyRows();let l=i.extraTopHeight+i.extraBottomHeight;l&&this.updateContainerHeights(l);}let a=this.firstRenderedRow!==r||this.lastRenderedRow!==s;if(!(t&&!o&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),n!=null)){let l=this.getCellToRestoreFocusToAfterRefresh();n!=null&&l==null&&(this.beans.animationFrameSvc?.flushAllFrames(),this.restoreFocusedCell(n));}}removeRowCompsNotToDraw(e,t){let n={};e.forEach(s=>n[s]=!0);let r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(r,t);}calculateIndexesToDraw(e){let t=[];for(let r=this.firstRenderedRow;r<=this.lastRenderedRow;r++)t.push(r);let n=r=>{let s=r.rowNode.rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(s);};for(let r of Object.values(this.rowCtrlsByRowIndex))n(r);if(e)for(let r of Object.values(e))n(r);t.sort((r,s)=>r-s);let i=[];for(let r=0;r<t.length;r++){let s=t[r],o=this.rowModel.getRow(s);o&&!o.sticky&&i.push(s);}return i;}recycleRows(e,t=!1,n=!1){let i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);let r=[];if(i.forEach(s=>{let o=this.createOrUpdateRowCtrl(s,e,t,n);at(o)&&r.push(o);}),e){let{animationFrameSvc:s}=this.beans;s&&n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged();}):this.destroyRowCtrls(e,t);}this.updateAllRowCtrls();}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e});}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows());}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let n=t.rowNode.rowIndex;e.push(n.toString());}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0});}getFullWidthRowCtrls(e){let t=vB(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;let i=n.rowNode;return!(t!=null&&!yB(i,t));});}createOrUpdateRowCtrl(e,t,n,i){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),at(r)&&at(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),at(r))s=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s;}destroyRowCtrls(e,t){let n=[];if(e){for(let i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue;}if(i.destroyFirstPass(!t),t){let r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r];});}else i.destroySecondPass();}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged();}),window.setTimeout(()=>n.forEach(i=>i()),DPe));}getRowBuffer(){return this.gos.get("rowBuffer");}getRowBufferInPixels(){let e=this.getRowBuffer(),t=zm(this.beans);return e*t;}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{let u=this.getRowBufferInPixels(),d=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation"),f=!1,g,m;do{let A=t.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:N}=t.getCurrentPagePixelRange(),R=e.divStretchOffset,D=d.getVScrollPosition(),V=D.top,X=D.bottom;h?(g=I+R,m=N+R):(g=Math.max(V+A-u,I)+R,m=Math.min(X+A+u,N)+R),this.firstVisibleVPixel=Math.max(V+A,I)+R,this.lastVisibleVPixel=Math.min(X+A,N)+R,f=this.ensureAllRowsInRangeHaveHeightsCalculated(g,m);}while(f);let y=n.getRowIndexAtPixel(g),b=n.getRowIndexAtPixel(m),C=t.getFirstRow(),_=t.getLastRow();y<C&&(y=C),b>_&&(b=_),i=y,r=b;}let s=Gs(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&r-i>a&&(r=i+a);let l=i!==this.firstRenderedRow,c=r!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}));}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow});}));}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:r,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(o||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||o||n?(this.updateContainerHeights(),!0):!1;}doNotUnVirtualiseRow(e){let i=e.rowNode,r=this.focusSvc.isRowNodeFocused(i),s=e.editing,o=i.detail;return r||s||o?!!this.isRowPresent(i):!1;}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowPresent(e)??!0:!1;}createRowCon(e,t,n){let i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;let r=this.gos.get("suppressAnimationFrame"),s=n&&!r&&!this.printLayout&&!!this.beans.animationFrameSvc;return new cB(e,this.beans,t,s,this.printLayout);}getRenderedNodes(){let e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.rowNode);}getRowByPosition(e){let t,{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break;}return t;}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i;}},IPe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e;}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t);}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null;}has(e){return this.entriesMap[e.id]!=null;}removeRow(e){let t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Fc(this.entriesList,n);}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],Fc(this.entriesList,e);}getEntries(){return this.entriesList;}};function vB(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(n=>{let i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break;}}),t;}function yB(e,t){let n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null;}}var PPe=class extends Oe{constructor(){super(...arguments),this.beanName="rowNodeSorter";}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ju(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ju(e));}doFullSort(e,t){let n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode);}compareRowNodes(e,t,n){let i=t.rowNode,r=n.rowNode;for(let s=0,o=e.length;s<o;s++){let a=e[s],l=a.sort==="desc",c=this.getValue(i,a.column),u=this.getValue(r,a.column),d,h=this.getComparator(a,i);if(h?d=h(c,u,i,r,l):d=N2e(c,u,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1;}return t.currentPos-n.currentPos;}getComparator(e,t){let n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;let r=!t.group&&n.getColDef().field;if(!r)return;let s=this.beans.colModel.getColDefCol(r);if(s)return s.getColDef().comparator;}getValue(e,t){let{valueSvc:n,colModel:i,showRowGroupCols:r,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(RB(s,i.isPivotActive())){let c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0;}let l=r?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0;}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1);}};function kPe(e){e.sortSvc?.onSortChanged("api");}function I_(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`;}var MPe=`<span class="ag-sort-indicator-container">
        ${I_("Order","order")}
        ${I_("Asc","ascending-icon")}
        ${I_("Desc","descending-icon")}
        ${I_("Mixed","mixed-icon")}
        ${I_("None","none-icon")}
    </span>`,n7=class extends ri{constructor(e){super(),this.eSortOrder=dt,this.eSortAsc=dt,this.eSortDesc=dt,this.eSortMixed=dt,this.eSortNone=dt,e||this.setTemplate(MPe);}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r;}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged();}addInIcon(e,t,n){if(t==null)return;let i=Ll(e,this.beans,n);i&&t.appendChild(i);}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder();}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(i);if(e&&rr(e,o==="asc",{skipAriaHidden:!0}),t&&rr(t,o==="desc",{skipAriaHidden:!0}),n){let a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=o==null;rr(n,!a&&l,{skipAriaHidden:!0});}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);let i=t.getColDef().showRowGroup;Ju(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator());}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:n}=this;if(e){let i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";rr(e,i,{skipAriaHidden:!0});}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;let i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=r>=0&&s;rr(e,o,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():lo(e);}},FPe={selector:"AG-SORT-INDICATOR",component:n7},Q_=["asc","desc",null],NPe=class extends Oe{constructor(){super(...arguments),this.beanName="sortSvc";}progressSort(e,t,n){let i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n);}progressSortFromEvent(e,t){let i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted");}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);let{gos:r,showRowGroupCols:s}=this.beans,o=Ju(r),a=[e];if(o&&e.getColDef().showRowGroup){let d=s?.getSourceColumnsForGroupColumn?.(e)?.filter(h=>h.isSortable());d&&(a=[e,...d]);}a.forEach(u=>this.setColSort(u,t,i));let l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),c=[];if(!l){let u=this.clearSortBarTheseColumns(a,i);c.push(...u);}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(i,c);}updateSortIndex(e){let{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=Ju(t),s=i?.getShowRowGroupCol(e.getId()),o=r&&s||e,a=this.getColumnsWithSortingOrdered();n.getAllCols().forEach(u=>this.setColSortIndex(u,null));let l=a.filter(u=>r&&u.getColDef().showRowGroup?!1:u!==o);(o.getSort()?[...l,o]:l).forEach((u,d)=>this.setColSortIndex(u,d));}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t);}isSortActive(){let t=this.beans.colModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0;}dispatchSortChangedEvents(e,t){let n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n);}clearSortBarTheseColumns(e,t){let n=[];return this.beans.colModel.getAllCols().forEach(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t));}),n;}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Q_,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1];}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans,r=t.getAllCols().filter(c=>!!c.getSort());if(t.isPivotMode()){let c=Ju(e);r=r.filter(u=>{let d=!!u.getAggFunc(),h=!u.isPrimary(),f=c?n?.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return d||h||f;});}let s=i?.columns.filter(c=>!!c.getSort())??[],o={};r.forEach((c,u)=>o[c.getId()]=u),r.sort((c,u)=>{let d=c.getSortIndex(),h=u.getSortIndex();if(d!=null&&h!=null)return d-h;if(d==null&&h==null){let f=o[c.getId()],g=o[u.getId()];return f>g?1:-1;}else return h==null?-1:1;});let a=Ju(e)&&!!s.length;a&&(r=[...new Set(r.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);let l=new Map();return r.forEach((c,u)=>l.set(c,u)),a&&s.forEach(c=>{let u=n.getShowRowGroupCol(c.getId());l.set(c,l.get(u));}),l;}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,i])=>t-i).map(([e])=>e);}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}));}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}));}canColumnDisplayMixedSort(e){let t=Ju(this.gos),n=!!e.getColDef().showRowGroup;return t&&n;}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(o=>o.getSort()==r)?r:"mixed";}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e);}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=new Date().getTime();}}),n&&e.addManagedElementListeners(n,{click:s=>{let o=t.isMoving(),l=new Date().getTime()-i<50;o||l||this.progressSortFromEvent(t,s);}});let r=()=>{let s=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",s==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",s==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){let l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",l);}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r});}initCol(e){let{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r);}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n));}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort");}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex");}createSortIndicator(e){return new n7(e);}getSortIndicatorSelector(){return FPe;}},Iee={moduleName:"Sort",version:ht,beans:[NPe,PPe],apiFunctions:{onSortChanged:kPe},userComponents:{agSortIndicator:n7},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},LPe=class extends Oe{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1;}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e));}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady();});}setColumnsAndData(e){let{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start();}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Sp(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`);}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return;}this.beans.colModel.setColumnDefs(t,Vb(e.source));}}};function OPe(e){e.valueCache?.expire();}function BPe(e,t){let{colKey:n,rowNode:i,useFormatter:r}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(tr(s))return null;let o=e.valueSvc.getValueForDisplay(s,i);return r?e.valueSvc.formatValue(s,i,o)??nd(o,!0):o;}var UI=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot;}depthFirstSearchChangedPath(e,t){let{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n);}depthFirstSearchEverything(e,t,n){let i=e.childrenAfterGroup;if(i)for(let r=0,s=i.length;r<s;++r){let o=i[r];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o);}t(e);}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t);}executeFromRootNode(e){e(this.pathRoot.rowNode);}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){let i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent;}return n;}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent;}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){let r=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(r),n=n.parent;}}addParentNode(e,t){if(!e||e.isRowPinned())return;let n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t);}canSkip(e){return this.active&&!this.mapToItems[e.id];}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()]);}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()]);}},VPe="paste",HPe=class extends Oe{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null;}postConstruct(){let{gos:e,rowModel:t}=this.beans;jo(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)});}onCellValueChanged(e){let{gos:t,rowRenderer:n}=this.beans;if(e.source===VPe||t.get("suppressChangeDetection"))return;let i=e.node,r=[i],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!i.isRowPinned()){let a=t.get("aggregateOnlyChangedColumns"),l=new UI(a,o);l.addParentNode(i.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{r.push(c);});}n.refreshCells({rowNodes:r});}},GPe=class extends Oe{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={};}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);vi(15,{expression:e});}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup);}catch(n){return vi(16,{expression:e,params:t,e:n}),null;}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i;}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";";}},zPe=class extends Oe{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0;}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires");}onDataChanged(){this.neverExpires||this.expire();}expire(){this.cacheVersion++;}setValue(e,t,n){if(this.active){let i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n;}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t];}},UPe={moduleName:"ValueCache",version:ht,beans:[zPe],apiFunctions:{expireValueCache:OPe}},jPe={moduleName:"Expression",version:ht,beans:[GPe]},$Pe={moduleName:"ChangeDetection",version:ht,beans:[HPe]},WPe={moduleName:"CellApi",version:ht,apiFunctions:{getCellValue:BPe}},qPe=class extends Oe{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1;}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc;}postConstruct(){this.initialised||this.init();}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Z_(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue);}getValueForDisplay(e,t){let n=t.leafGroup&&this.colModel.isPivotMode(),i=t.group&&t.expanded&&!t.footer&&!n,r=this.gos.get("groupSuppressBlankHeader");if(!i||r)return this.getValue(e,t);let s=!1,o=this.gos.get("groupTotalRow");typeof o!="function"?s=!!o:s=!!this.gos.getCallback("groupTotalRow")({node:this});let a=i&&s;return this.getValue(e,t,a);}getValue(e,t,n=!1){if(this.initialised||this.init(),!t)return;let i=e.getColDef(),r=i.field,s=e.getColId(),o=t.data,a,l=t.groupData&&t.groupData[s]!==void 0,c=!n&&t.aggData&&t.aggData[s]!==void 0,u=this.isSsrm&&n&&!!e.getColDef().aggFunc,d=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&c?a=t.aggData[s]:this.isTreeData&&i.valueGetter?a=this.executeValueGetter(i.valueGetter,o,e,t):this.isTreeData&&r&&o?a=L_(o,r,e.isFieldContainsDots()):l?a=t.groupData[s]:c?a=t.aggData[s]:i.valueGetter?a=this.executeValueGetter(i.valueGetter,o,e,t):d?a=L_(o,t.field,e.isFieldContainsDots()):r&&o&&!u&&(a=L_(o,r,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){let h=a.substring(1);a=this.executeValueGetter(h,o,e,t);}if(a==null){let h=this.getOpenedGroup(t,e);if(h!=null)return h;}return a;}parseValue(e,t,n,i){let r=e.getColDef(),s=r.valueParser;if(at(s)){let o=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o);}return n;}getDeleteValue(e,t){return at(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null;}formatValue(e,t,n,i,r=!0){let s=null,o,a=e.getColDef();if(i?o=i:r&&(o=a.valueFormatter),o){let l=this.gos.addGridCommonParams({value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?s=o(l):s=this.expressionSvc?this.expressionSvc.evaluate(o,l):null;}else if(a.refData)return a.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s;}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;let i=t.getColDef().showRowGroup,r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(i===!0||i===r.rowGroupColumn.getColId()))return r.key;r=r.parent;}}setValue(e,t,n,i){let r=this.colModel.getColDefCol(t);if(!e||!r)return!1;tr(e.data)&&(e.data={});let{field:s,valueSetter:o}=r.getColDef();if(tr(s)&&tr(o))return et(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return et(135),!1;let a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(at(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let c=this.getValue(r,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:i}),!0;}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context});});}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{let s=t.split("."),o=e;for(;s.length>0&&o;){let a=s.shift();s.length===0?(r=o[a]===n,r||(o[a]=n)):o=o[a];}}return!r;}executeValueGetterWithValueCache(e,t,n,i){let r=n.getColId(),s=this.valueCache.getValue(i,r);if(s!==void 0)return s;let o=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,o),o;}executeValueGetterWithoutValueCache(e,t,n,i){let r=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)}),s;return typeof e=="function"?s=e(r):s=this.expressionSvc?.evaluate(e,r),s;}getValueCallback(e,t){let n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null;}getKeyForNode(e,t){let n=this.getValue(e,t),i=e.getColDef().keyCreator,r=n;if(i){let s=this.gos.addGridCommonParams({value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(s);}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&et(121)),r;}},KPe={moduleName:"CommunityCore",version:ht,beans:[j3e,rRe,KIe,OEe,APe,cIe,B3e,K3e,MEe,fPe,hPe,RPe,qPe,z3e,O3e,U3e,XIe,LPe,UIe,jIe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:sRe,destroy:oRe,isDestroyed:aRe,getGridOption:lRe,setGridOption:cRe,updateGridOptions:lee},dependsOn:[VIe,GRe,KRe,Iee,Z3e,dIe,J3e,TPe,$Pe,ePe,dPe,vPe,bPe,nPe,qIe,HIe,jPe]},YPe=(()=>{let e=class Om{static applyGlobalGridOptions(n){if(!Om.gridOptions)return O({},n);let i={};return ao(i,Om.gridOptions,!0,!0),Om.mergeStrategy==="deep"?ao(i,n,!0,!0):i=O(O({},i),n),Om.gridOptions.context&&(i.context=Om.gridOptions.context),n.context&&(Om.mergeStrategy==="deep"&&i.context&&ao(n.context,i.context,!0,!0),i.context=n.context),i;}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e;})(),XPe=YPe;function Pee(e,t,n){if(!t)return vi(11),{};let i=n,r;if(!i?.setThemeOnGridDiv){let o=document.createElement("div");o.style.height="100%",e.appendChild(o),e=o,r=()=>e.remove();}return new ZPe().create(e,t,o=>{let a=new nRe(e);o.createBean(a);},void 0,n,r);}var QPe=1,ZPe=class{create(e,t,n,i,r,s){let o=XPe.applyGlobalGridOptions(t),a=o.gridId??String(QPe++),l=o.rowModelType??"clientSide",c=this.getRegisteredModules(r,a,l),u=this.createBeansList(l,c,a),d=this.createProvidedBeans(e,o,r);if(!u)return;let h={providedBeanInstances:d,beanClasses:u,gridId:a,beanInitComparator:HDe,beanDestroyComparator:GDe,derivedBeans:[BDe],destroyCallback:s},f=new TTe(h);return this.registerModuleFeatures(f,c),n(f),f.getBean("syncSvc").start(),i&&i(f),f.getBean("gridApi");}getRegisteredModules(e,t,n){return Y_(KPe,void 0),e?.modules?.forEach(i=>Y_(i,t)),_Te(t,n);}registerModuleFeatures(e,t){let n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);let s=r.apiFunctions;s&&Object.keys(s).forEach(a=>{i?.addFunction(a,s[a]);});});}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;tr(i)&&(i=new qB());let r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r;}createBeansList(e,t,n){let r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!r){J8(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return;}if(!kJ(r,n,e)){J8(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:r,gridScoped:MB(),gridId:n,rowModelType:e},`Missing module ${r}Module for rowModelType ${e}. 
If upgrading from before v33, see ${jb}/upgrading-to-ag-grid-33/#changes-to-modules/`);return;}let s=new Set();return t.forEach(o=>o.beans?.forEach(a=>s.add(a))),Array.from(s);}};function rd(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0;}function ZI(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0;}function kee(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0;}var JPe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],eke=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],tke=[...JPe,...eke],nke=class extends Oe{constructor(){super(...arguments),this.beanName="localeSvc";}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,s)=>t({key:i,defaultValue:r,variableValues:s});let n=e.get("localeText");return(i,r,s)=>{let o=n&&n[i];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++]);}return o??r;};}},ike=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],rke=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],ske=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Mee=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],oke=["theme","rowSelection"],i7=["cellSelection","sideBar","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],Fee=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],ake=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],lke=[...ske,...rke,...ike,...Mee,...ake,...Fee,...i7,...oke],Nee=class{wrap(e,t,n,i){let r=this.createWrapper(e,i);return t?.forEach(s=>{this.createMethod(r,s,!0);}),n?.forEach(s=>{this.createMethod(r,s,!1);}),r;}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n));}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&et(49,{methodName:t}),null);};}},cke=class extends ex{constructor(){super('<div class="ag-tooltip"></div>');}init(e){let{value:t}=e;this.getGui().textContent=nd(t,!0);}};function Lee(e){let{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r,addSequentialWeight:s}=e,o=n.map((c,u)=>({value:c,relevance:dke(t.toLowerCase(),c.toLocaleLowerCase(),s),idx:u}));if(o.sort((c,u)=>u.relevance-c.relevance),i&&(o=o.filter(c=>c.relevance!==0)),o.length>0&&r&&r>0){let u=o[0].relevance*r;o=o.filter(d=>u-d.relevance<0);}let a=[],l=[];for(let c of o)a.push(c.value),l.push(c.idx);return{values:a,indices:l};}function uke(e){let t=[],n=e.length;for(let i=1;i<=n;i++)for(let r=0;r<=n-i;r++){let s=r+i-1;t.push(e.slice(r,s+1));}return t;}function dke(e,t,n=!1){let i=e.replace(/\s/g,""),r=t.replace(/\s/g,""),s=i.length,o=r.length,a=new Array(s+1).fill(null).map(()=>new Array(o+1).fill(0));for(let d=0;d<=s;d+=1)a[d][0]=d;for(let d=0;d<=o;d+=1)a[0][d]=d;for(let d=1;d<=s;d++)for(let h=1;h<=o;h++)i[d-1]===r[h-1]?a[d][h]=a[d-1][h-1]:a[d][h]=1+Math.min(a[d][h-1],Math.min(a[d-1][h],a[d-1][h-1]));let l=a[s][o],u=Math.max(s,o)-l;if(n){let d=uke(i);for(let h=0;h<d.length;h++){let f=d[h];r.indexOf(f)!==-1&&(u+=1,u*=f.length);}}return u;}function hke(e,t){if(typeof e!="number")return"";let n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`);}var fke=class extends Oe{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e;}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e);}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`;}},pke=class{constructor(e){this.groupColumns=[];let{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c;}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup);}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??"";}extractRowCellValue(e,t,n,i,r){let o=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueSvc.getValue(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:o,processCellCallback:this.processCellCallback,type:i});}shouldRenderGroupSummaryCell(e,t,n){if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(e.groupData?.[t.getId()]!==void 0||Z_(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let o=t.getColDef();return o==null||o.showRowGroup===!0||o.showRowGroup===this.rowGroupColsSvc?.columns[0].getId();}}let s=RB(this.gos,this.colModel.isPivotMode());return n===0&&s;}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0);}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));let n=this.gos.get("treeData"),i=a=>{if(n)return a.key;let l=a.groupData?.[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l;},r=t.footer,s=[i(t)];if(!X2e(this.gos))for(;t.parent;)t=t.parent,s.push(i(t));let o=s.reverse().join(" -> ");return r?`Total ${o}`:o;}processCell(e){let{accumulatedRowIndex:t,rowNode:n,column:i,value:r,processCellCallback:s,type:o}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:i,node:n,value:r,type:o,parseValue:a=>this.valueSvc.parseValue(i,n,a,this.valueSvc.getValue(i,n)),formatValue:a=>this.valueSvc.formatValue(i,n,a)??a}))??""}:i.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueSvc.formatValue(i,n,r)}:{value:r??""};}};function gke(e,t){let n=document.defaultView||window;if(!n){et(52);return;}let i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r);},0);}var mke={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0},xa="clientSide",Go="serverSide",Ib="infinite",vke={onGroupExpandedOrCollapsed:[xa],refreshClientSideRowModel:[xa],isRowDataEmpty:[xa],forEachLeafNode:[xa],forEachNodeAfterFilter:[xa],forEachNodeAfterFilterAndSort:[xa],resetRowHeights:[xa],applyTransaction:[xa],applyTransactionAsync:[xa],flushAsyncTransactions:[xa],getBestCostNodeSelection:[xa],getServerSideSelectionState:[Go],setServerSideSelectionState:[Go],applyServerSideTransaction:[Go],applyServerSideTransactionAsync:[Go],applyServerSideRowData:[Go],retryServerSideLoads:[Go],flushServerSideAsyncTransactions:[Go],refreshServerSide:[Go],getServerSideGroupLevelState:[Go],refreshInfiniteCache:[Ib],purgeInfiniteCache:[Ib],getInfiniteRowCount:[Ib],isLastRowIndexKnown:[Ib,Go],expandAll:[xa,Go],collapseAll:[xa,Go],onRowHeightChanged:[xa,Go],setRowCount:[Ib,Go],getCacheBlockState:[Ib,Go]},yke={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function bke(e,t,n){let i=yke[e];if(i){let{version:s,new:o,old:a,message:l}=i,c=a??e;return(...u)=>{let d=o?`Please use ${o} instead. `:"";return Nb(`Since ${s} api.${c} is deprecated. ${d}${l??""}`),t.apply(t,u);};}let r=vke[e];return r?(...s)=>{let o=n.rowModel.getType();if(!r.includes(o)){Lb(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return;}return t.apply(t,s);}:t;}var xke={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},z8=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],wke={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:z8,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...z8,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...z8,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},Cke={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function _ke(e,t){let n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{let r=wke[i];r?r.forEach(s=>{let o=Cke[s];(!o||o===t)&&n.push(s);}):n.push(i);}),n;}var Ub={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},Ske=e=>`import { ModuleRegistry } from 'ag-grid-community'; 
${e.map(n=>`import { ${jI(n)} } from '${xke[n]?"ag-grid-enterprise":"ag-grid-community"}';`).join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(jI).join(", ")} ]); 

For more info see: ${jb}/modules/`;function jI(e){return`${e}Module`;}var mZ=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:s})=>{let o=_ke(t,r);return`Unable to use ${typeof e=="string"?e:Dke[e]} as ${o.length>1?"one of "+o.map(jI).join(", "):jI(o[0])} is not registered${n?" for gridId: "+i:""}. Check if you have registered the module:
${Ske(o)}`+(s?` 

${s}`:"");},vZ=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,Eke=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,Tke={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${Eke(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{let r=[],s=[...Object.keys(n).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i)],o=Lee({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&r.push(`         Did you mean: [${o.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r;},102:()=>"selecting just filtered only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${jb}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelectsChildren` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,115:()=>"The provided selection state should be an object.",116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',131:()=>"cannot range select while selecting multiple rows",132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],191:()=>"cannot multi select unless selection mode is 'multiRow'",192:()=>"cannot use range selection when multi selecting rows",193:()=>"cannot multi select unless selection mode is 'multiRow'",194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",198:()=>"cannot multi select unless selection mode is 'multiRow'",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:mZ,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${jb}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,241:()=>"cannot select multiple rows when rowSelection.mode is set to 'singleRow'",242:()=>"cannot select multiple rows when using rangeSelect",243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>vZ("IntegratedChartsModule"),258:()=>vZ("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>mZ({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Ub[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus'};function Ake(e,t){let n=Tke[e];if(!n)return[`Missing error text for error id ${e}!`];let i=n(t),s=`
See ${ZZ(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s];}var Dke={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Rke=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Ike=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){let n=Ub[e];if(n)return{module:n};}return{module:"CustomEditor"};},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;let t=Ub[e];return t?{module:t}:null;},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>Oee(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){let t=Ub[e];if(t)return{module:t};}return{module:"ColumnFilter"};},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{let t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression";}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return _p(262);if(e.smallLeft)return _p(263);if(e.smallRight)return _p(264);}return null;}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?{module:"ColumnMenu"}:null;},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let n=t.filter(i=>!Q_.includes(i));if(n.length>0)return`sortingOrder must be an array with elements from [${Q_.map(PI).join()}], currently it includes [${n.map(PI).join()}]`;}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null;}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{let t=e.type;return t instanceof Array?t.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'";}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."}}),Pke={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},kke=()=>Object.keys(Pke),Oee=()=>({objectName:"colDef",allProperties:kke(),docsUrl:"column-properties/",deprecations:Rke(),validations:Ike()}),Mke=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Qu(e,t,n,i=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=n&&t<=i?null:i===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${n}`:`${e}: value should be between ${n} and ${i}`:`${e}: value should be a number`;}var Fke=()=>{let e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:n}){return Qu("autoSizePadding",n,0);}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Qu("cacheBlockSize",n,1);}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Qu("cacheOverflowSize",n,1);}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:n=>{let i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null;}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return _p(262);if(n.smallLeft)return _p(263);if(n.smallRight)return _p(264);}return null;}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Qu("infiniteInitialRowCount",n,1);}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Qu("keepDetailRowsCount",n,1);}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:n}){return Qu("paginationPageSize",n,1);}},paginationPageSizeSelector:{validate:n=>{let i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`;}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:n}){return Qu("rowBuffer",n,0);}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null;},module:"SharedRowSelection"},rowStyle:{validate:n=>{let i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null;},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Qu("serverSideInitialRowCount",n,1);}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:n=>{let i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){let r=i.filter(s=>!Q_.includes(s));if(r.length>0)return`sortingOrder must be an array with elements from [${Q_.map(PI).join()}], currently it includes [${r.map(PI).join()}]`;}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null;}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:n=>{let i=n.rowModelType??"clientSide";switch(i){case"clientSide":{let r=`treeData requires 'getDataPath' in the ${i} row model.`;return n.treeDataChildrenField||n.getDataPath?null:r;}case"serverSide":{let r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r;}}return null;}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Qu("viewportRowModelBufferSize",n,0);}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Qu("viewportRowModelPageSize",n,1);}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}}},t={};return Fee.forEach(n=>{t[n]={expectedType:"boolean"};}),Mee.forEach(n=>{t[n]={expectedType:"number"};}),ao(t,e),t;},Nke=()=>({objectName:"gridOptions",allProperties:[...lke,...tke.map(e=>oJ(e))],propertyExceptions:["api","treeDataChildrenField"],docsUrl:"grid-options/",deprecations:Mke(),validations:Fke()}),Lke={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},Oke={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},Bke=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Vke={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},Hke=class extends Oe{constructor(){super(...arguments),this.beanName="validation";}wireBeans(e){this.gridOptions=e.gridOptions,B2e(this);}postConstruct(){this.processGridOptions(this.gridOptions);}warnOnInitialPropertyUpdate(e,t){e==="api"&&mke[t]&&et(22,{key:t});}processGridOptions(e){this.processOptions(e,Nke());}validateApiFunction(e,t){return bke(e,t,this.beans);}missingUserComponent(e,t,n,i){let r=Ub[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):et(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i});}checkRowEvents(e){zke.has(e)&&et(10,{eventType:e});}validateIcon(e){if(Bke.has(e)&&et(43,{iconName:e}),Lke[e])return;let t=Oke[e];if(t){vi(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:MB(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return;}et(134,{iconName:e});}validateMenuItem(e){let t=Vke[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`);}isProvidedUserComp(e){return!!Ub[e];}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&this.processOptions(e,Oee());}processOptions(e,t){let{validations:n,deprecations:i,allProperties:r,propertyExceptions:s,objectName:o,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...(s??[]),...Object.keys(i)],r,o,a);let l=new Set(),c=d=>{let h=n[d];if(h){if(typeof h=="function"){let f=h(e,this.gridOptions,this.beans);if(!f)return;if("objectName"in f){let g=e[d];if(Array.isArray(g)){g.forEach(m=>{this.processOptions(m,f);});return;}this.processOptions(e[d],f);return;}return f;}else return h;}else return;};Object.keys(e).forEach(d=>{let h=i[d];if(h){let{message:A,version:I}=h;l.add(`As of v${I}, ${String(d)} is deprecated. ${A??""}`);}let f=e[d];if(f==null||f===!1)return;let g=c(d);if(!g)return;let{module:m,dependencies:y,validate:b,supportedRowModels:C,expectedType:_}=g;if(_){let A=typeof f;if(A!==_){l.add(`${String(d)} should be of type '${_}' but received '${A}' (${f}).`);return;}}if(C){let A=this.gridOptions.rowModelType??"clientSide";if(!C.includes(A)){l.add(`${String(d)} is not supported with the '${A}' row model. It is only valid with: ${C.join(", ")}.`);return;}}if(m){let A=Array.isArray(m)?m:[m],I=!0;if(A.forEach(N=>{this.gos.assertModuleRegistered(N,String(d))||(I=!1);}),!I)return;}if(y){let A=this.checkForRequiredDependencies(d,y,e);if(A){l.add(A);return;}}if(b){let A=b(e,this.gridOptions,this.beans);if(A){l.add(A);return;}}}),l.size>0&&l.forEach(d=>{Nb(d);});}checkForRequiredDependencies(e,t,n){let r=Object.entries(t).filter(([s,o])=>{let a=n[s];return!o.required.includes(a);});return r.length===0?null:r.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `);}checkProperties(e,t,n,i,r){let s=["__ob__","__v_skip","__metadata__"],o=Gke(Object.getOwnPropertyNames(e),[...s,...t,...n],n);if(Object.entries(o).forEach(([a,l])=>{let c=`invalid ${i} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;n.includes("context")&&(c+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Nb(c);}),Object.keys(o).length>0&&r){let a=this.beans.frameworkOverrides.getDocLink(r);Nb(`to see all the valid ${i} properties please check: ${a}`);}}getConsoleMessage(e,t){return Ake(e,t);}};function Gke(e,t,n){let i={},r=e.filter(s=>!t.some(o=>o===s));return r.length>0&&r.forEach(s=>i[s]=Lee({inputValue:s,allSuggestions:n}).values),i;}var zke=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Uke={moduleName:"Validation",version:ht,beans:[Hke]};function Bee(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter);}var jke=class extends Oe{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter";}wireBeans(e){this.filterManager=e.filterManager;}execute(e){let{changedPath:t}=e;this.filter(t);}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e);}filterNodes(e,t){let n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{let o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a;}):i.childrenAfterFilter=i.childrenAfterGroup,Bee(i);};if(this.doingTreeDataFiltering()){let i=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){let l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(s.childrenAfterGroup[a],c):n(l,c);}n(s,o);},r=s=>i(s,!1);t.executeFromRootNode(r);}else{let i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0);}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering");}},$ke=class extends zB{constructor(){super(...arguments),this.iconCreated=!1;}setComp(e,t,n,i,r){this.comp=e;let s=J_(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent();});}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n;}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Ll("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e));}setupFocus(e){e.createManagedBean(new Jb(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}));}setupAria(){let e=this.getLocaleTextFunc();WI(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"));}onTabKeyDown(e){let{beans:t}=this;if(sr(t)===this.eGui)return;let r=Xm(t,this.eGui,null,e.shiftKey);if(r){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),r.focus();return;}let s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault();}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n;}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case Me.UP:case Me.DOWN:t||e.preventDefault();case Me.LEFT:case Me.RIGHT:if(t)return;e.stopPropagation();case Me.ENTER:t&&Wm(this.eGui)&&e.preventDefault();break;case Me.ESCAPE:t||this.eGui.focus();}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Hm(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){let r=this.lastFocusEvent,s=!!(r&&r.key===Me.TAB);if(r&&s){let o=r.shiftKey;Wm(this.eGui,o);}}this.focusThis();}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui);}setupLeft(e){let t=new GB(this.column,this.eGui,this.beans);e.createManagedBean(t);}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Ka(this.gos);}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e);}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e);}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"});}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:t}=this.beans,n=i=>{if(i?.source==="filterDestroyed"&&!this.isAlive())return;let r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){let o=t?.getCurrentFloatingFilterParentModel(this.column),a=i?Re(O({},i),{columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}):null;s.onParentModelChanged(o,a);}});};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t?.isFilterActive(this.column)&&n(null);}setupWidth(e){let t=()=>{let n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n);};e.addManagedListeners(this.column,{widthChanged:t}),t();}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton());}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive());}}onColDefChanged(e){let t=this.active;this.setupActive();let n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let i=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!i?this.updateCompDetails(e,i,n):r.then(s=>{!s||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i);});}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)));}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(n=>{n?.refresh&&typeof n.refresh=="function"&&n.refresh(t);});}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null;}};function Wke(e,t){let n=e.colModel.getCol(t);if(!n){vi(12,{colKey:t});return;}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"});}function qke(e){e.menuSvc?.hidePopupMenu();}var Kke={moduleName:"SharedMenu",version:ht,beans:[oDe],apiFunctions:{showColumnMenu:Wke,hidePopupMenu:qke}},Yke=0,Xke=200,Qke=class extends Oe{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[];}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl;}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui();}positionPopupForMenu(e){let{eventSource:t,ePopup:n}=e,i=this.getPopupIndex(n);if(i!==-1){let f=this.popupList[i];f.alignedToElement=t;}let r=t.getBoundingClientRect(),s=this.getParentRect(),o=this.keepXYWithinBounds(n,r.top-s.top,0),a=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${a}px`;let c=s.right-s.left-a,u;this.gos.get("enableRtl")?(u=h(),u<0&&(u=d(),this.setAlignedStyles(n,"left")),u>c&&(u=0,this.setAlignedStyles(n,"right"))):(u=d(),u>c&&(u=h(),this.setAlignedStyles(n,"right")),u<0&&(u=0,this.setAlignedStyles(n,"left"))),n.style.left=`${u}px`,n.style.top=`${o}px`;function d(){return r.right-s.left-2;}function h(){return r.left-s.left-a;}}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)});}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top};}positionPopupByComponent(e){let{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,d=s.getBoundingClientRect(),h=this.getParentRect(),f=this.getPopupIndex(t);if(f!==-1){let m=this.popupList[f];m.alignedToElement=s;}let g=()=>{let m=d.left-h.left;o==="right"&&(m-=t.offsetWidth-d.width);let y;return a==="over"?(y=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?y=d.top-h.top+d.height:y=d.top-t.offsetHeight-(i||0)*2-h.top),{x:m,y};};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)});}shouldRenderUnderOrAbove(e,t,n,i){let r=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+i;return r>o?"under":s>o||s>r?"above":"under";}setAlignedStyles(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`);}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`));}callPostProcessPopup(e,t,n,i,r,s){let o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i});}positionPopup(e){let{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:d}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(u+=i),r&&(d+=r),n&&(u=this.keepXYWithinBounds(t,u,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${u}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback());};if(l(),!s){let c=Tp(this.beans,t,()=>l(!0));setTimeout(()=>c(),Xke);}}getActivePopups(){return this.popupList.map(e=>e.element);}getParentRect(){let e=Fr(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),GZ(t);}keepXYWithinBounds(e,t,n){let i=n===0,r=i?"clientHeight":"clientWidth",s=i?"top":"left",o=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=Fr(this.beans),c=l.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),h=u.getBoundingClientRect(),f=l.documentElement.getBoundingClientRect(),g=u===l.body,m=Math.ceil(d[o]),b=g?(i?HZ:TI)(c)+c[a]:u[r];g&&(b-=Math.abs(f[s]-h[s]));let C=b-m;return Math.min(Math.max(t,0),Math.abs(C));}addPopup(e){let t=Fr(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:s,anchorToElement:o}=e;if(!t)return et(122),{hideFunc:()=>{}};let a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);let l=this.createPopupWrapper(n,i,!!r),c=this.addEventListenersToPopup(Re(O({},e),{wrapperEl:l}));return s&&s(),this.addPopupToPopupList(n,l,c,o),{hideFunc:c};}initialisePopupPosition(e){let n=this.getPopupParent().getBoundingClientRect();at(e.style.top)||(e.style.top=`${n.top*-1}px`),at(e.style.left)||(e.style.left=`${n.left*-1}px`);}createPopupWrapper(e,t,n){let i=this.getPopupParent(),r=document.createElement("div"),{environment:s,gos:o}=this.beans;return s.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Wo(e,"dialog"),WI(e,t),r.appendChild(e),i.appendChild(r),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r;}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let n of this.popupList)t.applyThemeClasses(n.wrapper);}}addEventListenersToPopup(e){let t=this.beans,n=Fr(t),i=this.getPopupParent(),{wrapperEl:r,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c}=e,u=!1,d=m=>{if(!r.contains(sr(t)))return;m.key===Me.ESCAPE&&!Th(m)&&g({keyboardEvent:m});},h=m=>g({mouseEvent:m}),f=m=>g({touchEvent:m}),g=(m={})=>{let{mouseEvent:y,touchEvent:b,keyboardEvent:C,forceHide:_}=m;!_&&(this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:b},s)||u)||(u=!0,i.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",f),n.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),o&&o(y||b||C),this.removePopupFromPopupList(s));};return a&&a({hidePopup:g}),window.setTimeout(()=>{l&&n.addEventListener("keydown",d),c&&(n.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),n.addEventListener("touchstart",f),n.addEventListener("contextmenu",h));},0),g;}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Yke++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i);}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e);}setPopupPositionRelatedToElement(e,t){let n=this.getPopupIndex(e);if(n===-1)return;let i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;let r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r;}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e);}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,s=i.getBoundingClientRect(),o=d=>parseInt(d.substring(0,d.length-1),10),a=(d,h)=>{let f=n[d]-s[d],g=o(r.style[d]);return{initialDiff:f,lastDiff:f,initial:g,last:g,direction:h};},l=a("top",0),c=a("left",1),u=this.beans.frameworkOverrides;return new wa(d=>{u.wrapIncoming(()=>{u.setInterval(()=>{let h=t.getBoundingClientRect(),f=i.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return;}let m=(y,b)=>{let C=o(r.style[b]);y.last!==C&&(y.initial=C,y.last=C);let _=h[b]-f[b];if(_!=y.lastDiff){let A=this.keepXYWithinBounds(r,y.initial+y.initialDiff-_,y.direction);r.style[b]=`${A}px`,y.last=A;}y.lastDiff=_;};m(l,"top"),m(c,"left");},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h);});});},"popupPositioning");});}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored);}isEventFromCurrentPopup(e,t){let{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;let s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){let a=this.popupList[o];if(sEe(a.element,r))return!0;}return this.isElementWithinCustomPopup(r.target);}isElementWithinCustomPopup(e){let t=Fr(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement;}return!1;}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null;}setAlwaysOnTop(e,t){let n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n));}bringPopupToFront(e){let t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;let s=[],o=[];for(let h of n)h!==r&&(h.classList.contains("ag-always-on-top")?o.push(h):s.push(h));let a=[],l=o.length,d=r.classList.contains("ag-always-on-top")||!l?[...s,...o,r]:[...s,r,...o];for(let h=0;h<=i;h++){let f=d[h];if(n[h]===d[h]||f===r)continue;f.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&a.push([m,m.scrollTop]);}),h===0?t.insertAdjacentElement("afterbegin",f):d[h-1].insertAdjacentElement("afterend",f);}for(;a.length;){let h=a.pop();h[0].scrollTop=h[1];}}},JI={moduleName:"Popup",version:ht,beans:[Qke]},Zke=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Jke(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent();}function e5e(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0);}function t5e(e,t){let n=e.colModel.getColDefCol(t);if(n)return e.filterManager?.destroyFilter(n,"api");}function n5e(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t));}function i5e(e){return e.filterManager?.getFilterModel()??{};}function r5e(e,t){return e.filterManager?.getColumnFilterModel(t)??null;}function s5e(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve();}function o5e(e,t){let n=e.colModel.getCol(t);if(!n){vi(12,{colKey:t});return;}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"});}var yZ={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},bZ=["january","february","march","april","may","june","july","august","september","october","november","december"];function a5e(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t);}var l5e=class extends Oe{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map(),this.allColumnListeners=new Map(),this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[];}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:e})=>{(e.rowDataUpdated||e.changedProps?.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated");},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=O({},this.gos.get("initialState")?.filter?.filterModel??{});}setFilterModel(e,t="api"){let{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i?.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return;}let s=[],o=this.getFilterModel(!0);if(e){let a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{let u=e[c];s.push(bI(l.filterPromise,u)),a.delete(c);}),a.forEach(l=>{let c=n.getColDefCol(l)||n.getCol(l);if(!c){et(62,{colId:l});return;}if(!c.isFilterAllowed()){et(63,{colId:l});return;}let u=this.getOrCreateFilterWrapper(c);if(!u){et(64,{colId:l});return;}s.push(bI(u.filterPromise,e[l]));});}else this.allColumnFilters.forEach(a=>{s.push(bI(a.filterPromise,null));});wa.all(s).then(()=>{let a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((c,u)=>{let d=o?o[u]:null,h=a?a[u]:null;j_(d,h)||l.push(c.column);}),l.length>0&&r?.onFilterChanged({columns:l,source:t});});}getFilterModel(e){let t={},{allColumnFilters:n,initialFilterModel:i,beans:{colModel:r}}=this;return n.forEach((s,o)=>{let a=this.getModelFromFilterWrapper(s);at(a)&&(t[o]=a);}),e||Object.entries(i).forEach(([s,o])=>{at(o)&&!n.has(s)&&r.getCol(s)?.isFilterAllowed()&&(t[s]=o);}),t;}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(et(66),null):t.getModel():this.getModelFromInitialState(e.column);}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null;}isColumnFilterPresent(){return this.activeColumnFilters.length>0;}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length;}disableColumnFilters(){let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1;}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0);}updateActiveFilters(){let e=a=>a?a.isFilterActive?a.isFilterActive():(et(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!tB(n),r=a=>{if(!a.isPrimary())return!0;let c=!t.isPivotActive();return!a.isValueActive()||!c?!1:t.isPivotMode()?!0:i;},s=[],o=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(r(l.column)?s.push(a):o.push(a));}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o;});}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,i)=>this.setColFilterActive(i.column,n.isFilterActive(),e,t));}forEachColumnFilter(e){let t=[];return this.allColumnFilters.forEach(n=>{let i=n.filterPromise;i&&t.push(i.then(r=>e(r,n)));}),wa.all(t);}doColumnFiltersPass(e,t,n){let{data:i,aggData:r}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?r:i;for(let a=0;a<s.length;a++){let l=s[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){vi(91);continue;}if(!l.doesFilterPass({node:e,data:o}))return!1;}}return!0;}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e);};t.isRefreshInProgress()?setTimeout(i,0):i();}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged();});}),this.processingFilterChange=!0;}));}updateAfterFilterChanged(){this.processingFilterChange=!1;}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange;}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded?.();}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters());}createGetValue(e){let{filterValueSvc:t,colModel:n}=this.beans;return(i,r)=>{let s=r?n.getCol(r):e;return s?t.getValue(s,i):void 0;};}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null;}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t;}cachedFilter(e){return this.allColumnFilters.get(e.getColId());}getDefaultFilter(e){let t,{gos:n,dataTypeSvc:i}=this.beans;if(A8(n))t="agSetColumnFilter";else{let r=i?.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter";}return t;}getDefaultFloatingFilter(e){let t,{gos:n,dataTypeSvc:i}=this.beans;if(A8(n))t="agSetColumnFloatingFilter";else{let r=i?.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter";}return t;}createFilterInstance(e,t){let n=this.getDefaultFilter(e),i=e.getColDef(),r,s=Re(O({},this.createFilterParams(e,i)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>this.beans.filterManager?.doesRowPassOtherFilters(r,a)??!0}),o=hTe(this.beans.userCompFactory,i,s,n);return o?{filterPromise:()=>{let a=o.newAgStackInstance();return a.then(l=>{r=l,t&&(t.filter=l??void 0);}),a;},compDetails:o}:{filterPromise:null,compDetails:null};}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0});}createFilterWrapper(e){let t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=n?.()??null,t.compDetails=i,t;}onColumnsChanged(){let e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((r,s)=>{let o;r.column.isPrimary()?o=t.getColDefCol(s):o=t.getCol(s),!(o&&o===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(s));});let i=e.every(r=>r.getColDef().filter==="agGroupColumnFilter");e.length>0&&!i?n?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters();}updateDependentFilters(){this.beans.autoColSvc?.getAutoCols()?.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e);});}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof n?.isFilterAllowed=="function"?n.isFilterAllowed():!0;}getFloatingFilterCompDetails(e,t){let n=u=>{let d=this.getOrCreateFilterWrapper(e)?.filterPromise;d?.then(h=>{u(K_(h));});},i=e.getColDef(),r=Re(O({},this.createFilterParams(e,i)),{filterChangedCallback:()=>n(u=>this.filterChangedCallbackFactory(u,e)())}),{userCompFactory:s,frameworkOverrides:o}=this.beans,a=bTe(s,i,r),l=mAe(o,i,()=>this.getDefaultFloatingFilter(e));return l==null&&(l="agReadOnlyFloatingFilter"),vTe(s,i,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t},l);}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e});}destroyFilter(e,t="api"){let n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&(this.disposeFilterWrapper(i,t),this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"}));}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t());}disposeFilterWrapper(e,t){e.filterPromise?.then(n=>{this.destroyBean(n),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column});});}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e});};}filterChangedCallbackFactory(e,t){return n=>{let i=n?.source??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(r);};}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return;}let r=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return;}t.filterPromise.then(s=>{(s?.refresh?s.refresh(O(Re(O({},this.createFilterParams(n,n.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:a=>this.beans.filterManager?.doesRowPassOtherFilters(s,a)??!0}),r)):!0)===!1&&this.destroyFilter(n,"paramsUpdated");});}setColumnFilterWrapper(e,t){let n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0]);}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render);}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter);}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(K_(n));});});}getFilterInstanceImpl(e){let t=this.beans.colModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??wa.resolve(null):wa.resolve(void 0);}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n());}),this.columnFilterModelUpdateQueue=[];}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null;}setColumnFilterModel(e,t){let{colModel:n,dataTypeSvc:i}=this.beans;if(i?.isPendingInference){let a=()=>{},l=new Promise(c=>{a=c;});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l;}let r=n.getColDefCol(e),s=r?this.getOrCreateFilterWrapper(r):null;return s?(a=>new Promise(l=>{a.then(c=>l(c));}))(bI(s.filterPromise,t)):Promise.resolve();}getFilterWrapper(e){let t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null;}setColDefPropertiesForDataType(e,t,n){let i=A8(this.gos),r=this.getLocaleTextFunc(),s=o=>{let{filterParams:a}=e;e.filterParams=typeof a=="object"?O(O({},a),o):o;};switch(t.baseDataType){case"number":{i&&s({comparator:a5e});break;}case"boolean":{s(i?{valueFormatter:o=>at(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break;}case"date":{i&&s({valueFormatter:o=>{let a=n(o);return at(a)?a:r("blanks","(Blanks)");},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){let l=bZ[Number(o)-1];return r(l,yZ[l]);}return o??r("blanks","(Blanks)");}});break;}case"dateString":{let o=t.dateParser;s(i?{valueFormatter:a=>{let l=n(a);return at(l)?l:r("blanks","(Blanks)");},treeList:!0,treeListPathGetter:a=>{let l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null;},treeListFormatter:(a,l)=>{if(l===1&&a!=null){let c=bZ[Number(a)-1];return r(c,yZ[c]);}return a??r("blanks","(Blanks)");}}:{comparator:(a,l)=>{let c=o(l);return l==null||c<a?-1:c>a?1:0;}});break;}case"object":{i?s({valueFormatter:o=>{let a=n(o);return at(a)?a:r("blanks","(Blanks)");}}):e.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break;}}}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i);}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear();}};function bI(e,t){return e?new wa(n=>{e.then(i=>{typeof i.setModel!="function"&&(et(65),n()),(i.setModel(t)||wa.resolve()).then(()=>n());});}):wa.resolve();}function c5e(e){return!!e.filterManager?.isAnyFilterPresent();}function u5e(e,t="api"){e.filterManager?.onFilterChanged({source:t});}var d5e=class extends Oe{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[];}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter;}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"});}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged();}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"});});}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({});}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e);}setFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){this.warnAdvFilters();return;}this.colFilter?.setFilterModel(e,t);}getFilterModel(){return this.colFilter?.getFilterModel()??{};}isColumnFilterPresent(){return!!this.colFilter?.isColumnFilterPresent();}isAggregateFilterPresent(){return!!this.colFilter?.isAggregateFilterPresent();}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent();}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent();}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent();}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}));}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled();}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive();}resetQuickFilterCache(){this.quickFilter?.resetCache();}refreshFiltersForAggregations(){tB(this.gos)&&this.onFilterChanged();}onFilterChanged(e={}){let{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):wa.resolve()).then(()=>{let r={source:t,type:"filterChanged",columns:i};n&&ao(r,n),this.eventSvc.dispatchEvent(r),this.colFilter?.updateAfterFilterChanged();});}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering();}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent();}updateAggFiltering(){this.aggFiltering=!!tB(this.gos);}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg();}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg();}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg");}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e});}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip));}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t));}isFilterActive(e){return!!this.colFilter?.isFilterActive(e);}getOrCreateFilterWrapper(e){return this.colFilter?.getOrCreateFilterWrapper(e)??null;}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e);}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t);}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e);}getFloatingFilterCompDetails(e,t){return this.colFilter?.getFloatingFilterCompDetails(e,t);}getCurrentFloatingFilterParentModel(e){return this.colFilter?.getCurrentFloatingFilterParentModel(e);}destroyFilter(e,t="api"){this.colFilter?.destroyFilter(e,t);}areFilterCompsDifferent(e,t){return!!this.colFilter?.areFilterCompsDifferent(e,t);}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null;}setAdvFilterModel(e){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return;}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:"advancedFilter"});}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e});}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"});}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters();}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getColumnFilterInstance(e)??Promise.resolve(void 0);}warnAdvFilters(){et(68);}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e);}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0;}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0;}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[];}getColumnFilterModel(e){return this.colFilter?.getColumnFilterModel(e);}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setColumnFilterModel(e,t)??Promise.resolve();}setColDefPropertiesForDataType(e,t,n){this.colFilter?.setColDefPropertiesForDataType(e,t,n);}},h5e=class extends Oe{constructor(){super(...arguments),this.beanName="filterMenuFactory";}wireBeans(e){this.popupSvc=e.popupSvc;}hideActiveMenu(){this.hidePopup?.();}showMenuAfterMouseEvent(e,t,n){this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i});},n,t.target,Ka(this.gos));}showMenuAfterButtonClick(e,t,n){let i=-1,r="left",s=Ka(this.gos);!s&&this.gos.get("enableRtl")&&(i=1,r="right");let o=s?void 0:4*i,a=s?void 0:4;this.showPopup(e,l=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e});},n,t,s);}showPopup(e,t,n,i,r){let s=e?this.createBean(new dAe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!s?.hasFilter()||!e){vi(57);return;}let o=document.createElement("div");Wo(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:g=>this.trapFocusWithin(g,o)}),o.appendChild(s?.getGui());let a,l=()=>s?.afterGuiDetached(),c=nEe(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,u=g=>{tZ(e,!1,"contextMenu");let m=g instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),m&&i&&Mc(i)&&NJ(i)?.focus({preventScroll:!0}),l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e);},d=this.getLocaleTextFunc(),h=r&&n!=="columnFilter"?d("ariaLabelColumnMenu","Column Menu"):d("ariaLabelColumnFilter","Column Filter"),f=this.popupSvc?.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:u,positionCallback:()=>t(o),anchorToElement:c,ariaLabel:h});f&&(this.hidePopup=a=f.hideFunc),s.afterInit().then(()=>{t(o),s.afterGuiAttached({container:n,hidePopup:a});}),tZ(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e);}trapFocusWithin(e,t){e.key!==Me.TAB||e.defaultPrevented||Xm(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Wm(t,e.shiftKey));}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null});}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab");}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy();}},f5e=class extends Oe{constructor(){super(...arguments),this.beanName="filterValueSvc";}getValue(e,t){if(!t)return;let n=e.getColDef(),{filterValueGetter:i}=n;return i?this.executeFilterValueGetter(i,t.data,e,t,n):this.beans.valueSvc.getValue(e,t);}executeFilterValueGetter(e,t,n,i,r){let{expressionSvc:s,valueSvc:o}=this.beans,a=this.gos.addGridCommonParams({data:t,node:i,column:n,colDef:r,getValue:o.getValueCallback.bind(o,i)});return typeof e=="function"?e(a):s?.evaluate(e,a);}},p5e=class extends ri{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[XI]),this.eFloatingFilterText=dt;}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`);}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return;}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n);}});}refresh(e){this.init(e);}},Vee=class{constructor(){this.customFilterOptions={};}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e);}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(s=>t[s]!=null)?!0:(et(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return;}this.customFilterOptions[t.displayKey]=t;});}selectDefaultItem(e){let{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){let n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:et(73);}else et(74);}getCustomOption(e){return this.customFilterOptions[e];}};function V_(e,t,n){return n==null?e.splice(t):e.splice(t,n);}function $I(e){return e==null||typeof e=="string"&&e.trim().length===0;}function g5e(e){return e==="AND"||e==="OR"?e:"AND";}function m5e(e,t,n){if(e==null)return;let{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n);}function v5e(e,t){let n=e.length;return n>t&&(e.splice(t),et(78),n=t),n;}var Hee=class extends gAe{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0;}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:i}=t;return i??1;}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1;}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0);}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{let i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0);});}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0];}getConditionTypes(){return this.eTypes.map(e=>e.getValue());}getConditionType(e){return this.eTypes[e].getValue();}getJoinOperator(){let{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND";}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){let o=e,a=t;s=this.areSimpleModelsEqual(o,a);}else{let o=e,a=t;s=o.operator===a.operator&&Ym(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c));}return s;}shouldRefresh(e){let t=this.getModel(),n=t?t.conditions??[t]:null,i=e.filterOptions?.map(s=>typeof s=="string"?s:s.displayKey)??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>i.find(o=>o===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions);}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0);}setModelIntoUi(e){if(e.operator){let n=e,i=n.conditions;i==null&&(i=[],et(77));let r=v5e(i,this.maxNumConditions),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let a=s;a<r;a++)this.createJoinOperatorPanel(),this.createOption();let o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l);});}else{let n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0);}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),wa.resolve();}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:n}=t,i=[];if(n){let s=t;i.push(...(s.conditions??[]));}else i.push(t);return i[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s));}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=g5e(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Vee(),this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1");}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(et(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(et(80),n=1),n>t&&(et(81),n=t),this.numAlwaysVisibleConditions=n;}createOption(){let e=this.createManagedBean(new WB());this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n);}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener));}createJoinOperator(e,t,n){let i=this.createManagedBean(new CDe());e.push(i);let r="ag-filter-condition-operator";return i.addCssClass(r),i.addCssClass(`${r}-${n}`),t.appendChild(i.getGui()),i;}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e));}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n);}),e.setDisabled(t.length<=1);}createBoilerplateListOption(e){return{value:e,text:this.translate(e)};}createCustomListOption(e){let{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)};}createBodyTemplate(){return"";}getAgComponents(){return[];}getCssIdentifier(){return"simple-filter";}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e);}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);let i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators();}}this.lastUiCompletePosition=e;}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{let s=this.isConditionDisabled(r,e);i.setDisabled(s||this.filterListOptions.length<=1),r===1&&(G_(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s));}),this.eConditionBodies.forEach((i,r)=>{rr(i,this.isConditionBodyVisible(r));});let n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0);}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0);}),this.forEachInput((i,r,s,o)=>{this.setElementDisplayed(i,r<o),this.setElementDisabled(i,this.isConditionDisabled(s,e));}),this.resetPlaceholder();}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly();}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:n,eConditionBodies:i,eJoinOperatorPanels:r,eJoinOperatorsAnd:s,eJoinOperatorsOr:o}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);let a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t);}removeElements(e,t,n){V_(e,t,n).forEach(r=>Nl(r));}removeComponents(e,t,n){V_(e,t,n).forEach(r=>{Nl(r.getGui()),this.destroyBean(r);});}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let{eFilterBody:t,eTypes:n}=this,i;if(!this.isReadOnly()){let r=this.getInputs(0)[0];r instanceof Bm&&this.isConditionBodyVisible(0)?i=r.getInputElement():i=n[0]?.getFocusableElement();}(i??t).focus({preventScroll:!0});}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1,r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{let a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),i=!0,l&&n--);}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n;}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){let i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n});}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n;}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof Bm))return;let s=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(o);});}setElementValue(e,t,n){e instanceof Bm&&e.setValue(t!=null?String(t):null,!0);}setElementDisplayed(e,t){e instanceof ri&&rr(e.getGui(),t);}setElementDisabled(e,t){e instanceof ri&&G_(e.getGui(),t);}attachElementOnChange(e,t){e instanceof Bm&&e.onValueChange(t);}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e);});}forEachPositionInput(e,t){let n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t);}forEachPositionTypeInput(e,t,n){let i=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){let o=r[s];o!=null&&n(o,s,e,i);}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1;}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0;}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null));}getNumConditions(){return this.eTypes.length;}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e;}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption();}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),wa.resolve();}resetType(e){let n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1);}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n);}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n);}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t);}updateJoinOperatorsDisabled(){let e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e);}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0);}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly());}setConditionIntoUi(e,t){let n=this.mapValuesFromModel(e);this.forEachInput((i,r,s)=>{s===t&&this.setElementValue(i,n[r]!=null?n[r]:null);});}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0);});}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener);}));}individualConditionPasses(e,t){let n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),s=m5e(r,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e));}hasInvalidInputs(){return!1;}},Gee=class extends Hee{setParams(e){super.setParams(e),this.scalarFilterParams=e;}evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:s}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1;}return!1;}evaluateNonNullValue(e,t,n){let i=this.comparator(),r=e[0]!=null?i(e[0],t):0;switch(n.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{let s=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0;}case"blank":return $I(t);case"notBlank":return!$I(t);default:return et(76,{filterModelType:n.type}),!0;}}},zee=class{constructor(e,t,n,i,r){this.alive=!0,this.context=e,this.eParent=i;let s=fTe(t,n);s&&s.newAgStackInstance().then(o=>{if(!this.alive){e.destroyBean(o);return;}if(this.dateComp=o,!o)return;i.appendChild(o.getGui()),o?.afterGuiAttached?.();let{tempValue:a,disabled:l}=this;a&&o.setDate(a),l!=null&&o.setDisabled?.(l),r?.(this);});}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp);}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue;}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e;}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e;}setDisplayed(e){rr(this.eParent,e);}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e);}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e);}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e);}updateParams(e){this.dateComp?.refresh?.(e);}},Uee=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],r7=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n;}getModelAsString(e){if(!e)return null;let t=e.operator!=null,n=this.getLocaleTextFunc();if(t){let i=e,s=(i.conditions??[]).map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(o,qJ[o])} `);}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{let i=e,r=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:o,numberOfInputs:a}=r||{};return s&&o&&a===0?(n(s,o),o):this.conditionToString(i,r);}}}updateParams(e){this.optionsFactory=e.optionsFactory;}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e);}},jee=class extends r7{constructor(e,t,n){super(t,n),this.dateFilterParams=e;}conditionToString(e,t){let{type:n}=e,{numberOfInputs:i}=t||{},r=n=="inRange"||i===2,s=Ca(e.dateFrom),o=Ca(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){let l=s!==null?B_(s,a):"null",c=o!==null?B_(o,a):"null";return`${l}-${c}`;}return s!=null?B_(s,a):`${n}`;}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams;}},xZ=1e3,wZ=1/0,y5e=class extends Gee{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=xZ,this.maxValidYear=wZ,this.minValidDate=null,this.maxValidDate=null,this.filterType="date";}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e);}mapValuesFromModel(e){let{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&Ca(t)||null,n&&Ca(n)||null].slice(0,this.getNumberOfInputs(i));}comparator(){return this.dateFilterParams.comparator??b5e;}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))et(82,{param:n});else return e[n]==null?i:Number(e[n]);return i;};this.minValidYear=t("minValidYear",xZ),this.maxValidYear=t("maxValidYear",wZ),this.minValidYear>this.maxValidYear&&et(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Ca(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Ca(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&et(84),this.filterModelFormatter=new jee(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);}createDateCompWrapper(e){let{userCompFactory:t,context:n}=this.beans,i=new zee(n,t,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"},e);return this.addDestroyFunc(()=>i.destroy()),i;}setElementValue(e,t){e.setDate(t);}setElementDisplayed(e,t){e.setDisplayed(t);}setElementDisabled(e,t){e.setDisabled(t);}getDefaultFilterOptions(){return Uee;}createValueElement(){let t=Fr(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t;}createFromToElement(e,t,n,i){let s=Fr(this.beans).createElement("div");s.classList.add(`ag-filter-${i}`),s.classList.add(`ag-filter-date-${i}`),t.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s));}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),V_(this.eConditionPanelsFrom,e,t),V_(this.eConditionPanelsTo,e,t);}removeDateComps(e,t,n){V_(e,t,n).forEach(r=>r.destroy());}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1;}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1;}else if(e.getUTCFullYear()>r)return!1;return!0;}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,s)=>{r!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()));}),t;}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type;}createCondition(e){let t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Vl(i[0])),i.length>1&&(n.dateTo=Vl(i[1])),O({dateFrom:null,dateTo:null,filterType:this.filterType,type:t},n);}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n);});}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]];}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(n.getDate());}),t;}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e);}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??"";}};function b5e(e,t){let n=t;return t==null||n<e?-1:n>e?1:0;}var $ee=class extends ri{constructor(){super(...arguments),this.defaultDebounceMs=0;}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return;}let t=e.operator,n;t?n=e.conditions[0]:n=e,this.lastType=n.type;}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let n=e;return this.isTypeEditable(n.type);}init(e){this.setSimpleParams(e,!1);}setSimpleParams(e,t=!0){let n=new Vee();this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());let i=n.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;let r=this.isTypeEditable(i);this.setEditable(r);}refresh(e){this.setSimpleParams(e);}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1;}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0;}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`;}},x5e=class extends $ee{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[XI]),this.eReadOnlyText=dt,this.eDateWrapper=dt;}getDefaultOptions(){return Uee;}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new jee(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"));}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams;let t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel());}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let n=e?Ca(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("");}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null);}setEditable(e){rr(this.eDateWrapper,e),rr(this.eReadOnlyText.getGui(),!e);}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e));}onDateChanged(){let e=this.dateComp.getDate(),t=Vl(e);this.params.parentFilterInstance(n=>{if(n){let i=Ca(t);n.onFloatingFilterChanged(this.lastType||null,i);}});}getDateComponentParams(){let{filterParams:e,column:t}=this.params,n=FB(e,this.defaultDebounceMs);return{onDateChanged:$o(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"};}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:n}=this;this.dateComp=new zee(e,t,this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(this.params));}),this.addDestroyFunc(()=>this.dateComp.destroy());}},w5e=class extends ri{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[XI]),this.eDateInput=dt,this.isApply=!1,this.applyOnFocusOut=!1;}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0});},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)});}handleInput(e,t){if(t.target===sr(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return;}e||this.params.onDateChanged();}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged());}setParams(e){let t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&qm(),t.type=n?"date":"text";let{minValidYear:i,maxValidYear:r,minValidDate:s,maxValidDate:o,buttons:a}=e.filterParams||{};if(s&&i&&et(85),o&&r&&et(86),s&&o){let[l,c]=[s,o].map(u=>u instanceof Date?u:Ca(u));l&&c&&l.getTime()>c.getTime()&&et(87);}s?s instanceof Date?t.min=B_(s):t.min=s:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=B_(o):t.max=o:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply");}refresh(e){this.params=e,this.setParams(e);}getDate(){return Ca(this.eDateInput.getValue());}setDate(e){this.eDateInput.setValue(Vl(e,!1));}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e);}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e);}setDisabled(e){this.eDateInput.setDisabled(e);}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0});}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0;}},Wee=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],qee=class extends r7{conditionToString(e,t){let{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e,o=s=="inRange"||n===2,a=this.formatValue.bind(this);return o?`${a(i)}-${a(r)}`:i!=null?a(i):`${s}`;}};function bB(e){let{allowedCharPattern:t}=e??{};return t??null;}var C5e=class extends Gee{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500;}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e);}mapValuesFromModel(e){let{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i));}comparator(){return(e,t)=>e===t?0:e<t?1:-1;}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new qee(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter);}getDefaultFilterOptions(){return Wee;}setElementValue(e,t,n){let{numberFormatter:i}=this.numberFilterParams,r=!n&&i?i(t??null):t;super.setElementValue(e,r);}createValueElement(){let e=bB(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Wo(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t;}createFromToElement(e,t,n,i){let r=this.createManagedBean(i?new Qm({allowedCharPattern:i}):new $B());r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui());}removeValueElements(e,t){let n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo);}getValues(e){let t=[];return this.forEachPositionInput(e,(n,i,r,s)=>{i<s&&t.push(this.processValue(this.stringToFloat(n.getValue())));}),t;}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type;}processValue(e){return e==null||isNaN(e)?null:e;}stringToFloat(e){if(typeof e=="number")return e;let t=Eh(e);t!=null&&t.trim()===""&&(t=null);let n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t);}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n;}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]];}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??"";}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return;}}),e;}},Kee=class extends Oe{constructor(e){super(),this.params=e,this.eInput=dt,this.onValueChanged=()=>{};}setupGui(e){this.eInput=this.createManagedBean(new Qm(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n});}setEditable(e){this.eInput.setDisabled(!e);}getValue(){return this.eInput.getValue();}setValue(e,t){this.eInput.setValue(e,t);}setValueChangedListener(e){this.onValueChanged=e;}setParams({ariaLabel:e,autoComplete:t}){let{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t);}};function Yee(e){let t=e?.trim();return t===""?e:t;}var Xee=class extends $ee{constructor(){super(...arguments),this.eFloatingFilterInputContainer=dt,this.defaultDebounceMs=500;}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `);}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)));}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e);}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer);}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=zI(e.filterParams),!r){let s=FB(e.filterParams,i),o=$o(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o);}}refresh(e){super.refresh(e),this.setTextInputParams(e);}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,n=t.getValue();lo(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0);}syncUpWithParentFilter(e){let t=e.key===Me.ENTER;if(this.applyActive&&!t)return;let{inputSvc:n,params:i}=this,r=n.getValue();i.filterParams.trimInput&&(r=Yee(r),n.setValue(r,!0)),i.parentFilterInstance(s=>{s?.onFloatingFilterChanged(this.lastType||null,r||null);});}setEditable(e){this.inputSvc.setEditable(e);}},_5e=class extends Oe{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0;}setupGui(e){this.eNumberInput=this.createManagedBean(new $B()),this.eTextInput=this.createManagedBean(new Qm()),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i));}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive);}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e);}getValue(){return this.getActiveInputElement().getValue();}setValue(e,t){this.getActiveInputElement().setValue(e,t);}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput;}setValueChangedListener(e){this.onValueChanged=e;}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t});}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete);}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e);}},S5e=class extends Xee{init(e){super.init(e),this.filterModelFormatter=new qee(this.getLocaleTextFunc.bind(this),this.optionsFactory,e.filterParams?.numberFormatter);}refresh(e){bB(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory});}getDefaultOptions(){return Wee;}createFloatingFilterInputService(e){return this.allowedCharPattern=bB(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Kee({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new _5e());}},Qee=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Zee=class extends r7{conditionToString(e,t){let{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:s}=e;return s=="inRange"||n===2?`${i}-${r}`:i!=null?`${i}`:`${s}`;}},E5e=class extends Hee{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{let i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length;}default:return!1;}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500;}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Zee(this.getLocaleTextFunc.bind(this),this.optionsFactory);}createCondition(e){let t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n;}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type;}getInputs(e){let{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]];}getValues(e){return this.getValuesWithSideEffects(e,!1);}getValuesWithSideEffects(e,t){let n=[];return this.forEachPositionInput(e,(i,r,s,o)=>{if(r<o){let a=Eh(i.getValue());t&&this.textFilterParams.trimInput&&(a=Yee(a)??null,i.setValue(a,!0)),n.push(a);}}),n;}getDefaultFilterOptions(){return Qee;}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),Wo(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e;}createFromToElement(e,t,n){let i=this.createManagedBean(new Qm());i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui());}removeValueElements(e,t){let n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo);}mapValuesFromModel(e){let{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i));}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1;}evaluateNonNullValue(e,t,n,i){let r=e.map(h=>this.formatter(h))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(n.type==="blank")return $I(t);if(n.type==="notBlank")return!$I(t);let d={api:o,colDef:a,column:l,context:c,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:u};return r.some(h=>this.matcher(Re(O({},d),{filterText:h})));}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??"";}},T5e=class extends Xee{init(e){super.init(e),this.filterModelFormatter=new Zee(this.getLocaleTextFunc.bind(this),this.optionsFactory);}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory});}getDefaultOptions(){return Qee;}createFloatingFilterInputService(){return this.createManagedBean(new Kee());}};function A5e(e){return!!e.filterManager?.isQuickFilterPresent();}function D5e(e){return e.gos.get("quickFilterText");}function R5e(e){e.filterManager?.resetQuickFilterCache();}var I5e=class extends Oe{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null;}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache();}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher());}refreshCols(){let{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),s=e?.getAutoCols(),o=t.getColDefCols(),a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive());}isFilterPresent(){return this.quickFilter!==null;}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n));}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null);}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null;}parseFilter(e){return at(e)?e.toUpperCase():null;}setFilter(e){if(e!=null&&typeof e!="string"){et(70,{newFilter:e});return;}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}));}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}));}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"});}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{let i=this.getTextForColumn(n,e);return at(i)&&i.indexOf(t)>=0;});}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0;}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);let{quickFilterParts:i,matcher:r}=this;return r(i,n);}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e));}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t),i=e.getColDef();if(i.getQuickFilterText){let r=this.gos.addGridCommonParams({value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r);}return at(n)?n.toString().toUpperCase():null;}getAggText(e){let t=[];return this.colsToUse.forEach(n=>{let i=this.getTextForColumn(n,e);at(i)&&t.push(i);}),t.join(`
`);}},P5e={moduleName:"ClientSideRowModelFilter",version:ht,rowModels:["clientSide"],beans:[jke]},s7={moduleName:"FilterCore",version:ht,beans:[d5e],apiFunctions:{isAnyFilterPresent:c5e,onFilterChanged:u5e},css:[Zke],dependsOn:[P5e]},Jee={moduleName:"FilterValue",version:ht,beans:[f5e]},e3={moduleName:"ColumnFilter",version:ht,beans:[l5e,h5e],dynamicBeans:{headerFilterCellCtrl:$ke},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Jke,getColumnFilterInstance:e5e,destroyFilter:t5e,setFilterModel:n5e,getFilterModel:i5e,getColumnFilterModel:r5e,setColumnFilterModel:s5e,showColumnFilter:o5e},dependsOn:[s7,JI,Jee,Kke]},k5e={moduleName:"CustomFilter",version:ht,userComponents:{agReadOnlyFloatingFilter:p5e},dependsOn:[e3]},M5e={moduleName:"TextFilter",version:ht,dependsOn:[e3],userComponents:{agTextColumnFilter:E5e,agTextColumnFloatingFilter:T5e}},F5e={moduleName:"NumberFilter",version:ht,dependsOn:[e3],userComponents:{agNumberColumnFilter:C5e,agNumberColumnFloatingFilter:S5e}},N5e={moduleName:"DateFilter",version:ht,dependsOn:[e3],userComponents:{agDateColumnFilter:y5e,agDateInput:w5e,agDateColumnFloatingFilter:x5e}},L5e={moduleName:"QuickFilter",version:ht,rowModels:["clientSide"],beans:[I5e],apiFunctions:{isQuickFilterPresent:A5e,getQuickFilter:D5e,resetQuickFilter:R5e},dependsOn:[s7,Jee]},O5e={moduleName:"ExternalFilter",version:ht,dependsOn:[s7]},F_=class{constructor(e){this.cellValueChanges=e;}},U8=class extends F_{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i;}},B5e=10,CZ=class{constructor(e){this.actionStack=[],this.maxStackSize=e||B5e,this.actionStack=new Array(this.maxStackSize);}pop(){return this.actionStack.pop();}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e));}clear(){this.actionStack=[];}getCurrentStackSize(){return this.actionStack.length;}},V5e=class extends Oe{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&oB(this.activeCellEdit,t),i=this.activeRowEdit!==null&&rAe(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;let{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u);},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear();};}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new CZ(n),this.redoStack=new CZ(n),this.addListeners();let i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks();},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl;});}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0;}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0;}undo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});let r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r});}redo(e){let{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});let r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r});}undoRedo(e,t,n,i,r){if(!e)return!1;let s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[i],r),s instanceof U8?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0);}processAction(e,t,n){e.cellValueChanges.forEach(i=>{let{rowIndex:r,rowPinned:s,columnId:o}=i,a={rowIndex:r,rowPinned:s},l=aB(this.beans,a);l.displayed&&l.setDataValue(o,t(i),n);});}processRange(e){let t,n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;let s=i.startRow,o=i.endRow;r===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));let a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a);});}processCell(e){let t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},s=aB(this.beans,r),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o);}setLastFocusedCell(e){let{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:s,rangeSvc:o}=this.beans,a=r.getCol(n);if(!a)return;let{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);let c={rowIndex:t,column:a,rowPinned:i};s.setFocusedCell(Re(O({},c),{forceBrowserFocus:!0})),o?.setRangeToCell(c);}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned};},rowEditingStopped:()=>{let e=new F_(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null;},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned};},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let n=new F_(this.cellValueChanges);this.pushActionsToUndoStack(n);}},pasteStart:()=>{this.isPasting=!0;},pasteEnd:()=>{let e=new F_(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1;},fillStart:()=>{this.isRangeInAction=!0;},fillEnd:e=>{let t=new U8(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1;},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0;},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:n}=this.beans;t&&Dh(n)?e=new U8(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new F_(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1;}});}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear();}},H5e=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",G5e=class extends ex{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[jB]),this.eCheckbox=dt;}init(e){this.params=e;let t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)});}getValue(){return this.eCheckbox.getValue();}focusIn(){this.eCheckbox.getFocusableElement().focus();}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn();}isPopup(){return!1;}setAriaLabel(e){let t=this.getLocaleTextFunc(),n=CB(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`);}},t3=class extends ex{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=dt;}init(e){this.params=e;let{cellStartedEdit:t,eventKey:n,suppressPreventDefault:i}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,o=!0;t?(this.focusAfterAttached=!0,n===Me.BACKSPACE||n===Me.DELETE?s="":n&&n.length===1?i?o=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==Me.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:a=>{let{key:l}=a;(l===Me.PAGE_UP||l===Me.PAGE_DOWN)&&a.preventDefault();}});}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;qm()||t.getFocusableElement().focus();let n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.();}focusIn(){let e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select();}getValue(){return this.cellEditorInput.getValue();}isPopup(){return!1;}},z5e=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>';}getAgComponents(){return[see];}init(e,t){this.eInput=e,this.params=t;let{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r);}getValue(){let{eInput:e,params:t}=this,n=e.getDate();return!at(n)&&!at(t.value)?t.value:n??null;}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Vl(e,!1);}},U5e=class extends t3{constructor(){super(new z5e());}},j5e=class{constructor(e){this.getDataTypeService=e;}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>';}getAgComponents(){return[see];}init(e,t){this.eInput=e,this.params=t;let{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r);}getValue(){let{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!at(n)&&!at(e.value)?e.value:e.parseValue(n??"");}getStartValue(){return Vl(this.parseDate(this.params.value??void 0)??null,!1);}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ca(e)??void 0;}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Vl(e??null,!1)??void 0;}},$5e=class extends t3{constructor(){super(new j5e(()=>this.beans.dataTypeSvc));}},W5e=class extends ex{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[SDe]),this.eTextArea=dt;}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex();}onKeyDown(e){let t=e.key;(t===Me.LEFT||t===Me.UP||t===Me.RIGHT||t===Me.DOWN||e.shiftKey&&t===Me.ENTER)&&e.stopPropagation();}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus();}getValue(){let e=this.eTextArea.getValue(),t=this.params;return!at(e)&&!at(t.value)?t.value:t.parseValue(e);}},q5e=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>';}getAgComponents(){return[EDe];}init(e,t){this.eInput=e,this.params=t;let{max:n,min:i,precision:r,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),s!=null&&e.setStep(s);let o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper");}preventStepping(e){(e.key===Me.UP||e.key===Me.DOWN)&&e.preventDefault();}getValue(){let{eInput:e,params:t}=this,n=e.getValue();if(!at(n)&&!at(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i);}return isNaN(i)?null:i;}getStartValue(){return this.params.value;}setCaret(){qm()&&this.eInput.getInputElement().focus({preventScroll:!0});}},K5e=class extends t3{constructor(){super(new q5e());}},Y5e=class extends ex{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[NDe]),this.eSelect=dt,this.startedByEnter=!1;}wireBeans(e){this.valueSvc=e.valueSvc;}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueSvc:n,gos:i}=this,{values:r,value:s,eventKey:o}=e;if(tr(r)){et(58);return;}this.startedByEnter=o!=null?o===Me.ENTER:!1;let a=!1;r.forEach(d=>{let h={value:d},f=n.formatValue(e.column,null,d),g=f!=null;h.text=g?f:d,t.addOption(h),a=a||s===d;}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()});}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker();});}focusIn(){this.eSelect.getFocusableElement().focus();}getValue(){return this.eSelect.getValue();}isPopup(){return!1;}},X5e=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>';}getAgComponents(){return[XI];}init(e,t){this.eInput=e,this.params=t;let n=t.maxLength;n!=null&&e.setMaxLength(n);}getValue(){let{eInput:e,params:t}=this,n=e.getValue();return!at(n)&&!at(t.value)?t.value:t.parseValue(n);}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value;}setCaret(){let e=this.eInput,t=e.getValue(),n=at(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n);}},_Z=class extends t3{constructor(){super(new X5e());}};function Q5e(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition();}function Z5e(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition();}function ete(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible");}function tte(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible");}function J5e(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible");}function eMe(e){e.undoRedo?.undo("api");}function tMe(e){e.undoRedo?.redo("api");}function nMe(e,t={}){let n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{let r=i.comp?.getCellEditor();r&&n.push(K_(r));}),n;}function iMe(e){let t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){let{cellPosition:i}=n;t.push(i);}}),t;}function rMe(e,t=!1){e.editSvc?.stopAllEditing(t);}function sMe(e,t){let n=e.colModel.getCol(t.colKey);if(!n){et(12,{colKey:t.colKey});return;}let i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&tte(e,t.rowIndex),ete(e,t.colKey);let s=kb(e,i);if(!s)return;let{focusSvc:o,gos:a,editSvc:l}=e,c=()=>{let d=sr(e),h=s.eGui;return d!==h&&!!h?.contains(d);},u=a.get("stopEditingWhenCellsLoseFocus")&&c();(u||!o.isCellFocused(i))&&o.setFocusedCell(Re(O({},i),{forceBrowserFocus:u,preventScrollOnBrowserFocus:!0})),l?.startRowOrCellEdit(s,t.key);}function oMe(e){return e.undoRedo?.getCurrentUndoStackSize()??0;}function aMe(e){return e.undoRedo?.getCurrentRedoStackSize()??0;}var lMe=class extends ex{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e;}postConstruct(){$m(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener();}addKeyDownListener(){let e=this.getGui(),t=this.params,n=i=>{uB(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i);};this.addManagedElementListeners(e,{keydown:n});}},cMe=class extends Oe{constructor(){super(...arguments),this.beanName="editSvc";}startEditing(e,t=null,n=!1,i=null){if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,i);}),!0;let r=this.createCellEditorParams(e,t,n),s=e.column.getColDef(),o=XQ(this.beans.userCompFactory,s,r),a=o?.popupFromSelector!=null?o.popupFromSelector:!!s.cellEditorPopup,l=o?.popupPositionFromSelector!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return SZ(e,!0,o),e.comp.setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!o?.params?.suppressPreventDefault;}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;let{comp:n,column:i,rowNode:r}=e,{newValue:s,newValueExists:o}=uMe(t,n),a=this.beans.valueSvc.getValueForDisplay(i,r),l=!1;return o&&(l=dMe(e,a,s,r,i)),SZ(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent(Re(O({},e.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:s,valueChanged:l})),l;}handleColDefChanged(e){let t=e.comp?.getCellEditor();if(t?.refresh){let{eventKey:n,cellStartedEdit:i}=e.editCompDetails.params,r=this.createCellEditorParams(e,n,i),s=e.column.getColDef(),o=XQ(this.beans.userCompFactory,s,r);t.refresh(o.params);}}setFocusOutOnEditor(e){if(!e.editing)return;let t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut();}setFocusInOnEditor(e){if(!e.editing)return;let t=e.comp,n=t.getCellEditor();n?.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>t.getCellEditor()?.focusIn?.()));}stopEditingAndFocus(e,t=!1,n=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(n,e.cellPosition);}createPopupEditorWrapper(e){return new lMe(e);}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e));}stopRowEditing(e,t=!1){if(e.stoppingRowEdit)return;let n=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let r=!1;for(let s of n){let o=s.stopEditing(t);i&&!t&&!r&&o&&(r=!0);}r&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&this.beans.rowEditSvc?.setEditing(e,!1),e.stoppingRowEdit=!1;}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let t=n=>{let i=n.relatedTarget;if(X8(i)===null){this.stopAllEditing();return;}let r=e.some(s=>s.contains(i))&&HJ(this.gos,i);if(!r){let s=this.beans.popupSvc;r=!!s&&(s.getActivePopups().some(o=>o.contains(i))||s.isElementWithinCustomPopup(i));}r||this.stopAllEditing();};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}));}setInlineEditingCss(e){let t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t);});}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1;}else if(!this.gos.get("enableGroupEdit"))return!1;}return e.isColumnFunc(t,e.colDef.editable);}startRowOrCellEdit(e,t,n=null){return e.comp?this.gos.get("editType")==="fullRow"?this.beans.rowEditSvc?.startEditing(e.rowCtrl,t,e)??!0:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n);}),!0);}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t);}createCellEditorParams(e,t,n){let{column:i,rowNode:r,eGui:s,cellPosition:{rowIndex:o}}=e,{valueSvc:a,gos:l}=this.beans;return l.addGridCommonParams({value:a.getValueForDisplay(i,r),eventKey:t,column:i,colDef:i.getColDef(),rowIndex:o,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:s,parseValue:c=>a.parseValue(i,r,c,e.value),formatValue:e.formatValue.bind(e)});}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let i=e?Me.UP:Me.DOWN;this.beans.navigation?.navigateToNextCell(null,i,t,!1);}}};function SZ(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t);}function uMe(e,t){let n={newValueExists:!1};if(e)return n;let i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0};}function dMe(e,t,n,i,r){if(n===t)return!1;e.suppressRefreshCell=!0;let s=i.setDataValue(r,n,"edit");return e.suppressRefreshCell=!1,s;}var hMe=class extends Oe{constructor(){super(...arguments),this.beanName="rowEditSvc";}startEditing(e,t=null,n=null,i=null){if(e.editing)return!0;let r=!0,s=!1,{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(a=>{let l=a===n;l?r=o?.startEditing(a,t,l,i)??!0:o?.startEditing(a,null,l,i),s||(s=a.editing);}),s&&this.setEditing(e,!0),r;}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",t));let n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n);}},Dp={moduleName:"EditCore",version:ht,beans:[cMe,hMe],apiFunctions:{getCellEditorInstances:nMe,getEditingCells:iMe,stopEditing:rMe,startEditingCell:sMe},dependsOn:[JI],css:[H5e]},fMe={moduleName:"UndoRedoEdit",version:ht,beans:[V5e],apiFunctions:{undoCellEditing:eMe,redoCellEditing:tMe,getCurrentUndoSize:oMe,getCurrentRedoSize:aMe},dependsOn:[Dp]},pMe={moduleName:"TextEditor",version:ht,userComponents:{agCellEditor:_Z,agTextCellEditor:_Z},dependsOn:[Dp]},gMe={moduleName:"NumberEditor",version:ht,userComponents:{agNumberCellEditor:{classImp:K5e,params:{suppressPreventDefault:!0}}},dependsOn:[Dp]},mMe={moduleName:"DateEditor",version:ht,userComponents:{agDateCellEditor:U5e,agDateStringCellEditor:$5e},dependsOn:[Dp]},vMe={moduleName:"CheckboxEditor",version:ht,userComponents:{agCheckboxCellEditor:G5e},dependsOn:[Dp]},yMe={moduleName:"SelectEditor",version:ht,userComponents:{agSelectCellEditor:Y5e},dependsOn:[Dp]},bMe={moduleName:"LargeTextEditor",version:ht,userComponents:{agLargeTextCellEditor:W5e},dependsOn:[Dp]},xMe={moduleName:"CustomEditor",version:ht,dependsOn:[Dp]};function wMe(e,t){if(!t.nodes.every(a=>a.rowPinned?(et(59),!1):a.id===void 0?(et(60),!1):!0))return;let{nodes:i,source:r,newValue:s}=t,o=i;e.selectionSvc?.setNodesSelected({nodes:o,source:r??"api",newValue:s});}function CMe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t});}function _Me(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t});}function SMe(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"});}function EMe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"});}function TMe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"});}function AMe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"});}function DMe(e){return e.selectionSvc?.getSelectedNodes()??[];}function RMe(e){return e.selectionSvc?.getSelectedRows()??[];}var IMe=class extends wDe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map();}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=MI(e),this.groupSelectsDescendants=W_(e),this.groupSelectsFiltered=FI(e)==="filteredDescendants",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=W_(e),n=MI(e),i=FI(e)==="filteredDescendants";(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n);}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)});}destroy(){super.destroy(),this.resetNodes();}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;let i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,event:e,source:n});}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:s}){if(!Gm(this.gos)&&e)return et(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return et(130),0;let o=0;for(let a=0;a<i.length;a++){let l=i[a],c=l.footer?l.sibling:l,u=this.groupSelectsFiltered&&c.group;if(c.rowPinned){et(59);continue;}if(c.id===void 0){et(60);continue;}u||this.selectRowNode(c,e,r,s)&&o++,this.groupSelectsDescendants&&c.childrenAfterGroup?.length&&(o+=this.selectChildren(c,e,s));}return n||(e&&(t||!this.isMultiSelect())&&(o+=this.clearOtherNodes(i[0],s)),o>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),o;}selectRange(e,t,n){let i=0;return e.forEach(r=>{if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,n)&&i++;}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i;}selectChildren(e,t,n){let i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0;}getSelectedNodes(){return Array.from(this.selectedNodes.values());}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e;}getSelectionCount(){return this.selectedNodes.size;}filterFromSelection(e){let t=new Map();this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n);}),this.selectedNodes=t;}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:n,rowModel:i}=this.beans;if(!jo(n,i))return!1;let r=i.rootNode;if(!r)return!1;t||(t=new UI(!0,r),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==r){let a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s;}}),s;}clearOtherNodes(e,t){let n=new Map(),i=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){let s=this.selectedNodes.get(r.id);i+=this.setNodesSelected({nodes:[s],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&r.parent&&n.set(r.parent.id,r.parent);}}),n.forEach(r=>{let s=this.calculateSelectedFromChildren(r);this.selectRowNode(r,s===null?!1:s,void 0,t);}),i;}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id));}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e);}createDaemonNode(e){if(!e.id)return;let t=new Yb(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t;}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t);}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1;}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e);}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1);}),this.selectedNodes.clear();}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!jo(e,t))return;let n=t.getTopLevelNodes();if(n===null)return;let i=[];function r(s){for(let o=0,a=s.length;o<a;o++){let l=s[o];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup);}}return r(n),i;}isEmpty(){return this.getSelectionCount()===0;}deselectAllRowNodes(e){let t=s=>this.selectRowNode(s.footer?s.sibling:s,!1,void 0,i),n=jo(this.gos),{source:i,selectAll:r}=e;if(r==="currentPage"||r==="filtered"){if(!n){vi(102);return;}this.getNodesToSelect(r).forEach(t);}else this.selectedNodes.forEach(t),this.reset(i);n&&this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i);}getSelectedCounts(e){let t=0,n=0,i=r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++);};return this.getNodesToSelect(e).forEach(i),{selectedCount:t,notSelectedCount:n};}getSelectAllState(e){let{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return t===0&&n===0?!1:t>0&&n>0?null:t>0;}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0;}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[];if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){t.push(i);return;}if(!i.expanded&&!i.footer){let r=s=>{t.push(s),s.childrenAfterFilter?.length&&s.childrenAfterFilter.forEach(r);};r(i);return;}this.groupSelectsDescendants||t.push(i);}),t;let n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(i=>{t.push(i);}),t):(n.forEachNode(i=>{t.push(i);}),t);}forEachNodeOnPage(e){let{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let s=i;s<=r;s++){let o=n.getRow(s);o&&e(o);}}selectAllRowNodes(e){let{gos:t}=this;if(!Gm(t)){et(132);return;}if(J2e(t)&&!qI(t)){et(130);return;}if(!this.canSelectAll())return;let{source:n,selectAll:i}=e;this.getNodesToSelect(i).forEach(r=>{this.selectRowNode(r.footer?r.sibling:r,!0,void 0,n);}),jo(t)&&this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n);}getSelectionState(){let e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id);}),e.length?e:null;}setSelectionState(e,t){if(!Array.isArray(e)){vi(103);return;}let n=new Set(e),i=[];this.beans.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r);}),this.setNodesSelected({newValue:!0,nodes:i,source:t});}canSelectAll(){let{gos:e,rowModel:t}=this.beans;return jo(e)?!0:(vi(100,{rowModelType:t.getType()}),!1);}updateSelectable(e){let{gos:t,rowModel:n}=this.beans;if(!Gm(t))return;let i="selectableChanged",r=e!==void 0,s=jo(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(r&&!l.group)return;if(s&&l.group){let u=l.childrenAfterGroup?.some(d=>d.selectable)??!1;this.setRowSelectable(l,u,!0);return;}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l);};if(s){if(e===void 0){let l=n.rootNode;e=l?new UI(!1,l):void 0;}e?.forEachChangedNodeDepthFirst(a,!r,!r);}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:i}),!r&&s&&this.updateGroupsFromChildrenSelections?.(i);}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});}},PMe={moduleName:"SharedRowSelection",version:ht,beans:[wEe],apiFunctions:{setNodesSelected:wMe,selectAll:CMe,deselectAll:_Me,selectAllFiltered:SMe,deselectAllFiltered:EMe,selectAllOnCurrentPage:TMe,deselectAllOnCurrentPage:AMe,getSelectedNodes:DMe,getSelectedRows:RMe}},kMe={moduleName:"RowSelection",version:ht,rowModels:["clientSide","infinite","viewport"],beans:[IMe],dependsOn:[PMe]};function MMe(e){e.expansionSvc?.expandAll(!0);}function FMe(e){e.expansionSvc?.expandAll(!1);}function NMe(e){let t=rd(e),n=kee(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged();}function LMe(e,t,n){let i=kee(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){vi(238);return;}i.setRowCount(t,n);return;}vi(28);return;}let r=ZI(e);if(r){r.setRowCount(t,n);return;}}function OMe(e){return Z_(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{};}function BMe(e){return e.rowModel.isLastRowIndexKnown();}var VMe={moduleName:"CsrmSsrmSharedApi",version:ht,apiFunctions:{expandAll:MMe,collapseAll:FMe,onRowHeightChanged:NMe}},HMe={moduleName:"SsrmInfiniteSharedApi",version:ht,apiFunctions:{setRowCount:LMe,getCacheBlockState:OMe,isLastRowIndexKnown:BMe}},GMe=class extends Oe{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1;}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){vi(18),t||vi(20);return;}if(this.isGridApi(i))return i;let r=i;return"current"in r?r.current?.api:(r.api||vi(19),r.api);}).filter(i=>!!i&&!i.isDestroyed());}isGridApi(e){return!!e&&!!e.dispatchEvent;}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)});}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e);});}onEvent(e){this.consuming=!0,e(),this.consuming=!1;}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e});}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e});}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0);});}extractDataFromEvent(e,t){let n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i));}):e.column&&n.push(t(e.column)),n;}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t);}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId());}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break;}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break;}case"columnPivotChanged":et(21);break;}});}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged");});}processColumnEvent(e){let t=e.column,n=null,i=this.beans,{colResize:r,ctrlsSvc:s,colModel:o}=i;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;let a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let d=e.api.getColumnState().map(h=>({colId:h.colId}));kc(i,{state:d,applyOrder:!0},"alignedGridChanged");}break;case"columnVisible":{let d=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));kc(i,{state:d},"alignedGridChanged");}break;case"columnPinned":{let d=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));kc(i,{state:d},"alignedGridChanged");}break;case"columnResized":{let u=e,d={};a.forEach(h=>{d[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()};}),u.flexColumns?.forEach(h=>{d[h.getId()]&&delete d[h.getId()];}),r?.setColumnWidths(Object.values(d),!1,u.finished,"alignedGridChanged");break;}}let c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",c);});}},zMe={moduleName:"AlignedGrids",version:ht,beans:[GMe]},UMe=class extends vDe{constructor(){super(...arguments),this.beanName="csrmNodeSvc";}},j8=class{constructor(){this.removals=new Set(),this.updates=new Map();}remove(e){this.removals.add(e),this.updates.delete(e);}update(e){this.updates.has(e)||(this.removals.delete(e),this.updates.set(e,!1));}add(e){this.removals.delete(e),this.updates.set(e,!0);}};function jMe(e){if(tr(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let n=0;n<t.length;n++){let i=t[n],r=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==s&&(i.lastChild=s,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"));}}function nte(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),jMe(e);}var $Me=class extends Oe{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort";}execute(e){let t=this.beans,n=t.sortSvc.getSortOptions(),i=at(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Ju(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,s);}sort(e,t,n,i,r,s,o){let{gos:a,colModel:l,rowGroupColsSvc:c,groupHideOpenParentsSvc:u,rowNodeSorter:d}=e,h=a.get("groupMaintainOrder"),f=l.getCols().some(b=>b.isRowGroupActive()),g=l.isPivotMode(),m=a.getCallback("postSortRows"),y=b=>{u?.pullDownGroupDataForHideOpenParents(b.childrenAfterAggFilter,!0);let C=g&&b.leafGroup,_=h&&f&&!b.leafGroup&&!o,A;if(_){let N=c?.columns?.[b.level+1]?.getSort()===null,R=b.childrenAfterAggFilter.slice(0);if(b.childrenAfterSort&&!N){let D={};b.childrenAfterSort.forEach((V,X)=>{D[V.id]=X;}),R.sort((V,X)=>(D[V.id]??0)-(D[X.id]??0));}A=R;}else!n||C?A=b.childrenAfterAggFilter.slice(0):i&&r?A=WMe(d,b,r,s,t):A=d.doFullSort(b.childrenAfterAggFilter,t);if(b.childrenAfterSort=A,nte(b),m){let I={nodes:b.childrenAfterSort};m(I);}};s?.forEachChangedNodeDepthFirst(y);}};function WMe(e,t,n,i,r){let s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,r);let a=new Set(),l=[],c=n.updates;for(let d=0,h=s.length;d<h;++d){let f=s[d];c.has(f)||i&&!i.canSkip(f)?l.push({currentPos:l.length,rowNode:f}):a.add(f.id);}let u=o.filter(d=>a.has(d.id)).map((d,h)=>({currentPos:h,rowNode:d}));return l.sort((d,h)=>e.compareRowNodes(r,d,h)),qMe(e,r,l,u);}function qMe(e,t,n,i){let r=[],s=0,o=0,a=n.length,l=i.length;for(;s<a&&o<l;){let c=n[s],u=i[o],d=e.compareRowNodes(t,c,u),h;d<0?(h=c,++s):(h=u,++o),r.push(h.rowNode);}for(;s<a;)r.push(n[s++].rowNode);for(;o<l;)r.push(i[o++].rowNode);return r;}var KMe=class extends Oe{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=$o(this,this.onRowHeightChanged.bind(this),100),this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1;}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage;}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Yb(this.beans),this.initRowManager();}initRowManager(){let{gos:e,beans:t,nodeManager:n}=this,i=e.get("treeData"),r=e.get("treeDataChildrenField"),s=r||i,o;s&&(o=r?t.csrmChildrenTreeNodeSvc:t.csrmPathTreeNodeSvc),o||(o=t.csrmNodeSvc),n!==o&&(n?.deactivate(),this.nodeManager=o),o.activate(this.rootNode);}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let n=t.changeSet?.properties;n&&this.onPropChange(n);}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights());}start(){this.started=!0,this.shouldSkipSettingDataOnStart?this.refreshModel({step:"group",newData:!0,rowDataUpdated:!0}):this.setInitialData();}setInitialData(){this.gos.get("rowData")&&(this.shouldSkipSettingDataOnStart=!0,this.onPropChange(["rowData"]));}ensureRowHeightsValid(e,t,n,i){let r,s=!1;do{r=!1;let o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,i);for(let u=l;u<=c;u++){let d=this.getRow(u);if(d.rowHeightEstimated){let h=jm(this.beans,d);d.setRowHeight(h.height),r=!0,s=!0;}}r&&this.setRowTopAndRowIndex();}while(r);return s;}onPropChange(e){if(!this.rootNode)return;let t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),s=n.has("treeData"),a=n.has("treeDataChildrenField")||s&&!t.get("treeDataChildrenField"),l;if(s&&(i.step="group"),(a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,et(1))),a&&(r||(l=this.nodeManager?.extractRowData()??l),this.initRowManager()),l&&(!a&&this.started&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new j8(),this.nodeManager.setImmutableRowData(i,l)):(i.step="group",i.rowDataUpdated=!0,i.newData=!0,this.beans.selectionSvc?.reset("rowDataChanged"),this.rowNodesCountReady=!0,this.nodeManager.setNewRowData(l))),i.step==="nothing"){for(let{refreshProps:c,step:u}of this.orderedStages)if(e.some(d=>c.has(d))){i.step=u;break;}}i.step!=="nothing"&&this.refreshModel(i);}setRowTopAndRowIndex(){let{beans:e}=this,t=e.environment.getDefaultRowHeight(),n=0,i=new Set(),r=Gs(this.gos,"normal"),s=this.rowsToDisplay;for(let o=0,a=s.length;o<a;++o){let l=s[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){let c=jm(e,l,r,t);l.setRowHeight(c.height,c.estimated);}l.setRowTop(n),l.setRowIndex(o),n+=l.rowHeight;}return i;}clearRowTopAndRowIndex(e,t){let n=e.active,i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex();},r=s=>{if(s!==null&&(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){let o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(r);}};r(this.rootNode);}ensureRowsAtPixel(e,t,n=0){let i=this.getRowIndexAtPixel(t),r=this.getRow(i),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;let o=this.rootNode?.allLeafChildren;return o?(e.forEach(a=>{Fc(o,a);}),e.forEach((a,l)=>{o.splice(Math.max(i+n,0)+l,0,a);}),e.forEach((a,l)=>{a.sourceRowIndex=l;}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:s,rowNodesOrderChanged:!0}),!0):!1;}highlightRowAtPixel(e,t){let n=t!=null?this.getRowIndexAtPixel(t):null,i=n!=null?this.getRow(n):null;if(!i||!e||t==null){this.clearHighlightedRow();return;}let r=this.getHighlightPosition(t,i),s=this.isHighlightingCurrentPosition(e,i,r),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==i;(s||o)&&(this.clearHighlightedRow(),s)||(this.setRowNodeHighlighted(i,r),this.lastHighlightedRow=i);}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"));}getHighlightPosition(e,t){if(!t){let r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return"Below";}let{rowTop:n,rowHeight:i}=t;return e-n<i/2?"Above":"Below";}getLastHighlightedRowNode(){return this.lastHighlightedRow;}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;let i=n==="Above"?-1:1;return this.getRow(t.rowIndex+i)===e;}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null);}isLastRowIndexKnown(){return!0;}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0;}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let n=e.childrenAfterAggFilter,i=e.sibling?1:0;return(n?n.length:0)+i;}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let{childrenAfterSort:r}=t,s=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex;},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,r,s):s(e);}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null;}onRowGroupOpened(){let e=Ob(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e});}onFilterChanged(e){if(e.afterDataChange)return;let t=Ob(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t});}onSortChanged(){let e=Ob(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e});}getType(){return"clientSide";}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"});}createChangePath(e){let t=!e?.length,n=new UI(!1,this.rootNode);return t&&(n.active=!1),n;}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let t=e.rowNodeTransactions;return t?!t.some(r=>r.add!=null&&r.add.length>0||r.remove!=null&&r.remove.length>0):!1;}refreshModel(e){if(!this.rootNode)return;let t=e.rowNodeTransactions,n=e.changedPath??(e.changedPath=this.createChangePath(t));if(this.nodeManager.refreshModel?.(e),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,e.changedRowNodes,n,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.changedRowNodes,n);case"map":this.doRowsToDisplay();}let i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack});}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready;}isRowsToRender(){return this.rowsToDisplay.length>0;}getNodesInRangeForSelection(e,t){let n=!1,i=!1,r=[],s=W_(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(n&&(o===t||o===e)&&(i=!0,o.group&&s)){r.push(...o.allLeafChildren);return;}if(!n){if(o!==t&&o!==e)return;n=!0;}if(!o.group||!s){r.push(o);return;}}),r;}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null;}getRow(e){return this.rowsToDisplay[e];}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0;}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(ii(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){let a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),s===n&&o===i))return a;s=n,o=i;}}isRowInPixel(e,t){let n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t;}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n));}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...(this.rootNode?.childrenAfterGroup||[])],callback:e,recursionType:0,index:0,includeFooterNodes:t});}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...(this.rootNode?.childrenAfterAggFilter||[])],callback:e,recursionType:1,index:0,includeFooterNodes:t});}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...(this.rootNode?.childrenAfterSort||[])],callback:e,recursionType:2,index:0,includeFooterNodes:t});}forEachPivotNode(e,t=!1){let n=this.rootNode;n&&this.recursivelyWalkNodesAndCallback({nodes:[n],callback:e,recursionType:3,index:0,includeFooterNodes:t});}recursivelyWalkNodesAndCallback(e){let{nodes:t,callback:n,recursionType:i,includeFooterNodes:r}=e,{index:s}=e,{footerSvc:o}=this.beans;o?.addNodes(e,t,n,r,this.rootNode,"top");for(let a=0;a<t.length;a++){let l=t[a];if(n(l,s++),l.hasChildren()&&!l.footer){let c=null;switch(i){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break;}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:n,recursionType:i,index:s,includeFooterNodes:r}));}}return o?.addNodes(e,t,n,r,this.rootNode,"bottom"),s;}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e});}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter;}doSort(e,t){let{groupHideOpenParentsSvc:n}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(i=>{n?.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0),i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),nte(i);}),n?.updateGroupDataForHideOpenParents(t);}doRowGrouping(e,t,n,i,r){let s=this.nodeManager.treeData,o=this.rootNode;if(!s){let a=this.groupStage;if(a)a.execute({rowNode:o,changedPath:n,changedRowNodes:t,rowNodeTransactions:e,rowNodesOrderChanged:i,afterColumnsChanged:r});else{let l=o.sibling;o.childrenAfterGroup=o.allLeafChildren,l&&(l.childrenAfterGroup=o.childrenAfterGroup),o.updateHasChildren();}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,Bee(t);},!0);}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e});}getRowNode(e){if(typeof e=="string"&&e.indexOf(lB)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i);}),n;}return this.nodeManager.getRowNode(e);}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData();},n);}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t});}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData());}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],n=new j8(),i=!1;this.rowDataTransactionBatch?.forEach(r=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction,n);o&&(i=!0),t.push(s),r.callback&&e.push(r.callback.bind(null,s));}),this.commitTransactions(t,i,n),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r());},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0;}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new j8(),{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions([n],i,t),n;}commitTransactions(e,t,n){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:n,changedPath:this.createChangePath(e)});}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(let i of n)i.setUiLevel(0);}this.rowsToDisplay=n;}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0});}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced();}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged();}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0;}),e;}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights();}}onGridReady(){this.started||this.setInitialData();}isRowDataLoaded(){return this.rowCountReady;}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=qQ,this.rowsToDisplay=qQ;}};function YMe(e){e.expansionSvc?.onGroupExpandedOrCollapsed();}function XMe(e,t){let n=rd(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}));}function QMe(e){return rd(e)?.isEmpty()??!0;}function ZMe(e,t){rd(e)?.forEachLeafNode(t);}function JMe(e,t){rd(e)?.forEachNodeAfterFilter(t);}function eFe(e,t){rd(e)?.forEachNodeAfterFilterAndSort(t);}function tFe(e){if(e.rowAutoHeight?.active){et(3);return;}rd(e)?.resetRowHeights();}function nFe(e,t){return e.frameworkOverrides.wrapIncoming(()=>rd(e)?.updateRowData(t));}function iFe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>rd(e)?.batchUpdateRowData(t,n));}function rFe(e){e.frameworkOverrides.wrapIncoming(()=>rd(e)?.flushAsyncTransactions());}function sFe(e){return e.selectionSvc?.getBestCostNodeSelection();}var oFe={moduleName:"ClientSideRowModel",version:ht,rowModels:["clientSide"],beans:[UMe,KMe,$Me],dependsOn:[Iee]},aFe={moduleName:"ClientSideRowModelApi",version:ht,rowModels:["clientSide"],apiFunctions:{onGroupExpandedOrCollapsed:YMe,refreshClientSideRowModel:XMe,isRowDataEmpty:QMe,forEachLeafNode:ZMe,forEachNodeAfterFilter:JMe,forEachNodeAfterFilterAndSort:eFe,resetRowHeights:tFe,applyTransaction:nFe,applyTransactionAsync:iFe,flushAsyncTransactions:rFe,getBestCostNodeSelection:sFe},dependsOn:[VMe]},lFe=class extends Oe{constructor(){super(...arguments),this.beanName="gridSerializer";}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel;}serialize(e,t={}){let{allColumns:n,columnKeys:i,skipRowGroups:r}=t,s=this.getColumnsToExport(n,r,i);return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((o,a)=>a(o),e).parse();}processRow(e,t,n,i){let r=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,c=!!i.footer,u=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&Q2e(this.gos,i);if(!l&&!c&&(t.skipRowGroups||u||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.level===-1&&!l&&!c||r(this.gos.addGridCommonParams({node:i})))return;let f=e.onNewBodyRow(i);if(n.forEach((g,m)=>{f.onColumn(g,m,i);}),t.getCustomContentBelowRow){let g=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:i}));g&&e.addCustomContent(g);}}appendContent(e){return t=>{let n=e.appendContent;return n&&t.addCustomContent(n),t;};}prependContent(e){return t=>{let n=e.prependContent;return n&&t.addCustomContent(n),t;};}prepareSession(e){return t=>(t.prepare(e),t);}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){let i=new DJ(),{colGroupSvc:r}=this.beans,s=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback);}return n;};}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){let i=n.onNewHeaderRow();t.forEach((r,s)=>{i.onColumn(r,s,void 0);});}return n;};}processPinnedTopRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedTopRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.forEachPinnedRow("top",i),n;};}processRows(e,t){return n=>{let i=this.rowModel,r=jo(this.gos,i),s=Z_(this.gos,i),o=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>i.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0):s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||o){let c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a);}else l==="all"?i.forEachNode(a):r||s?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n;};}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;let i=t.getSortOptions(),r=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(i,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):r(s.parent,o.parent):s.level>o.level?r(s.parent,o):r(s,o.parent);e.sort(r);}processPinnedBottomRows(e,t){return n=>{let i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel?.getPinnedBottomRow(r.rowIndex)).forEach(i):this.pinnedRowModel?.forEachPinnedRow("bottom",i),n;};}getColumnsToExport(e=!1,t=!1,n){let{colModel:i,gos:r,visibleCols:s}=this,o=i.isPivotMode();if(n&&n.length)return i.getColsForKeys(n);let a=r.get("treeData"),l=[];return e&&!o?l=i.getCols():l=s.allCols,l=l.filter(c=>!td(c)&&(t&&!a?!PB(c):!0)),l;}recursivelyAddHeaderGroups(e,t,n){let i=[];e.forEach(r=>{let s=r;s.getChildren&&s.getChildren().forEach(o=>i.push(o));}),e.length>0&&vr(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n);}doAddHeaderHeader(e,t,n){let i=e.onNewHeaderGroupingRow(),r=0;t.forEach(s=>{let o=s,a;n?a=n(this.gos.addGridCommonParams({columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");let l=o.getLeafColumns().reduce((c,u,d,h)=>{let f=ii(c);return u.getColumnGroupShow()==="open"?(!f||f[1]!=null)&&(f=[d],c.push(f)):f&&f[1]==null&&(f[1]=d-1),d===h.length-1&&f&&f[1]==null&&(f[1]=d),c;},[]);i.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l);});}},cFe={moduleName:"SharedExport",version:ht,beans:[lFe]},EZ=`\r
`,uFe=class extends pke{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n;}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,EZ),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross);});}));}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)};}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i);}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("");}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)};}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e));}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)};}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);let i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value);}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(et(53),t=""),'"'+t.replace(/"/g,'""')+'"';}parse(){return this.result;}beginNewLine(){this.isFirstLine||(this.result+=EZ),this.isFirstLine=!1;}},dFe=class extends fke{constructor(){super(...arguments),this.beanName="csvCreator";}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc;}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e);}export(e){if(this.isExportSuppressed()){et(51);return;}let t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;gke(this.getFileName(r),i);}exportDataAsCsv(e){this.export(e);}getDataAsCsv(e,t=!1){let n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n);}getDefaultFileExtension(){return"csv";}createSerializingSession(e){let{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new uFe({colModel:t,colNames:n,valueSvc:r,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||",",rowGroupColsSvc:i});}isExportSuppressed(){return this.gos.get("suppressCsvExport");}};function hFe(e,t){return e.csvCreator?.getDataAsCsv(t);}function fFe(e,t){e.csvCreator?.exportDataAsCsv(t);}var pFe={moduleName:"CsvExport",version:ht,beans:[dFe],apiFunctions:{getDataAsCsv:hFe,exportDataAsCsv:fFe},dependsOn:[cFe]},gFe=class extends Oe{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize;}load(){this.state="loading",this.loadFromDatasource();}setStateWaitingToLoad(){this.version++,this.state="needsLoading";}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"});}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n});}isRequestMostRecentAndLive(e){let t=e===this.version,n=this.isAlive();return t&&n;}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t));}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let s=0;s<e;s++){let o=n+s,a=new Yb(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),r.push(a);}}getBlockStateJson(){let{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}};}setDataAndId(e,t,n){at(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0);}loadFromDatasource(){let e=this.createLoadParams();if(tr(this.params.datasource.getRows)){et(90);return;}window.setTimeout(()=>{this.params.datasource.getRows(e);},0);}createLoadParams(){let{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:s.getGridCommonParams().context};}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++);});}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let n=e-this.startRow;return this.rowNodes[n];}processServerResult(e){let{rowNodes:t,beans:n}=this;t.forEach((r,s)=>{let o=e.rowData?e.rowData[s]:void 0;!r.id&&r.alreadyRendered&&o&&(t[s]=new Yb(n),t[s].setRowIndex(r.rowIndex),t[s].setRowTop(r.rowTop),t[s].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s);});let i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i);}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex();}),super.destroy();}},mFe=2,vFe=class extends Oe{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount;}getRow(e,t=!1){let n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n);}return i.getRow(e);}createBlock(e){let t=this.params,n=this.createBean(new gFe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n;}refreshCache(){if(this.blockCount==0){this.purgeCache();return;}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad();}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy();}getRowCount(){return this.rowCount;}isLastRowIndexKnown(){return this.lastRowIndexKnown;}pageLoaded(e,t){this.isAlive()&&(Sp(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated());}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);let i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,s=mFe-1;t.forEach((o,a)=>{let l=o.state==="needsLoading"&&a>=s,c=i?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o);}});}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i;}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1);}removeBlockFromCache(e){e&&this.destroyBlock(e);}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s);}}setRowCount(e,t){this.rowCount=e,at(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated();}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount));}getBlocksInOrder(){let e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e);}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e);}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}));}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t);}),e.length>0&&e.forEach(t=>this.destroyBlock(t));}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated();}getRowNodesInRange(e,t){let n=[],i=-1,r=!1,s={value:0},o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&i+1!==l.id){o=!0;return;}i=l.id,l.forEachNode(c=>{let u=c===e||c===t;(r||u)&&n.push(c),u&&(r=!r);},s,this.rowCount);}}),o||r?[]:n;}},yFe=class extends Oe{constructor(){super(...arguments),this.beanName="rowModel";}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e};}ensureRowHeightsValid(){return!1;}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=zm(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()));}start(){this.setDatasource(this.gos.get("datasource"));}destroy(){this.destroyDatasource(),super.destroy();}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null);}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=zm(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights();});}onColumnEverything(){let e;this.cacheParams?e=!j_(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset();}getType(){return"infinite";}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset();}isEmpty(){return!this.infiniteCache;}isRowsToRender(){return!!this.infiniteCache;}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[];}reset(){if(!this.datasource)return;$b(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache();}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1});}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:zm(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new vFe(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent();}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex);}),this.dispatchModelUpdatedEvent();}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache);}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e);}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n);}),t;}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e);}getTopLevelRowCount(){return this.getRowCount();}getTopLevelRowDisplayedIndex(e){return e;}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t;}return 0;}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0;}isRowPresent(e){return!!this.getRowNode(e.id);}refreshCache(){this.infiniteCache?.refreshCache();}purgeCache(){this.infiniteCache?.purgeCache();}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1;}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t);}};function bFe(e){ZI(e)?.refreshCache();}function xFe(e){ZI(e)?.purgeCache();}function wFe(e){return ZI(e)?.getRowCount();}var CFe=class extends Oe{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0;}postConstruct(){this.maxConcurrentRequests=Z2e(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$o(this,this.performCheckBlocksToLoad.bind(this),e));}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad();}removeBlock(e){Fc(this.blocks,e);}destroy(){super.destroy(),this.active=!1;}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad();}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad();}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Sp(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return;}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus();}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:n,state:i}=t.getBlockStateJson();e[n]=i;}),e;}printCacheStatus(){Sp(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`);}},_Fe={moduleName:"InfiniteRowModel",version:ht,rowModels:["infinite"],apiFunctions:{refreshInfiniteCache:bFe,purgeInfiniteCache:xFe,getInfiniteRowCount:wFe},beans:[yFe,CFe],dependsOn:[HMe]},SFe="\u2191",EFe="\u2193",TFe=class extends ri{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");let n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e);}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0);}showDelta(e,t){let n=Math.abs(t),i=e.formatValue(n),r=at(i)?i:n,s=t>=0,o=this.eDelta;s?o.textContent=SFe+r:o.textContent=EFe+r,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s);}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue();},2e3);});}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),lo(this.eDelta);}refresh(e,t=!1){let{value:n,valueFormatted:i}=e,{eValue:r,lastValue:s,beans:o}=this;if(n===s||(at(i)?r.textContent=i:at(n)?r.textContent=n:lo(r),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof s=="number"){let a=n-s;this.showDelta(e,a);}return s&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0;}},AFe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",DFe=class extends ri{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(AFe);}init(e){this.refresh(e,!0);}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:n}=this,i=Fr(t).createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end");},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null);},3e3);});}refresh(e,t=!1){let n=e.value;if(tr(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;let i=this.eCurrent;return at(e.valueFormatted)?i.textContent=e.valueFormatted:at(e.value)?i.textContent=n:lo(i),!0;}},RFe=class extends Oe{constructor(){super(...arguments),this.beanName="cellFlashSvc";}onFlashCells(e,t){if(!e.comp)return;let n=nAe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight");}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration);}animateCell(e,t,n,i){let r=e.comp;if(!r)return;let{gos:s}=this;if(n||(n=s.get("cellFlashDuration")),n===0)return;at(i)||(i=s.get("cellFadeDuration"));let o=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;r.addOrRemoveCssClass(o,!0),r.addOrRemoveCssClass(a,!1);let{eGui:l}=e;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(o,!1),r.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(a,!1),l.style.transition="");},i));},n);});}};function IFe(e,t={}){let{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t));});}var PFe={moduleName:"HighlightChanges",version:ht,beans:[RFe],userComponents:{agAnimateShowChangeCellRenderer:TFe,agAnimateSlideCellRenderer:DFe},apiFunctions:{flashCells:IFe}};function kFe(e){return e.stateSvc?.getState()??{};}function MFe(e){switch(e=O({},e),e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=FFe(e);}return e;}function FFe(e){return e.cellSelection=NFe(e,"rangeSelection"),e;}function NFe(e,t){if(e&&typeof e=="object")return e[t];}var LFe=class extends Oe{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set(),this.dispatchStateUpdateEventDebounced=$o(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=$o(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());},0),this.onRowSelectedDebounced=$o(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState());},0),this.staleStateKeys=new Set();}postConstruct(){this.isClientSideRowModel=jo(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",ht);let e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));let[t,n,i]=this.addManagedEventListeners({newColumnsLoaded:({source:r})=>{r==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()));},rowCountReady:()=>{n?.(),e(()=>this.setupStateOnRowCountReady());},firstDataRendered:()=>{i?.(),e(()=>this.setupStateOnFirstDataRendered());}});}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear();}getInitialState(){return MFe(this.gos.get("initialState")??{});}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState;}setupStateOnGridReady(){let e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e});}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())});}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i);let r=this.updateCachedState.bind(this);r("filter",this.getFilterState()),r("rowGroupExpansion",this.getRowGroupExpansionState()),r("rowSelection",this.getRowSelectionState()),r("pagination",this.getPaginationState());let s=()=>{this.updateRowGroupExpansionStateTimer=0,r("rowGroupExpansion",this.getRowGroupExpansionState());};this.addManagedEventListeners({filterChanged:()=>r("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(s)));},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced();},paginationChanged:o=>{(o.newPage||o.newPageSize)&&r("pagination",this.getPaginationState());}});}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:t,focusedCell:n,columnOrder:i}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!i?.orderedColIds);let r=this.updateCachedState.bind(this);r("sideBar",this.getSideBarState()),r("focusedCell",this.getFocusedCellState());let s=this.getRangeSelectionState();r("rangeSelection",s),r("cellSelection",s),r("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>r("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){let a=this.getRangeSelectionState();r("rangeSelection",a),r("cellSelection",a);}},bodyScrollEnd:()=>r("scroll",this.getScrollState())});}getColumnState(){let e=this.beans,t=e.colModel.isPivotMode(),n=[],i=[],r=[],s=[],o=[],a=[],l=[],c=[],u=[],d=0,h=q_(e);for(let f=0;f<h.length;f++){let{colId:g,sort:m,sortIndex:y,rowGroup:b,rowGroupIndex:C,aggFunc:_,pivot:A,pivotIndex:I,pinned:N,hide:R,width:D,flex:V}=h[f];u.push(g),m&&(n[y??d++]={colId:g,sort:m}),b&&(i[C??0]=g),typeof _=="string"&&r.push({colId:g,aggFunc:_}),A&&(s[I??0]=g),N&&(N==="right"?a:o).push(g),R&&l.push(g),(V||D)&&c.push({colId:g,flex:V??void 0,width:D});}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0};}setColumnState(e){let{sort:t,rowGroup:n,aggregation:i,pivot:r,columnPinning:s,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=e,u={},d=y=>{let b=u[y];return b||(b={colId:y},u[y]=b,b);},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:y,sort:b},C)=>{let _=d(y);_.sort=b,_.sortIndex=C;}),h.sort=null,h.sortIndex=null),n&&(n.groupColIds.forEach((y,b)=>{let C=d(y);C.rowGroup=!0,C.rowGroupIndex=b;}),h.rowGroup=null,h.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:y,aggFunc:b})=>{d(y).aggFunc=b;}),h.aggFunc=null),r&&(r.pivotColIds.forEach((y,b)=>{let C=d(y);C.pivot=!0,C.pivotIndex=b;}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),s&&(s.leftColIds.forEach(y=>{d(y).pinned="left";}),s.rightColIds.forEach(y=>{d(y).pinned="right";}),h.pinned=null),o&&(o.hiddenColIds.forEach(y=>{d(y).hide=!0;}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:y,flex:b,width:C})=>{let _=d(y);_.flex=b??null,_.width=C;}),h.flex=null);let f=l?.orderedColIds,g=!!f?.length,m=g?f.map(y=>d(y)):Object.values(u);m.length&&(this.columnStates=m,kc(this.beans,{state:m,applyOrder:g,defaultState:h},"gridInitializing"));}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let n=this.columnGroupStates;this.columnGroupStates=void 0;let i=this.beans,{pivotResultCols:r,colGroupSvc:s}=i;if(r?.isPivotResultColsPresent()){if(t){let o=[];for(let a of t)r.getPivotResultCol(a.colId)&&o.push(a);kc(i,{state:o,applyOrder:e},"gridInitializing");}n&&s?.setColumnGroupState(n,"gridInitializing");}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState(),n=[];return t.forEach(({groupId:i,open:r})=>{r&&n.push(i);}),n.length?{openColumnGroupIds:n}:void 0;}setColumnGroupState(e){let t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;let n=new Set(e.columnGroup?.openColumnGroupIds),r=t.getColumnGroupState().map(({groupId:s})=>{let o=n.has(s);return o&&n.delete(s),{groupId:s,open:o};});n.forEach(s=>{r.push({groupId:s,open:!0});}),r.length&&(this.columnGroupStates=r),t.setColumnGroupState(r,"gridInitializing");}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let n=e?.getAdvFilterModel()??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0;}setFilterState(e){let t=this.beans.filterManager,{filterModel:n,advancedFilterModel:i}=e??{};n&&t?.setFilterModel(n,"columnFilter"),i&&t?.setAdvFilterModel(i);}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:n,type:i,startRow:r,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:i,startRow:r,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()};});return e?.length?{cellRanges:e}:void 0;}setCellSelectionState(e){let{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!Dh(t)||!n)return;let s=[];e.cellRanges.forEach(o=>{let a=[];if(o.colIds.forEach(c=>{let u=i.getCol(c);u&&a.push(u);}),!a.length)return;let l=i.getCol(o.startColId);if(!l){let c=r.allCols,u=new Set(a);l=c.find(d=>u.has(d));}s.push(Re(O({},o),{columns:a,startColumn:l}));}),n.setCellRanges(s);}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0;}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:n}=e,{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:s,ctrlsSvc:o}=this.beans;i.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),s?.flushAllFrames();});}getSideBarState(){return this.beans.sideBar?.comp?.getState();}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i};}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:n,rowPinned:i}=e,{focusSvc:r,colModel:s}=this.beans;r.setFocusedCell({column:s.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0});}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i};}setPaginationState(e){let{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page));}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t;}setRowSelectionState(e){this.beans.selectionSvc?.setSelectionState(e,"gridInitializing");}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r);}),n.length?{expandedRowGroupIds:n}:void 0;}setRowGroupExpansionState(e){this.beans.expansionSvc?.expandRows(e.expandedRowGroupIds);}updateColumnState(e){let t=this.getColumnState(),n=!1,i=this.cachedState;Object.entries(t).forEach(([r,s])=>{j_(s,i[r])||(n=!0);}),this.cachedState=O(O({},i),t),n&&this.dispatchStateUpdateEvent(e);}updateCachedState(e,t){let n=this.cachedState[e];this.setCachedStateValue(e,t),j_(t,n)||this.dispatchStateUpdateEvent([e]);}setCachedStateValue(e,t){this.cachedState=Re(O({},this.cachedState),{[e]:t});}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break;}}),e.clear();}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced());}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState});}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;let t=this.beans.colAnimation;t?.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]));});}},OFe={moduleName:"GridState",version:ht,beans:[LFe],apiFunctions:{getState:kFe}};function BFe(e){return e.rowModel.isLastRowIndexKnown();}function VFe(e){return e.pagination?.getPageSize()??100;}function HFe(e){return e.pagination?.getCurrentPage()??0;}function GFe(e){return e.pagination?.getTotalPages()??1;}function zFe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount();}function UFe(e){e.pagination?.goToNextPage();}function jFe(e){e.pagination?.goToPreviousPage();}function $Fe(e){e.pagination?.goToFirstPage();}function WFe(e){e.pagination?.goToLastPage();}function qFe(e,t){e.pagination?.goToPage(t);}var KFe=class extends Oe{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc";}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize();});}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null;}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize();}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,n=()=>{let i=Math.max(zm(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated");};this.isBodyRendered?$o(this,n,50)():(n(),this.isBodyRendered=!0);}else this.isBodyRendered=!1;}},P_="paginationPageSizeSelector",YFe=class extends ri{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus());};}wireBeans(e){this.pagination=e.pagination;}postConstruct(){this.addManagedPropertyListener(P_,()=>{this.onPageSizeSelectorValuesChange();}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)});}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0);}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp);}reset(){lo(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector();}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(P_)!==!1;}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){let r=this.gos.exists("paginationPageSize"),s=this.gos.get(P_)!==!0;et(94,{pageSizeSet:r,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||et(95,{paginationPageSizeOption:t,paginationPageSizeSelector:P_}),e.unshift("");}let i=String(n?"":t);this.selectPageSizeComp?(Ym(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n;}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}));}createPageSizeSelectorComp(e,t){let n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new WB()).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp);}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(P_);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i);}destroy(){this.toggleSelectDisplay(!1),super.destroy();}},XFe={selector:"AG-PAGE-SIZE-SELECTOR",component:YFe},QFe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",ZFe=class extends oee{constructor(){super(),this.btFirst=dt,this.btPrevious=dt,this.btNext=dt,this.btLast=dt,this.lbRecordCount=dt,this.lbFirstRowOnPage=dt,this.lbLastRowOnPage=dt,this.lbCurrent=dt,this.lbTotal=dt,this.pageSizeComp=dt,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(QFe);}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce;}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[XFe]);let{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",Ll(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Ll(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Ll(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",Ll(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):OTe(this.beans,s);},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged();}setAllowFocus(e){this.allowFocusInnerElement=e;}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange());}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector());}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===Me.ENTER||i.key===Me.SPACE)&&(i.preventDefault(),n());}});}),LTe(this.beans,this,this.getGui()),this.areListenersSetup=!0);}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage();}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):hke(e,this.getLocaleTextFunc.bind(this));}getTemplate(){let e=this.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${n}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${i}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${i}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`;}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage();}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage();}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage();}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled);}toggleButtonDisabled(e,t){g2e(e,t),e.classList.toggle("ag-disabled",t);}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0;}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null;if(i===1){let C=this.rowModel.getRow(0);if(C&&C.group&&!(C.groupData||C.aggData)){this.setTotalLabelsToZero();return;}}let r=this.pagination.getCurrentPage(),s=this.pagination.getPageSize(),o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*r+1,a=o+s-1,e&&a>i&&(a=i));let l=o+s-1,c=!e&&n<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let d,h=this.getLocaleTextFunc();c?d=h("pageLastRowUnknown","?"):d=this.formatNumber(a),this.lbLastRowOnPage.textContent=d;let g=t>0?r+1:0,m=this.formatNumber(g);this.lbCurrent.textContent=m;let y,b;if(e)y=this.formatNumber(t),b=this.formatNumber(i);else{let C=h("more","more");y=C,b=C;}this.lbTotal.textContent=y,this.lbRecordCount.textContent=b,this.announceAriaStatus(u,d,b,m,y);}announceAriaStatus(e,t,n,i,r){let s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,u=`${o} ${i} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,"paginationPage"));}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e);}},JFe={selector:"AG-PAGINATION",component:ZFe},eNe=class extends Oe{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0;}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this));}getPaginationSelector(){return JFe;}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows");}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0});}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions");}goToPage(e){let t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}));}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;}getPageForIndex(e){return Math.floor(e/this.pageSize);}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t);}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0;}getCurrentPage(){return this.currentPage;}goToNextPage(){this.goToPage(this.currentPage+1);}goToPreviousPage(){this.goToPage(this.currentPage-1);}goToFirstPage(){this.goToPage(0);}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t);}getPageSize(){return this.pageSize;}getTotalPages(){return this.totalPages;}setPage(e){this.currentPage=e;}get pageSize(){return at(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:at(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:at(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:at(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize;}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex);}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}));}setPageSize(e,t){let n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break;}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}));}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0;}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0);}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return;}let n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();let r=this.currentPage,s=n*r,o=n*(r+1)-1;if(o>i&&(o=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1;}}getMasterRowCount(){return this.masterRowCount;}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return;}let{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i);}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1;}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t});}},tNe={moduleName:"Pagination",version:ht,beans:[eNe,KFe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:BFe,paginationGetPageSize:VFe,paginationGetCurrentPage:HFe,paginationGetTotalPages:GFe,paginationGetRowCount:zFe,paginationGoToNextPage:UFe,paginationGoToPreviousPage:jFe,paginationGoToFirstPage:$Fe,paginationGoToLastPage:WFe,paginationGoToPage:qFe},dependsOn:[JI]};function nNe(e,t={}){let n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n));}function ite(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&ite(e,t.parent,n,i,r),t.setExpanded(n,void 0,r));}function iNe(e,t){return e.rowModel.getRowNode(t);}function rNe(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i);}function sNe(e){return e.rowRenderer.getRenderedNodes();}function oNe(e,t,n){e.rowModel.forEachNode(t,n);}function aNe(e){return e.rowRenderer.firstRenderedRow;}function lNe(e){return e.rowRenderer.lastRenderedRow;}function cNe(e,t){return e.rowModel.getRow(t);}function uNe(e){return e.rowModel.getRowCount();}var dNe={moduleName:"RowApi",version:ht,apiFunctions:{redrawRows:nNe,setRowNodeExpanded:ite,getRowNode:iNe,addRenderedRowListener:rNe,getRenderedNodes:sNe,forEachNode:oNe,getFirstDisplayedRowIndex:aNe,getLastDisplayedRowIndex:lNe,getDisplayedRowAtIndex:cNe,getDisplayedRowCount:uNe}},hNe={moduleName:"ScrollApi",version:ht,apiFunctions:{getVerticalPixelRange:Q5e,getHorizontalPixelRange:Z5e,ensureColumnVisible:ete,ensureIndexVisible:tte,ensureNodeVisible:J5e}};function fNe(e,t,n){if(!t)return;let i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n);}function pNe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t));}function gNe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()));}function mNe(e){return e.animationFrameSvc?.isQueueEmpty()??!0;}function vNe(e){e.animationFrameSvc?.flushAllFrames();}function yNe(e){return{rowHeight:zm(e),headerHeight:eS(e)};}function bNe(e,t={}){let n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{let o=s.getCellRenderer();o!=null&&n.push(K_(o));}),t.columns?.length)return n;let i=[],r=vB(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(r&&!yB(s.rowNode,r)||!s.isFullWidth())return;let o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){let l=o[a];l!=null&&i.push(K_(l));}}),[...i,...n];}var xNe={moduleName:"RenderApi",version:ht,apiFunctions:{setGridAriaProperty:fNe,refreshCells:pNe,refreshHeader:gNe,isAnimationFrameQueueEmpty:mNe,flushAllAnimationFrames:vNe,getSizesForCurrentTheme:yNe,getCellRendererInstances:bNe}};function wNe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t);}function CNe(e,t,n){e.colAutosize?.autoSizeCols({colKeys:t,skipHeader:n,source:"api"});}function _Ne(e,t){e.colAutosize?.autoSizeAllColumns("api",t);}var SNe=class extends Oe{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[];}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()});}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return;}let{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:s="api"}=e,{animationFrameSvc:o,renderStatus:a,colModel:l,autoWidthCalc:c,visibleCols:u}=this.beans;if(o?.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e);});return;}this.timesDelayed=0;let d=[],h=-1,f=n??this.gos.get("skipHeaderOnAutoSize"),g=i??f;for(;h!==0;){h=0;let m=[];t.forEach(y=>{if(!y)return;let b=l.getCol(y);if(!b||d.indexOf(b)>=0)return;let C=c.getPreferredWidthForColumn(b,f);if(C>0){let _=ENe(b,C);b.setActualWidth(_,s),d.push(b),h++;}m.push(b);}),m.length&&u.refresh(s);}g||this.autoSizeColumnGroupsByColumns(t,s,r),qb(this.eventSvc,d,!0,"autosizeColumns");}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t});}autoSizeColumnGroupsByColumns(e,t,n){let{colModel:i,ctrlsSvc:r}=this.beans,s=new Set();i.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=n;)u.isPadding()||s.add(u),u=u.getParent();});let a,l=[];for(let c of s){for(let u of r.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t);}return l;}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return;}let n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e});}addColumnAutosize(e,t){let n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n);};e.addEventListener("dblclick",i);let r=new Pb(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy();};}addColumnGroupResize(e,t,n){let i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{let s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId());}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n();};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r);}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),o=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=z_(r.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return;}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100);},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500);},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1);},500):et(29);}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return;}let r={};i&&i?.columnLimits?.forEach(m=>{var y=m,{key:f}=y,g=u1(y,["key"]);r[typeof f=="string"?f:f.getColId()]=g;});let s=this.beans.visibleCols.allCols,o=e===_h(s);if(e<=0||!s.length||o)return;let a=[],l=[];s.forEach(f=>{f.getColDef().suppressSizeToFit===!0?l.push(f):a.push(f);});let c=a.slice(0),u=!1,d=f=>{Fc(a,f),l.push(f);};for(a.forEach(f=>{f.resetActualWidth(t);let g=r?.[f.getId()],m=g?.minWidth??i?.defaultMinWidth,y=g?.maxWidth??i?.defaultMaxWidth,b=f.getActualWidth();typeof m=="number"&&b<m?f.setActualWidth(m,t,!0):typeof y=="number"&&b>y&&f.setActualWidth(y,t,!0);});!u;){u=!0;let f=e-_h(l);if(f<=0)a.forEach(g=>{let m=r?.[g.getId()]?.minWidth??i?.defaultMinWidth;if(typeof m=="number"){g.setActualWidth(m,t,!0);return;}g.setActualWidth(g.minWidth,t);});else{let g=f/_h(a),m=f;for(let y=a.length-1;y>=0;y--){let b=a[y],C=r?.[b.getId()],_=C?.minWidth??i?.defaultMinWidth,A=C?.maxWidth??i?.defaultMaxWidth,I=b.getMinWidth(),N=b.getMaxWidth(),R=typeof _=="number"&&_>I?_:I,D=typeof A=="number"&&A<N?A:N,V=Math.round(b.getActualWidth()*g);V<R?(V=R,d(b),u=!1):V>D?(V=D,d(b),u=!1):y===0&&(V=m),b.setActualWidth(V,t,!0),m-=V;}}}c.forEach(f=>{f.fireColumnWidthChangedEvent(t);});let h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!n&&qb(this.eventSvc,c,!0,t);}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:s});}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit");});}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n);});}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[];}pushResizeOperation(e){this.resizeOperationQueue.push(e);}destroy(){this.resizeOperationQueue.length=0,super.destroy();}};function ENe(e,t){let n=e.getMinWidth();t<n&&(t=n);let i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t;}var TNe={moduleName:"ColumnAutoSize",version:ht,beans:[SNe],apiFunctions:{sizeColumnsToFit:wNe,autoSizeColumns:CNe,autoSizeAllColumns:_Ne},dependsOn:[pee]};function ANe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0;}function DNe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0;}function RNe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t);}function INe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t);}var PNe=class extends Oe{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]};}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)});}isEmpty(e){return this.getCache(e).order.length===0;}isRowsToRender(e){return!this.isEmpty(e);}onGridStylesChanges(e){if(e.rowHeightChanged){let t=n=>{n.setRowHeight(n.rowHeight,!0);};k_(this.pinnedBottomRows,t),k_(this.pinnedTopRows,t);}}ensureRowHeightsValid(){let e=!1,t=0,n=i=>{if(i.rowHeightEstimated){let r=jm(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0;}};return k_(this.pinnedBottomRows,n),t=0,k_(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e;}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"});}updateNodesFromRowData(e,t){let n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return;}let i=$b(this.gos),r=t==="top"?jJ:$J,s=new Set(n.order),o=[],a=new Set(),l=0,c=-1;for(let u of e){let d=i?.({data:u,level:0,rowPinned:t})??r+this.nextId++;if(a.has(d)){et(96,{id:d,data:u});continue;}c++,a.add(d),o.push(d);let h=H_(n,d);if(h!==void 0)h.data!==u&&h.setData(u),l+=this.setRowTopAndRowIndex(h,l,c),s.delete(d);else{let f=new Yb(this.beans);f.id=d,f.data=u,f.rowPinned=t,l+=this.setRowTopAndRowIndex(f,l,c),n.cache[d]=f,n.order.push(d);}}s.forEach(u=>{H_(n,u)?.clearRowTopAndRowIndex(),delete n.cache[u];}),n.order=o;}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(jm(this.beans,e).height),e.setRowIndex(n),e.rowHeight;}getPinnedTopTotalHeight(){return TZ(this.pinnedTopRows);}getPinnedBottomTotalHeight(){return TZ(this.pinnedBottomRows);}getPinnedTopRowCount(){return wB(this.pinnedTopRows);}getPinnedBottomRowCount(){return wB(this.pinnedBottomRows);}getPinnedTopRow(e){return xB(this.pinnedTopRows,e);}getPinnedBottomRow(e){return xB(this.pinnedBottomRows,e);}getPinnedRowById(e,t){return H_(this.getCache(t),e);}forEachPinnedRow(e,t){return k_(this.getCache(e),t);}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows;}};function TZ(e){let t=wB(e);if(t===0)return 0;let n=xB(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight;}function H_(e,t){return e.cache[t];}function xB(e,t){return H_(e,e.order[t]);}function k_(e,t){e.order.forEach((n,i)=>{let r=H_(e,n);r&&t(r,i);});}function wB(e){return e.order.length;}var kNe={moduleName:"PinnedRow",version:ht,beans:[PNe],apiFunctions:{getPinnedTopRowCount:ANe,getPinnedBottomRowCount:DNe,getPinnedTopRow:RNe,getPinnedBottomRow:INe}},MNe=class extends Oe{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column;}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef();}applyCellClassRules(){let{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);OB(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,s=>t.addOrRemoveCssClass(s,!0),s=>t.addOrRemoveCssClass(s,!1)),this.cellClassRules=i;}applyUserStyles(){let e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){let r=this.getCellClassParams(e,t);i=n(r);}else i=n;i&&this.cellComp.setUserStyles(i);}applyClassesFromColDef(){let{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.addOrRemoveCssClass(s,!1));let r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(s=>t.addOrRemoveCssClass(s,!0));}getCellClassParams(e,t){let{value:n,rowNode:i}=this.cellCtrl;return this.beans.gos.addGridCommonParams({value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex});}},FNe=class extends Oe{constructor(){super(...arguments),this.beanName="cellStyles";}processAllCellClasses(e,t,n,i){OB(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n);}getStaticCellClasses(e,t){let{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[];}createCellCustomStyleFeature(e,t){return new MNe(e,t);}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r);});}},NNe={moduleName:"CellStyle",version:ht,beans:[FNe]},LNe={moduleName:"RowStyle",version:ht,beans:[bAe]};function ONe(e,t){return!!e.colHover?.isHovered(t);}var BNe=class extends Oe{constructor(e,t){super(),this.columns=e,this.element=t;}postConstruct(){if(this.gos.get("columnHoverHighlight")){let e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)});}}},VNe="ag-column-hover",HNe=class extends Oe{constructor(){super(...arguments),this.beanName="colHover";}setMouseOver(e){this.updateState(e);}clearMouseOver(){this.updateState(null);}isHovered(e){let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0;}addHeaderColumnHoverListener(e,t,n){let i=()=>{if(!this.gos.get("columnHoverHighlight"))return;let r=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",r);};e.addManagedEventListeners({columnHoverChanged:i}),i();}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;let n=this.isHovered(e);t.addOrRemoveCssClass(VNe,n);}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);let r=()=>{if(!this.gos.get("columnHoverHighlight"))return;let s=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",s);};e.addManagedEventListeners({columnHoverChanged:r}),r();}createHoverFeature(e,t,n){e.createManagedBean(new BNe(t,n));}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"});}},GNe={moduleName:"ColumnHover",version:ht,beans:[HNe],apiFunctions:{isColumnHovered:ONe}},zNe=class extends Oe{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map(),this.asyncListeners=new Map(),this.syncGlobalListeners=new Set(),this.globalListenerPairs=new Map();}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.();}addEventListener(e,t){let n=this.wrapSvc?.wrap(t)??t,i=!EI.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set()),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i);}removeEventListener(e,t){let n=this.wrapSvc?.unwrap(t)??t,r=!!this.asyncListeners.get(e)?.delete(n);r||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,r);}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{EI.has(s)&&t(s,o);},i=(s,o)=>{EI.has(s)||t(s,o);};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});let r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0);}removeGlobalListener(e){let{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=n?.unwrapGlobal(e)??e;if(i.has(r)){let{syncListener:o,asyncListener:a}=i.get(r);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),i.delete(e);}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1);}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear();}),e.clear();}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear();}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0);}),e.clear();}};function UNe(e,t,n){e.apiEventSvc?.addEventListener(t,n);}function jNe(e,t,n){e.apiEventSvc?.removeEventListener(t,n);}function $Ne(e,t){e.apiEventSvc?.addGlobalListener(t);}function WNe(e,t){e.apiEventSvc?.removeGlobalListener(t);}var qNe={moduleName:"EventApi",version:ht,apiFunctions:{addEventListener:UNe,addGlobalListener:$Ne,removeEventListener:jNe,removeGlobalListener:WNe},beans:[zNe]},KNe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",YNe=class extends Oe{constructor(){super(...arguments),this.beanName="tooltipSvc";}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);let r=k8(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!i&&r&&!a.headerComponent&&(i=SI(()=>o.querySelector(".ag-header-cell-text")));let l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:i},c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c;}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);let r=k8(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!i&&r&&!a?.headerGroupComponent&&(i=SI(()=>o.querySelector(".ag-header-group-text")));let l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);let c=this.createTooltipFeature(l);return c&&t.createBean(c);}enableCellTooltipFeature(e,t,n){let{column:i,rowNode:r}=e,s=()=>{let l=i.getColDef(),c=r.data;if(l.tooltipField&&at(c))return L_(c,l.tooltipField,i.isTooltipFieldContainsDots());let u=l.tooltipValueGetter;return u?u(this.gos.addGridCommonParams({location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:r,data:r.data,value:e.value,valueFormatted:e.valueFormatted})):null;},o=k8(this.gos);!n&&o&&!e.isCellRenderer()&&(n=SI(()=>{let{eGui:l}=e;return l.children.length===0?l:l.querySelector(".ag-cell-value");}));let a={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>r,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans);}refreshRowTooltip(e,t,n,i){let r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,o=s.context;e&&t.destroyBean(e,o);let a=this.createTooltipFeature(r,s);return t.createBean(a,o);}initCol(e){let{colDef:t}=e;e.tooltipEnabled=at(t.tooltipField)||at(t.tooltipValueGetter)||at(t.tooltipComponent);}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t);}},XNe={moduleName:"Tooltip",version:ht,beans:[YNe],dynamicBeans:{tooltipFeature:IDe},userComponents:{agTooltipComponent:cke},dependsOn:[JI],css:[KNe]},QNe={moduleName:"Locale",version:ht,beans:[nke]},ZNe=class extends Oe{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1;}setRowAutoHeight(e,t,n){e.__autoHeights||(e.__autoHeights={}),e.__autoHeights[n.getId()]=t,t!=null&&(e.__checkAutoHeightsDebounced==null&&(e.__checkAutoHeightsDebounced=$o(this,this.doCheckAutoHeights.bind(this,e),1)),e.__checkAutoHeightsDebounced());}checkAutoHeights(e){this.wasEverActive&&this.doCheckAutoHeights(e);}doCheckAutoHeights(e){let t=e.__autoHeights;if(t==null)return;let n=!1,i=!0,r=0,{visibleCols:s,colModel:o,colViewport:a,rowModel:l}=this.beans;s.autoHeightCols.forEach(u=>{let d=t[u.getId()];if(d==null){if(o.colSpanActive){let h=[];switch(u.getPinned()){case"left":h=s.getLeftColsForRow(e);break;case"right":h=s.getRightColsForRow(e);break;case null:h=a.getColsWithinViewport(e);break;}if(h.includes(u)){n=!0;return;}d=-1;}else{n=!0;return;}}else i=!1;d>r&&(r=d);}),!n&&((i||r<10)&&(r=jm(this.beans,e).height),r!=e.rowHeight&&(e.setRowHeight(r),l.onRowHeightChangedDebounced?.()));}setupCellAutoHeight(e,t,n){let i=t.parentElement,{rowNode:r,column:s}=e,o=this.beans,a=jm(o,r).height,l=d=>{if(e.editing||!e.isAlive()||!n.isAlive())return;let{paddingTop:h,paddingBottom:f,borderBottomWidth:g,borderTopWidth:m}=Km(i),y=h+f+g+m,C=t.offsetHeight+y;if(d<5){let A=Fr(o),I=!A||!A.contains(t),N=C==0;if(I||N){window.setTimeout(()=>l(d+1),0);return;}}let _=Math.max(C,a);this.setRowAutoHeight(r,_,s);},c=()=>l(0);c();let u=Tp(o,t,c);n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(r,void 0,s);});}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight()),this.active&&(this.wasEverActive=!0);}},JNe={moduleName:"RowAutoHeight",version:ht,beans:[ZNe]},n3={moduleName:"AllCommunity",version:ht,dependsOn:[oFe,pFe,_Fe,Uke,pMe,gMe,mMe,vMe,yMe,bMe,xMe,fMe,M5e,F5e,N5e,k5e,L5e,O5e,OFe,zMe,tNe,GIe,dNe,hNe,xNe,TNe,xRe,kNe,kMe,UPe,NNe,GNe,LNe,qNe,WPe,PFe,XNe,QNe,JNe,bRe,aFe]};var rte=(()=>{class e extends Nee{setViewContainerRef(n,i){this.viewContainerRef=n,this.angularFrameworkOverrides=i;}createWrapper(n){let i=this.angularFrameworkOverrides,r=this;class s extends o7{init(l){i.runInsideAngular(()=>{super.init(l),this._componentRef.changeDetectorRef.detectChanges();});}createComponent(){return i.runInsideAngular(()=>r.createComponent(n));}hasMethod(l){return o.getFrameworkComponentInstance()[l]!=null;}callMethod(l,c){let u=this.getFrameworkComponentInstance(),d=u[l];return l==="doesFilterPass"?d.apply(u,c):i.runInsideAngular(()=>d.apply(u,c));}addMethod(l,c){o[l]=c;}}let o=new s();return o;}createComponent(n){return this.viewContainerRef.createComponent(n);}static{this.ɵfac=(()=>{let n;return function(r){return(n||(n=El(e)))(r||e);};})();}static{this.ɵprov=ot({token:e,factory:e.ɵfac});}}return e;})(),o7=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,Nl(this._eGui),this._agAwareComponent.agInit(this._params);}getGui(){return this._eGui;}getRootElement(){return this._eGui.firstChild;}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy();}getFrameworkComponentInstance(){return this._frameworkComponentInstance;}},i3=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map(),this.wrappedGlobalListeners=new Map();}wrap(t){let n=t;return this.frameworkOverrides.shouldWrapOutgoing&&(n=i=>{this.frameworkOverrides.wrapOutgoing(()=>t(i));},this.wrappedListeners.set(t,n)),n;}wrapGlobal(t){let n=t;return this.frameworkOverrides.shouldWrapOutgoing&&(n=(i,r)=>{this.frameworkOverrides.wrapOutgoing(()=>t(i,r));},this.wrappedGlobalListeners.set(t,n)),n;}unwrap(t){return this.wrappedListeners.get(t)??t;}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t;}},ste=(()=>{class e extends qB{constructor(n){super("angular"),this._ngZone=n,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(i,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(i):i():this.runOutside=i=>this._ngZone.runOutsideAngular(i):this.runOutside=i=>i();}get shouldWrapOutgoing(){return this._ngZone&&Tn.isInAngularZone();}createLocalEventListenerWrapper(n,i){if(this.shouldWrapOutgoing)return n??(i.setFrameworkOverrides(this),new i3(this));}createGlobalEventListenerWrapper(){return new i3(this);}isFrameworkComponent(n){if(!n)return!1;let i=n.prototype;return i&&"agInit"in i;}runInsideAngular(n){return this._ngZone?this._ngZone.run(n):n();}runOutsideAngular(n,i){return this.runOutside(n,i);}static{this.ɵfac=function(i){return new(i||e)(rt(Tn));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac});}}return e;})(),tx=(()=>{class e{constructor(n,i,r,s){this._viewContainerRef=i,this._angularFrameworkOverrides=r,this._frameworkCompWrapper=s,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(o=>{this._resolveFullyReady=o;}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new _e(),this.toolPanelSizeChanged=new _e(),this.columnMenuVisibleChanged=new _e(),this.contextMenuVisibleChanged=new _e(),this.cutStart=new _e(),this.cutEnd=new _e(),this.pasteStart=new _e(),this.pasteEnd=new _e(),this.columnVisible=new _e(),this.columnPinned=new _e(),this.columnResized=new _e(),this.columnMoved=new _e(),this.columnValueChanged=new _e(),this.columnPivotModeChanged=new _e(),this.columnPivotChanged=new _e(),this.columnGroupOpened=new _e(),this.newColumnsLoaded=new _e(),this.gridColumnsChanged=new _e(),this.displayedColumnsChanged=new _e(),this.virtualColumnsChanged=new _e(),this.columnEverythingChanged=new _e(),this.columnHeaderMouseOver=new _e(),this.columnHeaderMouseLeave=new _e(),this.columnHeaderClicked=new _e(),this.columnHeaderContextMenu=new _e(),this.componentStateChanged=new _e(),this.cellValueChanged=new _e(),this.cellEditRequest=new _e(),this.rowValueChanged=new _e(),this.cellEditingStarted=new _e(),this.cellEditingStopped=new _e(),this.rowEditingStarted=new _e(),this.rowEditingStopped=new _e(),this.undoStarted=new _e(),this.undoEnded=new _e(),this.redoStarted=new _e(),this.redoEnded=new _e(),this.cellSelectionDeleteStart=new _e(),this.cellSelectionDeleteEnd=new _e(),this.rangeDeleteStart=new _e(),this.rangeDeleteEnd=new _e(),this.fillStart=new _e(),this.fillEnd=new _e(),this.filterOpened=new _e(),this.filterChanged=new _e(),this.filterModified=new _e(),this.advancedFilterBuilderVisibleChanged=new _e(),this.chartCreated=new _e(),this.chartRangeSelectionChanged=new _e(),this.chartOptionsChanged=new _e(),this.chartDestroyed=new _e(),this.cellKeyDown=new _e(),this.gridReady=new _e(),this.firstDataRendered=new _e(),this.gridSizeChanged=new _e(),this.modelUpdated=new _e(),this.virtualRowRemoved=new _e(),this.viewportChanged=new _e(),this.bodyScroll=new _e(),this.bodyScrollEnd=new _e(),this.dragStarted=new _e(),this.dragStopped=new _e(),this.dragCancelled=new _e(),this.stateUpdated=new _e(),this.paginationChanged=new _e(),this.rowDragEnter=new _e(),this.rowDragMove=new _e(),this.rowDragLeave=new _e(),this.rowDragEnd=new _e(),this.rowDragCancel=new _e(),this.columnRowGroupChanged=new _e(),this.rowGroupOpened=new _e(),this.expandOrCollapseAll=new _e(),this.pivotMaxColumnsExceeded=new _e(),this.pinnedRowDataChanged=new _e(),this.rowDataUpdated=new _e(),this.asyncTransactionsFlushed=new _e(),this.storeRefreshed=new _e(),this.headerFocused=new _e(),this.cellClicked=new _e(),this.cellDoubleClicked=new _e(),this.cellFocused=new _e(),this.cellMouseOver=new _e(),this.cellMouseOut=new _e(),this.cellMouseDown=new _e(),this.rowClicked=new _e(),this.rowDoubleClicked=new _e(),this.rowSelected=new _e(),this.selectionChanged=new _e(),this.cellContextMenu=new _e(),this.rangeSelectionChanged=new _e(),this.cellSelectionChanged=new _e(),this.tooltipShow=new _e(),this.tooltipHide=new _e(),this.sortChanged=new _e(),this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1;});}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let n=Object.entries(this).filter(([a,l])=>!(a.startsWith("_")||a=="gridOptions"||a=="modules"||l instanceof _e)).map(([a])=>a),i={};n.forEach(a=>{let l=tLe(a,this[a]);i[a]=l;});let r=aJ(this.gridOptions,i,n),s={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},o=Pee(this._nativeElement,r,s);o&&(this.api=o),this._initialised=!0,this._resolveFullyReady();});}ngOnChanges(n){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let i={};Object.entries(n).forEach(([r,s])=>{i[r]=s.currentValue;}),lJ(i,this.api);});}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy());}isEmitterUsed(n){let r=this[n],s=r?.observed??r?.observers?.length>0,o=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[o];return s||a;}globalListener(n,i){if(this._destroyed)return;let r=this[n];if(r&&this.isEmitterUsed(n)){let s=()=>this._angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));this._holdEvents?this._fullyReady.then(()=>s()):s();}}static{this.ɵfac=function(i){return new(i||e)(Te(Un),Te(ma),Te(ste),Te(rte));};}static{this.ɵcmp=St({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",Ie],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",Ie],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",Ie],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",Ie],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",Ie],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",Ie],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",Ie],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",Ie],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",Ie],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",Ie],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",Ie],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",Ie],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",Ie],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",Ie],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",Ie],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",Ie],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",Ie],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",Ie],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",Ie],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",Ie],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",Ie],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",Ie],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",Ie],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",Ie],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",Ie],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",Ie],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",Ie],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:[2,"singleClickEdit","singleClickEdit",Ie],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",Ie],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",Ie],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",Ie],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",Ie],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",Ie],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",Ie],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",Ie],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",Ie],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",Ie],excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",Ie],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",Ie],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",Ie],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",Ie],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",Ie],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",Ie],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",Ie],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",Ie],enableCharts:[2,"enableCharts","enableCharts",Ie],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",Ie],keepDetailRows:[2,"keepDetailRows","keepDetailRows",Ie],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",Ie],context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",Ie],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",Ie],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",Ie],suppressTouch:[2,"suppressTouch","suppressTouch",Ie],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",Ie],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",Ie],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",Ie],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",Ie],debug:[2,"debug","debug",Ie],loading:[2,"loading","loading",Ie],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",Ie],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",Ie],pagination:[2,"pagination","pagination",Ie],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",Ie],paginateChildRows:[2,"paginateChildRows","paginateChildRows",Ie],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",Ie],pivotMode:[2,"pivotMode","pivotMode",Ie],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",Ie],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",Ie],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",Ie],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",Ie],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",Ie],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",Ie],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",Ie],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",Ie],animateRows:[2,"animateRows","animateRows",Ie],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",Ie],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",Ie],enableRtl:[2,"enableRtl","enableRtl",Ie],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",Ie],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",Ie],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",Ie],rowDragManaged:[2,"rowDragManaged","rowDragManaged",Ie],suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",Ie],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",Ie],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",Ie],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",Ie],rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",Ie],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",Ie],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",Ie],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",Ie],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",Ie],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",Ie],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",Ie],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",Ie],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",Ie],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",Ie],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",Ie],rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",Ie],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",Ie],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",Ie],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",Ie],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",Ie],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",Ie],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",Ie],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",Ie],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",Ie],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",Ie],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",Ie],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",Ie],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",Ie],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",Ie],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",Ie],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",Ie],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",Ie],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",Ie],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",Ie],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",Ie],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",Ie],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",Ie],selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",Ie],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",Ie],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",Ie],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",Ie],enableFillHandle:[2,"enableFillHandle","enableFillHandle",Ie],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",Ie],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",Ie],unSortIcon:[2,"unSortIcon","unSortIcon",Ie],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",Ie],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",Ie],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",Ie],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",Ie],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",Ie],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",Ie],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",Ie],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",Ie],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",Ie],getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",Ie],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[Rr([ste,rte]),U1,Si],decls:0,vars:0,template:function(i,r){},encapsulation:2});}}return e;})(),eLe=new Set(i7);function tLe(e,t){return eLe.has(e)?t===""?!0:t==="false"?!1:t:t;}function nLe(e,t){e&1&&(j(0,"div",26),je(1,9),q());}function iLe(e,t){e&1&&(j(0,"div",27),je(1,10),q());}function rLe(e,t){if(e&1){let n=zt();j(0,"app-nice-form",28),Ze("result",function(r){vt(n);let s=ve(2);return yt(s.update(r));}),q();}if(e&2){let n=ve(2);se("resetAfterSubmit",!1)("formcontrol",n.formcontrol);}}function sLe(e,t){if(e&1&&(j(0,"div",29)(1,"h3"),je(2,11),q(),Ke(3,"ag-grid-angular",30),q()),e&2){let n=ve(2);J(2),Il(n.employee==null?null:n.employee.userName),Ac(2),J(),se("rowData",n.employee_salary)("columnDefs",n.filteredSalaryDefs);}}function oLe(e,t){if(e&1&&(j(0,"div"),Ke(1,"app-leavecard",32)(2,"hr"),q()),e&2){let n=t.$implicit;J(),se("leave",n);}}function aLe(e,t){if(e&1&&(j(0,"div"),Le(1,oLe,3,1,"div",31),q()),e&2){let n=ve(2);J(),se("ngForOf",n.leaves.leaves);}}function lLe(e,t){if(e&1&&(j(0,"div"),Ke(1,"app-taskcard",33)(2,"hr"),q()),e&2){let n=t.$implicit;J(),se("task",n);}}function cLe(e,t){if(e&1&&(j(0,"div"),Le(1,lLe,3,1,"div",31),q()),e&2){let n=ve(2);J(),se("ngForOf",n.tasks.tasks);}}function uLe(e,t){if(e&1){let n=zt();j(0,"main",15)(1,"div",16),Le(2,nLe,2,0,"div",17)(3,iLe,2,0,"div",18),j(4,"h3"),je(5,0),q(),j(6,"p"),je(7,1),q(),Le(8,rLe,1,2,"app-nice-form",19),q(),Ke(9,"br"),j(10,"div",16)(11,"h3"),je(12,2),q(),j(13,"p"),je(14,3),q(),j(15,"div",20)(16,"button",21),Ze("click",function(){vt(n);let r=ve();return yt(r.remove());}),je(17,4),q()()(),Ke(18,"br"),j(19,"div",16)(20,"h3"),je(21,5),q(),j(22,"app-nice-form",22),Ze("result",function(r){vt(n);let s=ve();return yt(s.addSalary(r));}),q(),Le(23,sLe,4,3,"div",23),q(),Ke(24,"br"),j(25,"div",16)(26,"div",24)(27,"h3"),je(28,6),q(),Le(29,aLe,2,1,"div",25),q()(),Ke(30,"br"),j(31,"div",16)(32,"h3"),je(33,7),q(),j(34,"app-nice-form",22),Ze("result",function(r){vt(n);let s=ve();return yt(s.createTask(r));}),q(),j(35,"div",24)(36,"h3"),je(37,8),q(),Le(38,cLe,2,1,"div",25),q()()();}if(e&2){let n=ve();J(2),se("ngIf",n.success_status=="SUCCESS"),J(),se("ngIf",n.success_status=="ERROR"),J(2),Il(n.employee.userName),Ac(5),J(3),se("ngIf",n.showForm),J(4),Il(n.employee.userName),Ac(12),J(10),se("formcontrol",n.salaryform),J(),se("ngIf",n.employee_salary.length>0),J(6),se("ngIf",n.leaves!=null),J(5),se("formcontrol",n.createtaskform),J(4),se("ngIf",n.tasks!=null);}}YI.registerModules([n3]);var r3=class e{constructor(t,n,i,r){this.employeeService=t;this.router=n;this.route=i;this.datePipe=r;}employee;formcontrol;departmentOptions;showForm=!1;filteredSalaryDefs=[{field:"basicSalary",sortable:!0,filter:!0},{field:"allowances",sortable:!0,filter:!0},{field:"deductions",sortable:!0,filter:!0},{field:"payDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{headerName:"Net Salary",sortable:!0,valueGetter:t=>{let n=t.data.basicSalary||0,i=t.data.allowances||0,r=t.data.deductions||0;return n+i-r;},valueFormatter:t=>t.value.toFixed(2)}];strongstring(t){return"<strong> "+t+" </strong>";}setformcontrol(){this.formcontrol=[{name:"firstname",type:"text",title:"Ime: "+this.strongstring(this.employee.firstName),placeholder:"Ime",default:"",validators:[]},{name:"lastname",type:"text",title:"Priimek: "+this.strongstring(this.employee.lastName),placeholder:"Priimek",default:"",validators:[]},{name:"email",type:"text",title:"Email: "+this.strongstring(this.employee.email),placeholder:"Email",default:"",validators:[ft.email]},{name:"phonenumber",type:"text",title:"Telefonska stevilka: "+this.strongstring(this.employee.phoneNumber),placeholder:"Telefonska stevilka",default:"",validators:[ft.pattern("[0-9]+")]},{name:"jobtitle",type:"text",title:"Naziv slu\u017Ebe: "+this.strongstring(this.employee.jobTitle),placeholder:"Naziv slu\u017Ebe",default:"",validators:[]},{name:"role",type:"select",title:"Vloga"+this.strongstring(this.employee.role),placeholder:"Vloga",default:"",validators:[],options:[{label:"admin",value:"admin"},{label:"employee",value:"employee"}]},{name:"departmentid",type:"select",title:"Oddelek"+this.strongstring(this.departmentOptions.find(t=>t.value==this.employee.departmentId)?.label||""),placeholder:"Oddelek",default:"",options:this.departmentOptions,validators:[]},{name:"salary",type:"text",title:"Pla\u010Da: "+this.strongstring(String(this.employee.salary)),placeholder:"Pla\u010Da",default:"",validators:[]},{name:"walletAddress",type:"text",title:"Wallet Address: "+this.strongstring(String(this.employee.walletAddress)),placeholder:"Wallet Adress",default:"",validators:[]}],this.showForm=!1,setTimeout(()=>this.showForm=!0,0);}employee_salary=[];ngOnInit(){this.setEmployee();}fetchEmployeeSalaries(){this.employeeService.getSalaries(this.employee.userName).pipe(Os(1)).subscribe(t=>{t&&Array.isArray(t.salaries)?this.employee_salary=t.salaries:this.employee_salary=[];},t=>{});}setEmployee(){this.route.paramMap.subscribe(t=>{let n=t.get("name");n!=null&&this.employeeService.getEmployee(n).subscribe(i=>{this.employee=i,this.employee_salaries=this.employeeService.getSalaries(this.employee.userName),this.employee_leaves=this.employeeService.getEmployeeLeaves(this.employee.userName),this.employee_tasks=this.employeeService.getEmployeeTasks(this.employee.userName),this.employeeService.getDepartments().pipe(Os(1)).subscribe(r=>{let s=r.map(o=>({label:o.name||"Unknown",value:o._id??""}));this.departmentOptions=s,this.fetchEmployeeSalaries(),this.getTasks(),this.getLeaves(),this.setformcontrol();},r=>[]);});});}success_status="UNSET";update(t){let n={firstName:t.firstname==""?void 0:t.firstname,lastName:t.lastname==""?void 0:t.lastname,email:t.email==""?void 0:t.email,phoneNumber:t.phonenumber==""?void 0:t.phonenumber,jobTitle:t.jobtitle==""?void 0:t.jobtitle,role:t.role==""?void 0:t.role,departmentId:t.departmentid==""?void 0:t.departmentid,hireDate:"2024-11-26T10:21:38.124Z",salary:t.salary==""?void 0:parseInt(t.salary),walletAddress:t.walletAddress==""?void 0:t.walletAddress};this.employeeService.updateEmployee(this.employee.userName,n).subscribe(i=>{this.success_status="SUCCESS",this.setEmployee();},i=>{this.success_status="ERROR";});}remove(){this.employeeService.removeEmployee(this.employee.userName).subscribe(t=>{this.router.navigate(["/register"]);},t=>{});}salaryform=[{name:"basicSalary",type:"text",title:"Osnovna pla\u010Da: ",placeholder:"Osnovna pla\u010Da",default:"",validators:[ft.required,ft.pattern("[0-9]*")]},{name:"allowances",type:"text",title:"Bonus: ",placeholder:"Bonus",default:"",validators:[ft.pattern("[0-9]*")]},{name:"deductions",type:"text",title:"Odliv: ",placeholder:"Odliv",default:"",validators:[ft.pattern("[0-9]*")]}];employee_salaries;addSalary(t){let n={userName:this.employee.userName,basicSalary:parseInt(t.basicSalary),allowances:t.allowances==""?void 0:parseInt(t.allowances),deductions:t.deductions==""?void 0:parseInt(t.deductions),payDate:String(new Date())};this.employeeService.addSalary(n).subscribe(i=>{this.setEmployee();},i=>{});}leaverequestform=[{name:"reason",type:"text",title:"Razlog za pro\u0161njo: ",placeholder:"Razlog",default:"",validators:[ft.required]},{name:"startDate",type:"date",title:"Za\u010Detek:",placeholder:"Za\u010Detek",default:"",validators:[ft.required]},{name:"endDate",type:"date",title:"Konec: ",placeholder:"Konec",default:"",validators:[ft.required]}];employee_leaves;requestLeave(t){let n={userName:this.employee.userName,reason:t.reason,startDate:t.startDate,endDate:t.endDate};this.employeeService.addLeave(n).subscribe(i=>{this.setEmployee();},i=>{});}leaves;getLeaves(){this.employeeService.getEmployeeLeaves(this.employee.userName).subscribe(t=>{this.leaves=t;});}updateLeaves(t,n){this.employeeService.updateLeave(t,{status:n}).subscribe(i=>{this.getLeaves();});}createtaskform=[{name:"description",type:"text",title:"Opis naloge: ",placeholder:"Opis",default:"",validators:[ft.required]},{name:"startDate",type:"date",title:"Za\u010Detek:",placeholder:"Za\u010Detek",default:new Date().toISOString().substring(0,10),validators:[ft.required]},{name:"dueDate",type:"date",title:"Rok: ",placeholder:"Rok",default:new Date().toISOString().substring(0,10),validators:[ft.required]}];employee_tasks;createTask(t){let n={userName:this.employee.userName,description:t.description,startDate:t.startDate,dueDate:t.dueDate};this.employeeService.addTask(n).subscribe(i=>{this.setEmployee();},i=>{});}tasks;getTasks(){this.employeeService.getEmployeeTasks(this.employee.userName).subscribe(t=>{this.tasks=t;});}updateTask(t,n){this.employeeService.updateTask(t,{status:n}).subscribe(i=>{this.getTasks();});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr),Te(Ir));};static ɵcmp=St({type:e,selectors:[["app-userpage"]],features:[Rr([Ir])],decls:5,vars:1,consts:()=>{let t;t="Spremeni podatke "+"\uFFFD0\uFFFD"+"";let n;n="Posodobi uporabnikove podatke.";let i;i="Izbri\u0161i uporabni\u0161ki profil "+"\uFFFD0\uFFFD"+"";let r;r="Izbri\u0161i uporabnika iz podatkovne baze.";let s;s=" Izbri\u0161i ";let o;o="Dodaj pla\u010Do zaposlenemu.";let a;a="Pro\u0161nje za dopust";let l;l="Ustvari nalogo";let c;c="Naloge";let u;u="Uspe\u0161no dodan zaposleni!";let d;d="Neuspeh! Poskusite znova.";let h;return h=""+"\uFFFD0\uFFFD"+" pla\u010De",[t,n,i,r,s,o,a,l,c,u,d,h,[1,"d-flex","flex-column-reverse","flex-md-row","gap-2"],[1,"d-flex","align-items-star","p-5",2,"min-width","200px"],["class","align-items-center",4,"ngIf"],[1,"align-items-center"],[1,"container-sm","p-5","bg-light"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"resetAfterSubmit","formcontrol","result",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-danger","w-75",3,"click"],[3,"result","formcontrol"],["class","mt-4",4,"ngIf"],[1,"container-sm","py-2","my-5","shadow-md","bg-light"],[4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[3,"result","resetAfterSubmit","formcontrol"],[1,"mt-4"],[2,"height","300px",3,"rowData","columnDefs"],[4,"ngFor","ngForOf"],[3,"leave"],[3,"task"]];},template:function(n,i){n&1&&(j(0,"div",12)(1,"div",13),Ke(2,"app-sidebar"),q(),j(3,"div"),Le(4,uLe,39,10,"main",14),q()()),n&2&&(J(4),se("ngIf",i.employee!=null));},dependencies:[Db,Mr,cn,ji,rn,Rb,uI,tx],encapsulation:2});};var nx=(e,t)=>qe(gn).administrator?!0:qe(Fn).navigate(["/login"],{queryParams:{redirected:"true"}});function dLe(e,t){if(e&1&&(j(0,"li",13)(1,"a",14)(2,"b"),nt(3),q(),Ke(4,"br"),j(5,"span",15),nt(6),q()()()),e&2){let n=t.$implicit;J(),se("routerLink","/department/"+n._id),J(2),Mn(n.name),J(3),Mn(n.description);}}function hLe(e,t){e&1&&(j(0,"div",16),je(1,2),q());}function fLe(e,t){e&1&&(j(0,"div",17),je(1,3),q());}var s3=class e{constructor(t){this.employeeService=t;}departments=[];ngOnInit(){this.loadDepartments();}createDepartmentform=[{name:"name",type:"text",title:"Ime: ",placeholder:"Ime",default:"",validators:[ft.required]},{name:"description",type:"text",title:"Opis: ",placeholder:"Opis",default:"",validators:[ft.required]}];loadDepartments(){this.employeeService.getDepartments().pipe(Os(1)).subscribe(t=>{this.departments=t;},t=>{});}error=!1;success=!1;addDepartment(t){this.employeeService.addDepartment(t).subscribe(n=>{this.error=!1,this.success=!0,this.departments.push(n);},n=>{this.error=!0;});}static ɵfac=function(n){return new(n||e)(Te(gn));};static ɵcmp=St({type:e,selectors:[["app-departments"]],decls:13,vars:4,consts:()=>{let t;t="Oddelki";let n;n="Ustvari oddelek";let i;i="Napaka pri dodajanju oddelka.";let r;return r="Oddelek uspe\u0161no dodan.",[t,n,i,r,[1,"d-flex","flex-column-reverse","flex-md-row","gap-2"],[1,""],[1,"container-fluid","sidebar-header","d-flex","align-items-center","justify-content-between"],[1,"nav","flex-column","mt-3"],["class","nav-item",4,"ngFor","ngForOf"],[1,"container-sm","p-5","bg-light"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"result","formcontrol"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"],[1,"text-muted"],[1,"alert","alert-danger"],[1,"alert","alert-success"]];},template:function(n,i){n&1&&(j(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5"),je(4,0),q()(),j(5,"ul",7),Le(6,dLe,7,3,"li",8),q()(),j(7,"div",9),Le(8,hLe,2,0,"div",10)(9,fLe,2,0,"div",11),j(10,"h3"),je(11,1),q(),j(12,"app-nice-form",12),Ze("result",function(s){return i.addDepartment(s);}),q()()()),n&2&&(J(6),se("ngForOf",i.departments),J(2),se("ngIf",i.error),J(),se("ngIf",i.success),J(3),se("formcontrol",i.createDepartmentform));},dependencies:[cn,ji,rn,Cb,Mr],encapsulation:2});};var pLe=e=>["/user",e];function gLe(e,t){e&1&&(j(0,"div",15),je(1,3),q());}function mLe(e,t){e&1&&(j(0,"div",16),je(1,4),q());}function vLe(e,t){if(e&1){let n=zt();j(0,"div",12)(1,"h3"),je(2,5),q(),j(3,"app-nice-form",17),Ze("result",function(r){vt(n);let s=ve();return yt(s.update(r));}),q()();}if(e&2){let n=ve();J(3),se("formcontrol",n.formcontrol);}}function yLe(e,t){if(e&1&&(j(0,"li",20)(1,"a",21),nt(2),q()()),e&2){let n=t.$implicit;J(),se("routerLink",dh(3,pLe,n.userName)),J(),nR("",n.firstName," ",n.lastName,"");}}function bLe(e,t){if(e&1&&(j(0,"div",12)(1,"h3"),je(2,6),q(),j(3,"ul",18),Le(4,yLe,3,5,"li",19),q()()),e&2){let n=ve();J(2),Il(n.department==null?null:n.department.name),Ac(2),J(2),se("ngForOf",n.employees);}}function xLe(e,t){e&1&&(j(0,"div",12)(1,"h3"),je(2,7),q()());}var o3=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.route=i;}department;id;employees=[];ngOnInit(){this.getDepartment(),this.getEmployeesInDepartment;}formcontrol;strongstring(t){return"<strong> "+t+" </strong>";}InitForm(){this.formcontrol=[{name:"name",type:"text",title:"Ime: "+this.strongstring(this.department.name),placeholder:"Ime",default:"",validators:[ft.required]},{name:"description",type:"text",title:"Opis: "+this.strongstring(this.department.description),placeholder:"Opis",default:"",validators:[ft.required]}];}getDepartment(){this.route.paramMap.subscribe(t=>{this.id=t.get("id")||"",this.id&&this.employeeService.getDepartment(this.id).subscribe(n=>{this.department=n,this.InitForm(),this.getEmployeesInDepartment();});});}getEmployeesInDepartment(){this.employeeService.findEmployeesInDepartment(this.department.name).subscribe(t=>{t&&Array.isArray(t.employees)?this.employees=t.employees:this.employees=[];},t=>{this.employees=[];});}error=!1;success=!1;update(t){return this.department={name:t.name,description:t.description},this.employeeService.updateDepartment(this.id,this.department).subscribe(n=>{this.error=!1,this.success=!0,this.InitForm();},n=>{this.error=!0;}),null;}remove(){this.employeeService.deleteDepartment(this.id).subscribe(t=>{this.router.navigate(["/departments"],{replaceUrl:!0});},t=>{});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr));};static ɵcmp=St({type:e,selectors:[["app-department"]],decls:14,vars:6,consts:()=>{let t;t="Izbri\u0161i "+"\uFFFD0\uFFFD"+"";let n;n="Odstrani oddelek iz podatkovne baze.";let i;i=" Izbri\u0161i ";let r;r="Napaka pri posodobitvi oddelka.";let s;s="Oddelek uspe\u0161no posodobljen.";let o;o="Posodobi oddelek";let a;a="Zaposleni v "+"\uFFFD0\uFFFD"+"";let l;return l="Ni bilo najdenih zaposlenih v tem oddelku.",[t,n,i,r,s,o,a,l,[1,"d-flex","flex-column","gap-4"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","container-sm p-5 bg-light",4,"ngIf"],[1,"container-sm","p-5","bg-light"],[1,"text-center"],["type","submit",1,"btn","btn-danger","w-75",3,"click"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"result","formcontrol"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[3,"routerLink"]];},template:function(n,i){n&1&&(j(0,"div",8),Le(1,gLe,2,0,"div",9)(2,mLe,2,0,"div",10)(3,vLe,4,1,"div",11),j(4,"div",12)(5,"h3"),je(6,0),q(),j(7,"p"),je(8,1),q(),j(9,"div",13)(10,"button",14),Ze("click",function(){return i.remove();}),je(11,2),q()()(),Le(12,bLe,5,2,"div",11)(13,xLe,3,0,"div",11),q()),n&2&&(J(),se("ngIf",i.error),J(),se("ngIf",i.success),J(),se("ngIf",i.department!=null),J(3),Il(i.department==null?null:i.department.name),Ac(6),J(6),se("ngIf",i.employees&&i.employees.length!=0),J(),se("ngIf",i.employees&&i.employees.length===0));},dependencies:[cn,ji,rn,Cb,Mr],encapsulation:2});};var iS=class{attach(t){return this._attachedHost=t,t.attach(this);}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach());}get isAttached(){return this._attachedHost!=null;}setAttachedHost(t){this._attachedHost=t;}},rS=class extends iS{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s;}},a7=class extends iS{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r;}get origin(){return this.templateRef.elementRef;}attach(t,n=this.context){return this.context=n,super.attach(t);}detach(){return this.context=void 0,super.detach();}},l7=class extends iS{constructor(t){super(),this.element=t instanceof Un?t.nativeElement:t;}},c7=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null;}hasAttached(){return!!this._attachedPortal;}attach(t){if(t instanceof rS)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof a7)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof l7)return this._attachedPortal=t,this.attachDomPortal(t);}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn();}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0;}setDisposeFn(t){this._disposeFn=t;}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null);}};var a3=class extends c7{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l);});},this._document=s;}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||is.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy();})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r;}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r);}),this._attachedPortal=t,i;}dispose(){super.dispose(),this.outletElement.remove();}_getComponentRootNode(t){return t.hostView.rootNodes[0];}};var Dn=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e;}(Dn||{}),sd="*";function oS(e,t){return{type:Dn.Trigger,name:e,definitions:t,options:{}};}function ix(e,t=null){return{type:Dn.Animate,styles:t,timings:e};}function ote(e,t=null){return{type:Dn.Sequence,steps:e,options:t};}function _a(e){return{type:Dn.Style,styles:e,offset:null};}function rx(e,t,n=null){return{type:Dn.Transition,expr:e,animation:t,options:n};}var Rp=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,n=0){this.totalTime=t+n;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]);}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t);}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t);}onDestroy(t){this._onDestroyFns.push(t);}hasStarted(){return this._started;}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0;}triggerMicrotask(){queueMicrotask(()=>this._onFinish());}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[];}pause(){}restart(){}finish(){this._onFinish();}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[]);}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}setPosition(t){this._position=this.totalTime?t*this.totalTime:1;}getPosition(){return this.totalTime?this._position/this.totalTime:1;}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0;}},sS=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish();}),o.onDestroy(()=>{++i==s&&this._onDestroy();}),o.onStart(()=>{++r==s&&this._onStart();});}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0);}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]);}init(){this.players.forEach(t=>t.init());}onStart(t){this._onStartFns.push(t);}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[]);}onDone(t){this._onDoneFns.push(t);}onDestroy(t){this._onDestroyFns.push(t);}hasStarted(){return this._started;}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play());}pause(){this.players.forEach(t=>t.pause());}restart(){this.players.forEach(t=>t.restart());}finish(){this._onFinish(),this.players.forEach(t=>t.finish());}destroy(){this._onDestroy();}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[]);}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1;}setPosition(t){let n=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r);});}getPosition(){let t=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return t!=null?t.getPosition():0;}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy();});}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0;}},l3="!";var c3="http://www.w3.org/1999/xhtml",u7={svg:"http://www.w3.org/2000/svg",xhtml:c3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ph(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),u7.hasOwnProperty(t)?{space:u7[t],local:e}:e;}function wLe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===c3&&t.documentElement.namespaceURI===c3?t.createElement(e):t.createElementNS(n,e);};}function CLe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local);};}function u3(e){var t=Ph(e);return(t.local?CLe:wLe)(t);}function _Le(){}function Zm(e){return e==null?_Le:function(){return this.querySelector(e);};}function ate(e){typeof e!="function"&&(e=Zm(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Nr(i,this._parents);}function d7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e);}function SLe(){return[];}function aS(e){return e==null?SLe:function(){return this.querySelectorAll(e);};}function ELe(e){return function(){return d7(e.apply(this,arguments));};}function lte(e){typeof e=="function"?e=ELe(e):e=aS(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new Nr(i,r);}function lS(e){return function(){return this.matches(e);};}function d3(e){return function(t){return t.matches(e);};}var TLe=Array.prototype.find;function ALe(e){return function(){return TLe.call(this.children,e);};}function DLe(){return this.firstElementChild;}function cte(e){return this.select(e==null?DLe:ALe(typeof e=="function"?e:d3(e)));}var RLe=Array.prototype.filter;function ILe(){return Array.from(this.children);}function PLe(e){return function(){return RLe.call(this.children,e);};}function ute(e){return this.selectAll(e==null?ILe:PLe(typeof e=="function"?e:d3(e)));}function dte(e){typeof e!="function"&&(e=lS(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Nr(i,this._parents);}function h3(e){return new Array(e.length);}function hte(){return new Nr(this._enter||this._groups.map(h3),this._parents);}function cS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t;}cS.prototype={constructor:cS,appendChild:function(e){return this._parent.insertBefore(e,this._next);},insertBefore:function(e,t){return this._parent.insertBefore(e,t);},querySelector:function(e){return this._parent.querySelector(e);},querySelectorAll:function(e){return this._parent.querySelectorAll(e);}};function fte(e){return function(){return e;};}function kLe(e,t,n,i,r,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):n[o]=new cS(e,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a);}function MLe(e,t,n,i,r,s,o){var a,l,c=new Map(),u=t.length,d=s.length,h=new Array(u),f;for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(e,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):n[a]=new cS(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l);}function FLe(e){return e.__data__;}function pte(e,t){if(!arguments.length)return Array.from(this,FLe);var n=t?MLe:kLe,i=this._parents,r=this._groups;typeof e!="function"&&(e=fte(e));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=NLe(e.call(u,u&&u.__data__,c,i)),g=f.length,m=a[c]=new Array(g),y=o[c]=new Array(g),b=l[c]=new Array(h);n(u,d,m,y,b,f,t);for(var C=0,_=0,A,I;C<g;++C)if(A=m[C]){for(C>=_&&(_=C+1);!(I=y[_])&&++_<g;);A._next=I||null;}}return o=new Nr(o,i),o._enter=a,o._exit=l,o;}function NLe(e){return typeof e=="object"&&"length"in e?e:Array.from(e);}function gte(){return new Nr(this._exit||this._groups.map(h3),this._parents);}function mte(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r;}function vte(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,h=a[l]=new Array(d),f,g=0;g<d;++g)(f=c[g]||u[g])&&(h[g]=f);for(;l<r;++l)a[l]=n[l];return new Nr(a,this._parents);}function yte(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this;}function bte(e){e||(e=LLe);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h;}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t);}return new Nr(r,this._parents).order();}function LLe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN;}function xte(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this;}function wte(){return Array.from(this);}function Cte(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o;}return null;}function _te(){let e=0;for(let t of this)++e;return e;}function Ste(){return!this.node();}function Ete(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this;}function OLe(e){return function(){this.removeAttribute(e);};}function BLe(e){return function(){this.removeAttributeNS(e.space,e.local);};}function VLe(e,t){return function(){this.setAttribute(e,t);};}function HLe(e,t){return function(){this.setAttributeNS(e.space,e.local,t);};}function GLe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n);};}function zLe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n);};}function Tte(e,t){var n=Ph(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n);}return this.each((t==null?n.local?BLe:OLe:typeof t=="function"?n.local?zLe:GLe:n.local?HLe:VLe)(n,t));}function f3(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView;}function ULe(e){return function(){this.style.removeProperty(e);};}function jLe(e,t,n){return function(){this.style.setProperty(e,t,n);};}function $Le(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n);};}function Ate(e,t,n){return arguments.length>1?this.each((t==null?ULe:typeof t=="function"?$Le:jLe)(e,t,n??"")):Ip(this.node(),e);}function Ip(e,t){return e.style.getPropertyValue(t)||f3(e).getComputedStyle(e,null).getPropertyValue(t);}function WLe(e){return function(){delete this[e];};}function qLe(e,t){return function(){this[e]=t;};}function KLe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n;};}function Dte(e,t){return arguments.length>1?this.each((t==null?WLe:typeof t=="function"?KLe:qLe)(e,t)):this.node()[e];}function Rte(e){return e.trim().split(/^|\s+/);}function h7(e){return e.classList||new Ite(e);}function Ite(e){this._node=e,this._names=Rte(e.getAttribute("class")||"");}Ite.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")));},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")));},contains:function(e){return this._names.indexOf(e)>=0;}};function Pte(e,t){for(var n=h7(e),i=-1,r=t.length;++i<r;)n.add(t[i]);}function kte(e,t){for(var n=h7(e),i=-1,r=t.length;++i<r;)n.remove(t[i]);}function YLe(e){return function(){Pte(this,e);};}function XLe(e){return function(){kte(this,e);};}function QLe(e,t){return function(){(t.apply(this,arguments)?Pte:kte)(this,e);};}function Mte(e,t){var n=Rte(e+"");if(arguments.length<2){for(var i=h7(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0;}return this.each((typeof t=="function"?QLe:t?YLe:XLe)(n,t));}function ZLe(){this.textContent="";}function JLe(e){return function(){this.textContent=e;};}function eOe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??"";};}function Fte(e){return arguments.length?this.each(e==null?ZLe:(typeof e=="function"?eOe:JLe)(e)):this.node().textContent;}function tOe(){this.innerHTML="";}function nOe(e){return function(){this.innerHTML=e;};}function iOe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??"";};}function Nte(e){return arguments.length?this.each(e==null?tOe:(typeof e=="function"?iOe:nOe)(e)):this.node().innerHTML;}function rOe(){this.nextSibling&&this.parentNode.appendChild(this);}function Lte(){return this.each(rOe);}function sOe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild);}function Ote(){return this.each(sOe);}function Bte(e){var t=typeof e=="function"?e:u3(e);return this.select(function(){return this.appendChild(t.apply(this,arguments));});}function oOe(){return null;}function Vte(e,t){var n=typeof e=="function"?e:u3(e),i=t==null?oOe:typeof t=="function"?t:Zm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null);});}function aOe(){var e=this.parentNode;e&&e.removeChild(this);}function Hte(){return this.each(aOe);}function lOe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e;}function cOe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e;}function Gte(e){return this.select(e?cOe:lOe);}function zte(e){return arguments.length?this.property("__data__",e):this.node().__data__;}function uOe(e){return function(t){e.call(this,t,this.__data__);};}function dOe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n};});}function hOe(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on;}};}function fOe(e,t,n){return function(){var i=this.__on,r,s=uOe(t);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return;}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r];};}function Ute(e,t,n){var i=dOe(e+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value;}return;}for(a=t?fOe:hOe,r=0;r<s;++r)this.each(a(i[r],t,n));return this;}function jte(e,t,n){var i=f3(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r);}function pOe(e,t){return function(){return jte(this,e,t);};}function gOe(e,t){return function(){return jte(this,e,t.apply(this,arguments));};}function $te(e,t){return this.each((typeof t=="function"?gOe:pOe)(e,t));}function*Wte(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o);}var f7=[null];function Nr(e,t){this._groups=e,this._parents=t;}function qte(){return new Nr([[document.documentElement]],f7);}function mOe(){return this;}Nr.prototype=qte.prototype={constructor:Nr,select:ate,selectAll:lte,selectChild:cte,selectChildren:ute,filter:dte,data:pte,enter:hte,exit:gte,join:mte,merge:vte,selection:mOe,order:yte,sort:bte,call:xte,nodes:wte,node:Cte,size:_te,empty:Ste,each:Ete,attr:Tte,style:Ate,property:Dte,classed:Mte,text:Fte,html:Nte,raise:Lte,lower:Ote,append:Bte,insert:Vte,remove:Hte,clone:Gte,datum:zte,on:Ute,dispatch:$te,[Symbol.iterator]:Wte};var kh=qte;function uo(e){return typeof e=="string"?new Nr([[document.querySelector(e)]],[document.documentElement]):new Nr([[e]],f7);}function Kte(e){let t;for(;t=e.sourceEvent;)e=t;return e;}function p3(e,t){if(e=Kte(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y];}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop];}}return[e.pageX,e.pageY];}var vOe={value:()=>{}};function Xte(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[];}return new g3(n);}function g3(e){this._=e;}function yOe(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i};});}g3.prototype=Xte.prototype={constructor:g3,on:function(e,t){var n=this._,i=yOe(e+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(e=i[s]).type)&&(r=bOe(n[r],e.name)))return r;return;}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=Yte(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Yte(n[r],e.name,null);return this;},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new g3(e);},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n);},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n);}};function bOe(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value;}function Yte(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=vOe,e=e.slice(0,i).concat(e.slice(i+1));break;}return n!=null&&e.push({name:t,value:n}),e;}var uS=Xte;var m3={capture:!0,passive:!1};function v3(e){e.preventDefault(),e.stopImmediatePropagation();}function p7(e){var t=e.document.documentElement,n=uo(e).on("dragstart.drag",v3,m3);"onselectstart"in t?n.on("selectstart.drag",v3,m3):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none");}function g7(e,t){var n=e.document.documentElement,i=uo(e).on("dragstart.drag",null);t&&(i.on("click.drag",v3,m3),setTimeout(function(){i.on("click.drag",null);},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect);}function y3(e,t,n){e.prototype=t.prototype=n,n.constructor=e;}function m7(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n;}function fS(){}var dS=.7,w3=1/dS,sx="\\s*([+-]?\\d+)\\s*",hS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",od="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xOe=/^#([0-9a-f]{3,8})$/,wOe=new RegExp(`^rgb\\(${sx},${sx},${sx}\\)$`),COe=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),_Oe=new RegExp(`^rgba\\(${sx},${sx},${sx},${hS}\\)$`),SOe=new RegExp(`^rgba\\(${od},${od},${od},${hS}\\)$`),EOe=new RegExp(`^hsl\\(${hS},${od},${od}\\)$`),TOe=new RegExp(`^hsla\\(${hS},${od},${od},${hS}\\)$`),Qte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y3(fS,Oc,{copy(e){return Object.assign(new this.constructor(),this,e);},displayable(){return this.rgb().displayable();},hex:Zte,formatHex:Zte,formatHex8:AOe,formatHsl:DOe,formatRgb:Jte,toString:Jte});function Zte(){return this.rgb().formatHex();}function AOe(){return this.rgb().formatHex8();}function DOe(){return sne(this).formatHsl();}function Jte(){return this.rgb().formatRgb();}function Oc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xOe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ene(t):n===3?new Sa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?b3(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?b3(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=wOe.exec(e))?new Sa(t[1],t[2],t[3],1):(t=COe.exec(e))?new Sa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Oe.exec(e))?b3(t[1],t[2],t[3],t[4]):(t=SOe.exec(e))?b3(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EOe.exec(e))?ine(t[1],t[2]/100,t[3]/100,1):(t=TOe.exec(e))?ine(t[1],t[2]/100,t[3]/100,t[4]):Qte.hasOwnProperty(e)?ene(Qte[e]):e==="transparent"?new Sa(NaN,NaN,NaN,0):null;}function ene(e){return new Sa(e>>16&255,e>>8&255,e&255,1);}function b3(e,t,n,i){return i<=0&&(e=t=n=NaN),new Sa(e,t,n,i);}function ROe(e){return e instanceof fS||(e=Oc(e)),e?(e=e.rgb(),new Sa(e.r,e.g,e.b,e.opacity)):new Sa();}function ox(e,t,n,i){return arguments.length===1?ROe(e):new Sa(e,t,n,i??1);}function Sa(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i;}y3(Sa,ox,m7(fS,{brighter(e){return e=e==null?w3:Math.pow(w3,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity);},darker(e){return e=e==null?dS:Math.pow(dS,e),new Sa(this.r*e,this.g*e,this.b*e,this.opacity);},rgb(){return this;},clamp(){return new Sa(e0(this.r),e0(this.g),e0(this.b),C3(this.opacity));},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1;},hex:tne,formatHex:tne,formatHex8:IOe,formatRgb:nne,toString:nne}));function tne(){return`#${Jm(this.r)}${Jm(this.g)}${Jm(this.b)}`;}function IOe(){return`#${Jm(this.r)}${Jm(this.g)}${Jm(this.b)}${Jm((isNaN(this.opacity)?1:this.opacity)*255)}`;}function nne(){let e=C3(this.opacity);return`${e===1?"rgb(":"rgba("}${e0(this.r)}, ${e0(this.g)}, ${e0(this.b)}${e===1?")":`, ${e})`}`;}function C3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e));}function e0(e){return Math.max(0,Math.min(255,Math.round(e)||0));}function Jm(e){return e=e0(e),(e<16?"0":"")+e.toString(16);}function ine(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Lc(e,t,n,i);}function sne(e){if(e instanceof Lc)return new Lc(e.h,e.s,e.l,e.opacity);if(e instanceof fS||(e=Oc(e)),!e)return new Lc();if(e instanceof Lc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Lc(o,a,l,e.opacity);}function one(e,t,n,i){return arguments.length===1?sne(e):new Lc(e,t,n,i??1);}function Lc(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i;}y3(Lc,one,m7(fS,{brighter(e){return e=e==null?w3:Math.pow(w3,e),new Lc(this.h,this.s,this.l*e,this.opacity);},darker(e){return e=e==null?dS:Math.pow(dS,e),new Lc(this.h,this.s,this.l*e,this.opacity);},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Sa(v7(e>=240?e-240:e+120,r,i),v7(e,r,i),v7(e<120?e+240:e-120,r,i),this.opacity);},clamp(){return new Lc(rne(this.h),x3(this.s),x3(this.l),C3(this.opacity));},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1;},formatHsl(){let e=C3(this.opacity);return`${e===1?"hsl(":"hsla("}${rne(this.h)}, ${x3(this.s)*100}%, ${x3(this.l)*100}%${e===1?")":`, ${e})`}`;}}));function rne(e){return e=(e||0)%360,e<0?e+360:e;}function x3(e){return Math.max(0,Math.min(1,e||0));}function v7(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255;}function y7(e,t,n,i,r){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*i+o*r)/6;}function ane(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],s=e[i+1],o=i>0?e[i-1]:2*r-s,a=i<t-1?e[i+2]:2*s-r;return y7((n-i/t)*t,o,r,s,a);};}function lne(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],s=e[i%t],o=e[(i+1)%t],a=e[(i+2)%t];return y7((n-i/t)*t,r,s,o,a);};}var pS=e=>()=>e;function POe(e,t){return function(n){return e+n*t;};}function kOe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n);};}function cne(e){return(e=+e)==1?_3:function(t,n){return n-t?kOe(t,n,e):pS(isNaN(t)?n:t);};}function _3(e,t){var n=t-e;return n?POe(e,n):pS(isNaN(e)?t:e);}var t0=function e(t){var n=cne(t);function i(r,s){var o=n((r=ox(r)).r,(s=ox(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),c=_3(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+"";};}return i.gamma=e,i;}(1);function une(e){return function(t){var n=t.length,i=new Array(n),r=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=ox(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=e(i),r=e(r),s=e(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+"";};};}var MOe=une(ane),FOe=une(lne);function dne(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i;};}function hne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView);}function fne(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)r[o]=Mh(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s;};}function pne(e,t){var n=new Date();return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n;};}function zs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n;};}function gne(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Mh(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i;};}var x7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b7=new RegExp(x7.source,"g");function NOe(e){return function(){return e;};}function LOe(e){return function(t){return e(t)+"";};}function gS(e,t){var n=x7.lastIndex=b7.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(i=x7.exec(e))&&(r=b7.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:zs(i,r)})),n=b7.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?LOe(l[0].x):NOe(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("");});}function Mh(e,t){var n=typeof t,i;return t==null||n==="boolean"?pS(t):(n==="number"?zs:n==="string"?(i=Oc(t))?(t=i,t0):gS:t instanceof Oc?t0:t instanceof Date?pne:hne(t)?dne:Array.isArray(t)?fne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gne:zs)(e,t);}function w7(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n);};}var mne=180/Math.PI,S3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C7(e,t,n,i,r,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*mne,skewX:Math.atan(l)*mne,scaleX:o,scaleY:a};}var E3;function vne(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?S3:C7(t.a,t.b,t.c,t.d,t.e,t.f);}function yne(e){return e==null?S3:(E3||(E3=document.createElementNS("http://www.w3.org/2000/svg","g")),E3.setAttribute("transform",e),(e=E3.transform.baseVal.consolidate())?(e=e.matrix,C7(e.a,e.b,e.c,e.d,e.e,e.f)):S3);}function bne(e,t,n,i){function r(c){return c.length?c.pop()+" ":"";}function s(c,u,d,h,f,g){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,n);g.push({i:m-4,x:zs(c,d)},{i:m-2,x:zs(u,h)});}else(d||h)&&f.push("translate("+d+t+h+n);}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:zs(c,u)})):u&&d.push(r(d)+"rotate("+u+i);}function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:zs(c,u)}):u&&d.push(r(d)+"skewX("+u+i);}function l(c,u,d,h,f,g){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");g.push({i:m-4,x:zs(c,d)},{i:m-2,x:zs(u,h)});}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")");}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g=-1,m=h.length,y;++g<m;)d[(y=h[g]).i]=y.x(f);return d.join("");};};}var _7=bne(vne,"px, ","px)","deg)"),S7=bne(yne,", ",")",")");var ax=0,vS=0,mS=0,wne=1e3,T3,yS,A3=0,n0=0,D3=0,bS=typeof performance=="object"&&performance.now?performance:Date,Cne=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17);};function wS(){return n0||(Cne(OOe),n0=bS.now()+D3);}function OOe(){n0=0;}function xS(){this._call=this._time=this._next=null;}xS.prototype=R3.prototype={constructor:xS,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wS():+n)+(t==null?0:+t),!this._next&&yS!==this&&(yS?yS._next=this:T3=this,yS=this),this._call=e,this._time=n,E7();},stop:function(){this._call&&(this._call=null,this._time=1/0,E7());}};function R3(e,t,n){var i=new xS();return i.restart(e,t,n),i;}function _ne(){wS(),++ax;for(var e=T3,t;e;)(t=n0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ax;}function xne(){n0=(A3=bS.now())+D3,ax=vS=0;try{_ne();}finally{ax=0,VOe(),n0=0;}}function BOe(){var e=bS.now(),t=e-A3;t>wne&&(D3-=t,A3=e);}function VOe(){for(var e,t=T3,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:T3=n);yS=e,E7(i);}function E7(e){if(!ax){vS&&(vS=clearTimeout(vS));var t=e-n0;t>24?(e<1/0&&(vS=setTimeout(xne,e-bS.now()-D3)),mS&&(mS=clearInterval(mS))):(mS||(A3=bS.now(),mS=setInterval(BOe,wne)),ax=1,Cne(xne));}}function I3(e,t,n){var i=new xS();return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t);},t,n),i;}var HOe=uS("start","end","cancel","interrupt"),GOe=[],Tne=0,Sne=1,k3=2,P3=3,Ene=4,M3=5,CS=6;function Pp(e,t,n,i,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;zOe(e,n,{name:t,index:i,group:r,on:HOe,tween:GOe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Tne});}function _S(e,t){var n=gs(e,t);if(n.state>Tne)throw new Error("too late; already scheduled");return n;}function Us(e,t){var n=gs(e,t);if(n.state>P3)throw new Error("too late; already running");return n;}function gs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n;}function zOe(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=R3(s,0,n.time);function s(c){n.state=Sne,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay);}function o(c){var u,d,h,f;if(n.state!==Sne)return l();for(u in i)if(f=i[u],f.name===n.name){if(f.state===P3)return I3(o);f.state===Ene?(f.state=CS,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=CS,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u]);}if(I3(function(){n.state===P3&&(n.state=Ene,n.timer.restart(a,n.delay,n.time),a(c));}),n.state=k3,n.on.call("start",e,e.__data__,n.index,n.group),n.state===k3){for(n.state=P3,r=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1;}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=M3,1),d=-1,h=r.length;++d<h;)r[d].call(e,u);n.state===M3&&(n.on.call("end",e,e.__data__,n.index,n.group),l());}function l(){n.state=CS,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition;}}function lx(e,t){var n=e.__transition,i,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){s=!1;continue;}r=i.state>k3&&i.state<M3,i.state=CS,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o];}s&&delete e.__transition;}}function Ane(e){return this.each(function(){lx(this,e);});}function UOe(e,t){var n,i;return function(){var r=Us(this,e),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break;}}r.tween=i;};}function jOe(e,t,n){var i,r;if(typeof n!="function")throw new Error();return function(){var s=Us(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break;}l===c&&r.push(a);}s.tween=r;};}function Dne(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=gs(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===e)return o.value;return null;}return this.each((t==null?UOe:jOe)(n,e,t));}function cx(e,t,n){var i=e._id;return e.each(function(){var r=Us(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments);}),function(r){return gs(r,i).value[t];};}function F3(e,t){var n;return(typeof t=="number"?zs:t instanceof Oc?t0:(n=Oc(t))?(t=n,t0):gS)(e,t);}function $Oe(e){return function(){this.removeAttribute(e);};}function WOe(e){return function(){this.removeAttributeNS(e.space,e.local);};}function qOe(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===i?s:s=t(i=o,n);};}function KOe(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?s:s=t(i=o,n);};}function YOe(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)));};}function XOe(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)));};}function Rne(e,t){var n=Ph(e),i=n==="transform"?S7:F3;return this.attrTween(e,typeof t=="function"?(n.local?XOe:YOe)(n,i,cx(this,"attr."+e,t)):t==null?(n.local?WOe:$Oe)(n):(n.local?KOe:qOe)(n,i,t));}function QOe(e,t){return function(n){this.setAttribute(e,t.call(this,n));};}function ZOe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n));};}function JOe(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&ZOe(e,s)),n;}return r._value=t,r;}function e4e(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&QOe(e,s)),n;}return r._value=t,r;}function Ine(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error();var i=Ph(e);return this.tween(n,(i.local?JOe:e4e)(i,t));}function t4e(e,t){return function(){_S(this,e).delay=+t.apply(this,arguments);};}function n4e(e,t){return t=+t,function(){_S(this,e).delay=t;};}function Pne(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t4e:n4e)(t,e)):gs(this.node(),t).delay;}function i4e(e,t){return function(){Us(this,e).duration=+t.apply(this,arguments);};}function r4e(e,t){return t=+t,function(){Us(this,e).duration=t;};}function kne(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?i4e:r4e)(t,e)):gs(this.node(),t).duration;}function s4e(e,t){if(typeof t!="function")throw new Error();return function(){Us(this,e).ease=t;};}function Mne(e){var t=this._id;return arguments.length?this.each(s4e(t,e)):gs(this.node(),t).ease;}function o4e(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error();Us(this,e).ease=n;};}function Fne(e){if(typeof e!="function")throw new Error();return this.each(o4e(this._id,e));}function Nne(e){typeof e!="function"&&(e=lS(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new qo(i,this._parents,this._name,this._id);}function Lne(e){if(e._id!==this._id)throw new Error();for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),h,f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new qo(o,this._parents,this._name,this._id);}function a4e(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start";});}function l4e(e,t,n){var i,r,s=a4e(t)?_S:Us;return function(){var o=s(this,e),a=o.on;a!==i&&(r=(i=a).copy()).on(t,n),o.on=r;};}function One(e,t){var n=this._id;return arguments.length<2?gs(this.node(),n).on.on(e):this.each(l4e(n,e,t));}function c4e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this);};}function Bne(){return this.on("end.remove",c4e(this._id));}function Vne(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Zm(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Pp(c[h],t,n,h,c,gs(u,n)));return new qo(s,this._parents,t,n);}function Hne(e){var t=this._name,n=this._id;typeof e!="function"&&(e=aS(e));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=e.call(u,u.__data__,d,l),f,g=gs(u,n),m=0,y=h.length;m<y;++m)(f=h[m])&&Pp(f,t,n,m,h,g);s.push(h),o.push(u);}return new qo(s,o,t,n);}var u4e=kh.prototype.constructor;function Gne(){return new u4e(this._groups,this._parents);}function d4e(e,t){var n,i,r;return function(){var s=Ip(this,e),o=(this.style.removeProperty(e),Ip(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o);};}function zne(e){return function(){this.style.removeProperty(e);};}function h4e(e,t,n){var i,r=n+"",s;return function(){var o=Ip(this,e);return o===r?null:o===i?s:s=t(i=o,n);};}function f4e(e,t,n){var i,r,s;return function(){var o=Ip(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ip(this,e))),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a));};}function p4e(e,t){var n,i,r,s="style."+t,o="end."+s,a;return function(){var l=Us(this,e),c=l.on,u=l.value[s]==null?a||(a=zne(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i;};}function Une(e,t,n){var i=(e+="")=="transform"?_7:F3;return t==null?this.styleTween(e,d4e(e,i)).on("end.style."+e,zne(e)):typeof t=="function"?this.styleTween(e,f4e(e,i,cx(this,"style."+e,t))).each(p4e(this._id,e)):this.styleTween(e,h4e(e,i,t),n).on("end.style."+e,null);}function g4e(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n);};}function m4e(e,t,n){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&g4e(e,o,n)),i;}return s._value=t,s;}function jne(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error();return this.tween(i,m4e(e,t,n??""));}function v4e(e){return function(){this.textContent=e;};}function y4e(e){return function(){var t=e(this);this.textContent=t??"";};}function $ne(e){return this.tween("text",typeof e=="function"?y4e(cx(this,"text",e)):v4e(e==null?"":e+""));}function b4e(e){return function(t){this.textContent=e.call(this,t);};}function x4e(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&b4e(r)),t;}return i._value=e,i;}function Wne(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error();return this.tween(t,x4e(e));}function qne(){for(var e=this._name,t=this._id,n=N3(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=gs(l,t);Pp(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease});}return new qo(i,this._parents,e,n);}function Kne(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s();}};n.each(function(){var c=Us(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t;}),r===0&&s();});}var w4e=0;function qo(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i;}function Yne(e){return kh().transition(e);}function N3(){return++w4e;}var Fh=kh.prototype;qo.prototype=Yne.prototype={constructor:qo,select:Vne,selectAll:Hne,selectChild:Fh.selectChild,selectChildren:Fh.selectChildren,filter:Nne,merge:Lne,selection:Gne,transition:qne,call:Fh.call,nodes:Fh.nodes,node:Fh.node,size:Fh.size,empty:Fh.empty,each:Fh.each,on:One,attr:Rne,attrTween:Ine,style:Une,styleTween:jne,text:$ne,textTween:Wne,remove:Bne,tween:Dne,delay:Pne,duration:kne,ease:Mne,easeVarying:Fne,end:Kne,[Symbol.iterator]:Fh[Symbol.iterator]};function L3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;}var C4e={time:null,delay:0,duration:250,ease:L3};function _4e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n;}function Xne(e){var t,n;e instanceof qo?(t=e._id,e=e._name):(t=N3(),(n=C4e).time=wS(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Pp(l,e,t,c,o,n||_4e(l,t));return new qo(i,this._parents,e,t);}kh.prototype.interrupt=Ane;kh.prototype.transition=Xne;var O3=e=>()=>e;function T7(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}});}function Qne(e){e.stopImmediatePropagation();}function B3(e){e.preventDefault(),e.stopImmediatePropagation();}var Zne={name:"drag"},A7={name:"space"},ux={name:"handle"},dx={name:"center"},{abs:Jne,max:ho,min:fo}=Math;function eie(e){return[+e[0],+e[1]];}function I7(e){return[eie(e[0]),eie(e[1])];}var V3={name:"x",handles:["w","e"].map(SS),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]];},output:function(e){return e&&[e[0][0],e[1][0]];}},D7={name:"y",handles:["n","s"].map(SS),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]];},output:function(e){return e&&[e[0][1],e[1][1]];}},Ybt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(SS),input:function(e){return e==null?null:I7(e);},output:function(e){return e;}},Nh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tie={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nie={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S4e={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E4e={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function SS(e){return{type:e};}function T4e(e){return!e.ctrlKey&&!e.button;}function A4e(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]];}function D4e(){return navigator.maxTouchPoints||"ontouchstart"in this;}function R7(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush;}function R4e(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1];}function P7(){return I4e(V3);}function I4e(e){var t=A4e,n=T4e,i=D4e,r=!0,s=uS("start","brush","end"),o=6,a;function l(y){var b=y.property("__brush",m).selectAll(".overlay").data([SS("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Nh.overlay).merge(b).each(function(){var _=R7(this).extent;uo(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]);}),y.selectAll(".selection").data([SS("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Nh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=y.selectAll(".handle").data(e.handles,function(_){return _.type;});C.exit().remove(),C.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type;}).attr("cursor",function(_){return Nh[_.type];}),y.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)");}l.move=function(y,b,C){y.tween?y.on("start.brush",function(_){u(this,arguments).beforestart().start(_);}).on("interrupt.brush end.brush",function(_){u(this,arguments).end(_);}).tween("brush",function(){var _=this,A=_.__brush,I=u(_,arguments),N=A.selection,R=e.input(typeof b=="function"?b.apply(this,arguments):b,A.extent),D=Mh(N,R);function V(X){A.selection=X===1&&R===null?null:D(X),c.call(_),I.brush();}return N!==null&&R!==null?V:V(1);}):y.each(function(){var _=this,A=arguments,I=_.__brush,N=e.input(typeof b=="function"?b.apply(_,A):b,I.extent),R=u(_,A).beforestart();lx(_),I.selection=N===null?null:N,c.call(_),R.start(C).brush(C).end(C);});},l.clear=function(y,b){l.move(y,null,b);};function c(){var y=uo(this),b=R7(this).selection;b?(y.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?b[1][0]-o/2:b[0][0]-o/2;}).attr("y",function(C){return C.type[0]==="s"?b[1][1]-o/2:b[0][1]-o/2;}).attr("width",function(C){return C.type==="n"||C.type==="s"?b[1][0]-b[0][0]+o:o;}).attr("height",function(C){return C.type==="e"||C.type==="w"?b[1][1]-b[0][1]+o:o;})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null);}function u(y,b,C){var _=y.__brush.emitter;return _&&(!C||!_.clean)?_:new d(y,b,C);}function d(y,b,C){this.that=y,this.args=b,this.state=y.__brush,this.active=0,this.clean=C;}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this;},start:function(y,b){return this.starting?(this.starting=!1,this.emit("start",y,b)):this.emit("brush",y),this;},brush:function(y,b){return this.emit("brush",y,b),this;},end:function(y,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,b)),this;},emit:function(y,b,C){var _=uo(this.that).datum();s.call(y,this.that,new T7(y,{sourceEvent:b,target:l,selection:e.output(this.state.selection),mode:C,dispatch:s}),_);}};function h(y){if(a&&!y.touches||!n.apply(this,arguments))return;var b=this,C=y.target.__data__.type,_=(r&&y.metaKey?C="overlay":C)==="selection"?Zne:r&&y.altKey?dx:ux,A=e===D7?null:S4e[C],I=e===V3?null:E4e[C],N=R7(b),R=N.extent,D=N.selection,V=R[0][0],X,S,T=R[0][1],z,W,H=R[1][0],F,Y,Z=R[1][1],ne,ae,Ce=0,P=0,Q,ee=A&&I&&r&&y.shiftKey,le,he,ue=Array.from(y.touches||[y],tt=>{let lt=tt.identifier;return tt=p3(tt,b),tt.point0=tt.slice(),tt.identifier=lt,tt;});lx(b);var xe=u(b,arguments,!0).beforestart();if(C==="overlay"){D&&(Q=!0);let tt=[ue[0],ue[1]||ue[0]];N.selection=D=[[X=e===D7?V:fo(tt[0][0],tt[1][0]),z=e===V3?T:fo(tt[0][1],tt[1][1])],[F=e===D7?H:ho(tt[0][0],tt[1][0]),ne=e===V3?Z:ho(tt[0][1],tt[1][1])]],ue.length>1&&Ge(y);}else X=D[0][0],z=D[0][1],F=D[1][0],ne=D[1][1];S=X,W=z,Y=F,ae=ne;var oe=uo(b).attr("pointer-events","none"),Ae=oe.selectAll(".overlay").attr("cursor",Nh[C]);if(y.touches)xe.moved=ge,xe.ended=it;else{var Pe=uo(y.view).on("mousemove.brush",ge,!0).on("mouseup.brush",it,!0);r&&Pe.on("keydown.brush",De,!0).on("keyup.brush",re,!0),p7(y.view);}c.call(b),xe.start(y,_.name);function ge(tt){for(let lt of tt.changedTouches||[tt])for(let Xe of ue)Xe.identifier===lt.identifier&&(Xe.cur=p3(lt,b));if(ee&&!le&&!he&&ue.length===1){let lt=ue[0];Jne(lt.cur[0]-lt[0])>Jne(lt.cur[1]-lt[1])?he=!0:le=!0;}for(let lt of ue)lt.cur&&(lt[0]=lt.cur[0],lt[1]=lt.cur[1]);Q=!0,B3(tt),Ge(tt);}function Ge(tt){let lt=ue[0],Xe=lt.point0;var st;switch(Ce=lt[0]-Xe[0],P=lt[1]-Xe[1],_){case A7:case Zne:{A&&(Ce=ho(V-X,fo(H-F,Ce)),S=X+Ce,Y=F+Ce),I&&(P=ho(T-z,fo(Z-ne,P)),W=z+P,ae=ne+P);break;}case ux:{ue[1]?(A&&(S=ho(V,fo(H,ue[0][0])),Y=ho(V,fo(H,ue[1][0])),A=1),I&&(W=ho(T,fo(Z,ue[0][1])),ae=ho(T,fo(Z,ue[1][1])),I=1)):(A<0?(Ce=ho(V-X,fo(H-X,Ce)),S=X+Ce,Y=F):A>0&&(Ce=ho(V-F,fo(H-F,Ce)),S=X,Y=F+Ce),I<0?(P=ho(T-z,fo(Z-z,P)),W=z+P,ae=ne):I>0&&(P=ho(T-ne,fo(Z-ne,P)),W=z,ae=ne+P));break;}case dx:{A&&(S=ho(V,fo(H,X-Ce*A)),Y=ho(V,fo(H,F+Ce*A))),I&&(W=ho(T,fo(Z,z-P*I)),ae=ho(T,fo(Z,ne+P*I)));break;}}Y<S&&(A*=-1,st=X,X=F,F=st,st=S,S=Y,Y=st,C in tie&&Ae.attr("cursor",Nh[C=tie[C]])),ae<W&&(I*=-1,st=z,z=ne,ne=st,st=W,W=ae,ae=st,C in nie&&Ae.attr("cursor",Nh[C=nie[C]])),N.selection&&(D=N.selection),le&&(S=D[0][0],Y=D[1][0]),he&&(W=D[0][1],ae=D[1][1]),(D[0][0]!==S||D[0][1]!==W||D[1][0]!==Y||D[1][1]!==ae)&&(N.selection=[[S,W],[Y,ae]],c.call(b),xe.brush(tt,_.name));}function it(tt){if(Qne(tt),tt.touches){if(tt.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null;},500);}else g7(tt.view,Q),Pe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);oe.attr("pointer-events","all"),Ae.attr("cursor",Nh.overlay),N.selection&&(D=N.selection),R4e(D)&&(N.selection=null,c.call(b)),xe.end(tt,_.name);}function De(tt){switch(tt.keyCode){case 16:{ee=A&&I;break;}case 18:{_===ux&&(A&&(F=Y-Ce*A,X=S+Ce*A),I&&(ne=ae-P*I,z=W+P*I),_=dx,Ge(tt));break;}case 32:{(_===ux||_===dx)&&(A<0?F=Y-Ce:A>0&&(X=S-Ce),I<0?ne=ae-P:I>0&&(z=W-P),_=A7,Ae.attr("cursor",Nh.selection),Ge(tt));break;}default:return;}B3(tt);}function re(tt){switch(tt.keyCode){case 16:{ee&&(le=he=ee=!1,Ge(tt));break;}case 18:{_===dx&&(A<0?F=Y:A>0&&(X=S),I<0?ne=ae:I>0&&(z=W),_=ux,Ge(tt));break;}case 32:{_===A7&&(tt.altKey?(A&&(F=Y-Ce*A,X=S+Ce*A),I&&(ne=ae-P*I,z=W+P*I),_=dx):(A<0?F=Y:A>0&&(X=S),I<0?ne=ae:I>0&&(z=W),_=ux),Ae.attr("cursor",Nh[C]),Ge(tt));break;}default:return;}B3(tt);}}function f(y){u(this,arguments).moved(y);}function g(y){u(this,arguments).ended(y);}function m(){var y=this.__brush||{selection:null};return y.extent=I7(t.apply(this,arguments)),y.dim=e,y;}return l.extent=function(y){return arguments.length?(t=typeof y=="function"?y:O3(I7(y)),l):t;},l.filter=function(y){return arguments.length?(n=typeof y=="function"?y:O3(!!y),l):n;},l.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:O3(!!y),l):i;},l.handleSize=function(y){return arguments.length?(o=+y,l):o;},l.keyModifiers=function(y){return arguments.length?(r=!!y,l):r;},l.on=function(){var y=s.on.apply(s,arguments);return y===s?l:y;},l;}function ad(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN;}function k7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN;}function i0(e){let t,n,i;e.length!==2?(t=ad,n=(a,l)=>ad(e(a),l),i=(a,l)=>e(a)-l):(t=e===ad||e===k7?e:P4e,n=e,i=e);function r(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d;}while(c<u);}return c;}function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d;}while(c<u);}return c;}function o(a,l,c=0,u=a.length){let d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d;}return{left:r,center:o,right:s};}function P4e(){return 0;}function ES(e){return e===null?NaN:+e;}var iie=i0(ad),rie=iie.right,k4e=iie.left,M4e=i0(ES).center,TS=rie;var hx=class extends Map{constructor(t,n=L4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map()},_key:{value:n}}),t!=null)for(let[i,r]of t)this.set(i,r);}get(t){return super.get(sie(this,t));}has(t){return super.has(sie(this,t));}set(t,n){return super.set(F4e(this,t),n);}delete(t){return super.delete(N4e(this,t));}};function sie({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):n;}function F4e({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n);}function N4e({_intern:e,_key:t},n){let i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n;}function L4e(e){return e!==null&&typeof e=="object"?e.valueOf():e;}var O4e=Math.sqrt(50),B4e=Math.sqrt(10),V4e=Math.sqrt(2);function H3(e,t,n){let i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=O4e?10:s>=B4e?5:s>=V4e?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?H3(e,t,n*2):[a,l,c];}function G3(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let i=t<e,[r,s,o]=i?H3(t,e,n):H3(e,t,n);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(i){if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;}else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l;}function AS(e,t,n){return t=+t,e=+e,n=+n,H3(e,t,n)[2];}function fx(e,t,n){t=+t,e=+e,n=+n;let i=t<e,r=i?AS(t,e,n):AS(e,t,n);return(i?-1:1)*(r<0?1/-r:r);}function M7(e,t,n=ES){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,s=Math.floor(r),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(r-s);}}function px(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(r);++i<r;)s[i]=e+i*n;return s;}function ld(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break;}return this;}var F7=Symbol("implicit");function r0(){var e=new hx(),t=[],n=[],i=F7;function r(s){let o=e.get(s);if(o===void 0){if(i!==F7)return i;e.set(s,o=t.push(s)-1);}return n[o%n.length];}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new hx();for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return r;},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice();},r.unknown=function(s){return arguments.length?(i=s,r):i;},r.copy=function(){return r0(t,n).unknown(i);},ld.apply(r,arguments),r;}function gx(){var e=r0().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,f=r<i,g=f?r:i,m=f?i:r;s=(m-g)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*u,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var y=px(h).map(function(b){return g+s*b;});return n(f?y.reverse():y);}return e.domain=function(h){return arguments.length?(t(h),d()):t();},e.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,d()):[i,r];},e.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,a=!0,d();},e.bandwidth=function(){return o;},e.step=function(){return s;},e.round=function(h){return arguments.length?(a=!!h,d()):a;},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l;},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l;},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c;},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u;},e.copy=function(){return gx(t(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u);},ld.apply(d(),arguments);}function oie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oie(t());},e;}function z3(){return oie(gx.apply(null,arguments).paddingInner(1));}function N7(e){return function(){return e;};}function L7(e){return+e;}var aie=[0,1];function mx(e){return e;}function O7(e,t){return(t-=e=+e)?function(n){return(n-e)/t;}:N7(isNaN(t)?NaN:.5);}function G4e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i));};}function z4e(e,t,n){var i=e[0],r=e[1],s=t[0],o=t[1];return r<i?(i=O7(r,i),s=n(o,s)):(i=O7(i,r),s=n(s,o)),function(a){return s(i(a));};}function U4e(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=O7(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=TS(e,a,1,i)-1;return s[l](r[l](a));};}function U3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());}function j4e(){var e=aie,t=aie,n=Mh,i,r,s,o=mx,a,l,c;function u(){var h=Math.min(e.length,t.length);return o!==mx&&(o=G4e(e[0],e[h-1])),a=h>2?U4e:z4e,l=c=null,d;}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(e.map(i),t,n)))(i(o(h)));}return d.invert=function(h){return o(r((c||(c=a(t,e.map(i),zs)))(h)));},d.domain=function(h){return arguments.length?(e=Array.from(h,L7),u()):e.slice();},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice();},d.rangeRound=function(h){return t=Array.from(h),n=w7,u();},d.clamp=function(h){return arguments.length?(o=h?!0:mx,u()):o!==mx;},d.interpolate=function(h){return arguments.length?(n=h,u()):n;},d.unknown=function(h){return arguments.length?(s=h,d):s;},function(h,f){return i=h,r=f,u();};}function DS(){return j4e()(mx,mx);}function lie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10);}function s0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)];}function cd(e){return e=s0(Math.abs(e)),e?e[1]:NaN;}function cie(e,t){return function(n,i){for(var r=n.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(t);};}function uie(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n];});};}var $4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kp(e){if(!(t=$4e.exec(e)))throw new Error("invalid format: "+e);var t;return new j3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]});}kp.prototype=j3.prototype;function j3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+"";}j3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type;};function die(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break;}return i>0?e.slice(0,i)+e.slice(r+1):e;}var B7;function hie(e,t){var n=s0(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(B7=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+s0(e,Math.max(0,t+s-1))[0];}function V7(e,t){var n=s0(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0");}var H7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>V7(e*100,t),r:V7,s:hie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function G7(e){return e;}var fie=Array.prototype.map,pie=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function gie(e){var t=e.grouping===void 0||e.thousands===void 0?G7:cie(fie.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?G7:uie(fie.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=kp(d);var h=d.fill,f=d.align,g=d.sign,m=d.symbol,y=d.zero,b=d.width,C=d.comma,_=d.precision,A=d.trim,I=d.type;I==="n"?(C=!0,I="g"):H7[I]||(_===void 0&&(_=12),A=!0,I="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var N=m==="$"?n:m==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",R=m==="$"?i:/[%p]/.test(I)?o:"",D=H7[I],V=/[defgprs%]/.test(I);_=_===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function X(S){var T=N,z=R,W,H,F;if(I==="c")z=D(S)+z,S="";else{S=+S;var Y=S<0||1/S<0;if(S=isNaN(S)?l:D(Math.abs(S),_),A&&(S=die(S)),Y&&+S==0&&g!=="+"&&(Y=!1),T=(Y?g==="("?g:a:g==="-"||g==="("?"":g)+T,z=(I==="s"?pie[8+B7/3]:"")+z+(Y&&g==="("?")":""),V){for(W=-1,H=S.length;++W<H;)if(F=S.charCodeAt(W),48>F||F>57){z=(F===46?r+S.slice(W+1):S.slice(W))+z,S=S.slice(0,W);break;}}}C&&!y&&(S=t(S,1/0));var Z=T.length+S.length+z.length,ne=Z<b?new Array(b-Z+1).join(h):"";switch(C&&y&&(S=t(ne+S,ne.length?b-z.length:1/0),ne=""),f){case"<":S=T+S+z+ne;break;case"=":S=T+ne+S+z;break;case"^":S=ne.slice(0,Z=ne.length>>1)+T+S+z+ne.slice(Z);break;default:S=ne+T+S+z;break;}return s(S);}return X.toString=function(){return d+"";},X;}function u(d,h){var f=c((d=kp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(cd(h)/3)))*3,m=Math.pow(10,-g),y=pie[8+g/3];return function(b){return f(m*b)+y;};}return{format:c,formatPrefix:u};}var $3,W3,q3;z7({thousands:",",grouping:[3],currency:["$",""]});function z7(e){return $3=gie(e),W3=$3.format,q3=$3.formatPrefix,$3;}function U7(e){return Math.max(0,-cd(Math.abs(e)));}function j7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(t)/3)))*3-cd(Math.abs(e)));}function $7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cd(t)-cd(e))+1;}function W7(e,t,n,i){var r=fx(e,t,n),s;switch(i=kp(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=j7(r,o))&&(i.precision=s),q3(i,o);}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=$7(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break;}case"f":case"%":{i.precision==null&&!isNaN(s=U7(r))&&(i.precision=s-(i.type==="%")*2);break;}}return W3(i);}function W4e(e){var t=e.domain;return e.ticks=function(n){var i=t();return G3(i[0],i[i.length-1],n??10);},e.tickFormat=function(n,i){var r=t();return W7(r[0],r[r.length-1],n??10,i);},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-->0;){if(c=AS(o,a,n),c===l)return i[r]=o,i[s]=a,t(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c;}return e;},e;}function ud(){var e=DS();return e.copy=function(){return U3(e,ud());},ld.apply(e,arguments),W4e(e);}function q7(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],s=e[i],o;return s<r&&(o=n,n=i,i=o,o=r,r=s,s=o),e[n]=t.floor(r),e[i]=t.ceil(s),e;}function RS(){var e=[],t=[],n=[],i;function r(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=M7(e,o/a);return s;}function s(o){return o==null||isNaN(o=+o)?i:t[TS(n,o)];}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]];},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ad),r();},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice();},s.unknown=function(o){return arguments.length?(i=o,s):i;},s.quantiles=function(){return n.slice();},s.copy=function(){return RS().domain(e).range(t).unknown(i);},ld.apply(s,arguments);}var K7=new Date(),Y7=new Date();function $i(e,t,n,i){function r(s){return e(s=arguments.length===0?new Date():new Date(+s)),s;}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=s=>{let o=r(s),a=r.ceil(s);return s-o<a-s?o:a;},r.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,a)=>{let l=[];if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l;},r.filter=s=>$i(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1);},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(r.count=(s,o)=>(K7.setTime(+s),Y7.setTime(+o),e(K7),e(Y7),Math.floor(n(K7,Y7))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r;}var IS=$i(()=>{},(e,t)=>{e.setTime(+e+t);},(e,t)=>t-e);IS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$i(t=>{t.setTime(Math.floor(t/e)*e);},(t,n)=>{t.setTime(+t+n*e);},(t,n)=>(n-t)/e):IS);var zwt=IS.range;var dd=$i(e=>{e.setTime(e-e.getMilliseconds());},(e,t)=>{e.setTime(+e+t*1e3);},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),mie=dd.range;var vx=$i(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3);},(e,t)=>{e.setTime(+e+t*6e4);},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),q4e=vx.range,K3=$i(e=>{e.setUTCSeconds(0,0);},(e,t)=>{e.setTime(+e+t*6e4);},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),K4e=K3.range;var yx=$i(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4);},(e,t)=>{e.setTime(+e+t*36e5);},(e,t)=>(t-e)/36e5,e=>e.getHours()),Y4e=yx.range,Y3=$i(e=>{e.setUTCMinutes(0,0,0);},(e,t)=>{e.setTime(+e+t*36e5);},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),X4e=Y3.range;var Lh=$i(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),Q4e=Lh.range,kS=$i(e=>{e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCDate(e.getUTCDate()+t);},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),Z4e=kS.range,X3=$i(e=>{e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCDate(e.getUTCDate()+t);},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),J4e=X3.range;function l0(e){return $i(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0);},(t,n)=>{t.setDate(t.getDate()+n*7);},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5);}var Oh=l0(0),bx=l0(1),yie=l0(2),bie=l0(3),Mp=l0(4),xie=l0(5),wie=l0(6),Cie=Oh.range,e6e=bx.range,t6e=yie.range,n6e=bie.range,i6e=Mp.range,r6e=xie.range,s6e=wie.range;function c0(e){return $i(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0);},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7);},(t,n)=>(n-t)/6048e5);}var u0=c0(0),xx=c0(1),_ie=c0(2),Sie=c0(3),Fp=c0(4),Eie=c0(5),Tie=c0(6),Aie=u0.range,o6e=xx.range,a6e=_ie.range,l6e=Sie.range,c6e=Fp.range,u6e=Eie.range,d6e=Tie.range;var wx=$i(e=>{e.setDate(1),e.setHours(0,0,0,0);},(e,t)=>{e.setMonth(e.getMonth()+t);},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),h6e=wx.range,Q3=$i(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t);},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),f6e=Q3.range;var Ya=$i(e=>{e.setMonth(0,1),e.setHours(0,0,0,0);},(e,t)=>{e.setFullYear(e.getFullYear()+t);},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$i(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0);},(t,n)=>{t.setFullYear(t.getFullYear()+n*e);});var p6e=Ya.range,Bc=$i(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t);},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$i(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e);});var g6e=Bc.range;function Rie(e,t,n,i,r,s){let o=[[dd,1,1e3],[dd,5,5*1e3],[dd,15,15*1e3],[dd,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[r,1,36e5],[r,3,3*36e5],[r,6,6*36e5],[r,12,12*36e5],[i,1,864e5],[i,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(c,u,d){let h=u<c;h&&([c,u]=[u,c]);let f=d&&typeof d.range=="function"?d:l(c,u,d),g=f?f.range(c,+u+1):[];return h?g.reverse():g;}function l(c,u,d){let h=Math.abs(u-c)/d,f=i0(([,,y])=>y).right(o,h);if(f===o.length)return e.every(fx(c/31536e6,u/31536e6,d));if(f===0)return IS.every(Math.max(fx(c,u,d),1));let[g,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(m);}return[a,l];}var[v6e,y6e]=Rie(Bc,Q3,u0,X3,Y3,K3),[X7,Q7]=Rie(Ya,wx,Oh,Lh,yx,vx);function Z7(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t;}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L);}function J7(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t;}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L));}function MS(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0};}function e9(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=FS(r),u=NS(r),d=FS(s),h=NS(s),f=FS(o),g=NS(o),m=FS(a),y=NS(a),b=FS(l),C=NS(l),_={a:Y,A:Z,b:ne,B:ae,c:null,d:Nie,e:Nie,f:G6e,g:Q6e,G:J6e,H:B6e,I:V6e,j:H6e,L:Hie,m:z6e,M:U6e,p:Ce,q:P,Q:Bie,s:Vie,S:j6e,u:$6e,U:W6e,V:q6e,w:K6e,W:Y6e,x:null,X:null,y:X6e,Y:Z6e,Z:e8e,"%":Oie},A={a:Q,A:ee,b:le,B:he,c:null,d:Lie,e:Lie,f:r8e,g:p8e,G:m8e,H:t8e,I:n8e,j:i8e,L:zie,m:s8e,M:o8e,p:ue,q:xe,Q:Bie,s:Vie,S:a8e,u:l8e,U:c8e,V:u8e,w:d8e,W:h8e,x:null,X:null,y:f8e,Y:g8e,Z:v8e,"%":Oie},I={a:X,A:S,b:T,B:z,c:W,d:Mie,e:Mie,f:F6e,g:kie,G:Pie,H:Fie,I:Fie,j:I6e,L:M6e,m:R6e,M:P6e,p:V,q:D6e,Q:L6e,s:O6e,S:k6e,u:_6e,U:S6e,V:E6e,w:C6e,W:T6e,x:H,X:F,y:kie,Y:Pie,Z:A6e,"%":N6e};_.x=N(n,_),_.X=N(i,_),_.c=N(t,_),A.x=N(n,A),A.X=N(i,A),A.c=N(t,A);function N(oe,Ae){return function(Pe){var ge=[],Ge=-1,it=0,De=oe.length,re,tt,lt;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ge<De;)oe.charCodeAt(Ge)===37&&(ge.push(oe.slice(it,Ge)),(tt=Iie[re=oe.charAt(++Ge)])!=null?re=oe.charAt(++Ge):tt=re==="e"?" ":"0",(lt=Ae[re])&&(re=lt(Pe,tt)),ge.push(re),it=Ge+1);return ge.push(oe.slice(it,Ge)),ge.join("");};}function R(oe,Ae){return function(Pe){var ge=MS(1900,void 0,1),Ge=D(ge,oe,Pe+="",0),it,De;if(Ge!=Pe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ae&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(it=J7(MS(ge.y,0,1)),De=it.getUTCDay(),it=De>4||De===0?xx.ceil(it):xx(it),it=kS.offset(it,(ge.V-1)*7),ge.y=it.getUTCFullYear(),ge.m=it.getUTCMonth(),ge.d=it.getUTCDate()+(ge.w+6)%7):(it=Z7(MS(ge.y,0,1)),De=it.getDay(),it=De>4||De===0?bx.ceil(it):bx(it),it=Lh.offset(it,(ge.V-1)*7),ge.y=it.getFullYear(),ge.m=it.getMonth(),ge.d=it.getDate()+(ge.w+6)%7);}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),De="Z"in ge?J7(MS(ge.y,0,1)).getUTCDay():Z7(MS(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(De+5)%7:ge.w+ge.U*7-(De+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,J7(ge)):Z7(ge);};}function D(oe,Ae,Pe,ge){for(var Ge=0,it=Ae.length,De=Pe.length,re,tt;Ge<it;){if(ge>=De)return-1;if(re=Ae.charCodeAt(Ge++),re===37){if(re=Ae.charAt(Ge++),tt=I[re in Iie?Ae.charAt(Ge++):re],!tt||(ge=tt(oe,Pe,ge))<0)return-1;}else if(re!=Pe.charCodeAt(ge++))return-1;}return ge;}function V(oe,Ae,Pe){var ge=c.exec(Ae.slice(Pe));return ge?(oe.p=u.get(ge[0].toLowerCase()),Pe+ge[0].length):-1;}function X(oe,Ae,Pe){var ge=f.exec(Ae.slice(Pe));return ge?(oe.w=g.get(ge[0].toLowerCase()),Pe+ge[0].length):-1;}function S(oe,Ae,Pe){var ge=d.exec(Ae.slice(Pe));return ge?(oe.w=h.get(ge[0].toLowerCase()),Pe+ge[0].length):-1;}function T(oe,Ae,Pe){var ge=b.exec(Ae.slice(Pe));return ge?(oe.m=C.get(ge[0].toLowerCase()),Pe+ge[0].length):-1;}function z(oe,Ae,Pe){var ge=m.exec(Ae.slice(Pe));return ge?(oe.m=y.get(ge[0].toLowerCase()),Pe+ge[0].length):-1;}function W(oe,Ae,Pe){return D(oe,t,Ae,Pe);}function H(oe,Ae,Pe){return D(oe,n,Ae,Pe);}function F(oe,Ae,Pe){return D(oe,i,Ae,Pe);}function Y(oe){return o[oe.getDay()];}function Z(oe){return s[oe.getDay()];}function ne(oe){return l[oe.getMonth()];}function ae(oe){return a[oe.getMonth()];}function Ce(oe){return r[+(oe.getHours()>=12)];}function P(oe){return 1+~~(oe.getMonth()/3);}function Q(oe){return o[oe.getUTCDay()];}function ee(oe){return s[oe.getUTCDay()];}function le(oe){return l[oe.getUTCMonth()];}function he(oe){return a[oe.getUTCMonth()];}function ue(oe){return r[+(oe.getUTCHours()>=12)];}function xe(oe){return 1+~~(oe.getUTCMonth()/3);}return{format:function(oe){var Ae=N(oe+="",_);return Ae.toString=function(){return oe;},Ae;},parse:function(oe){var Ae=R(oe+="",!1);return Ae.toString=function(){return oe;},Ae;},utcFormat:function(oe){var Ae=N(oe+="",A);return Ae.toString=function(){return oe;},Ae;},utcParse:function(oe){var Ae=R(oe+="",!0);return Ae.toString=function(){return oe;},Ae;}};}var Iie={"-":"",_:" ",0:"0"},As=/^\s*\d+/,b6e=/^%/,x6e=/[\\^$*+?|[\]().{}]/g;function li(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(t)+r:r);}function w6e(e){return e.replace(x6e,"\\$&");}function FS(e){return new RegExp("^(?:"+e.map(w6e).join("|")+")","i");}function NS(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]));}function C6e(e,t,n){var i=As.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1;}function _6e(e,t,n){var i=As.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1;}function S6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1;}function E6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1;}function T6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1;}function Pie(e,t,n){var i=As.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1;}function kie(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1;}function A6e(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1;}function D6e(e,t,n){var i=As.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1;}function R6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1;}function Mie(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1;}function I6e(e,t,n){var i=As.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1;}function Fie(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1;}function P6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1;}function k6e(e,t,n){var i=As.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1;}function M6e(e,t,n){var i=As.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1;}function F6e(e,t,n){var i=As.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1;}function N6e(e,t,n){var i=b6e.exec(t.slice(n,n+1));return i?n+i[0].length:-1;}function L6e(e,t,n){var i=As.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1;}function O6e(e,t,n){var i=As.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1;}function Nie(e,t){return li(e.getDate(),t,2);}function B6e(e,t){return li(e.getHours(),t,2);}function V6e(e,t){return li(e.getHours()%12||12,t,2);}function H6e(e,t){return li(1+Lh.count(Ya(e),e),t,3);}function Hie(e,t){return li(e.getMilliseconds(),t,3);}function G6e(e,t){return Hie(e,t)+"000";}function z6e(e,t){return li(e.getMonth()+1,t,2);}function U6e(e,t){return li(e.getMinutes(),t,2);}function j6e(e,t){return li(e.getSeconds(),t,2);}function $6e(e){var t=e.getDay();return t===0?7:t;}function W6e(e,t){return li(Oh.count(Ya(e)-1,e),t,2);}function Gie(e){var t=e.getDay();return t>=4||t===0?Mp(e):Mp.ceil(e);}function q6e(e,t){return e=Gie(e),li(Mp.count(Ya(e),e)+(Ya(e).getDay()===4),t,2);}function K6e(e){return e.getDay();}function Y6e(e,t){return li(bx.count(Ya(e)-1,e),t,2);}function X6e(e,t){return li(e.getFullYear()%100,t,2);}function Q6e(e,t){return e=Gie(e),li(e.getFullYear()%100,t,2);}function Z6e(e,t){return li(e.getFullYear()%1e4,t,4);}function J6e(e,t){var n=e.getDay();return e=n>=4||n===0?Mp(e):Mp.ceil(e),li(e.getFullYear()%1e4,t,4);}function e8e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+li(t/60|0,"0",2)+li(t%60,"0",2);}function Lie(e,t){return li(e.getUTCDate(),t,2);}function t8e(e,t){return li(e.getUTCHours(),t,2);}function n8e(e,t){return li(e.getUTCHours()%12||12,t,2);}function i8e(e,t){return li(1+kS.count(Bc(e),e),t,3);}function zie(e,t){return li(e.getUTCMilliseconds(),t,3);}function r8e(e,t){return zie(e,t)+"000";}function s8e(e,t){return li(e.getUTCMonth()+1,t,2);}function o8e(e,t){return li(e.getUTCMinutes(),t,2);}function a8e(e,t){return li(e.getUTCSeconds(),t,2);}function l8e(e){var t=e.getUTCDay();return t===0?7:t;}function c8e(e,t){return li(u0.count(Bc(e)-1,e),t,2);}function Uie(e){var t=e.getUTCDay();return t>=4||t===0?Fp(e):Fp.ceil(e);}function u8e(e,t){return e=Uie(e),li(Fp.count(Bc(e),e)+(Bc(e).getUTCDay()===4),t,2);}function d8e(e){return e.getUTCDay();}function h8e(e,t){return li(xx.count(Bc(e)-1,e),t,2);}function f8e(e,t){return li(e.getUTCFullYear()%100,t,2);}function p8e(e,t){return e=Uie(e),li(e.getUTCFullYear()%100,t,2);}function g8e(e,t){return li(e.getUTCFullYear()%1e4,t,4);}function m8e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fp(e):Fp.ceil(e),li(e.getUTCFullYear()%1e4,t,4);}function v8e(){return"+0000";}function Oie(){return"%";}function Bie(e){return+e;}function Vie(e){return Math.floor(+e/1e3);}var Cx,Z3,jie,$ie,Wie;t9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t9(e){return Cx=e9(e),Z3=Cx.format,jie=Cx.parse,$ie=Cx.utcFormat,Wie=Cx.utcParse,Cx;}function y8e(e){return new Date(e);}function b8e(e){return e instanceof Date?+e:+new Date(+e);}function qie(e,t,n,i,r,s,o,a,l,c){var u=DS(),d=u.invert,h=u.domain,f=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),C=c("%b %d"),_=c("%B"),A=c("%Y");function I(N){return(l(N)<N?f:a(N)<N?g:o(N)<N?m:s(N)<N?y:i(N)<N?r(N)<N?b:C:n(N)<N?_:A)(N);}return u.invert=function(N){return new Date(d(N));},u.domain=function(N){return arguments.length?h(Array.from(N,b8e)):h().map(y8e);},u.ticks=function(N){var R=h();return e(R[0],R[R.length-1],N??10);},u.tickFormat=function(N,R){return R==null?I:c(R);},u.nice=function(N){var R=h();return(!N||typeof N.range!="function")&&(N=t(R[0],R[R.length-1],N??10)),N?h(q7(R,N)):u;},u.copy=function(){return U3(u,qie(e,t,n,i,r,s,o,a,l,c));},u;}function LS(){return ld.apply(qie(X7,Q7,Ya,wx,Oh,Lh,yx,vx,dd,Z3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments);}function os(e){return function(){return e;};}var n9=Math.PI,i9=2*n9,d0=1e-6,x8e=i9-d0;function Kie(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t];}function w8e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Kie;let n=10**t;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r];};}var h0=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Kie:w8e(t);}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`;}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`);}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`;}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`;}bezierCurveTo(t,n,i,r,s,o){this._append`C${+t},${+n},${+i},${+r},${this._x1=+s},${this._y1=+o}`;}arcTo(t,n,i,r,s){if(t=+t,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-t,c=r-n,u=o-t,d=a-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>d0)if(!(Math.abs(d*l-c*u)>d0)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let f=i-o,g=r-a,m=l*l+c*c,y=f*f+g*g,b=Math.sqrt(m),C=Math.sqrt(h),_=s*Math.tan((n9-Math.acos((m+h-y)/(2*b*C)))/2),A=_/C,I=_/b;Math.abs(A-1)>d0&&this._append`L${t+A*u},${n+A*d}`,this._append`A${s},${s},0,0,${+(d*f>u*g)},${this._x1=t+I*l},${this._y1=n+I*c}`;}}arc(t,n,i,r,s,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=t+a,u=n+l,d=1^o,h=o?r-s:s-r;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>d0||Math.abs(this._y1-u)>d0)&&this._append`L${c},${u}`,i&&(h<0&&(h=h%i9+i9),h>x8e?this._append`A${i},${i},0,1,${d},${t-a},${n-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=u}`:h>d0&&this._append`A${i},${i},0,${+(h>=n9)},${d},${this._x1=t+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`);}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`;}toString(){return this._;}};function Yie(){return new h0();}Yie.prototype=h0.prototype;function J3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i;}return e;},()=>new h0(t);}var KCt=Array.prototype.slice;function eP(e){return typeof e=="object"&&"length"in e?e:Array.from(e);}function Xie(e){this._context=e;}Xie.prototype={areaStart:function(){this._line=0;},areaEnd:function(){this._line=NaN;},lineStart:function(){this._point=0;},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line;},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break;}}};function f0(e){return new Xie(e);}function tP(e){return e[0];}function nP(e){return e[1];}function OS(e,t){var n=os(!0),i=null,r=f0,s=null,o=J3(a);e=typeof e=="function"?e:e===void 0?tP:os(e),t=typeof t=="function"?t:t===void 0?nP:os(t);function a(l){var c,u=(l=eP(l)).length,d,h=!1,f;for(i==null&&(s=r(f=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,c,l),+t(d,c,l));if(f)return s=null,f+""||null;}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:os(+l),a):e;},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:os(+l),a):t;},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:os(!!l),a):n;},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r;},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i;},a;}function iP(e,t,n){var i=null,r=os(!0),s=null,o=f0,a=null,l=J3(c);e=typeof e=="function"?e:e===void 0?tP:os(+e),t=typeof t=="function"?t:t===void 0?os(0):os(+t),n=typeof n=="function"?n:n===void 0?nP:os(+n);function c(d){var h,f,g,m=(d=eP(d)).length,y,b=!1,C,_=new Array(m),A=new Array(m);for(s==null&&(a=o(C=l())),h=0;h<=m;++h){if(!(h<m&&r(y=d[h],h,d))===b)if(b=!b)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=h-1;g>=f;--g)a.point(_[g],A[g]);a.lineEnd(),a.areaEnd();}b&&(_[h]=+e(y,h,d),A[h]=+t(y,h,d),a.point(i?+i(y,h,d):_[h],n?+n(y,h,d):A[h]));}if(C)return a=null,C+""||null;}function u(){return OS().defined(r).curve(o).context(s);}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:os(+d),i=null,c):e;},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:os(+d),c):e;},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:os(+d),c):i;},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:os(+d),n=null,c):t;},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:os(+d),c):t;},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:os(+d),c):n;},c.lineX0=c.lineY0=function(){return u().x(e).y(t);},c.lineY1=function(){return u().x(e).y(n);},c.lineX1=function(){return u().x(i).y(t);},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:os(!!d),c):r;},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o;},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s;},c;}var ure=Wf(Zie(),1);var D8e=["caretElm"],R8e=e=>({model:e});function I8e(e,t){}function P8e(e,t){if(e&1&&(j(0,"span"),Le(1,I8e,0,0,"ng-template",5),q()),e&2){let n=ve();J(),se("ngTemplateOutlet",n.template)("ngTemplateOutletContext",dh(2,R8e,n.context));}}function k8e(e,t){if(e&1&&Ke(0,"span",6),e&2){let n=ve();se("innerHTML",n.title,ob);}}function M8e(e,t){if(e&1&&(j(0,"header",4)(1,"span",5),nt(2),q()()),e&2){let n=ve();J(2),Mn(n.title);}}function F8e(e,t){if(e&1){let n=zt();j(0,"li",6)(1,"ngx-charts-legend-entry",7),Ze("select",function(r){vt(n);let s=ve();return yt(s.labelClick.emit(r));})("activate",function(r){vt(n);let s=ve();return yt(s.activate(r));})("deactivate",function(r){vt(n);let s=ve();return yt(s.deactivate(r));}),q()();}if(e&2){let n=t.$implicit,i=ve();J(),se("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",i.isActive(n));}}var dre=["*"];function N8e(e,t){if(e&1&&Ke(0,"ngx-charts-scale-legend",4),e&2){let n=ve();se("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth);}}function L8e(e,t){if(e&1){let n=zt();j(0,"ngx-charts-legend",5),Ze("labelClick",function(r){vt(n);let s=ve();return yt(s.legendLabelClick.emit(r));})("labelActivate",function(r){vt(n);let s=ve();return yt(s.legendLabelActivate.emit(r));})("labelDeactivate",function(r){vt(n);let s=ve();return yt(s.legendLabelDeactivate.emit(r));}),q();}if(e&2){let n=ve();se("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries);}}var O8e=["ngx-charts-axis-label",""],hre=["ticksel"],B8e=["ngx-charts-x-axis-ticks",""];function V8e(e,t){e&1&&(Ft(),eR(0));}function H8e(e,t){if(e&1&&(Ft(),j(0,"tspan",10),nt(1),q()),e&2){let n=t.$implicit,i=t.index;an("y",i*12),J(),jn(" ",n," ");}}function G8e(e,t){if(e&1&&(Ft(),lp(0),Le(1,H8e,2,2,"tspan",9),cp()),e&2){let n=t.ngIf;J(),se("ngForOf",n);}}function z8e(e,t){if(e&1&&Le(0,G8e,2,1,"ng-container",6),e&2){let n=ve(2).$implicit,i=ve();se("ngIf",i.tickChunks(n));}}function U8e(e,t){if(e&1&&nt(0),e&2){let n=ve().ngIf,i=ve(2);jn(" ",i.tickTrim(n)," ");}}function j8e(e,t){if(e&1&&(Ft(),lp(0),j(1,"title"),nt(2),q(),j(3,"text",7),Le(4,V8e,1,0,"ng-container",8),q(),Le(5,z8e,1,1,"ng-template",null,1,hh)(7,U8e,1,1,"ng-template",null,2,hh),cp()),e&2){let n=t.ngIf,i=$u(6),r=$u(8),s=ve(2);J(2),Mn(n),J(),an("text-anchor",s.textAnchor)("transform",s.textTransform),J(),se("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r);}}function $8e(e,t){if(e&1&&(Ft(),j(0,"g",5),Le(1,j8e,9,6,"ng-container",6),q()),e&2){let n=t.$implicit,i=ve();an("transform",i.tickTransform(n)),J(),se("ngIf",i.tickFormat(n));}}function W8e(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"line",11),q()),e&2){let n=ve(2);an("transform",n.gridLineTransform()),J(),an("y1",-n.gridLineHeight);}}function q8e(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,W8e,2,2,"g",6),q()),e&2){let n=t.$implicit,i=ve();an("transform",i.tickTransform(n)),J(),se("ngIf",i.showGridLines);}}var K8e=["ngx-charts-x-axis",""];function Y8e(e,t){if(e&1){let n=zt();Ft(),j(0,"g",2),Ze("dimensionsChanged",function(r){vt(n);let s=ve();return yt(s.emitTicksHeight(r));}),q();}if(e&2){let n=ve();se("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks);}}function X8e(e,t){if(e&1&&(Ft(),Ke(0,"g",3)),e&2){let n=ve();se("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width);}}var Q8e=["ngx-charts-y-axis-ticks",""];function Z8e(e,t){e&1&&(Ft(),eR(0));}function J8e(e,t){if(e&1&&(Ft(),j(0,"tspan",12),nt(1),q()),e&2){let n=t.$implicit,i=t.index,r=ve(6);an("y",i*(8+r.tickSpacing)),J(),jn(" ",n," ");}}function eBe(e,t){if(e&1&&(Ft(),lp(0),Le(1,J8e,2,2,"tspan",11),cp()),e&2){let n=ve().ngIf;J(),se("ngForOf",n);}}function tBe(e,t){if(e&1&&(Ft(),lp(0),Le(1,eBe,2,1,"ng-container",10),cp()),e&2){let n=t.ngIf;ve(2);let i=$u(8);J(),se("ngIf",n.length>1)("ngIfElse",i);}}function nBe(e,t){if(e&1&&Le(0,tBe,2,2,"ng-container",7),e&2){let n=ve(2).$implicit,i=ve();se("ngIf",i.tickChunks(n));}}function iBe(e,t){if(e&1&&nt(0),e&2){let n=ve().ngIf,i=ve(2);jn(" ",i.tickTrim(n)," ");}}function rBe(e,t){if(e&1&&(Ft(),lp(0),j(1,"title"),nt(2),q(),j(3,"text",8),Le(4,Z8e,1,0,"ng-container",9),q(),Le(5,nBe,1,1,"ng-template",null,1,hh)(7,iBe,1,1,"ng-template",null,2,hh),cp()),e&2){let n=t.ngIf,i=$u(6),r=$u(8),s=ve(2);J(2),Mn(n),J(),ya("font-size","12px"),an("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),J(),se("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r);}}function sBe(e,t){if(e&1&&(Ft(),j(0,"g",6),Le(1,rBe,9,10,"ng-container",7),q()),e&2){let n=t.$implicit,i=ve();an("transform",i.transform(n)),J(),se("ngIf",i.tickFormat(n));}}function oBe(e,t){if(e&1&&(Ft(),Ke(0,"path",13)),e&2){let n=ve();an("d",n.referenceAreaPath)("transform",n.gridLineTransform());}}function aBe(e,t){if(e&1&&(Ft(),Ke(0,"line",15)),e&2){let n=ve(3);an("x2",n.gridLineWidth);}}function lBe(e,t){if(e&1&&(Ft(),Ke(0,"line",15)),e&2){let n=ve(3);an("x2",-n.gridLineWidth);}}function cBe(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,aBe,1,1,"line",14)(2,lBe,1,1,"line",14),q()),e&2){let n=ve(2);an("transform",n.gridLineTransform()),J(),se("ngIf",n.orient===n.Orientation.Left),J(),se("ngIf",n.orient===n.Orientation.Right);}}function uBe(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,cBe,3,3,"g",7),q()),e&2){let n=t.$implicit,i=ve();an("transform",i.transform(n)),J(),se("ngIf",i.showGridLines);}}function dBe(e,t){if(e&1&&(Ft(),j(0,"g")(1,"title"),nt(2),q(),j(3,"text",17),nt(4),q()()),e&2){let n=ve(2).$implicit,i=ve();J(2),Mn(i.tickTrim(i.tickFormat(n.value))),J(),an("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),J(),jn(" ",n.name," ");}}function hBe(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"line",16),Le(2,dBe,5,6,"g",7),q()),e&2){let n=ve().$implicit,i=ve();an("transform",i.transform(n.value)),J(),an("x2",i.gridLineWidth)("transform",i.gridLineTransform()),J(),se("ngIf",i.showRefLabels);}}function fBe(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,hBe,3,4,"g",7),q()),e&2){let n=ve();J(),se("ngIf",n.showRefLines);}}var pBe=["ngx-charts-y-axis",""];function gBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g",2),Ze("dimensionsChanged",function(r){vt(n);let s=ve();return yt(s.emitTicksWidth(r));}),q();}if(e&2){let n=ve();se("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks);}}function mBe(e,t){if(e&1&&(Ft(),Ke(0,"g",3)),e&2){let n=ve();se("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width);}}var vBe=["ngx-charts-svg-linear-gradient",""];function yBe(e,t){if(e&1&&(Ft(),Ke(0,"stop")),e&2){let n=t.$implicit;ya("stop-color",n.color)("stop-opacity",n.opacity),an("offset",n.offset+"%");}}var bBe=["ngx-charts-circle",""],xBe=["ngx-charts-circle-series",""],wBe=e=>({name:e});function CBe(e,t){if(e&1&&(Ft(),Ke(0,"rect",4)),e&2){let n=ve(2);se("@animationState","active"),an("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill);}}function _Be(e,t){if(e&1&&(Ft(),Ke(0,"rect",4)),e&2){let n=ve(2);an("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill);}}function SBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g")(1,"defs"),Ke(2,"g",1),q(),Le(3,CBe,1,6,"rect",2)(4,_Be,1,5,"rect",2),j(5,"g",3),Ze("select",function(){vt(n);let r=ve();return yt(r.onClick(r.circle.data));})("activate",function(){vt(n);let r=ve();return yt(r.activateCircle());})("deactivate",function(){vt(n);let r=ve();return yt(r.deactivateCircle());}),q()();}if(e&2){let n=ve();J(2),se("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.circle.gradientStops),J(),se("ngIf",!n.isSSR&&n.barVisible&&n.type==="standard"),J(),se("ngIf",n.isSSR&&n.barVisible&&n.type==="standard"),J(),ba("active",n.isActive(dh(20,wBe,n.circle.seriesName))),se("cx",n.circle.cx)("cy",n.circle.cy)("r",n.circle.radius)("fill",n.circle.color)("pointerEvents",n.circle.value===0?"none":"all")("data",n.circle.value)("classNames",n.circle.classNames)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(n.circle))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",n.circle.data);}}var EBe=["ngx-charts-area",""];function TBe(e,t){if(e&1&&(Ft(),j(0,"defs"),Ke(1,"g",2),q()),e&2){let n=ve();J(),se("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops);}}var ABe=["tooltipAnchor"],DBe=["ngx-charts-tooltip-area",""];function RBe(e,t){if(e&1&&(j(0,"div",6),Ke(1,"span",7),nt(2),q()),e&2){let n=t.$implicit,i=ve(2);J(),ya("background-color",n.color),J(),jn(" ",i.getToolTipText(n)," ");}}function IBe(e,t){if(e&1&&(j(0,"div",4),Le(1,RBe,3,3,"div",5),q()),e&2){let n=t.model;J(),se("ngForOf",n);}}var PBe=["ngx-charts-timeline",""];var kBe=["tooltipTemplate"],MBe=["seriesTooltipTemplate"],fre=(e,t)=>[e,t];var FBe=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var NBe=["ngx-charts-line",""];function LBe(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"path",1),q()),e&2){let n=ve();J(),se("@animationState","active"),an("d",n.initialPath)("fill",n.fill)("stroke",n.stroke);}}function OBe(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"path",1),q()),e&2){let n=ve();J(),an("d",n.initialPath)("fill",n.fill)("stroke",n.stroke);}}var BBe=["ngx-charts-line-series",""];function VBe(e,t){if(e&1&&(Ft(),Ke(0,"g",4)),e&2){let n=ve();se("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops);}}function HBe(e,t){if(e&1&&(Ft(),Ke(0,"g",5)),e&2){let n=ve();ba("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),se("data",n.data)("path",n.outerPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",n.rangeFillOpacity)("animations",n.animations);}}function GBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g",7),Ze("dimensionsChanged",function(r){vt(n);let s=ve();return yt(s.updateXAxisHeight(r));}),q();}if(e&2){let n=ve();se("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("wrapTicks",n.wrapTicks);}}function zBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g",8),Ze("dimensionsChanged",function(r){vt(n);let s=ve();return yt(s.updateYAxisWidth(r));}),q();}if(e&2){let n=ve();se("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("wrapTicks",n.wrapTicks);}}function UBe(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"g",10),q()),e&2){let n=t.$implicit,i=ve(2);se("@animationState","active"),J(),se("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations);}}function jBe(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,UBe,2,11,"g",9),q()),e&2){let n=ve();J(),se("ngForOf",n.results)("ngForTrackBy",n.trackBy);}}function $Be(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"g",10),q()),e&2){let n=t.$implicit,i=ve(2);J(),se("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations);}}function WBe(e,t){if(e&1&&(Ft(),j(0,"g"),Le(1,$Be,2,10,"g",9),q()),e&2){let n=ve();J(),se("ngForOf",n.results)("ngForTrackBy",n.trackBy);}}function qBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g")(1,"g",14),Ze("select",function(r){vt(n);let s=ve(2);return yt(s.onClick(r));})("activate",function(r){vt(n);let s=ve(2);return yt(s.onActivate(r));})("deactivate",function(r){vt(n);let s=ve(2);return yt(s.onDeactivate(r));}),q()();}if(e&2){let n=t.$implicit,i=ve(2);J(),se("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate);}}function KBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g",11),Ze("mouseleave",function(){vt(n);let r=ve();return yt(r.hideCircles());}),j(1,"g",12),Ze("hover",function(r){vt(n);let s=ve();return yt(s.updateHoveredVertical(r));}),q(),Le(2,qBe,2,9,"g",13),q();}if(e&2){let n=ve();J(),se("dims",n.dims)("xSet",n.xSet)("xScale",n.xScale)("yScale",n.yScale)("results",n.results)("colors",n.colors)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.seriesTooltipTemplate),J(),se("ngForOf",n.results);}}function YBe(e,t){if(e&1&&(Ft(),j(0,"g"),Ke(1,"g",16),q()),e&2){let n=t.$implicit,i=ve(2);J(),se("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations);}}function XBe(e,t){if(e&1){let n=zt();Ft(),j(0,"g",15),Ze("onDomainChange",function(r){vt(n);let s=ve();return yt(s.updateDomain(r));}),Le(1,YBe,2,8,"g",9),q();}if(e&2){let n=ve();se("results",n.results)("view",q1(10,fre,n.timelineWidth,n.height))("height",n.timelineHeight)("scheme",n.scheme)("customColors",n.customColors)("scaleType",n.scaleType)("legend",n.legend),an("transform",n.timelineTransform),J(),se("ngForOf",n.results)("ngForTrackBy",n.trackBy);}}function QBe(e,t,n){n=n||{};let i,r,s,o=null,a=0;function l(){a=n.leading===!1?0:+new Date(),o=null,s=e.apply(i,r);}return function(){let c=+new Date();!a&&n.leading===!1&&(a=c);let u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=e.apply(i,r)):!o&&n.trailing!==!1&&(o=setTimeout(l,u)),s;};}function ZBe(e,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:QBe(s.value,e,t)}),this[r];}};};}var Hn=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e;}(Hn||{}),Np=7;function Jie(e,t,n){if(n===Hn.Top)return e.top-Np;if(n===Hn.Bottom)return e.top+e.height-t.height+Np;if(n===Hn.Center)return e.top+e.height/2-t.height/2;}function ere(e,t,n){if(n===Hn.Left)return e.left-Np;if(n===Hn.Right)return e.left+e.width-t.width+Np;if(n===Hn.Center)return e.left+e.width/2-t.width/2;}var VS=class e{static calculateVerticalAlignment(t,n,i){let r=Jie(t,n,i);return r+n.height>window.innerHeight&&(r=window.innerHeight-n.height),r;}static calculateVerticalCaret(t,n,i,r){let s;r===Hn.Top&&(s=t.height/2-i.height/2+Np),r===Hn.Bottom&&(s=n.height-t.height/2-i.height/2-Np),r===Hn.Center&&(s=n.height/2-i.height/2);let o=Jie(t,n,r);return o+n.height>window.innerHeight&&(s+=o+n.height-window.innerHeight),s;}static calculateHorizontalAlignment(t,n,i){let r=ere(t,n,i);return r+n.width>window.innerWidth&&(r=window.innerWidth-n.width),r;}static calculateHorizontalCaret(t,n,i,r){let s;r===Hn.Left&&(s=t.width/2-i.width/2+Np),r===Hn.Right&&(s=n.width-t.width/2-i.width/2-Np),r===Hn.Center&&(s=n.width/2-i.width/2);let o=ere(t,n,r);return o+n.width>window.innerWidth&&(s+=o+n.width-window.innerWidth),s;}static shouldFlip(t,n,i,r){let s=!1;return i===Hn.Right&&t.left+t.width+n.width+r>window.innerWidth&&(s=!0),i===Hn.Left&&t.left-n.width-r<0&&(s=!0),i===Hn.Top&&t.top-n.height-r<0&&(s=!0),i===Hn.Bottom&&t.top+t.height+n.height+r>window.innerHeight&&(s=!0),s;}static positionCaret(t,n,i,r,s){let o=0,a=0;return t===Hn.Right?(a=-7,o=e.calculateVerticalCaret(i,n,r,s)):t===Hn.Left?(a=n.width,o=e.calculateVerticalCaret(i,n,r,s)):t===Hn.Top?(o=n.height,a=e.calculateHorizontalCaret(i,n,r,s)):t===Hn.Bottom&&(o=-7,a=e.calculateHorizontalCaret(i,n,r,s)),{top:o,left:a};}static positionContent(t,n,i,r,s){let o=0,a=0;return t===Hn.Right?(a=i.left+i.width+r,o=e.calculateVerticalAlignment(i,n,s)):t===Hn.Left?(a=i.left-n.width-r,o=e.calculateVerticalAlignment(i,n,s)):t===Hn.Top?(o=i.top-n.height-r,a=e.calculateHorizontalAlignment(i,n,s)):t===Hn.Bottom&&(o=i.top+i.height+r,a=e.calculateHorizontalAlignment(i,n,s)),{top:o,left:a};}static determinePlacement(t,n,i,r){if(e.shouldFlip(i,n,t,r)){if(t===Hn.Right)return Hn.Left;if(t===Hn.Left)return Hn.Right;if(t===Hn.Top)return Hn.Bottom;if(t===Hn.Bottom)return Hn.Top;}return t;}},JBe=(()=>{class e{constructor(n,i,r){this.element=n,this.renderer=i,this.platformId=r;}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n;}ngAfterViewInit(){setTimeout(this.position.bind(this));}position(){if(!ja(this.platformId))return;let n=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=n.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(n,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(n,"animate"),1);}positionContent(n,i,r){let{top:s,left:o}=VS.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${s}px`),this.renderer.setStyle(n,"left",`${o}px`);}positionCaret(n,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=VS.positionCaret(this.placement,i,n,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`);}checkFlip(n,i){this.placement=VS.determinePlacement(this.placement,i,n,this.spacing);}onWindowResize(){this.position();}}return e.ɵfac=function(n){return new(n||e)(Te(Un),Te(Vs),Te($r));},e.ɵcmp=St({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,i){if(n&1&&Tm(D8e,5),n&2){let r;Uu(r=ju())&&(i.caretElm=r.first);}},hostVars:2,hostBindings:function(n,i){n&1&&Ze("resize",function(){return i.onWindowResize();},!1,H1),n&2&&JD(i.cssClasses);},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(j(0,"div"),Ke(1,"span",1,0),j(3,"div",2),Le(4,P8e,2,4,"span",3)(5,k8e,1,1,"span",4),q()()),n&2&&(J(),qK("tooltip-caret position-",i.placement,""),se("hidden",!i.showCaret),J(3),se("ngIf",!i.title),J(),se("ngIf",i.title));},dependencies:[rn,OY],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),Wj([ZBe(100)],e.prototype,"onWindowResize",null),e;})(),s9=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map();}getByType(t=this.type){return this.components.get(t);}create(t){return this.createByType(this.type,t);}createByType(t,n){n=this.assignDefaults(n);let i=this.injectComponent(t,n);return this.register(t,i),i;}destroy(t){let n=this.components.get(t.componentType);if(n&&n.length){let i=n.indexOf(t);i>-1&&(n[i].destroy(),n.splice(i,1));}}destroyAll(){this.destroyByType(this.type);}destroyByType(t){let n=this.components.get(t);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--]);}}injectComponent(t,n){return this.injectionService.appendComponent(t,n);}assignDefaults(t){let n=O({},this.defaults.inputs),i=O({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),n&&(t.inputs=O(O({},n),t.inputs)),i&&(t.outputs=O(O({},i),t.outputs)),t;}register(t,n){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(n);}};function e7e(e){return e.element;}var pre=(()=>{class e{constructor(n,i,r){this.applicationRef=n,this.componentFactoryResolver=i,this.injector=r;}static setGlobalRootViewContainer(n){e.globalRootViewContainer=n;}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.");}setRootViewContainer(n){this._container=n;}getComponentRootNode(n){return e7e(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement;}getRootViewContainerNode(n){return this.getComponentRootNode(n);}projectComponentBindings(n,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)n.instance[s]=i.inputs[s];}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)n.instance[s]=i.outputs[s];}}return n;}appendComponent(n,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new a3(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new rS(n),l=o.attach(a);return this.projectComponentBindings(l,i),l;}}return e.globalRootViewContainer=null,e.ɵfac=function(n){return new(n||e)(rt(Al),rt(Hu),rt(is));},e.ɵprov=ot({token:e,factory:e.ɵfac}),e;})(),l9=(()=>{class e extends s9{constructor(n){super(n),this.type=JBe;}}return e.ɵfac=function(n){return new(n||e)(rt(pre));},e.ɵprov=ot({token:e,factory:e.ɵfac}),e;})(),p0=function(e){return e.Right="right",e.Below="below",e;}(p0||{}),BS=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e;}(BS||{}),jt=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e;}(jt||{}),t7e=(()=>{class e{constructor(){this.horizontal=!1;}ngOnChanges(n){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`;}gradientString(n,i){i.push(1);let r=[];return n.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`);}),r.join(", ");}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[Si],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,i){n&1&&(j(0,"div",0)(1,"div",1)(2,"span"),nt(3),q()(),Ke(4,"div",2),j(5,"div",1)(6,"span"),nt(7),q()()()),n&2&&(ya("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),ba("horizontal-legend",i.horizontal),J(3),Mn(i.valueRange[1].toLocaleString()),J(),ya("background",i.gradient),J(3),Mn(i.valueRange[0].toLocaleString()));},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e;})();function gre(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e;}function tre(e){return e.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t]);}var n7e=(()=>{class e{constructor(){this.isActive=!1,this.select=new _e(),this.activate=new _e(),this.deactivate=new _e(),this.toggle=new _e();}get trimmedLabel(){return this.formattedLabel||"(empty)";}onMouseEnter(){this.activate.emit({name:this.label});}onMouseLeave(){this.deactivate.emit({name:this.label});}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,i){n&1&&Ze("mouseenter",function(){return i.onMouseEnter();})("mouseleave",function(){return i.onMouseLeave();});},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,i){n&1&&(j(0,"span",0),Ze("click",function(){return i.select.emit(i.formattedLabel);}),j(1,"span",1),Ze("click",function(){return i.toggle.emit(i.formattedLabel);}),q(),j(2,"span",2),nt(3),q()()),n&2&&(ba("active",i.isActive),se("title",i.formattedLabel),J(),ya("background-color",i.color),J(2),jn(" ",i.trimmedLabel," "));},encapsulation:2,changeDetection:0}),e;})(),i7e=(()=>{class e{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new _e(),this.labelActivate=new _e(),this.labelDeactivate=new _e(),this.legendEntries=[];}ngOnChanges(n){this.update();}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries();}getLegendEntries(){let n=[];for(let i of this.data){let r=gre(i);n.findIndex(o=>o.label===r)===-1&&n.push({label:i,formattedLabel:r,color:this.colors.getColor(i)});}return n;}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.label===r.name)!==void 0:!1;}activate(n){this.labelActivate.emit(n);}deactivate(n){this.labelDeactivate.emit(n);}trackBy(n,i){return i.label;}}return e.ɵfac=function(n){return new(n||e)(Te(Pl));},e.ɵcmp=St({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[Si],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,i){n&1&&(j(0,"div"),Le(1,M8e,3,1,"header",0),j(2,"div",1)(3,"ul",2),Le(4,F8e,2,4,"li",3),q()()()),n&2&&(ya("width",i.width,"px"),J(),se("ngIf",(i.title==null?null:i.title.length)>0),J(2),ya("max-height",i.height-45,"px"),ba("horizontal-legend",i.horizontal),J(),se("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy));},dependencies:[n7e,rn,ji],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e;})(),r7e=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new _e(),this.legendLabelActivate=new _e(),this.legendLabelDeactivate=new _e(),this.LegendPosition=p0,this.LegendType=BS;}ngOnChanges(n){this.update();}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===p0.Right)&&(this.legendType===BS.ScaleLegend?n=1:n=2));let i=12-n;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===p0.Right?Math.floor(this.view[0]*n/12):this.chartWidth;}getLegendType(){return this.legendOptions.scaleType===jt.Linear?BS.ScaleLegend:BS.Legend;}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[Rr([l9]),Si],ngContentSelectors:dre,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,i){n&1&&($1(),j(0,"div",0),Ft(),j(1,"svg",1),W1(2),q(),Le(3,N8e,1,5,"ngx-charts-scale-legend",2)(4,L8e,1,7,"ngx-charts-legend",3),q()),n&2&&(ya("width",i.view[0],"px")("height",i.view[1],"px"),J(),an("width",i.chartWidth)("height",i.view[1]),J(2),se("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),J(),se("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend));},dependencies:[t7e,i7e,rn],encapsulation:2,changeDetection:0}),e;})(),s7e=(()=>{class e{constructor(n,i){this.element=n,this.zone=i,this.visible=new _e(),this.isVisible=!1,this.runCheck();}destroy(){clearTimeout(this.timeout);}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0);});}runCheck(){let n=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100);}));};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n());});}}return e.ɵfac=function(n){return new(n||e)(Te(Un),Te(Tn));},e.ɵdir=Ei({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1}),e;})();function nre(e){return toString.call(e)==="[object Date]";}var o7e=(()=>{class e{constructor(n,i,r,s){this.chartElement=n,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=jt.Ordinal,this.animations=!0,this.select=new _e();}ngOnInit(){bh(this.platformId)&&(this.animations=!1);}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new s7e(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this));}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy());}ngOnChanges(n){this.update();}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height);}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck();}getContainerDims(){let n,i,r=this.chartElement.nativeElement;if(ja(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();n=s.width,i=s.height;}return n&&i?{width:n,height:i}:null;}formatDates(){for(let n=0;n<this.results.length;n++){let i=this.results[n];if(i.label=i.name,nre(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,nre(s.label)&&(s.label=s.label.toLocaleDateString());}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe();}bindWindowResizeEvent(){if(!ja(this.platformId))return;let i=Kf(window,"resize").pipe(uL(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck();});this.resizeSubscription=i;}cloneData(n){let i=[];for(let r of n){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a);}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s);}return i;}}return e.ɵfac=function(n){return new(n||e)(Te(Un),Te(Tn),Te(Pl),Te($r));},e.ɵcmp=St({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[Si],decls:1,vars:0,template:function(n,i){n&1&&Ke(0,"div");},encapsulation:2}),e;})(),js=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e;}(js||{}),mre=(()=>{class e{constructor(n){this.textHeight=25,this.margin=5,this.element=n.nativeElement;}ngOnChanges(n){this.update();}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case js.Top:this.y=this.offset,this.x=this.width/2;break;case js.Bottom:this.y=this.offset,this.x=this.width/2;break;case js.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case js.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return e.ɵfac=function(n){return new(n||e)(Te(Un));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[Si],attrs:O8e,decls:2,vars:6,template:function(n,i){n&1&&(Ft(),j(0,"text"),nt(1),q()),n&2&&(an("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),J(),jn(" ",i.label," "));},encapsulation:2,changeDetection:0}),e;})();function vre(e,t=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=t?e:`${e.slice(0,t)}...`);}function yre(e,t){if(e.length>t){let n=[],i=Math.floor(e.length/t);for(let r=0;r<e.length;r++)r%i===0&&n.push(e[r]);e=n;}return e;}function bre(e,t,n){let i=(e||"").toString(),r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>t?[...s,a.trim(),o.trim()]:[...s,a+o];},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+t)),s+=t;}return r.length>n&&(r=r.splice(0,n),r[r.length-1]+="..."),r;}var Bh=function(e){return e.Start="start",e.Middle="middle",e.End="end",e;}(Bh||{}),ire=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new _e(),this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Bh.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16;}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step;}ngOnChanges(n){this.update();}ngAfterViewInit(){setTimeout(()=>this.updateDims());}updateDims(){if(!ja(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return;}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);n!==this.height&&(this.height=n,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()));}update(){let n=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString();};let i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5;}:this.scale,this.textTransform="",i&&i!==0?(this.textTransform=`rotate(${i})`,this.textAnchor=Bh.End,this.verticalSpacing=10):this.textAnchor=Bh.Middle,setTimeout(()=>this.updateDims());}getRotationAngle(n){let i=0;this.maxTicksLength=0;for(let d=0;d<n.length;d++){let h=this.tickFormat(n[d]).toString(),f=h.length;this.trimTicks&&(f=this.tickTrim(h).length),f>this.maxTicksLength&&(this.maxTicksLength=f);}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/n.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let d=this.ticks.reduce((f,g)=>g.length>f.length?g:f,"");c=14*(this.tickChunks(d).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(d);}let u=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(u,200),i;}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=yre(n,i)),n;}getMaxTicks(n){return Math.floor(this.width/n);}tickTransform(n){return"translate("+this.adjustedScale(n)+","+this.verticalSpacing+")";}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`;}tickTrim(n){return this.trimTicks?vre(n,this.maxTickLength):n;}getMaxPossibleLengthForTick(n){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=n.slice(0,r);return Math.max(s.length,this.maxTickLength);}return this.maxTickLength;}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(n)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return ja(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),bre(n,s,r<1?1:r);}return[this.tickTrim(n)];}}return e.ɵfac=function(n){return new(n||e)(Te($r));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&Tm(hre,5),n&2){let r;Uu(r=ju())&&(i.ticksElement=r.first);}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Si],attrs:B8e,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,i){n&1&&(Ft(),j(0,"g",null,0),Le(2,$8e,2,2,"g",3),q(),Le(3,q8e,2,2,"g",4)),n&2&&(J(2),se("ngForOf",i.ticks),J(),se("ngForOf",i.ticks));},dependencies:[ji,rn],encapsulation:2,changeDetection:0}),e;})(),a7e=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=js.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new _e(),this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=js;}ngOnChanges(n){this.update();}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount]);}emitTicksHeight({height:n}){let i=n+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:n});},0));}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,i){if(n&1&&Tm(ire,5),n&2){let r;Uu(r=ju())&&(i.ticksComponent=r.first);}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Si],attrs:K8e,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(Ft(),j(0,"g"),Le(1,Y8e,1,13,"g",0)(2,X8e,1,5,"g",1),q()),n&2&&(an("class",i.xAxisClassName)("transform",i.transform),J(),se("ngIf",i.xScale),J(),se("ngIf",i.showLabel));},dependencies:[ire,mre,rn],encapsulation:2,changeDetection:0}),e;})();function l7e(e,t,n,i,r,[s,o,a,l]){let c="";return n=Math.floor(n),i=Math.floor(i),n=n===0?1:n,i=i===0?1:i,c=`M${[e+r,t]}`,c+=`h${n-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${i-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-n}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-i}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c;}var rre=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new _e(),this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Bh.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=js;}ngOnChanges(n){this.update();}ngAfterViewInit(){setTimeout(()=>this.updateDims());}updateDims(){if(!ja(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return;}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);n!==this.width&&(this.width=n,this.dimensionsChanged.emit({width:n}),setTimeout(()=>this.updateDims()));}update(){let n=this.scale,i=this.orient===js.Top||this.orient===js.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString();},this.adjustedScale=n.bandwidth?r=>{let s=n(r)+n.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=n.bandwidth(),l=o*8,c=a*.5-l*.5;return n(r)+c;}return s;}:n,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case js.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)";},this.textAnchor=Bh.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case js.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)";},this.textAnchor=Bh.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case js.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")";},this.textAnchor=Bh.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case js.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")";},this.textAnchor=Bh.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims());}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(n=>n.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(n=>n.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=l7e(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1]);}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=yre(n,i)),n;}getMaxTicks(n){return Math.floor(this.height/n);}tickTransform(n){return`translate(${this.adjustedScale(n)},${this.verticalSpacing})`;}gridLineTransform(){return"translate(5,0)";}tickTrim(n){return this.trimTicks?vre(n,this.maxTickLength):n;}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7;}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(n)]:bre(n,i,Math.min(r,5));}return[this.tickFormat(n)];}}return e.ɵfac=function(n){return new(n||e)(Te($r));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&Tm(hre,5),n&2){let r;Uu(r=ju())&&(i.ticksElement=r.first);}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Si],attrs:Q8e,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,i){n&1&&(Ft(),j(0,"g",null,0),Le(2,sBe,2,2,"g",3),q(),Le(3,oBe,1,2,"path",4)(4,uBe,2,2,"g",5)(5,fBe,2,1,"g",5)),n&2&&(J(2),se("ngForOf",i.ticks),J(),se("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),J(),se("ngForOf",i.ticks),J(),se("ngForOf",i.referenceLines));},dependencies:[ji,rn],encapsulation:2,changeDetection:0}),e;})(),c7e=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=js.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new _e(),this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5;}ngOnChanges(n){this.update();}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===js.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount]);}emitTicksWidth({width:n}){n!==this.labelOffset&&this.yOrient===js.Right?(this.labelOffset=n+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:n});},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({width:n});},0));}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,i){if(n&1&&Tm(rre,5),n&2){let r;Uu(r=ju())&&(i.ticksComponent=r.first);}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[Si],attrs:pBe,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(Ft(),j(0,"g"),Le(1,gBe,1,15,"g",0)(2,mBe,1,5,"g",1),q()),n&2&&(an("class",i.yAxisClassName)("transform",i.transform),J(),se("ngIf",i.yScale),J(),se("ngIf",i.showLabel));},dependencies:[rre,mre,rn],encapsulation:2,changeDetection:0}),e;})(),sre=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[cn]]}),e;})(),sP=function(e){return e.popover="popover",e.tooltip="tooltip",e;}(sP||{}),Sx=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e;}(Sx||{}),xre=(()=>{class e{constructor(n,i,r){this.tooltipService=n,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Hn.Top,this.tooltipAlignment=Hn.Center,this.tooltipType=sP.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Sx.all,this.tooltipImmediateExit=!1,this.show=new _e(),this.hide=new _e();}get listensForFocus(){return this.tooltipShowEvent===Sx.all||this.tooltipShowEvent===Sx.focus;}get listensForHover(){return this.tooltipShowEvent===Sx.all||this.tooltipShowEvent===Sx.mouseover;}ngOnDestroy(){this.hideTooltip(!0);}onFocus(){this.listensForFocus&&this.showTooltip();}onBlur(){this.listensForFocus&&this.hideTooltip(!0);}onMouseEnter(){this.listensForHover&&this.showTooltip();}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit);}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0);}showTooltip(n){if(this.component||this.tooltipDisabled)return;let i=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement);},10),this.show.emit(!0);},i);}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout);}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit);})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{n.contains(i.target)||this.hideTooltip();}));}hideTooltip(n=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0;};clearTimeout(this.timeout),n?i():this.timeout=setTimeout(i,this.tooltipHideTimeout);}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext};}}return e.ɵfac=function(n){return new(n||e)(Te(l9),Te(ma),Te(Vs));},e.ɵdir=Ei({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,i){n&1&&Ze("focusin",function(){return i.onFocus();})("blur",function(){return i.onBlur();})("mouseenter",function(){return i.onMouseEnter();})("mouseleave",function(s){return i.onMouseLeave(s.target);})("click",function(){return i.onMouseClick();});},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1}),e;})(),ore=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({providers:[pre,l9],imports:[[cn]]}),e;})(),are={};function Ex(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,are[e]?Ex():(are[e]=!0,e);}var g0=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e;}(g0||{}),c9=(()=>{class e{constructor(){this.orientation=g0.Vertical;}ngOnChanges(n){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===g0.Horizontal?this.x2="100%":this.orientation===g0.Vertical&&(this.y1="100%");}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[Si],attrs:vBe,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,i){n&1&&(Ft(),j(0,"linearGradient",0),Le(1,yBe,1,5,"stop",1),q()),n&2&&(se("id",i.name),an("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),J(),se("ngForOf",i.stops));},dependencies:[ji],encapsulation:2,changeDetection:0}),e;})(),u7e=(()=>{class e{constructor(){this.select=new _e(),this.activate=new _e(),this.deactivate=new _e();}onClick(){this.select.emit(this.data);}onMouseEnter(){this.activate.emit(this.data);}onMouseLeave(){this.deactivate.emit(this.data);}ngOnChanges(n){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle";}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(n,i){n&1&&Ze("click",function(){return i.onClick();})("mouseenter",function(){return i.onMouseEnter();})("mouseleave",function(){return i.onMouseLeave();});},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Si],attrs:bBe,decls:1,vars:8,template:function(n,i){n&1&&(Ft(),Ke(0,"circle")),n&2&&an("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents);},encapsulation:2,changeDetection:0}),e;})(),rP=function(e){return e.Standard="standard",e.Stacked="stacked",e;}(rP||{}),d7e=(()=>{class e{constructor(n){this.platformId=n,this.type=rP.Standard,this.tooltipDisabled=!1,this.select=new _e(),this.activate=new _e(),this.deactivate=new _e(),this.barVisible=!1,this.barOrientation=g0,this.placementTypes=Hn,this.styleTypes=sP,this.isSSR=!1;}ngOnInit(){this.gradientId="grad"+Ex().toString(),this.gradientFill=`url(#${this.gradientId})`,bh(this.platformId)&&(this.isSSR=!0);}ngOnChanges(){this.update();}update(){this.circle=this.getActiveCircle();}getActiveCircle(){let n=this.data.series.findIndex(i=>{let r=i.name;return r&&this.visibleValue&&r.toString()===this.visibleValue.toString()&&i.value!==void 0;});if(n!==-1)return this.mapDataPointToCircle(this.data.series[n],n);}mapDataPointToCircle(n,i){let r=this.data.name,s=n.value,o=n.name,a=gre(o),l;this.scaleType===jt.Time?l=this.xScale(o):this.scaleType===jt.Linear?l=this.xScale(Number(o)):l=this.xScale(o);let c=this.yScale(this.type===rP.Standard?s:n.d1),u=5,d=this.yScale.range()[0]-c,h=1,f;this.colors.scaleType===jt.Linear?this.type===rP.Standard?f=this.colors.getColor(s):f=this.colors.getColor(n.d1):f=this.colors.getColor(r);let g=Object.assign({},n,{series:r,value:s,name:o});return{classNames:[`circle-data-${i}`],value:s,label:o,data:g,cx:l,cy:c,radius:u,height:d,tooltipLabel:a,color:f,opacity:h,seriesName:r,gradientStops:this.getGradientStops(f),min:n.min,max:n.max};}getTooltipText({tooltipLabel:n,value:i,seriesName:r,min:s,max:o}){return`
      <span class="tooltip-label">${tre(r)} \u2022 ${tre(n)}</span>
      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(s,o)}</span>
    `;}getTooltipMinMaxText(n,i){if(n!==void 0||i!==void 0){let r=" (";return n!==void 0?(i===void 0&&(r+="\u2265"),r+=n.toLocaleString(),i!==void 0&&(r+=" - ")):i!==void 0&&(r+="\u2264"),i!==void 0&&(r+=i.toLocaleString()),r+=")",r;}else return"";}getGradientStops(n){return[{offset:0,color:n,opacity:.2},{offset:100,color:n,opacity:1}];}onClick(n){this.select.emit(n);}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1;}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name});}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name});}}return e.ɵfac=function(n){return new(n||e)(Te($r));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[Si],attrs:xBe,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"select","activate","deactivate","cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],[1,"tooltip-bar"]],template:function(n,i){n&1&&Le(0,SBe,6,22,"g",0),n&2&&se("ngIf",i.circle);},dependencies:[c9,u7e,rn,xre],encapsulation:2,data:{animation:[oS("animationState",[rx(":enter",[_a({opacity:0}),ix(250,_a({opacity:1}))])])]},changeDetection:0}),e;})();var h7e=(()=>{class e{constructor(n){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new _e(),this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=g0,this.element=n.nativeElement;}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0);}update(){this.gradientId="grad"+Ex().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl();}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100);}updatePathEl(){let n=uo(this.element).select(".area");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path);}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}];}}return e.ɵfac=function(n){return new(n||e)(Te(Un));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[Si],attrs:EBe,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,i){n&1&&(Le(0,TBe,2,3,"defs",0),Ft(),Ke(1,"path",1)),n&2&&(se("ngIf",i.gradient),J(),ya("opacity",i.opacity),an("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill));},dependencies:[c9,rn],encapsulation:2,changeDetection:0}),e;})();var o9;typeof window<"u"?o9=window:typeof global<"u"&&(o9=global);var lre=o9.MouseEvent;function r9(e,t=!1,n=!0){if(typeof lre=="function")return new lre(e,{bubbles:t,cancelable:n});{let i=document.createEvent("MouseEvent");return i.initEvent(e,t,n),i;}}var f7e=(()=>{class e{constructor(n){this.platformId=n,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Hn,this.styleTypes=sP,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new _e();}getValues(n){let i=[];for(let r of this.results){let s=r.series.find(a=>a.name.toString()===n.toString()),o=r.name;if(o instanceof Date&&(o=o.toLocaleDateString()),s){let a=s.name,l=s.value;this.showPercentage&&(l=(s.d1-s.d0).toFixed(2)+"%");let c;if(this.colors.scaleType===jt.Linear){let d=l;s.d1&&(d=s.d1),c=this.colors.getColor(d);}else c=this.colors.getColor(r.name);let u=Object.assign({},s,{value:l,name:a,series:o,min:s.min,max:s.max,color:c});i.push(u);}}return i;}mouseMove(n){if(!ja(this.platformId))return;let i=n.pageX-n.target.getBoundingClientRect().left,r=this.findClosestPointIndex(i),s=this.xSet[r];if(this.anchorPos=this.xScale(s),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(s),this.anchorPos!==this.lastAnchorPos){let o=r9("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(o),this.anchorOpacity=.7,this.hover.emit({value:s}),this.showTooltip(),this.lastAnchorPos=this.anchorPos;}}findClosestPointIndex(n){let i=0,r=this.xSet.length-1,s=Number.MAX_VALUE,o=0;for(;i<=r;){let a=(i+r)/2|0,l=this.xScale(this.xSet[a]),c=Math.abs(l-n);if(c<s&&(s=c,o=a),l<n)i=a+1;else if(l>n)r=a-1;else{s=0,o=a;break;}}return o;}showTooltip(){let n=r9("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(n);}hideTooltip(){let n=r9("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(n),this.anchorOpacity=0,this.lastAnchorPos=-1;}getToolTipText(n){let i="";return n.series!==void 0?i+=n.series:i+="???",i+=": ",n.value!==void 0&&(i+=n.value.toLocaleString()),(n.min!==void 0||n.max!==void 0)&&(i+=" (",n.min!==void 0?(n.max===void 0&&(i+="\u2265"),i+=n.min.toLocaleString(),n.max!==void 0&&(i+=" - ")):n.max!==void 0&&(i+="\u2264"),n.max!==void 0&&(i+=n.max.toLocaleString()),i+=")"),i;}}return e.ɵfac=function(n){return new(n||e)(Te($r));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(n,i){if(n&1&&Tm(ABe,5),n&2){let r;Uu(r=ju())&&(i.tooltipAnchor=r.first);}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},standalone:!1,attrs:DBe,decls:6,vars:18,consts:[["defaultTooltipTemplate",""],["tooltipAnchor",""],["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(n,i){if(n&1){let r=zt();Ft(),j(0,"g")(1,"rect",2),Ze("mousemove",function(o){return vt(r),yt(i.mouseMove(o));})("mouseleave",function(){return vt(r),yt(i.hideTooltip());}),q(),Le(2,IBe,2,1,"ng-template",null,0,hh),Ke(4,"rect",3,1),q();}if(n&2){let r=$u(3);J(),an("x",0)("width",i.dims.width)("height",i.dims.height),J(3),ya("opacity",i.anchorOpacity)("pointer-events","none"),se("@animationState",i.anchorOpacity!==0?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:r)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),an("x",i.anchorPos)("width",1)("height",i.dims.height);}},dependencies:[ji,xre],encapsulation:2,data:{animation:[oS("animationState",[rx("inactive => active",[_a({opacity:0}),ix(250,_a({opacity:.7}))]),rx("active => inactive",[_a({opacity:.7}),ix(250,_a({opacity:0}))])])]},changeDetection:0}),e;})(),p7e=(()=>{class e{constructor(n,i){this.cd=i,this.height=50,this.select=new _e(),this.onDomainChange=new _e(),this.initialized=!1,this.element=n.nativeElement;}ngOnChanges(n){this.update(),this.initialized||(this.addBrush(),this.initialized=!0);}update(){this.dims=this.getDims(),this.height=this.dims.height;let n=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${n})`,this.filterId="filter"+Ex().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck();}getXDomain(){let n=[];for(let r of this.results)for(let s of r.series)n.includes(s.name)||n.push(s.name);let i=[];if(this.scaleType===jt.Time){let r=Math.min(...n),s=Math.max(...n);i=[r,s];}else if(this.scaleType===jt.Linear){n=n.map(o=>Number(o));let r=Math.min(...n),s=Math.max(...n);i=[r,s];}else i=n;return i;}getXScale(){let n;return this.scaleType===jt.Time?n=LS().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===jt.Linear?n=ud().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===jt.Ordinal&&(n=z3().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),n;}addBrush(){if(this.brush)return;let n=this.height,i=this.view[0];this.brush=P7().extent([[0,0],[i,n]]).on("brush end",({selection:r})=>{let o=(r||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(o),this.cd.markForCheck();}),uo(this.element).select(".brush").call(this.brush);}updateBrush(){if(!this.brush)return;let n=this.height,i=this.view[0];this.brush.extent([[0,0],[i,n]]),uo(this.element).select(".brush").call(this.brush),uo(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck();}getDims(){return{width:this.view[0],height:this.height};}}return e.ɵfac=function(n){return new(n||e)(Te(Un),Te(Pl));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},standalone:!1,features:[Si],attrs:PBe,ngContentSelectors:dre,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(n,i){n&1&&($1(),Ft(),j(0,"g",0)(1,"filter"),Ke(2,"feColorMatrix",1),q(),j(3,"g",2),W1(4),q(),Ke(5,"rect",3)(6,"g",4),q()),n&2&&(an("transform",i.transform),J(),an("id",i.filterId),J(4),an("width",i.view[0])("height",i.height));},styles:[`.timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}
`],encapsulation:2,changeDetection:0}),e;})();var Xa=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[cn,sre,ore],cn,sre,ore]}),e;})();function g7e({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=jt.Ordinal,legendPosition:d=p0.Right,columns:h=12}){let f=n[3],g=e,m=t-n[0]-n[2];return c&&d===p0.Right&&(u===jt.Ordinal?h-=2:h-=1),g=g*h/12,g=g-n[1]-n[3],i&&(m-=5,m-=s,a&&(m-=30)),r&&(g-=5,g-=o,f+=o,f+=10,l&&(g-=30,f+=30)),g=Math.max(0,g),m=Math.max(0,m),{width:Math.floor(g),height:Math.floor(m),xOffset:Math.floor(f)};}var cre=[{name:"vivid",selectable:!0,group:jt.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:jt.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:jt.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:jt.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:jt.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:jt.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:jt.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:jt.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:jt.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:jt.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:jt.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:jt.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:jt.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:jt.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:jt.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],a9=class{constructor(t,n,i,r){typeof t=="string"&&(t=cre.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=n,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,n,this.domain);}generateColorScheme(t,n,i){typeof t=="string"&&(t=cre.find(s=>s.name===t));let r;switch(n){case jt.Quantile:r=RS().range(t.domain).domain(i);break;case jt.Ordinal:r=r0().range(t.domain).domain(i);break;case jt.Linear:{let s=[...t.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=px(0,1,1/s.length);r=ud().range(s).domain(o);}break;default:break;}return r;}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===jt.Linear){let n=ud().domain(this.domain).range([0,1]);return this.scale(n(t));}else{if(typeof this.customColors=="function")return this.customColors(t);let n=t.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===n.toLowerCase())),i?i.value:this.scale(t);}}getLinearGradientStops(t,n){n===void 0&&(n=this.domain[0]);let i=ud().domain(this.domain).range([0,1]),r=gx().domain(this.colorDomain).range([0,1]),s=this.getColor(t),o=i(n),a=this.getColor(n),l=i(t),c=1,u=o,d=[];for(d.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let h=this.colorDomain[c],f=r(h);if(f<=o){c++;continue;}if(f.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;d.push({color:h,offset:f,opacity:1}),u=f,c++;}if(d[d.length-1].offset<100&&d.push({color:s,offset:l,opacity:1}),l===o)d[0].offset=0,d[1].offset=100;else if(d[d.length-1].offset!==100)for(let h of d)h.offset=(h.offset-o)/(l-o)*100;return d;}};function m7e(e){let t=new Set();for(let n of e)for(let i of n.series)t.add(i.name);return Array.from(t);}function v7e(e,t=!0){return t&&e.every(r=>r instanceof Date)?jt.Time:e.every(i=>typeof i=="number")?jt.Linear:jt.Ordinal;}function y7e(e,t,n="asc"){return e.sort((i,r)=>n==="asc"?i[t]-r[t]:r[t]-i[t]);}function b7e(e,t,n="asc",i){return e.sort((r,s)=>{let o=r[t],a=s[t],l=i.indexOf(o),c=i.indexOf(a);return n==="asc"?l-c:c-l;});}function x7e(e,t,n="asc"){return e.sort((i,r)=>{let s=i[t].getTime(),o=r[t].getTime();return n==="asc"?s>o?1:o>s?-1:0:s>o?-1:o>s?1:0;});}var w7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var wre=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})(),c_t=(0,ure.default)();var C7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var _7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var S7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})(),E7e=(()=>{class e{constructor(n,i){this.element=n,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1;}ngOnInit(){bh(this.platformId)&&(this.isSSR=!0);}ngOnChanges(n){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path);}updatePathEl(){let n=uo(this.element.nativeElement).select(".line");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path);}}return e.ɵfac=function(n){return new(n||e)(Te(Un),Te($r));},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},standalone:!1,features:[Si],attrs:NBe,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(n,i){n&1&&Le(0,LBe,2,4,"g",0)(1,OBe,2,3,"g",0),n&2&&(se("ngIf",!i.isSSR),J(),se("ngIf",i.isSSR));},dependencies:[rn],encapsulation:2,data:{animation:[oS("animationState",[rx(":enter",[_a({strokeDasharray:2e3,strokeDashoffset:2e3}),ix(1e3,_a({strokeDashoffset:0}))])])]},changeDetection:0}),e;})(),T7e=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=g0;}ngOnChanges(n){this.update();}update(){this.updateGradients();let n=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(n)||"";let r=this.getAreaGenerator();if(this.areaPath=r(n)||"",this.hasRange){let s=this.getRangeGenerator();this.outerPath=s(n)||"";}if(this.hasGradient){this.stroke=this.gradientUrl;let s=this.data.series.map(l=>l.value),o=Math.max(...s),a=Math.min(...s);o===a&&(this.stroke=this.colors.getColor(o));}else this.stroke=this.colors.getColor(this.data.name);}getLineGenerator(){return OS().x(n=>{let i=n.name,r;return this.scaleType===jt.Time?r=this.xScale(i):this.scaleType===jt.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r;}).y(n=>this.yScale(n.value)).curve(this.curve);}getRangeGenerator(){return iP().x(n=>{let i=n.name,r;return this.scaleType===jt.Time?r=this.xScale(i):this.scaleType===jt.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r;}).y0(n=>this.yScale(typeof n.min=="number"?n.min:n.value)).y1(n=>this.yScale(typeof n.max=="number"?n.max:n.value)).curve(this.curve);}getAreaGenerator(){let n=i=>{let r=i.name;return this.xScale(r);};return iP().x(n).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve);}sortData(n){return this.scaleType===jt.Linear?n=y7e(n,"name"):this.scaleType===jt.Time?n=x7e(n,"name"):n=b7e(n,"name","asc",this.xScale.domain()),n;}updateGradients(){if(this.colors.scaleType===jt.Linear){this.hasGradient=!0,this.gradientId="grad"+Ex().toString(),this.gradientUrl=`url(#${this.gradientId})`;let n=this.data.series.map(s=>s.value),i=Math.max(...n),r=Math.min(...n);this.gradientStops=this.colors.getLinearGradientStops(i,r),this.areaGradientStops=this.colors.getLinearGradientStops(i);}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0;}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1;}isInactive(n){return!this.activeEntries||this.activeEntries.length===0?!1:this.activeEntries.find(r=>n.name===r.name)===void 0;}}return e.ɵfac=function(n){return new(n||e)();},e.ɵcmp=St({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},standalone:!1,features:[Si],attrs:BBe,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(n,i){n&1&&(Ft(),j(0,"g")(1,"defs"),Le(2,VBe,1,3,"g",0),q(),Ke(3,"g",1)(4,"g",2),Le(5,HBe,1,9,"g",3),q()),n&2&&(J(2),se("ngIf",i.hasGradient),J(),ba("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),se("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),J(),ba("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),se("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),J(),se("ngIf",i.hasRange));},dependencies:[c9,h7e,E7e,rn],encapsulation:2,changeDetection:0}),e;})(),Cre=(()=>{class e extends o7e{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=p0.Right,this.showGridLines=!0,this.curve=f0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new _e(),this.deactivate=new _e(),this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1;}ngOnInit(){bh(this.platformId)&&(this.isSSR=!0);}update(){super.update(),this.dims=g7e({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Ex().toString(),this.clipPath=`url(#${this.clipPathId})`;}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`);}getXDomain(){let n=m7e(this.results);this.scaleType=v7e(n);let i=[];this.scaleType===jt.Linear&&(n=n.map(o=>Number(o)));let r,s;return(this.scaleType===jt.Time||this.scaleType===jt.Linear)&&(r=this.xScaleMin?this.xScaleMin:Math.min(...n),s=this.xScaleMax?this.xScaleMax:Math.max(...n)),this.scaleType===jt.Time?(i=[new Date(r),new Date(s)],this.xSet=[...n].sort((o,a)=>{let l=o.getTime(),c=a.getTime();return l>c?1:c>l?-1:0;})):this.scaleType===jt.Linear?(i=[r,s],this.xSet=[...n].sort((o,a)=>o-a)):(i=n,this.xSet=n),i;}getYDomain(){let n=[];for(let o of this.results)for(let a of o.series)n.indexOf(a.value)<0&&n.push(a.value),a.min!==void 0&&(this.hasRange=!0,n.indexOf(a.min)<0&&n.push(a.min)),a.max!==void 0&&(this.hasRange=!0,n.indexOf(a.max)<0&&n.push(a.max));let i=[...n];this.autoScale||i.push(0);let r=this.yScaleMin?this.yScaleMin:Math.min(...i),s=this.yScaleMax?this.yScaleMax:Math.max(...i);return[r,s];}getSeriesDomain(){return this.results.map(n=>n.name);}getXScale(n,i){let r;return this.scaleType===jt.Time?r=LS().range([0,i]).domain(n):this.scaleType===jt.Linear?(r=ud().range([0,i]).domain(n),this.roundDomains&&(r=r.nice())):this.scaleType===jt.Ordinal&&(r=z3().range([0,i]).padding(.1).domain(n)),r;}getYScale(n,i){let r=ud().range([i,0]).domain(n);return this.roundDomains?r.nice():r;}updateDomain(n){this.filteredDomain=n,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width);}updateHoveredVertical(n){this.hoveredVertical=n.value,this.deactivateAll();}hideCircles(){this.hoveredVertical=null,this.deactivateAll();}onClick(n){this.select.emit(n);}trackBy(n,i){return`${i.name}`;}setColors(){let n;this.schemeType===jt.Ordinal?n=this.seriesDomain:n=this.yDomain,this.colors=new a9(this.scheme,this.schemeType,n,this.customColors);}getLegendOptions(){let n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return n.scaleType===jt.Ordinal?(n.domain=this.seriesDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.yDomain,n.colors=this.colors.scale),n;}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update();}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update();}onActivate(n){this.deactivateAll(),!(this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value)>-1)&&(this.activeEntries=[n],this.activate.emit({value:n,entries:this.activeEntries}));}onDeactivate(n){let i=this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries});}deactivateAll(){this.activeEntries=[...this.activeEntries];for(let n of this.activeEntries)this.deactivate.emit({value:n,entries:[]});this.activeEntries=[];}}return e.ɵfac=(()=>{let t;return function(i){return(t||(t=El(e)))(i||e);};})(),e.ɵcmp=St({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(n,i,r){if(n&1&&(tR(r,kBe,5),tR(r,MBe,5)),n&2){let s;Uu(s=ju())&&(i.tooltipTemplate=s.first),Uu(s=ju())&&(i.seriesTooltipTemplate=s.first);}},hostBindings:function(n,i){n&1&&Ze("mouseleave",function(){return i.hideCircles();});},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[va],decls:12,vars:20,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"hover","dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"select","activate","deactivate","xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate"],["ngx-charts-timeline","",3,"onDomainChange","results","view","height","scheme","customColors","scaleType","legend"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(n,i){n&1&&(j(0,"ngx-charts-chart",0),Ze("legendLabelClick",function(s){return i.onClick(s);})("legendLabelActivate",function(s){return i.onActivate(s);})("legendLabelDeactivate",function(s){return i.onDeactivate(s);}),Ft(),j(1,"defs")(2,"clipPath"),Ke(3,"rect"),q()(),j(4,"g",1),Le(5,GBe,1,11,"g",2)(6,zBe,1,13,"g",3),j(7,"g"),Le(8,jBe,2,2,"g",4)(9,WBe,2,2,"g",4)(10,KBe,3,9,"g",5),q()(),Le(11,XBe,2,13,"g",6),q()),n&2&&(se("view",q1(17,fre,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),J(2),an("id",i.clipPathId),J(),an("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),J(),an("transform",i.transform),J(),se("ngIf",i.xAxis),J(),se("ngIf",i.yAxis),J(),an("clip-path",i.clipPath),J(),se("ngIf",!i.isSSR),J(),se("ngIf",i.isSSR),J(),se("ngIf",!i.tooltipDisabled),J(),se("ngIf",i.timeline&&i.scaleType!="ordinal"));},dependencies:[r7e,a7e,c7e,T7e,f7e,d7e,p7e,rn,ji],styles:[FBe],encapsulation:2,data:{animation:[oS("animationState",[rx(":leave",[_a({opacity:1}),ix(500,_a({opacity:0}))])])]},changeDetection:0}),e;})(),_re=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var u_t=2*Math.PI;var u9=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})(),A7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa,u9,_re]]}),e;})();var D7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var R7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})();var I7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa,u9,wre]]}),e;})();function P7e(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains);}var k7e=(()=>{class e{}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[[Xa]]}),e;})(),Sre=(()=>{class e{constructor(){P7e();}}return e.ɵfac=function(n){return new(n||e)();},e.ɵmod=pi({type:e}),e.ɵinj=fi({imports:[Xa,w7e,wre,C7e,_7e,S7e,k7e,_re,A7e,D7e,u9,R7e,I7e]}),e;})();var dw={};Iu(dw,{AbiCoder:()=>jl,AbstractProvider:()=>Wl,AbstractSigner:()=>ql,AlchemyProvider:()=>U0,AnkrProvider:()=>z0,BaseContract:()=>nf,BaseWallet:()=>sf,Block:()=>L0,BrowserProvider:()=>b2,ChainstackProvider:()=>j0,CloudflareProvider:()=>$0,ConstructorFragment:()=>pd,Contract:()=>Da,ContractEventPayload:()=>O0,ContractFactory:()=>u2,ContractTransactionReceipt:()=>Yx,ContractTransactionResponse:()=>tf,ContractUnknownEventPayload:()=>eg,EnsPlugin:()=>ig,EnsResolver:()=>tg,ErrorDescription:()=>qx,ErrorFragment:()=>Qo,EtherSymbol:()=>Y9,EtherscanPlugin:()=>g2,EtherscanProvider:()=>W0,EventFragment:()=>fd,EventLog:()=>ef,EventPayload:()=>zh,FallbackFragment:()=>F0,FallbackProvider:()=>Y0,FeeData:()=>Zp,FeeDataNetworkPlugin:()=>h2,FetchCancelSignal:()=>Rx,FetchRequest:()=>ki,FetchResponse:()=>Gc,FetchUrlFeeDataNetworkPlugin:()=>H0,FixedNumber:()=>Op,Fragment:()=>md,FunctionFragment:()=>gd,GasCostPlugin:()=>ng,HDNodeVoidWallet:()=>tv,HDNodeWallet:()=>lf,Indexed:()=>N0,InfuraProvider:()=>lg,InfuraWebSocketProvider:()=>iw,Interface:()=>Zh,IpcSocketProvider:()=>XV,JsonRpcApiProvider:()=>og,JsonRpcProvider:()=>br,JsonRpcSigner:()=>sg,LangEn:()=>Ra,Log:()=>tl,LogDescription:()=>$x,MaxInt256:()=>K9,MaxUint256:()=>W9,MessagePrefix:()=>QS,MinInt256:()=>q9,Mnemonic:()=>yd,MulticoinProviderPlugin:()=>Xx,N:()=>j9,NamedFragment:()=>Qh,Network:()=>qn,NetworkPlugin:()=>tu,NonceManager:()=>y2,ParamType:()=>Or,PocketProvider:()=>x2,QuickNodeProvider:()=>K0,Result:()=>Uc,Signature:()=>qs,SigningKey:()=>Ks,SocketBlockSubscriber:()=>ew,SocketEventSubscriber:()=>nw,SocketPendingSubscriber:()=>tw,SocketProvider:()=>q0,SocketSubscriber:()=>ag,StructFragment:()=>Xp,Transaction:()=>el,TransactionDescription:()=>Wx,TransactionReceipt:()=>Jh,TransactionResponse:()=>vd,Typed:()=>Li,TypedDataEncoder:()=>Ul,UndecodedEventLog:()=>Jp,UnmanagedSubscriber:()=>nu,Utf8ErrorFuncs:()=>cP,VoidSigner:()=>G0,Wallet:()=>A2,WebSocketProvider:()=>rf,WeiPerEther:()=>$9,Wordlist:()=>X0,WordlistOwl:()=>of,WordlistOwlA:()=>D2,ZeroAddress:()=>Xc,ZeroHash:()=>Ox,accessListify:()=>Xs,assert:()=>ye,assertArgument:()=>K,assertArgumentCount:()=>m0,assertNormalize:()=>v0,assertPrivate:()=>$s,checkResultErrors:()=>vP,computeAddress:()=>Zc,computeHmac:()=>Wc,concat:()=>Qt,copyRequest:()=>$l,dataLength:()=>Ea,dataSlice:()=>si,decodeBase58:()=>GS,decodeBase64:()=>zS,decodeBytes32String:()=>DV,decodeRlp:()=>Bp,decryptCrowdsaleJson:()=>uw,decryptKeystoreJson:()=>T2,decryptKeystoreJsonSync:()=>E2,defaultPath:()=>lw,defineProperties:()=>$e,dnsEncode:()=>s2,encodeBase58:()=>b0,encodeBase64:()=>US,encodeBytes32String:()=>AV,encodeRlp:()=>Gl,encryptKeystoreJson:()=>ev,encryptKeystoreJsonSync:()=>J0,ensNormalize:()=>ZP,formatEther:()=>m9,formatUnits:()=>fP,fromTwos:()=>Hh,getAccountPath:()=>aH,getAddress:()=>Bt,getBigInt:()=>ct,getBytes:()=>Ue,getBytesCopy:()=>nr,getCreate2Address:()=>Z9,getCreateAddress:()=>R0,getDefaultProvider:()=>YV,getIcapAddress:()=>Q9,getIndexedAccountPath:()=>lH,getNumber:()=>Pt,getUint:()=>y0,hashMessage:()=>jx,hexlify:()=>Fe,id:()=>Ys,isAddress:()=>eV,isAddressable:()=>Vx,isBytesLike:()=>Vc,isCallException:()=>Lp,isCrowdsaleJson:()=>cw,isError:()=>yi,isHexString:()=>Nn,isKeystoreJson:()=>aw,isValidName:()=>pV,keccak256:()=>Pn,lock:()=>hoe,makeError:()=>Yn,mask:()=>Qa,namehash:()=>Yp,parseEther:()=>v9,parseUnits:()=>pP,pbkdf2:()=>Yo,randomBytes:()=>go,recoverAddress:()=>Kh,resolveAddress:()=>or,resolveProperties:()=>Wi,ripemd160:()=>qc,scrypt:()=>Kc,scryptSync:()=>Yc,sha256:()=>Wr,sha512:()=>S0,showThrottleMessage:()=>Zs,solidityPacked:()=>a2,solidityPackedKeccak256:()=>wV,solidityPackedSha256:()=>CV,stripZerosLeft:()=>d9,toBeArray:()=>ir,toBeHex:()=>Ds,toBigInt:()=>Hl,toNumber:()=>HS,toQuantity:()=>Ta,toTwos:()=>Gh,toUtf8Bytes:()=>bi,toUtf8CodePoints:()=>f9,toUtf8String:()=>Ko,uuidV4:()=>$S,verifyMessage:()=>xV,verifyTypedData:()=>EV,version:()=>Tx,wordlists:()=>cH,zeroPadBytes:()=>Vh,zeroPadValue:()=>ms});var Tx="6.13.5";function F7e(e,t,n){let i=t.split("|").map(s=>s.trim());for(let s=0;s<i.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return;}let r=new Error(`invalid value for type ${t}`);throw r.code="INVALID_ARGUMENT",r.argument=`value.${n}`,r.value=e,r;}function Wi(e){return $(this,null,function*(){let t=Object.keys(e);return(yield Promise.all(t.map(i=>Promise.resolve(e[i])))).reduce((i,r,s)=>(i[t[s]]=r,i),{});});}function $e(e,t,n){for(let i in t){let r=t[i],s=n?n[i]:null;s&&F7e(r,s,i),Object.defineProperty(e,i,{enumerable:!0,value:r,writable:!1});}}function Ax(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(Ax).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",n="0x";for(let i=0;i<e.length;i++)n+=t[e[i]>>4],n+=t[e[i]&15];return n;}if(typeof e=="object"&&typeof e.toJSON=="function")return Ax(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(n=>`${Ax(n)}: ${Ax(e[n])}`).join(", ")+" }";}}return"[ COULD NOT SERIALIZE ]";}function yi(e,t){return e&&e.code===t;}function Lp(e){return yi(e,"CALL_EXCEPTION");}function Yn(e,t,n){let i=e;{let s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Ax(n)}`);for(let o in n){if(o==="shortMessage")continue;let a=n[o];s.push(o+"="+Ax(a));}}s.push(`code=${t}`),s.push(`version=${Tx}`),s.length&&(e+=" ("+s.join(", ")+")");}let r;switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e);}return $e(r,{code:t}),n&&Object.assign(r,n),r.shortMessage==null&&$e(r,{shortMessage:i}),r;}function ye(e,t,n,i){if(!e)throw Yn(t,n,i);}function K(e,t,n,i){ye(e,t,"INVALID_ARGUMENT",{argument:n,value:i});}function m0(e,t,n){n==null&&(n=""),n&&(n=": "+n),ye(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),ye(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t});}var N7e=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");e.push(t);}catch{}return e;},[]);function v0(e){ye(N7e.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}});}function $s(e,t,n){if(n==null&&(n=""),e!==t){let i=n,r="new";n&&(i+=".",r+=" "+n),ye(!1,`private constructor; use ${i}from* methods`,"UNSUPPORTED_OPERATION",{operation:r});}}function Tre(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let i=new Uint8Array((e.length-2)/2),r=2;for(let s=0;s<i.length;s++)i[s]=parseInt(e.substring(r,r+2),16),r+=2;return i;}K(!1,"invalid BytesLike value",t||"value",e);}function Ue(e,t){return Tre(e,t,!1);}function nr(e,t){return Tre(e,t,!0);}function Nn(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0);}function Vc(e){return Nn(e,!0)||e instanceof Uint8Array;}var Ere="0123456789abcdef";function Fe(e){let t=Ue(e),n="0x";for(let i=0;i<t.length;i++){let r=t[i];n+=Ere[(r&240)>>4]+Ere[r&15];}return n;}function Qt(e){return"0x"+e.map(t=>Fe(t).substring(2)).join("");}function Ea(e){return Nn(e,!0)?(e.length-2)/2:Ue(e).length;}function si(e,t,n){let i=Ue(e);return n!=null&&n>i.length&&ye(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:n}),Fe(i.slice(t??0,n??i.length));}function d9(e){let t=Fe(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t;}function Are(e,t,n){let i=Ue(e);ye(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});let r=new Uint8Array(t);return r.fill(0),n?r.set(i,t-i.length):r.set(i,0),Fe(r);}function ms(e,t){return Are(e,t,!0);}function Vh(e,t){return Are(e,t,!1);}var oP=BigInt(0),Hc=BigInt(1),Dx=9007199254740991;function Hh(e,t){let n=y0(e,"value"),i=BigInt(Pt(t,"width"));if(ye(n>>i===oP,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>i-Hc){let r=(Hc<<i)-Hc;return-((~n&r)+Hc);}return n;}function Gh(e,t){let n=ct(e,"value"),i=BigInt(Pt(t,"width")),r=Hc<<i-Hc;if(n<oP){n=-n,ye(n<=r,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});let s=(Hc<<i)-Hc;return(~n&s)+Hc;}else ye(n<r,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return n;}function Qa(e,t){let n=y0(e,"value"),i=BigInt(Pt(t,"bits"));return n&(Hc<<i)-Hc;}function ct(e,t){switch(typeof e){case"bigint":return e;case"number":return K(Number.isInteger(e),"underflow",t||"value",e),K(e>=-Dx&&e<=Dx,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e);}catch(n){K(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e);}}K(!1,"invalid BigNumberish value",t||"value",e);}function y0(e,t){let n=ct(e,t);return ye(n>=oP,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n;}var Dre="0123456789abcdef";function Hl(e){if(e instanceof Uint8Array){let t="0x0";for(let n of e)t+=Dre[n>>4],t+=Dre[n&15];return BigInt(t);}return ct(e);}function Pt(e,t){switch(typeof e){case"bigint":return K(e>=-Dx&&e<=Dx,"overflow",t||"value",e),Number(e);case"number":return K(Number.isInteger(e),"underflow",t||"value",e),K(e>=-Dx&&e<=Dx,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Pt(BigInt(e),t);}catch(n){K(!1,`invalid numeric string: ${n.message}`,t||"value",e);}}K(!1,"invalid numeric value",t||"value",e);}function HS(e){return Pt(Hl(e));}function Ds(e,t){let i=y0(e,"value").toString(16);if(t==null)i.length%2&&(i="0"+i);else{let r=Pt(t,"width");for(ye(r*2>=i.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});i.length<r*2;)i="0"+i;}return"0x"+i;}function ir(e){let t=y0(e,"value");if(t===oP)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);let i=new Uint8Array(n.length/2);for(let r=0;r<i.length;r++){let s=r*2;i[r]=parseInt(n.substring(s,s+2),16);}return i;}function Ta(e){let t=Fe(Vc(e)?e:ir(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t;}var lP="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",aP=null;function L7e(e){if(aP==null){aP={};for(let n=0;n<lP.length;n++)aP[lP[n]]=BigInt(n);}let t=aP[e];return K(t!=null,"invalid base58 value","letter",e),t;}var O7e=BigInt(0),h9=BigInt(58);function b0(e){let t=Ue(e),n=Hl(t),i="";for(;n;)i=lP[Number(n%h9)]+i,n/=h9;for(let r=0;r<t.length&&!t[r];r++)i=lP[0]+i;return i;}function GS(e){let t=O7e;for(let n=0;n<e.length;n++)t*=h9,t+=L7e(e[n]);return t;}function zS(e){e=atob(e);let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Ue(t);}function US(e){let t=Ue(e),n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return btoa(n);}var zh=class{filter;emitter;#e;constructor(t,n,i){this.#e=n,$e(this,{emitter:t,filter:i});}removeListener(){return $(this,null,function*(){this.#e!=null&&(yield this.emitter.off(this.filter,this.#e));});}};function B7e(e,t,n,i,r){K(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n);}function Rre(e,t,n,i,r){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let s=0;for(let o=t+1;o<n.length&&n[o]>>6===2;o++)s++;return s;}return e==="OVERRUN"?n.length-t-1:0;}function V7e(e,t,n,i,r){return e==="OVERLONG"?(K(typeof r=="number","invalid bad code point for replacement","badCodepoint",r),i.push(r),0):(i.push(65533),Rre(e,t,n,i,r));}var cP=Object.freeze({error:B7e,ignore:Rre,replace:V7e});function Ire(e,t){t==null&&(t=cP.error);let n=Ue(e,"bytes"),i=[],r=0;for(;r<n.length;){let s=n[r++];if(!(s>>7)){i.push(s);continue;}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?r+=t("UNEXPECTED_CONTINUE",r-1,n,i):r+=t("BAD_PREFIX",r-1,n,i);continue;}if(r-1+o>=n.length){r+=t("OVERRUN",r-1,n,i);continue;}let l=s&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=n[r];if((u&192)!=128){r+=t("MISSING_CONTINUE",r,n,i),l=null;break;}l=l<<6|u&63,r++;}if(l!==null){if(l>1114111){r+=t("OUT_OF_RANGE",r-1-o,n,i,l);continue;}if(l>=55296&&l<=57343){r+=t("UTF16_SURROGATE",r-1-o,n,i,l);continue;}if(l<=a){r+=t("OVERLONG",r-1-o,n,i,l);continue;}i.push(l);}}return i;}function bi(e,t){K(typeof e=="string","invalid string value","str",e),t!=null&&(v0(t),e=e.normalize(t));let n=[];for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(r&63|128);else if((r&64512)==55296){i++;let s=e.charCodeAt(i);K(i<e.length&&(s&64512)===56320,"invalid surrogate pair","str",e);let o=65536+((r&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128);}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(r&63|128);}return new Uint8Array(n);}function H7e(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("");}function Ko(e,t){return H7e(Ire(e,t));}function f9(e,t){return Ire(bi(e,t));}function uP(e){function t(n,i){return $(this,null,function*(){ye(i==null||!i.cancelled,"request cancelled before sending","CANCELLED");let r=n.url.split(":")[0].toLowerCase();ye(r==="http"||r==="https",`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),ye(r==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null,o=new AbortController(),a=setTimeout(()=>{s=Yn("request timeout","TIMEOUT"),o.abort();},n.timeout);i&&i.addListener(()=>{s=Yn("request cancelled","CANCELLED"),o.abort();});let l={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal},c;try{c=yield fetch(n.url,l);}catch(f){throw clearTimeout(a),s||f;}clearTimeout(a);let u={};c.headers.forEach((f,g)=>{u[g.toLowerCase()]=f;});let d=yield c.arrayBuffer(),h=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:h};});}return t;}var L_t=uP({});var G7e=12,z7e=250,Pre=uP(),U7e=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),j7e=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),p9=!1;function Mre(e,t){return $(this,null,function*(){try{let n=e.match(U7e);if(!n)throw new Error("invalid data");return new Gc(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?zS(n[3]):$7e(n[3]));}catch{return new Gc(599,"BAD REQUEST (invalid data: URI)",{},null,new ki(e));}});}function Fre(e){function t(n,i){return $(this,null,function*(){try{let r=n.match(j7e);if(!r)throw new Error("invalid link");return new ki(`${e}${r[2]}`);}catch{return new Gc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ki(n));}});}return t;}var dP={data:Mre,ipfs:Fre("https://gateway.ipfs.io/ipfs/")},Nre=new WeakMap(),Rx=class{#e;#t;constructor(t){this.#e=[],this.#t=!1,Nre.set(t,()=>{if(!this.#t){this.#t=!0;for(let n of this.#e)setTimeout(()=>{n();},0);this.#e=[];}});}addListener(t){ye(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(t);}get cancelled(){return this.#t;}checkSignal(){ye(!this.cancelled,"cancelled","CANCELLED",{});}};function hP(e){if(e==null)throw new Error("missing signal; should not happen");return e.checkSignal(),e;}var ki=class e{#e;#t;#n;#i;#r;#o;#s;#a;#d;#c;#p;#g;#l;#u;#h;get url(){return this.#o;}set url(t){this.#o=String(t);}get body(){return this.#s==null?null:new Uint8Array(this.#s);}set body(t){if(t==null)this.#s=void 0,this.#a=void 0;else if(typeof t=="string")this.#s=bi(t),this.#a="text/plain";else if(t instanceof Uint8Array)this.#s=t,this.#a="application/octet-stream";else if(typeof t=="object")this.#s=bi(JSON.stringify(t)),this.#a="application/json";else throw new Error("invalid body");}hasBody(){return this.#s!=null;}get method(){return this.#i?this.#i:this.hasBody()?"POST":"GET";}set method(t){t==null&&(t=""),this.#i=String(t).toUpperCase();}get headers(){let t=Object.assign({},this.#n);return this.#d&&(t.authorization=`Basic ${US(bi(this.#d))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&this.#a&&(t["content-type"]=this.#a),this.body&&(t["content-length"]=String(this.body.length)),t;}getHeader(t){return this.headers[t.toLowerCase()];}setHeader(t,n){this.#n[String(t).toLowerCase()]=String(n);}clearHeaders(){this.#n={};}[Symbol.iterator](){let t=this.headers,n=Object.keys(t),i=0;return{next:()=>{if(i<n.length){let r=n[i++];return{value:[r,t[r]],done:!1};}return{value:void 0,done:!0};}};}get credentials(){return this.#d||null;}setCredentials(t,n){K(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#d=`${t}:${n}`;}get allowGzip(){return this.#t;}set allowGzip(t){this.#t=!!t;}get allowInsecureAuthentication(){return!!this.#e;}set allowInsecureAuthentication(t){this.#e=!!t;}get timeout(){return this.#r;}set timeout(t){K(t>=0,"timeout must be non-zero","timeout",t),this.#r=t;}get preflightFunc(){return this.#c||null;}set preflightFunc(t){this.#c=t;}get processFunc(){return this.#p||null;}set processFunc(t){this.#p=t;}get retryFunc(){return this.#g||null;}set retryFunc(t){this.#g=t;}get getUrlFunc(){return this.#h||Pre;}set getUrlFunc(t){this.#h=t;}constructor(t){this.#o=String(t),this.#e=!1,this.#t=!0,this.#n={},this.#i="",this.#r=3e5,this.#u={slotInterval:z7e,maxAttempts:G7e},this.#h=null;}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?Fe(this.#s):"null"}>`;}setThrottleParams(t){t.slotInterval!=null&&(this.#u.slotInterval=t.slotInterval),t.maxAttempts!=null&&(this.#u.maxAttempts=t.maxAttempts);}#f(t,n,i,r,s){return $(this,null,function*(){if(t>=this.#u.maxAttempts)return s.makeServerError("exceeded maximum retry limit");ye(kre()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),i>0&&(yield W7e(i));let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in dP){let u=yield dP[a](o.url,hP(r.#l));if(u instanceof Gc){let d=u;if(this.processFunc){hP(r.#l);try{d=yield this.processFunc(o,d);}catch(h){(h.throttle==null||typeof h.stall!="number")&&d.makeServerError("error in post-processing function",h).assertOk();}}return d;}o=u;}this.preflightFunc&&(o=yield this.preflightFunc(o));let l=yield this.getUrlFunc(o,hP(r.#l)),c=new Gc(l.statusCode,l.statusMessage,l.headers,l.body,r);if(c.statusCode===301||c.statusCode===302){try{let u=c.headers.location||"";return o.redirect(u).#f(t+1,n,0,r,c);}catch{}return c;}else if(c.statusCode===429&&(this.retryFunc==null||(yield this.retryFunc(o,c,t)))){let u=c.headers["retry-after"],d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),o.clone().#f(t+1,n,d,r,c);}if(this.processFunc){hP(r.#l);try{c=yield this.processFunc(o,c);}catch(u){(u.throttle==null||typeof u.stall!="number")&&c.makeServerError("error in post-processing function",u).assertOk();let d=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return u.stall>=0&&(d=u.stall),o.clone().#f(t+1,n,d,r,c);}}return c;});}send(){return ye(this.#l==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#l=new Rx(this),this.#f(0,kre()+this.timeout,0,this,new Gc(0,"",{},null,this));}cancel(){ye(this.#l!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let t=Nre.get(this);if(!t)throw new Error("missing signal; should not happen");t();}redirect(t){let n=this.url.split(":")[0].toLowerCase(),i=t.split(":")[0].toLowerCase();ye(this.method==="GET"&&(n!=="https"||i!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});let r=new e(t);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#n=Object.assign({},this.#n),this.#s&&(r.#s=new Uint8Array(this.#s)),r.#a=this.#a,r;}clone(){let t=new e(this.url);return t.#i=this.#i,this.#s&&(t.#s=this.#s),t.#a=this.#a,t.#n=Object.assign({},this.#n),t.#d=this.#d,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#c=this.#c,t.#p=this.#p,t.#g=this.#g,t.#u=Object.assign({},this.#u),t.#h=this.#h,t;}static lockConfig(){p9=!0;}static getGateway(t){return dP[t.toLowerCase()]||null;}static registerGateway(t,n){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(p9)throw new Error("gateways locked");dP[t]=n;}static registerGetUrl(t){if(p9)throw new Error("gateways locked");Pre=t;}static createGetUrlFunc(t){return uP(t);}static createDataGateway(){return Mre;}static createIpfsGatewayFunc(t){return Fre(t);}},Gc=class e{#e;#t;#n;#i;#r;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#i?Fe(this.#i):"null"}>`;}get statusCode(){return this.#e;}get statusMessage(){return this.#t;}get headers(){return Object.assign({},this.#n);}get body(){return this.#i==null?null:new Uint8Array(this.#i);}get bodyText(){try{return this.#i==null?"":Ko(this.#i);}catch{ye(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}});}}get bodyJson(){try{return JSON.parse(this.bodyText);}catch{ye(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}});}}[Symbol.iterator](){let t=this.headers,n=Object.keys(t),i=0;return{next:()=>{if(i<n.length){let r=n[i++];return{value:[r,t[r]],done:!1};}return{value:void 0,done:!0};}};}constructor(t,n,i,r,s){this.#e=t,this.#t=n,this.#n=Object.keys(i).reduce((o,a)=>(o[a.toLowerCase()]=String(i[a]),o),{}),this.#i=r==null?null:new Uint8Array(r),this.#r=s||null,this.#o={message:""};}makeServerError(t,n){let i;t?i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,i=`CLIENT ESCALATED SERVER ERROR (${t})`);let r=new e(599,i,this.headers,this.body,this.#r||void 0);return r.#o={message:t,error:n},r;}throwThrottleError(t,n){n==null?n=-1:K(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);let i=new Error(t||"throttling requests");throw $e(i,{stall:n,throttle:!0}),i;}getHeader(t){return this.headers[t.toLowerCase()];}hasBody(){return this.#i!=null;}get request(){return this.#r;}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300;}assertOk(){if(this.ok())return;let{message:t,error:n}=this.#o;t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let i=null;this.request&&(i=this.request.url);let r=null;try{this.#i&&(r=Ko(this.#i));}catch{}ye(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:i,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}});}};function kre(){return new Date().getTime();}function $7e(e){return bi(e.replace(/%([0-9a-f][0-9a-f])/gi,(t,n)=>String.fromCharCode(parseInt(n,16))));}function W7e(e){return new Promise(t=>setTimeout(t,e));}var q7e=BigInt(-1),zc=BigInt(0),Px=BigInt(1),K7e=BigInt(5),Ix={},kx="0000";for(;kx.length<80;)kx+=kx;function x0(e){let t=kx;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e));}function jS(e,t,n){let i=BigInt(t.width);if(t.signed){let r=Px<<i-Px;ye(n==null||e>=-r&&e<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>zc?e=Hh(Qa(e,i),i):e=-Hh(Qa(-e,i),i);}else{let r=Px<<i;ye(n==null||e>=0&&e<r,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%r+r)%r&r-Px;}return e;}function g9(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{let s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);K(s,"invalid fixed format","format",e),t=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3]);}}else if(e){let s=e,o=(a,l,c)=>s[a]==null?c:(K(typeof s[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,s[a]),s[a]);t=o("signed","boolean",t),n=o("width","number",n),i=o("decimals","number",i);}K(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),K(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);let r=(t?"":"u")+"fixed"+String(n)+"x"+String(i);return{signed:t,width:n,decimals:i,name:r};}function Y7e(e,t){let n="";e<zc&&(n="-",e*=q7e);let i=e.toString();if(t===0)return n+i;for(;i.length<=t;)i=kx+i;let r=i.length-t;for(i=i.substring(0,r)+"."+i.substring(r);i[0]==="0"&&i[1]!==".";)i=i.substring(1);for(;i[i.length-1]==="0"&&i[i.length-2]!==".";)i=i.substring(0,i.length-1);return n+i;}var Op=class e{format;#e;#t;#n;_value;constructor(t,n,i){$s(t,Ix,"FixedNumber"),this.#t=n,this.#e=i;let r=Y7e(n,i.decimals);$e(this,{format:i.name,_value:r}),this.#n=x0(i.decimals);}get signed(){return this.#e.signed;}get width(){return this.#e.width;}get decimals(){return this.#e.decimals;}get value(){return this.#t;}#i(t){K(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t);}#r(t,n){return t=jS(t,this.#e,n),new e(Ix,t,this.#e);}#o(t,n){return this.#i(t),this.#r(this.#t+t.#t,n);}addUnsafe(t){return this.#o(t);}add(t){return this.#o(t,"add");}#s(t,n){return this.#i(t),this.#r(this.#t-t.#t,n);}subUnsafe(t){return this.#s(t);}sub(t){return this.#s(t,"sub");}#a(t,n){return this.#i(t),this.#r(this.#t*t.#t/this.#n,n);}mulUnsafe(t){return this.#a(t);}mul(t){return this.#a(t,"mul");}mulSignal(t){this.#i(t);let n=this.#t*t.#t;return ye(n%this.#n===zc,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#r(n/this.#n,"mulSignal");}#d(t,n){return ye(t.#t!==zc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#i(t),this.#r(this.#t*this.#n/t.#t,n);}divUnsafe(t){return this.#d(t);}div(t){return this.#d(t,"div");}divSignal(t){ye(t.#t!==zc,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#i(t);let n=this.#t*this.#n;return ye(n%t.#t===zc,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#r(n/t.#t,"divSignal");}cmp(t){let n=this.value,i=t.value,r=this.decimals-t.decimals;return r>0?i*=x0(r):r<0&&(n*=x0(-r)),n<i?-1:n>i?1:0;}eq(t){return this.cmp(t)===0;}lt(t){return this.cmp(t)<0;}lte(t){return this.cmp(t)<=0;}gt(t){return this.cmp(t)>0;}gte(t){return this.cmp(t)>=0;}floor(){let t=this.#t;return this.#t<zc&&(t-=this.#n-Px),t=this.#t/this.#n*this.#n,this.#r(t,"floor");}ceiling(){let t=this.#t;return this.#t>zc&&(t+=this.#n-Px),t=this.#t/this.#n*this.#n,this.#r(t,"ceiling");}round(t){if(t==null&&(t=0),t>=this.decimals)return this;let n=this.decimals-t,i=K7e*x0(n-1),r=this.value+i,s=x0(n);return r=r/s*s,jS(r,this.#e,"round"),new e(Ix,r,this.#e);}isZero(){return this.#t===zc;}isNegative(){return this.#t<zc;}toString(){return this._value;}toUnsafeFloat(){return parseFloat(this.toString());}toFormat(t){return e.fromString(this.toString(),t);}static fromValue(t,n,i){let r=n==null?0:Pt(n),s=g9(i),o=ct(t,"value"),a=r-s.decimals;if(a>0){let l=x0(a);ye(o%l===zc,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),o/=l;}else a<0&&(o*=x0(-a));return jS(o,s,"fromValue"),new e(Ix,o,s);}static fromString(t,n){let i=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);K(i&&i[2].length+i[3].length>0,"invalid FixedNumber string value","value",t);let r=g9(n),s=i[2]||"0",o=i[3]||"";for(;o.length<r.decimals;)o+=kx;ye(o.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),o=o.substring(0,r.decimals);let a=BigInt(i[1]+s+o);return jS(a,r,"fromString"),new e(Ix,a,r);}static fromBytes(t,n){let i=Hl(Ue(t,"value")),r=g9(n);return r.signed&&(i=Hh(i,r.width)),jS(i,r,"fromBytes"),new e(Ix,i,r);}};function X7e(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t;}function Lre(e,t,n){let i=0;for(let r=0;r<n;r++)i=i*256+e[t+r];return i;}function Ore(e,t,n,i){let r=[];for(;n<t+1+i;){let s=Bre(e,n);r.push(s.result),n+=s.consumed,ye(n<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:e,length:i,offset:t});}return{consumed:1+i,result:r};}function Bre(e,t){ye(e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let n=i=>{ye(i<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:i});};if(e[t]>=248){let i=e[t]-247;n(t+1+i);let r=Lre(e,t+1,i);return n(t+1+i+r),Ore(e,t,t+1+i,i+r);}else if(e[t]>=192){let i=e[t]-192;return n(t+1+i),Ore(e,t,t+1,i);}else if(e[t]>=184){let i=e[t]-183;n(t+1+i);let r=Lre(e,t+1,i);n(t+1+i+r);let s=Fe(e.slice(t+1+i,t+1+i+r));return{consumed:1+i+r,result:s};}else if(e[t]>=128){let i=e[t]-128;n(t+1+i);let r=Fe(e.slice(t+1,t+1+i));return{consumed:1+i,result:r};}return{consumed:1,result:X7e(e[t])};}function Bp(e){let t=Ue(e,"data"),n=Bre(t,0);return K(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result;}function Vre(e){let t=[];for(;e;)t.unshift(e&255),e>>=8;return t;}function Gre(e){if(Array.isArray(e)){let i=[];if(e.forEach(function(s){i=i.concat(Gre(s));}),i.length<=55)return i.unshift(192+i.length),i;let r=Vre(i.length);return r.unshift(247+r.length),r.concat(i);}let t=Array.prototype.slice.call(Ue(e,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;let n=Vre(t.length);return n.unshift(183+n.length),n.concat(t);}var Hre="0123456789abcdef";function Gl(e){let t="0x";for(let n of Gre(e))t+=Hre[n>>4],t+=Hre[n&15];return t;}var zre=["wei","kwei","mwei","gwei","szabo","finney","ether"];function fP(e,t){let n=18;if(typeof t=="string"){let i=zre.indexOf(t);K(i>=0,"invalid unit","unit",t),n=3*i;}else t!=null&&(n=Pt(t,"unit"));return Op.fromValue(e,n,{decimals:n,width:512}).toString();}function pP(e,t){K(typeof e=="string","value must be a string","value",e);let n=18;if(typeof t=="string"){let i=zre.indexOf(t);K(i>=0,"invalid unit","unit",t),n=3*i;}else t!=null&&(n=Pt(t,"unit"));return Op.fromString(e,{decimals:n,width:512}).value;}function m9(e){return fP(e,18);}function v9(e){return pP(e,18);}function $S(e){let t=Ue(e,"randomBytes");t[6]=t[6]&15|64,t[8]=t[8]&63|128;let n=Fe(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-");}var Ws=32,y9=new Uint8Array(Ws),Q7e=["then"],gP={},$re=new WeakMap();function w0(e){return $re.get(e);}function Ure(e,t){$re.set(e,t);}function WS(e,t){let n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n;}function b9(e,t,n){return e.indexOf(null)>=0?t.map((i,r)=>i instanceof Uc?b9(w0(i),i,n):i):e.reduce((i,r,s)=>{let o=t.getValue(r);return r in i||(n&&o instanceof Uc&&(o=b9(w0(o),o,n)),i[r]=o),i;},{});}var Uc=class e extends Array{#e;constructor(...t){let n=t[0],i=t[1],r=(t[2]||[]).slice(),s=!0;n!==gP&&(i=t,r=[],s=!1),super(i.length),i.forEach((l,c)=>{this[c]=l;});let o=r.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map());if(Ure(this,Object.freeze(i.map((l,c)=>{let u=r[c];return u!=null&&o.get(u)===1?u:null;}))),this.#e=[],this.#e==null&&this.#e,!s)return;Object.freeze(this);let a=new Proxy(this,{get:(l,c,u)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){let h=Pt(c,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");let f=l[h];return f instanceof Error&&WS(`index ${h}`,f),f;}if(Q7e.indexOf(c)>=0)return Reflect.get(l,c,u);let d=l[c];if(d instanceof Function)return function(...h){return d.apply(this===u?l:this,h);};if(!(c in l))return l.getValue.apply(this===u?l:this,[c]);}return Reflect.get(l,c,u);}});return Ure(a,w0(this)),a;}toArray(t){let n=[];return this.forEach((i,r)=>{i instanceof Error&&WS(`index ${r}`,i),t&&i instanceof e&&(i=i.toArray(t)),n.push(i);}),n;}toObject(t){let n=w0(this);return n.reduce((i,r,s)=>(ye(r!=null,`value at index ${s} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),b9(n,this,t)),{});}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let i=w0(this),r=[],s=[];for(let o=t;o<n;o++)r.push(this[o]),s.push(i[o]);return new e(gP,r,s);}filter(t,n){let i=w0(this),r=[],s=[];for(let o=0;o<this.length;o++){let a=this[o];a instanceof Error&&WS(`index ${o}`,a),t.call(n,a,o,this)&&(r.push(a),s.push(i[o]));}return new e(gP,r,s);}map(t,n){let i=[];for(let r=0;r<this.length;r++){let s=this[r];s instanceof Error&&WS(`index ${r}`,s),i.push(t.call(n,s,r,this));}return i;}getValue(t){let n=w0(this).indexOf(t);if(n===-1)return;let i=this[n];return i instanceof Error&&WS(`property ${JSON.stringify(t)}`,i.error),i;}static fromItems(t,n){return new e(gP,t,n);}};function vP(e){let t=[],n=function(i,r){if(Array.isArray(r))for(let s in r){let o=i.slice();o.push(s);try{n(o,r[s]);}catch(a){t.push({path:o,error:a});}}};return n([],e),t;}function jre(e){let t=ir(e);return ye(t.length<=Ws,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ws,offset:t.length}),t.length!==Ws&&(t=nr(Qt([y9.slice(t.length%Ws),t]))),t;}var as=class{name;type;localName;dynamic;constructor(t,n,i,r){$e(this,{name:t,type:n,localName:i,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"});}_throwError(t,n){K(!1,t,this.localName,n);}},C0=class{#e;#t;constructor(){this.#e=[],this.#t=0;}get data(){return Qt(this.#e);}get length(){return this.#t;}#n(t){return this.#e.push(t),this.#t+=t.length,t.length;}appendWriter(t){return this.#n(nr(t.data));}writeBytes(t){let n=nr(t),i=n.length%Ws;return i&&(n=nr(Qt([n,y9.slice(i)]))),this.#n(n);}writeValue(t){return this.#n(jre(t));}writeUpdatableValue(){let t=this.#e.length;return this.#e.push(y9),this.#t+=Ws,n=>{this.#e[t]=jre(n);};}},mP=class e{allowLoose;#e;#t;#n;#i;#r;constructor(t,n,i){$e(this,{allowLoose:!!n}),this.#e=nr(t),this.#n=0,this.#i=null,this.#r=i??1024,this.#t=0;}get data(){return Fe(this.#e);}get dataLength(){return this.#e.length;}get consumed(){return this.#t;}get bytes(){return new Uint8Array(this.#e);}#o(t){if(this.#i)return this.#i.#o(t);this.#n+=t,ye(this.#r<1||this.#n<=this.#r*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#r} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:nr(this.#e),offset:this.#t,length:t,info:{bytesRead:this.#n,dataLength:this.dataLength}});}#s(t,n,i){let r=Math.ceil(n/Ws)*Ws;return this.#t+r>this.#e.length&&(this.allowLoose&&i&&this.#t+n<=this.#e.length?r=n:ye(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:nr(this.#e),length:this.#e.length,offset:this.#t+r})),this.#e.slice(this.#t,this.#t+r);}subReader(t){let n=new e(this.#e.slice(this.#t+t),this.allowLoose,this.#r);return n.#i=this,n;}readBytes(t,n){let i=this.#s(0,t,!!n);return this.#o(t),this.#t+=i.length,i.slice(0,t);}readValue(){return Hl(this.readBytes(Ws));}readIndex(){return HS(this.readBytes(Ws));}};function po(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`);}function qS(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`);}function yP(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");po(e.outputLen),po(e.blockLen);}function Uh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called");}function bP(e,t){qS(e);let n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`);}var xP=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Wre=e=>e instanceof Uint8Array;var Mx=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Fx=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),jc=(e,t)=>e<<32-t|e>>>t,Z7e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Z7e)throw new Error("Non little-endian hardware is not supported");var J7e=()=>$(void 0,null,function*(){});function wP(e,t,n){return $(this,null,function*(){let i=Date.now();for(let r=0;r<e;r++){n(r);let s=Date.now()-i;s>=0&&s<t||(yield J7e(),i+=s);}});}function e9e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e));}function $c(e){if(typeof e=="string"&&(e=e9e(e)),!Wre(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e;}function qre(...e){let t=new Uint8Array(e.reduce((i,r)=>i+r.length,0)),n=0;return e.forEach(i=>{if(!Wre(i))throw new Error("Uint8Array expected");t.set(i,n),n+=i.length;}),t;}var Vp=class{clone(){return this._cloneInto();}},t9e={}.toString;function CP(e,t){if(t!==void 0&&t9e.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t);}function Hp(e){let t=i=>e().update($c(i)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t;}function Kre(e){let t=(i,r)=>e(r).update($c(i)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>e(i),t;}function Yre(e=32){if(xP&&typeof xP.getRandomValues=="function")return xP.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined");}var _P=class extends Vp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,yP(t);let i=$c(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,s=new Uint8Array(r);s.set(i.length>r?t.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0);}update(t){return Uh(this),this.iHash.update(t),this;}digestInto(t){Uh(this),qS(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy();}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t;}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:i,finished:r,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t;}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy();}},_0=(e,t,n)=>new _P(e,t).update(n).digest();_0.create=(e,t)=>new _P(e,t);function n9e(e,t,n,i){yP(e);let r=CP({dkLen:32,asyncTick:10},i),{c:s,dkLen:o,asyncTick:a}=r;if(po(s),po(o),po(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=$c(t),c=$c(n),u=new Uint8Array(o),d=_0.create(e,l),h=d._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:h};}function i9e(e,t,n,i,r){return e.destroy(),t.destroy(),i&&i.destroy(),r.fill(0),n;}function KS(e,t,n,i){let{c:r,dkLen:s,DK:o,PRF:a,PRFSalt:l}=n9e(e,t,n,i),c,u=new Uint8Array(4),d=Fx(u),h=new Uint8Array(a.outputLen);for(let f=1,g=0;g<s;f++,g+=a.outputLen){let m=o.subarray(g,g+a.outputLen);d.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(h),m.set(h.subarray(0,m.length));for(let y=1;y<r;y++){a._cloneInto(c).update(h).digestInto(h);for(let b=0;b<m.length;b++)m[b]^=h[b];}}return i9e(a,l,o,c,h);}function r9e(e,t,n,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,i);let r=BigInt(32),s=BigInt(4294967295),o=Number(n>>r&s),a=Number(n&s),l=i?4:0,c=i?0:4;e.setUint32(t+l,o,i),e.setUint32(t+c,a,i);}var Gp=class extends Vp{constructor(t,n,i,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Fx(this.buffer);}update(t){Uh(this);let{view:n,buffer:i,blockLen:r}=this;t=$c(t);let s=t.length;for(let o=0;o<s;){let a=Math.min(r-this.pos,s-o);if(a===r){let l=Fx(t);for(;r<=s-o;o+=r)this.process(l,o);continue;}i.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0),this.pos=0);}return this.length+=t.length,this.roundClean(),this;}digestInto(t){Uh(this),bP(t,this),this.finished=!0;let{buffer:n,view:i,blockLen:r,isLE:s}=this,{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let d=o;d<r;d++)n[d]=0;r9e(i,r-8,BigInt(this.length*8),s),this.process(i,0);let a=Fx(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s);}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let i=t.slice(0,n);return this.destroy(),i;}_cloneInto(t){t||(t=new this.constructor()),t.set(...this.get());let{blockLen:n,buffer:i,length:r,finished:s,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=s,t.destroyed=o,r%n&&t.buffer.set(i),t;}};var s9e=(e,t,n)=>e&t^~e&n,o9e=(e,t,n)=>e&t^e&n^t&n,a9e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Up=new Uint32Array(64),x9=class extends Gp{constructor(){super(64,32,8,!1),this.A=zp[0]|0,this.B=zp[1]|0,this.C=zp[2]|0,this.D=zp[3]|0,this.E=zp[4]|0,this.F=zp[5]|0,this.G=zp[6]|0,this.H=zp[7]|0;}get(){let{A:t,B:n,C:i,D:r,E:s,F:o,G:a,H:l}=this;return[t,n,i,r,s,o,a,l];}set(t,n,i,r,s,o,a,l){this.A=t|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0;}process(t,n){for(let d=0;d<16;d++,n+=4)Up[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let h=Up[d-15],f=Up[d-2],g=jc(h,7)^jc(h,18)^h>>>3,m=jc(f,17)^jc(f,19)^f>>>10;Up[d]=m+Up[d-7]+g+Up[d-16]|0;}let{A:i,B:r,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){let h=jc(a,6)^jc(a,11)^jc(a,25),f=u+h+s9e(a,l,c)+a9e[d]+Up[d]|0,m=(jc(i,2)^jc(i,13)^jc(i,22))+o9e(i,r,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=r,r=i,i=f+m|0;}i=i+this.A|0,r=r+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(i,r,s,o,a,l,c,u);}roundClean(){Up.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}};var jh=Hp(()=>new x9());var SP=BigInt(4294967295),w9=BigInt(32);function Xre(e,t=!1){return t?{h:Number(e&SP),l:Number(e>>w9&SP)}:{h:Number(e>>w9&SP)|0,l:Number(e&SP)|0};}function C9(e,t=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let r=0;r<e.length;r++){let{h:s,l:o}=Xre(e[r],t);[n[r],i[r]]=[s,o];}return[n,i];}var l9e=(e,t)=>BigInt(e>>>0)<<w9|BigInt(t>>>0),c9e=(e,t,n)=>e>>>n,u9e=(e,t,n)=>e<<32-n|t>>>n,d9e=(e,t,n)=>e>>>n|t<<32-n,h9e=(e,t,n)=>e<<32-n|t>>>n,f9e=(e,t,n)=>e<<64-n|t>>>n-32,p9e=(e,t,n)=>e>>>n-32|t<<64-n,g9e=(e,t)=>t,m9e=(e,t)=>e,_9=(e,t,n)=>e<<n|t>>>32-n,S9=(e,t,n)=>t<<n|e>>>32-n,E9=(e,t,n)=>t<<n-32|e>>>64-n,T9=(e,t,n)=>e<<n-32|t>>>64-n;function v9e(e,t,n,i){let r=(t>>>0)+(i>>>0);return{h:e+n+(r/2**32|0)|0,l:r|0};}var y9e=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b9e=(e,t,n,i)=>t+n+i+(e/2**32|0)|0,x9e=(e,t,n,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),w9e=(e,t,n,i,r)=>t+n+i+r+(e/2**32|0)|0,C9e=(e,t,n,i,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(r>>>0),_9e=(e,t,n,i,r,s)=>t+n+i+r+s+(e/2**32|0)|0;var S9e={fromBig:Xre,split:C9,toBig:l9e,shrSH:c9e,shrSL:u9e,rotrSH:d9e,rotrSL:h9e,rotrBH:f9e,rotrBL:p9e,rotr32H:g9e,rotr32L:m9e,rotlSH:_9,rotlSL:S9,rotlBH:E9,rotlBL:T9,add:v9e,add3L:y9e,add3H:b9e,add4L:x9e,add4H:w9e,add5H:_9e,add5L:C9e},Rn=S9e;var[E9e,T9e]=Rn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),jp=new Uint32Array(80),$p=new Uint32Array(80),A9=class extends Gp{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209;}get(){let{Ah:t,Al:n,Bh:i,Bl:r,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;return[t,n,i,r,s,o,a,l,c,u,d,h,f,g,m,y];}set(t,n,i,r,s,o,a,l,c,u,d,h,f,g,m,y){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=r|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0;}process(t,n){for(let _=0;_<16;_++,n+=4)jp[_]=t.getUint32(n),$p[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){let A=jp[_-15]|0,I=$p[_-15]|0,N=Rn.rotrSH(A,I,1)^Rn.rotrSH(A,I,8)^Rn.shrSH(A,I,7),R=Rn.rotrSL(A,I,1)^Rn.rotrSL(A,I,8)^Rn.shrSL(A,I,7),D=jp[_-2]|0,V=$p[_-2]|0,X=Rn.rotrSH(D,V,19)^Rn.rotrBH(D,V,61)^Rn.shrSH(D,V,6),S=Rn.rotrSL(D,V,19)^Rn.rotrBL(D,V,61)^Rn.shrSL(D,V,6),T=Rn.add4L(R,S,$p[_-7],$p[_-16]),z=Rn.add4H(T,N,X,jp[_-7],jp[_-16]);jp[_]=z|0,$p[_]=T|0;}let{Ah:i,Al:r,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:m,Gl:y,Hh:b,Hl:C}=this;for(let _=0;_<80;_++){let A=Rn.rotrSH(d,h,14)^Rn.rotrSH(d,h,18)^Rn.rotrBH(d,h,41),I=Rn.rotrSL(d,h,14)^Rn.rotrSL(d,h,18)^Rn.rotrBL(d,h,41),N=d&f^~d&m,R=h&g^~h&y,D=Rn.add5L(C,I,R,T9e[_],$p[_]),V=Rn.add5H(D,b,A,N,E9e[_],jp[_]),X=D|0,S=Rn.rotrSH(i,r,28)^Rn.rotrBH(i,r,34)^Rn.rotrBH(i,r,39),T=Rn.rotrSL(i,r,28)^Rn.rotrBL(i,r,34)^Rn.rotrBL(i,r,39),z=i&s^i&a^s&a,W=r&o^r&l^o&l;b=m|0,C=y|0,m=f|0,y=g|0,f=d|0,g=h|0,{h:d,l:h}=Rn.add(c|0,u|0,V|0,X|0),c=a|0,u=l|0,a=s|0,l=o|0,s=i|0,o=r|0;let H=Rn.add3L(X,T,W);i=Rn.add3H(H,V,S,z),r=H|0;}({h:i,l:r}=Rn.add(this.Ah|0,this.Al|0,i|0,r|0)),{h:s,l:o}=Rn.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Rn.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Rn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Rn.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=Rn.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:y}=Rn.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:b,l:C}=Rn.add(this.Hh|0,this.Hl|0,b|0,C|0),this.set(i,r,s,o,a,l,c,u,d,h,f,g,m,y,b,C);}roundClean(){jp.fill(0),$p.fill(0);}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);}};var EP=Hp(()=>new A9());function A9e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object");}var Qre=A9e(),Zre=Qre.crypto||Qre.msCrypto;function D9(e){switch(e){case"sha256":return jh.create();case"sha512":return EP.create();}K(!1,"invalid hashing algorithm name","algorithm",e);}function Jre(e,t){let n={sha256:jh,sha512:EP}[e];return K(n!=null,"invalid hmac algorithm","algorithm",e),_0.create(n,t);}function ese(e,t,n,i,r){let s={sha256:jh,sha512:EP}[r];return K(s!=null,"invalid pbkdf2 algorithm","algorithm",r),KS(s,e,t,{c:n,dkLen:i});}function tse(e){ye(Zre!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),K(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);let t=new Uint8Array(e);return Zre.getRandomValues(t),t;}var nse=!1,ise=function(e,t,n){return Jre(e,t).update(n).digest();},rse=ise;function Wc(e,t,n){let i=Ue(t,"key"),r=Ue(n,"data");return Fe(rse(e,i,r));}Wc._=ise;Wc.lock=function(){nse=!0;};Wc.register=function(e){if(nse)throw new Error("computeHmac is locked");rse=e;};Object.freeze(Wc);var[ase,lse,cse]=[[],[],[]],D9e=BigInt(0),YS=BigInt(1),R9e=BigInt(2),I9e=BigInt(7),P9e=BigInt(256),k9e=BigInt(113);for(let e=0,t=YS,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],ase.push(2*(5*i+n)),lse.push((e+1)*(e+2)/2%64);let r=D9e;for(let s=0;s<7;s++)t=(t<<YS^(t>>I9e)*k9e)%P9e,t&R9e&&(r^=YS<<(YS<<BigInt(s))-YS);cse.push(r);}var[M9e,F9e]=C9(cse,!0),sse=(e,t,n)=>n>32?E9(e,t,n):_9(e,t,n),ose=(e,t,n)=>n>32?T9(e,t,n):S9(e,t,n);function N9e(e,t=24){let n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=sse(c,u,1)^n[a],h=ose(c,u,1)^n[a+1];for(let f=0;f<50;f+=10)e[o+f]^=d,e[o+f+1]^=h;}let r=e[2],s=e[3];for(let o=0;o<24;o++){let a=lse[o],l=sse(r,s,a),c=ose(r,s,a),u=ase[o];r=e[u],s=e[u+1],e[u]=l,e[u+1]=c;}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10];}e[0]^=M9e[i],e[1]^=F9e[i];}n.fill(0);}var TP=class e extends Vp{constructor(t,n,i,r=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,po(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Mx(this.state);}keccak(){N9e(this.state32,this.rounds),this.posOut=0,this.pos=0;}update(t){Uh(this);let{blockLen:n,state:i}=this;t=$c(t);let r=t.length;for(let s=0;s<r;){let o=Math.min(n-this.pos,r-s);for(let a=0;a<o;a++)i[this.pos++]^=t[s++];this.pos===n&&this.keccak();}return this;}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:n,pos:i,blockLen:r}=this;t[i]^=n,n&128&&i===r-1&&this.keccak(),t[r-1]^=128,this.keccak();}writeInto(t){Uh(this,!1),qS(t),this.finish();let n=this.state,{blockLen:i}=this;for(let r=0,s=t.length;r<s;){this.posOut>=i&&this.keccak();let o=Math.min(i-this.posOut,s-r);t.set(n.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o;}return t;}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t);}xof(t){return po(t),this.xofInto(new Uint8Array(t));}digestInto(t){if(bP(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t;}digest(){return this.digestInto(new Uint8Array(this.outputLen));}destroy(){this.destroyed=!0,this.state.fill(0);}_cloneInto(t){let{blockLen:n,suffix:i,outputLen:r,rounds:s,enableXOF:o}=this;return t||(t=new e(n,i,r,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=i,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t;}},Wp=(e,t,n)=>Hp(()=>new TP(t,e,n)),c2t=Wp(6,144,224/8),u2t=Wp(6,136,256/8),d2t=Wp(6,104,384/8),h2t=Wp(6,72,512/8),f2t=Wp(1,144,224/8),use=Wp(1,136,256/8),p2t=Wp(1,104,384/8),g2t=Wp(1,72,512/8),dse=(e,t,n)=>Kre((i={})=>new TP(t,e,i.dkLen===void 0?n:i.dkLen,!0)),m2t=dse(31,168,128/8),v2t=dse(31,136,256/8);var hse=!1,fse=function(e){return use(e);},pse=fse;function Pn(e){let t=Ue(e,"data");return Fe(pse(t));}Pn._=fse;Pn.lock=function(){hse=!0;};Pn.register=function(e){if(hse)throw new TypeError("keccak256 is locked");pse=e;};Object.freeze(Pn);var L9e=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),mse=Uint8Array.from({length:16},(e,t)=>t),O9e=mse.map(e=>(9*e+5)%16),I9=[mse],P9=[O9e];for(let e=0;e<4;e++)for(let t of[I9,P9])t.push(t[e].map(n=>L9e[n]));var vse=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),B9e=I9.map((e,t)=>e.map(n=>vse[t][n])),V9e=P9.map((e,t)=>e.map(n=>vse[t][n])),H9e=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),G9e=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),AP=(e,t)=>e<<t|e>>>32-t;function gse(e,t,n,i){return e===0?t^n^i:e===1?t&n|~t&i:e===2?(t|~n)^i:e===3?t&i|n&~i:t^(n|~i);}var DP=new Uint32Array(16),R9=class extends Gp{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776;}get(){let{h0:t,h1:n,h2:i,h3:r,h4:s}=this;return[t,n,i,r,s];}set(t,n,i,r,s){this.h0=t|0,this.h1=n|0,this.h2=i|0,this.h3=r|0,this.h4=s|0;}process(t,n){for(let f=0;f<16;f++,n+=4)DP[f]=t.getUint32(n,!0);let i=this.h0|0,r=i,s=this.h1|0,o=s,a=this.h2|0,l=a,c=this.h3|0,u=c,d=this.h4|0,h=d;for(let f=0;f<5;f++){let g=4-f,m=H9e[f],y=G9e[f],b=I9[f],C=P9[f],_=B9e[f],A=V9e[f];for(let I=0;I<16;I++){let N=AP(i+gse(f,s,a,c)+DP[b[I]]+m,_[I])+d|0;i=d,d=c,c=AP(a,10)|0,a=s,s=N;}for(let I=0;I<16;I++){let N=AP(r+gse(g,o,l,u)+DP[C[I]]+y,A[I])+h|0;r=h,h=u,u=AP(l,10)|0,l=o,o=N;}}this.set(this.h1+a+u|0,this.h2+c+h|0,this.h3+d+r|0,this.h4+i+o|0,this.h0+s+l|0);}roundClean(){DP.fill(0);}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0);}},yse=Hp(()=>new R9());var bse=!1,xse=function(e){return yse(e);},wse=xse;function qc(e){let t=Ue(e,"data");return Fe(wse(t));}qc._=xse;qc.lock=function(){bse=!0;};qc.register=function(e){if(bse)throw new TypeError("ripemd160 is locked");wse=e;};Object.freeze(qc);var Cse=!1,_se=function(e,t,n,i,r){return ese(e,t,n,i,r);},Sse=_se;function Yo(e,t,n,i,r){let s=Ue(e,"password"),o=Ue(t,"salt");return Fe(Sse(s,o,n,i,r));}Yo._=_se;Yo.lock=function(){Cse=!0;};Yo.register=function(e){if(Cse)throw new Error("pbkdf2 is locked");Sse=e;};Object.freeze(Yo);var Ese=!1,Tse=function(e){return new Uint8Array(tse(e));},Ase=Tse;function go(e){return Ase(e);}go._=Tse;go.lock=function(){Ese=!0;};go.register=function(e){if(Ese)throw new Error("randomBytes is locked");Ase=e;};Object.freeze(go);var ci=(e,t)=>e<<t|e>>>32-t;function Dse(e,t,n,i,r,s){let o=e[t++]^n[i++],a=e[t++]^n[i++],l=e[t++]^n[i++],c=e[t++]^n[i++],u=e[t++]^n[i++],d=e[t++]^n[i++],h=e[t++]^n[i++],f=e[t++]^n[i++],g=e[t++]^n[i++],m=e[t++]^n[i++],y=e[t++]^n[i++],b=e[t++]^n[i++],C=e[t++]^n[i++],_=e[t++]^n[i++],A=e[t++]^n[i++],I=e[t++]^n[i++],N=o,R=a,D=l,V=c,X=u,S=d,T=h,z=f,W=g,H=m,F=y,Y=b,Z=C,ne=_,ae=A,Ce=I;for(let P=0;P<8;P+=2)X^=ci(N+Z|0,7),W^=ci(X+N|0,9),Z^=ci(W+X|0,13),N^=ci(Z+W|0,18),H^=ci(S+R|0,7),ne^=ci(H+S|0,9),R^=ci(ne+H|0,13),S^=ci(R+ne|0,18),ae^=ci(F+T|0,7),D^=ci(ae+F|0,9),T^=ci(D+ae|0,13),F^=ci(T+D|0,18),V^=ci(Ce+Y|0,7),z^=ci(V+Ce|0,9),Y^=ci(z+V|0,13),Ce^=ci(Y+z|0,18),R^=ci(N+V|0,7),D^=ci(R+N|0,9),V^=ci(D+R|0,13),N^=ci(V+D|0,18),T^=ci(S+X|0,7),z^=ci(T+S|0,9),X^=ci(z+T|0,13),S^=ci(X+z|0,18),Y^=ci(F+H|0,7),W^=ci(Y+F|0,9),H^=ci(W+Y|0,13),F^=ci(H+W|0,18),Z^=ci(Ce+ae|0,7),ne^=ci(Z+Ce|0,9),ae^=ci(ne+Z|0,13),Ce^=ci(ae+ne|0,18);r[s++]=o+N|0,r[s++]=a+R|0,r[s++]=l+D|0,r[s++]=c+V|0,r[s++]=u+X|0,r[s++]=d+S|0,r[s++]=h+T|0,r[s++]=f+z|0,r[s++]=g+W|0,r[s++]=m+H|0,r[s++]=y+F|0,r[s++]=b+Y|0,r[s++]=C+Z|0,r[s++]=_+ne|0,r[s++]=A+ae|0,r[s++]=I+Ce|0;}function Nx(e,t,n,i,r){let s=i+0,o=i+16*r;for(let a=0;a<16;a++)n[o+a]=e[t+(2*r-1)*16+a];for(let a=0;a<r;a++,s+=16,t+=16)Dse(n,o,e,t,n,s),a>0&&(o+=16),Dse(n,s,e,t+=16,n,o);}function Rse(e,t,n){let i=CP({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:r,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=i;if(po(r),po(s),po(o),po(a),po(l),po(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*s,h=d/4;if(r<=1||r&r-1||r>=2**(d/8)||r>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=d*(r+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);let g=KS(jh,e,t,{c:1,dkLen:d*o}),m=Mx(g),y=Mx(new Uint8Array(d*r)),b=Mx(new Uint8Array(d)),C=()=>{};if(u){let _=2*r*o,A=Math.max(Math.floor(_/1e4),1),I=0;C=()=>{I++,u&&(!(I%A)||I===_)&&u(I/_);};}return{N:r,r:s,p:o,dkLen:a,blockSize32:h,V:y,B32:m,B:g,tmp:b,blockMixCb:C,asyncTick:l};}function Ise(e,t,n,i,r){let s=KS(jh,e,n,{c:1,dkLen:t});return n.fill(0),i.fill(0),r.fill(0),s;}function Pse(e,t,n){let{N:i,r,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:d,blockMixCb:h}=Rse(e,t,n);for(let f=0;f<s;f++){let g=a*f;for(let m=0;m<a;m++)l[m]=c[g+m];for(let m=0,y=0;m<i-1;m++)Nx(l,y,l,y+=a,r),h();Nx(l,(i-1)*a,c,g,r),h();for(let m=0;m<i;m++){let y=c[g+a-16]%i;for(let b=0;b<a;b++)d[b]=c[g+b]^l[y*a+b];Nx(d,0,c,g,r),h();}}return Ise(e,o,u,l,d);}function kse(e,t,n){return $(this,null,function*(){let{N:i,r,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:d,blockMixCb:h,asyncTick:f}=Rse(e,t,n);for(let g=0;g<s;g++){let m=a*g;for(let b=0;b<a;b++)l[b]=c[m+b];let y=0;yield wP(i-1,f,()=>{Nx(l,y,l,y+=a,r),h();}),Nx(l,(i-1)*a,c,m,r),h(),yield wP(i,f,()=>{let b=c[m+a-16]%i;for(let C=0;C<a;C++)d[C]=c[m+C]^l[b*a+C];Nx(d,0,c,m,r),h();});}return Ise(e,o,u,l,d);});}var Mse=!1,Fse=!1,Nse=function(e,t,n,i,r,s,o){return $(this,null,function*(){return yield kse(e,t,{N:n,r:i,p:r,dkLen:s,onProgress:o});});},Lse=function(e,t,n,i,r,s){return Pse(e,t,{N:n,r:i,p:r,dkLen:s});},Ose=Nse,Bse=Lse;function Kc(e,t,n,i,r,s,o){return $(this,null,function*(){let a=Ue(e,"passwd"),l=Ue(t,"salt");return Fe(yield Ose(a,l,n,i,r,s,o));});}Kc._=Nse;Kc.lock=function(){Fse=!0;};Kc.register=function(e){if(Fse)throw new Error("scrypt is locked");Ose=e;};Object.freeze(Kc);function Yc(e,t,n,i,r,s){let o=Ue(e,"passwd"),a=Ue(t,"salt");return Fe(Bse(o,a,n,i,r,s));}Yc._=Lse;Yc.lock=function(){Mse=!0;};Yc.register=function(e){if(Mse)throw new Error("scryptSync is locked");Bse=e;};Object.freeze(Yc);var Vse=function(e){return D9("sha256").update(e).digest();},Hse=function(e){return D9("sha512").update(e).digest();},Gse=Vse,zse=Hse,Use=!1,jse=!1;function Wr(e){let t=Ue(e,"data");return Fe(Gse(t));}Wr._=Vse;Wr.lock=function(){Use=!0;};Wr.register=function(e){if(Use)throw new Error("sha256 is locked");Gse=e;};Object.freeze(Wr);function S0(e){let t=Ue(e,"data");return Fe(zse(t));}S0._=Hse;S0.lock=function(){jse=!0;};S0.register=function(e){if(jse)throw new Error("sha512 is locked");zse=e;};Object.freeze(Wr);var N9={};Iu(N9,{bitGet:()=>K9e,bitLen:()=>q9e,bitMask:()=>XS,bitSet:()=>Y9e,bytesToHex:()=>E0,bytesToNumberBE:()=>$h,bytesToNumberLE:()=>PP,concatBytes:()=>Lx,createHmacDrbg:()=>F9,ensureBytes:()=>Za,equalBytes:()=>$9e,hexToBytes:()=>T0,hexToNumber:()=>M9,numberToBytesBE:()=>qp,numberToBytesLE:()=>kP,numberToHexUnpadded:()=>qse,numberToVarBytesBE:()=>j9e,utf8ToBytes:()=>W9e,validateObject:()=>Kp});var Wse=BigInt(0),RP=BigInt(1),z9e=BigInt(2),IP=e=>e instanceof Uint8Array,U9e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function E0(e){if(!IP(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=U9e[e[n]];return t;}function qse(e){let t=e.toString(16);return t.length&1?`0${t}`:t;}function M9(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`);}function T0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(t/2);for(let i=0;i<n.length;i++){let r=i*2,s=e.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[i]=o;}return n;}function $h(e){return M9(E0(e));}function PP(e){if(!IP(e))throw new Error("Uint8Array expected");return M9(E0(Uint8Array.from(e).reverse()));}function qp(e,t){return T0(e.toString(16).padStart(t*2,"0"));}function kP(e,t){return qp(e,t).reverse();}function j9e(e){return T0(qse(e));}function Za(e,t,n){let i;if(typeof t=="string")try{i=T0(t);}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`);}else if(IP(t))i=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let r=i.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return i;}function Lx(...e){let t=new Uint8Array(e.reduce((i,r)=>i+r.length,0)),n=0;return e.forEach(i=>{if(!IP(i))throw new Error("Uint8Array expected");t.set(i,n),n+=i.length;}),t;}function $9e(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0;}function W9e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e));}function q9e(e){let t;for(t=0;e>Wse;e>>=RP,t+=1);return t;}function K9e(e,t){return e>>BigInt(t)&RP;}var Y9e=(e,t,n)=>e|(n?RP:Wse)<<BigInt(t),XS=e=>(z9e<<BigInt(e-1))-RP,k9=e=>new Uint8Array(e),$se=e=>Uint8Array.from(e);function F9(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=k9(e),r=k9(e),s=0,o=()=>{i.fill(1),r.fill(0),s=0;},a=(...d)=>n(r,i,...d),l=(d=k9())=>{r=a($se([0]),d),i=a(),d.length!==0&&(r=a($se([1]),d),i=a());},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,h=[];for(;d<t;){i=a();let f=i.slice();h.push(f),d+=i.length;}return Lx(...h);};return(d,h)=>{o(),l(d);let f;for(;!(f=h(c()));)l();return o(),f;};}var X9e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Kp(e,t,n={}){let i=(r,s,o)=>{let a=X9e[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=e[r];if(!(o&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${s}`);};for(let[r,s]of Object.entries(t))i(r,s,!1);for(let[r,s]of Object.entries(n))i(r,s,!0);return e;}var vs=BigInt(0),Lr=BigInt(1),A0=BigInt(2),Q9e=BigInt(3),L9=BigInt(4),Kse=BigInt(5),Yse=BigInt(8),Z9e=BigInt(9),J9e=BigInt(16);function mo(e,t){let n=e%t;return n>=vs?n:t+n;}function eVe(e,t,n){if(n<=vs||t<vs)throw new Error("Expected power/modulo > 0");if(n===Lr)return vs;let i=Lr;for(;t>vs;)t&Lr&&(i=i*e%n),e=e*e%n,t>>=Lr;return i;}function Ja(e,t,n){let i=e;for(;t-->vs;)i*=i,i%=n;return i;}function MP(e,t){if(e===vs||t<=vs)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=mo(e,t),i=t,r=vs,s=Lr,o=Lr,a=vs;for(;n!==vs;){let c=i/n,u=i%n,d=r-o*c,h=s-a*c;i=n,n=u,r=o,s=a,o=d,a=h;}if(i!==Lr)throw new Error("invert: does not exist");return mo(r,t);}function tVe(e){let t=(e-Lr)/A0,n,i,r;for(n=e-Lr,i=0;n%A0===vs;n/=A0,i++);for(r=A0;r<e&&eVe(r,t,e)!==e-Lr;r++);if(i===1){let o=(e+Lr)/L9;return function(l,c){let u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u;};}let s=(n+Lr)/A0;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=i,u=a.pow(a.mul(a.ONE,r),n),d=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(h);f<c&&!a.eql(m,a.ONE);f++)m=a.sqr(m);let g=a.pow(u,Lr<<BigInt(c-f-1));u=a.sqr(g),d=a.mul(d,g),h=a.mul(h,u),c=f;}return d;};}function nVe(e){if(e%L9===Q9e){let t=(e+Lr)/L9;return function(i,r){let s=i.pow(r,t);if(!i.eql(i.sqr(s),r))throw new Error("Cannot find square root");return s;};}if(e%Yse===Kse){let t=(e-Kse)/Yse;return function(i,r){let s=i.mul(r,A0),o=i.pow(s,t),a=i.mul(r,o),l=i.mul(i.mul(a,A0),o),c=i.mul(a,i.sub(l,i.ONE));if(!i.eql(i.sqr(c),r))throw new Error("Cannot find square root");return c;};}return e%J9e,tVe(e);}var iVe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O9(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=iVe.reduce((i,r)=>(i[r]="function",i),t);return Kp(e,n);}function rVe(e,t,n){if(n<vs)throw new Error("Expected power > 0");if(n===vs)return e.ONE;if(n===Lr)return t;let i=e.ONE,r=t;for(;n>vs;)n&Lr&&(i=e.mul(i,r)),r=e.sqr(r),n>>=Lr;return i;}function sVe(e,t){let n=new Array(t.length),i=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),r=e.inv(i);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),r),n;}function B9(e,t){let n=t!==void 0?t:e.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i};}function Xse(e,t,n=!1,i={}){if(e<=vs)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:r,nByteLength:s}=B9(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=nVe(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:s,MASK:XS(r),ZERO:vs,ONE:Lr,create:l=>mo(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return vs<=l&&l<e;},is0:l=>l===vs,isOdd:l=>(l&Lr)===Lr,neg:l=>mo(-l,e),eql:(l,c)=>l===c,sqr:l=>mo(l*l,e),add:(l,c)=>mo(l+c,e),sub:(l,c)=>mo(l-c,e),mul:(l,c)=>mo(l*c,e),pow:(l,c)=>rVe(a,l,c),div:(l,c)=>mo(l*MP(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>MP(l,e),sqrt:i.sqrt||(l=>o(a,l)),invertBatch:l=>sVe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?kP(l,s):qp(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?PP(l):$h(l);}});return Object.freeze(a);}function Qse(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8);}function V9(e){let t=Qse(e);return t+Math.ceil(t/2);}function Zse(e,t,n=!1){let i=e.length,r=Qse(t),s=V9(t);if(i<16||i<s||i>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${i}`);let o=n?$h(e):PP(e),a=mo(o,t-Lr)+Lr;return n?kP(a,r):qp(a,r);}var aVe=BigInt(0),H9=BigInt(1);function Jse(e,t){let n=(r,s)=>{let o=s.negate();return r?o:s;},i=r=>{let s=Math.ceil(t/r)+1,o=2**(r-1);return{windows:s,windowSize:o};};return{constTimeNegate:n,unsafeLadder(r,s){let o=e.ZERO,a=r;for(;s>aVe;)s&H9&&(o=o.add(a)),a=a.double(),s>>=H9;return o;},precomputeWindow(r,s){let{windows:o,windowSize:a}=i(s),l=[],c=r,u=c;for(let d=0;d<o;d++){u=c,l.push(u);for(let h=1;h<a;h++)u=u.add(c),l.push(u);c=u.double();}return l;},wNAF(r,s,o){let{windows:a,windowSize:l}=i(r),c=e.ZERO,u=e.BASE,d=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let g=0;g<a;g++){let m=g*l,y=Number(o&d);o>>=f,y>l&&(y-=h,o+=H9);let b=m,C=m+Math.abs(y)-1,_=g%2!==0,A=y<0;y===0?u=u.add(n(_,s[b])):c=c.add(n(A,s[C]));}return{p:c,f:u};},wNAFCached(r,s,o,a){let l=r._WINDOW_SIZE||1,c=s.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&s.set(r,a(c))),this.wNAF(l,c,o);}};}function G9(e){return O9(e.Fp),Kp(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(Re(O(O({},B9(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}));}function lVe(e){let t=G9(e);Kp(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:i,a:r}=t;if(n){if(!i.eql(r,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function");}return Object.freeze(O({},t));}var{bytesToNumberBE:cVe,hexToBytes:uVe}=N9,D0={Err:class extends Error{constructor(t=""){super(t);}},_parseInt(e){let{Err:t}=D0;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(i[0]&128)throw new t("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:cVe(i),l:e.subarray(n+2)};},toSig(e){let{Err:t}=D0,n=typeof e=="string"?uVe(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let i=n.length;if(i<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");let{d:r,l:s}=D0._parseInt(n.subarray(2)),{d:o,l:a}=D0._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:o};},hexFromSig(e){let t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u;},i=t(n(e.s)),r=t(n(e.r)),s=i.length/2,o=r.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${r}02${a}${i}`;}},Wh=BigInt(0),zl=BigInt(1),eEt=BigInt(2),eoe=BigInt(3),tEt=BigInt(4);function dVe(e){let t=lVe(e),{Fp:n}=t,i=t.toBytes||((g,m,y)=>{let b=m.toAffine();return Lx(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y));}),r=t.fromBytes||(g=>{let m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b};});function s(g){let{a:m,b:y}=t,b=n.sqr(g),C=n.mul(b,g);return n.add(n.add(C,n.mul(g,m)),y);}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&Wh<g&&g<t.n;}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n");}function l(g){let{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:C}=t;if(m&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=E0(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0");}let _;try{_=typeof g=="bigint"?g:$h(Za("private key",g,y));}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`);}return b&&(_=mo(_,C)),a(_),_;}let c=new Map();function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected");}class d{constructor(m,y,b){if(this.px=m,this.py=y,this.pz=b,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");}static fromAffine(m){let{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let C=_=>n.eql(_,n.ZERO);return C(y)&&C(b)?d.ZERO:new d(y,b,n.ONE);}get x(){return this.toAffine().x;}get y(){return this.toAffine().y;}static normalizeZ(m){let y=n.invertBatch(m.map(b=>b.pz));return m.map((b,C)=>b.toAffine(y[C])).map(d.fromAffine);}static fromHex(m){let y=d.fromAffine(r(Za("pointHex",m)));return y.assertValidity(),y;}static fromPrivateKey(m){return d.BASE.multiply(l(m));}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this);}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO");}let{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");let b=n.sqr(y),C=s(m);if(!n.eql(b,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");}hasEvenY(){let{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd");}equals(m){u(m);let{px:y,py:b,pz:C}=this,{px:_,py:A,pz:I}=m,N=n.eql(n.mul(y,I),n.mul(_,C)),R=n.eql(n.mul(b,I),n.mul(A,C));return N&&R;}negate(){return new d(this.px,n.neg(this.py),this.pz);}double(){let{a:m,b:y}=t,b=n.mul(y,eoe),{px:C,py:_,pz:A}=this,I=n.ZERO,N=n.ZERO,R=n.ZERO,D=n.mul(C,C),V=n.mul(_,_),X=n.mul(A,A),S=n.mul(C,_);return S=n.add(S,S),R=n.mul(C,A),R=n.add(R,R),I=n.mul(m,R),N=n.mul(b,X),N=n.add(I,N),I=n.sub(V,N),N=n.add(V,N),N=n.mul(I,N),I=n.mul(S,I),R=n.mul(b,R),X=n.mul(m,X),S=n.sub(D,X),S=n.mul(m,S),S=n.add(S,R),R=n.add(D,D),D=n.add(R,D),D=n.add(D,X),D=n.mul(D,S),N=n.add(N,D),X=n.mul(_,A),X=n.add(X,X),D=n.mul(X,S),I=n.sub(I,D),R=n.mul(X,V),R=n.add(R,R),R=n.add(R,R),new d(I,N,R);}add(m){u(m);let{px:y,py:b,pz:C}=this,{px:_,py:A,pz:I}=m,N=n.ZERO,R=n.ZERO,D=n.ZERO,V=t.a,X=n.mul(t.b,eoe),S=n.mul(y,_),T=n.mul(b,A),z=n.mul(C,I),W=n.add(y,b),H=n.add(_,A);W=n.mul(W,H),H=n.add(S,T),W=n.sub(W,H),H=n.add(y,C);let F=n.add(_,I);return H=n.mul(H,F),F=n.add(S,z),H=n.sub(H,F),F=n.add(b,C),N=n.add(A,I),F=n.mul(F,N),N=n.add(T,z),F=n.sub(F,N),D=n.mul(V,H),N=n.mul(X,z),D=n.add(N,D),N=n.sub(T,D),D=n.add(T,D),R=n.mul(N,D),T=n.add(S,S),T=n.add(T,S),z=n.mul(V,z),H=n.mul(X,H),T=n.add(T,z),z=n.sub(S,z),z=n.mul(V,z),H=n.add(H,z),S=n.mul(T,H),R=n.add(R,S),S=n.mul(F,H),N=n.mul(W,N),N=n.sub(N,S),S=n.mul(W,T),D=n.mul(F,D),D=n.add(D,S),new d(N,R,D);}subtract(m){return this.add(m.negate());}is0(){return this.equals(d.ZERO);}wNAF(m){return f.wNAFCached(this,c,m,y=>{let b=n.invertBatch(y.map(C=>C.pz));return y.map((C,_)=>C.toAffine(b[_])).map(d.fromAffine);});}multiplyUnsafe(m){let y=d.ZERO;if(m===Wh)return y;if(a(m),m===zl)return this;let{endo:b}=t;if(!b)return f.unsafeLadder(this,m);let{k1neg:C,k1:_,k2neg:A,k2:I}=b.splitScalar(m),N=y,R=y,D=this;for(;_>Wh||I>Wh;)_&zl&&(N=N.add(D)),I&zl&&(R=R.add(D)),D=D.double(),_>>=zl,I>>=zl;return C&&(N=N.negate()),A&&(R=R.negate()),R=new d(n.mul(R.px,b.beta),R.py,R.pz),N.add(R);}multiply(m){a(m);let y=m,b,C,{endo:_}=t;if(_){let{k1neg:A,k1:I,k2neg:N,k2:R}=_.splitScalar(y),{p:D,f:V}=this.wNAF(I),{p:X,f:S}=this.wNAF(R);D=f.constTimeNegate(A,D),X=f.constTimeNegate(N,X),X=new d(n.mul(X.px,_.beta),X.py,X.pz),b=D.add(X),C=V.add(S);}else{let{p:A,f:I}=this.wNAF(y);b=A,C=I;}return d.normalizeZ([b,C])[0];}multiplyAndAddUnsafe(m,y,b){let C=d.BASE,_=(I,N)=>N===Wh||N===zl||!I.equals(C)?I.multiplyUnsafe(N):I.multiply(N),A=_(this,y).add(_(m,b));return A.is0()?void 0:A;}toAffine(m){let{px:y,py:b,pz:C}=this,_=this.is0();m==null&&(m=_?n.ONE:n.inv(C));let A=n.mul(y,m),I=n.mul(b,m),N=n.mul(C,m);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:A,y:I};}isTorsionFree(){let{h:m,isTorsionFree:y}=t;if(m===zl)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve");}clearCofactor(){let{h:m,clearCofactor:y}=t;return m===zl?this:y?y(d,this):this.multiplyUnsafe(t.h);}toRawBytes(m=!0){return this.assertValidity(),i(d,this,m);}toHex(m=!0){return E0(this.toRawBytes(m));}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let h=t.nBitLength,f=Jse(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o};}function hVe(e){let t=G9(e);return Kp(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(O({lowS:!0},t));}function toe(e){let t=hVe(e),{Fp:n,n:i}=t,r=n.BYTES+1,s=2*n.BYTES+1;function o(H){return Wh<H&&H<n.ORDER;}function a(H){return mo(H,i);}function l(H){return MP(H,i);}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=dVe(Re(O({},t),{toBytes(H,F,Y){let Z=F.toAffine(),ne=n.toBytes(Z.x),ae=Lx;return Y?ae(Uint8Array.from([F.hasEvenY()?2:3]),ne):ae(Uint8Array.from([4]),ne,n.toBytes(Z.y));},fromBytes(H){let F=H.length,Y=H[0],Z=H.subarray(1);if(F===r&&(Y===2||Y===3)){let ne=$h(Z);if(!o(ne))throw new Error("Point is not on curve");let ae=d(ne),Ce=n.sqrt(ae),P=(Ce&zl)===zl;return(Y&1)===1!==P&&(Ce=n.neg(Ce)),{x:ne,y:Ce};}else if(F===s&&Y===4){let ne=n.fromBytes(Z.subarray(0,n.BYTES)),ae=n.fromBytes(Z.subarray(n.BYTES,2*n.BYTES));return{x:ne,y:ae};}else throw new Error(`Point of length ${F} was invalid. Expected ${r} compressed bytes or ${s} uncompressed bytes`);}})),f=H=>E0(qp(H,t.nByteLength));function g(H){let F=i>>zl;return H>F;}function m(H){return g(H)?a(-H):H;}let y=(H,F,Y)=>$h(H.slice(F,Y));class b{constructor(F,Y,Z){this.r=F,this.s=Y,this.recovery=Z,this.assertValidity();}static fromCompact(F){let Y=t.nByteLength;return F=Za("compactSignature",F,Y*2),new b(y(F,0,Y),y(F,Y,2*Y));}static fromDER(F){let{r:Y,s:Z}=D0.toSig(Za("DER",F));return new b(Y,Z);}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n");}addRecoveryBit(F){return new b(this.r,this.s,F);}recoverPublicKey(F){let{r:Y,s:Z,recovery:ne}=this,ae=R(Za("msgHash",F));if(ne==null||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");let Ce=ne===2||ne===3?Y+t.n:Y;if(Ce>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let P=ne&1?"03":"02",Q=c.fromHex(P+f(Ce)),ee=l(Ce),le=a(-ae*ee),he=a(Z*ee),ue=c.BASE.multiplyAndAddUnsafe(Q,le,he);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue;}hasHighS(){return g(this.s);}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this;}toDERRawBytes(){return T0(this.toDERHex());}toDERHex(){return D0.hexFromSig({r:this.r,s:this.s});}toCompactRawBytes(){return T0(this.toCompactHex());}toCompactHex(){return f(this.r)+f(this.s);}}let C={isValidPrivateKey(H){try{return u(H),!0;}catch{return!1;}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let H=V9(t.n);return Zse(t.randomBytes(H),t.n);},precompute(H=8,F=c.BASE){return F._setWindowSize(H),F.multiply(BigInt(3)),F;}};function _(H,F=!0){return c.fromPrivateKey(H).toRawBytes(F);}function A(H){let F=H instanceof Uint8Array,Y=typeof H=="string",Z=(F||Y)&&H.length;return F?Z===r||Z===s:Y?Z===2*r||Z===2*s:H instanceof c;}function I(H,F,Y=!0){if(A(H))throw new Error("first arg must be private key");if(!A(F))throw new Error("second arg must be public key");return c.fromHex(F).multiply(u(H)).toRawBytes(Y);}let N=t.bits2int||function(H){let F=$h(H),Y=H.length*8-t.nBitLength;return Y>0?F>>BigInt(Y):F;},R=t.bits2int_modN||function(H){return a(N(H));},D=XS(t.nBitLength);function V(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(Wh<=H&&H<D))throw new Error(`bigint expected < 2^${t.nBitLength}`);return qp(H,t.nByteLength);}function X(H,F,Y=S){if(["recovered","canonical"].some(oe=>oe in Y))throw new Error("sign() legacy options not supported");let{hash:Z,randomBytes:ne}=t,{lowS:ae,prehash:Ce,extraEntropy:P}=Y;ae==null&&(ae=!0),H=Za("msgHash",H),Ce&&(H=Za("prehashed msgHash",Z(H)));let Q=R(H),ee=u(F),le=[V(ee),V(Q)];if(P!=null){let oe=P===!0?ne(n.BYTES):P;le.push(Za("extraEntropy",oe));}let he=Lx(...le),ue=Q;function xe(oe){let Ae=N(oe);if(!h(Ae))return;let Pe=l(Ae),ge=c.BASE.multiply(Ae).toAffine(),Ge=a(ge.x);if(Ge===Wh)return;let it=a(Pe*a(ue+Ge*ee));if(it===Wh)return;let De=(ge.x===Ge?0:2)|Number(ge.y&zl),re=it;return ae&&g(it)&&(re=m(it),De^=1),new b(Ge,re,De);}return{seed:he,k2sig:xe};}let S={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};function z(H,F,Y=S){let{seed:Z,k2sig:ne}=X(H,F,Y),ae=t;return F9(ae.hash.outputLen,ae.nByteLength,ae.hmac)(Z,ne);}c.BASE._setWindowSize(8);function W(H,F,Y,Z=T){let ne=H;if(F=Za("msgHash",F),Y=Za("publicKey",Y),"strict"in Z)throw new Error("options.strict was renamed to lowS");let{lowS:ae,prehash:Ce}=Z,P,Q;try{if(typeof ne=="string"||ne instanceof Uint8Array)try{P=b.fromDER(ne);}catch(ge){if(!(ge instanceof D0.Err))throw ge;P=b.fromCompact(ne);}else if(typeof ne=="object"&&typeof ne.r=="bigint"&&typeof ne.s=="bigint"){let{r:ge,s:Ge}=ne;P=new b(ge,Ge);}else throw new Error("PARSE");Q=c.fromHex(Y);}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1;}if(ae&&P.hasHighS())return!1;Ce&&(F=t.hash(F));let{r:ee,s:le}=P,he=R(F),ue=l(le),xe=a(he*ue),oe=a(ee*ue),Ae=c.BASE.multiplyAndAddUnsafe(Q,xe,oe)?.toAffine();return Ae?a(Ae.x)===ee:!1;}return{CURVE:t,getPublicKey:_,getSharedSecret:I,sign:z,verify:W,ProjectivePoint:c,Signature:b,utils:C};}function fVe(e){return{hash:e,hmac:(t,...n)=>_0(e,t,qre(...n)),randomBytes:Yre};}function noe(e,t){let n=i=>toe(O(O({},e),fVe(i)));return Object.freeze(Re(O({},n(t)),{create:n}));}var soe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ioe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pVe=BigInt(1),z9=BigInt(2),roe=(e,t)=>(e+t/z9)/t;function gVe(e){let t=soe,n=BigInt(3),i=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Ja(u,n,t)*u%t,h=Ja(d,n,t)*u%t,f=Ja(h,z9,t)*c%t,g=Ja(f,r,t)*f%t,m=Ja(g,s,t)*g%t,y=Ja(m,a,t)*m%t,b=Ja(y,l,t)*y%t,C=Ja(b,a,t)*m%t,_=Ja(C,n,t)*u%t,A=Ja(_,o,t)*g%t,I=Ja(A,i,t)*c%t,N=Ja(I,z9,t);if(!U9.eql(U9.sqr(N),e))throw new Error("Cannot find square root");return N;}var U9=Xse(soe,void 0,void 0,{sqrt:gVe}),qh=noe({a:BigInt(0),b:BigInt(7),Fp:U9,n:ioe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=ioe,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-pVe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=roe(s*e,t),l=roe(-i*e,t),c=mo(e-a*n-l*r,t),u=mo(-a*i-l*s,t),d=c>o,h=u>o;if(d&&(c=t-c),h&&(u=t-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u};}}},jh),hEt=BigInt(0);var fEt=qh.ProjectivePoint;var Xc="0x0000000000000000000000000000000000000000";var Ox="0x0000000000000000000000000000000000000000000000000000000000000000";var j9=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),$9=BigInt("1000000000000000000"),W9=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q9=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),K9=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Y9="\u039E",QS=`Ethereum Signed Message:
`;var ooe=BigInt(0),aoe=BigInt(1),loe=BigInt(2),coe=BigInt(27),uoe=BigInt(28),FP=BigInt(35),Bx={};function doe(e){return ms(ir(e),32);}var qs=class e{#e;#t;#n;#i;get r(){return this.#e;}set r(t){K(Ea(t)===32,"invalid r","value",t),this.#e=Fe(t);}get s(){return this.#t;}set s(t){K(Ea(t)===32,"invalid s","value",t);let n=Fe(t);K(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),this.#t=n;}get v(){return this.#n;}set v(t){let n=Pt(t,"value");K(n===27||n===28,"invalid v","v",t),this.#n=n;}get networkV(){return this.#i;}get legacyChainId(){let t=this.networkV;return t==null?null:e.getChainId(t);}get yParity(){return this.v===27?0:1;}get yParityAndS(){let t=Ue(this.s);return this.yParity&&(t[0]|=128),Fe(t);}get compactSerialized(){return Qt([this.r,this.yParityAndS]);}get serialized(){return Qt([this.r,this.s,this.yParity?"0x1c":"0x1b"]);}constructor(t,n,i,r){$s(t,Bx,"Signature"),this.#e=n,this.#t=i,this.#n=r,this.#i=null;}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`;}clone(){let t=new e(Bx,this.r,this.s,this.v);return this.networkV&&(t.#i=this.networkV),t;}toJSON(){let t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v};}static getChainId(t){let n=ct(t,"v");return n==coe||n==uoe?ooe:(K(n>=FP,"invalid EIP-155 v","v",t),(n-FP)/loe);}static getChainIdV(t,n){return ct(t)*loe+BigInt(35+n-27);}static getNormalizedV(t){let n=ct(t);return n===ooe||n===coe?27:n===aoe||n===uoe?28:(K(n>=FP,"invalid v","v",t),n&aoe?27:28);}static from(t){function n(c,u){K(c,u,"signature",t);}if(t==null)return new e(Bx,Ox,Ox,27);if(typeof t=="string"){let c=Ue(t,"signature");if(c.length===64){let u=Fe(c.slice(0,32)),d=c.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new e(Bx,u,Fe(d),h);}if(c.length===65){let u=Fe(c.slice(0,32)),d=c.slice(32,64);n((d[0]&128)===0,"non-canonical s");let h=e.getNormalizedV(c[64]);return new e(Bx,u,Fe(d),h);}n(!1,"invalid raw signature length");}if(t instanceof e)return t.clone();let i=t.r;n(i!=null,"missing r");let r=doe(i),s=function(c,u){if(c!=null)return doe(c);if(u!=null){n(Nn(u,32),"invalid yParityAndS");let d=Ue(u);return d[0]&=127,Fe(d);}n(!1,"missing s");}(t.s,t.yParityAndS);n((Ue(s)[0]&128)==0,"non-canonical s");let{networkV:o,v:a}=function(c,u,d){if(c!=null){let h=ct(c);return{networkV:h>=FP?h:void 0,v:e.getNormalizedV(h)};}if(u!=null)return n(Nn(u,32),"invalid yParityAndS"),{v:Ue(u)[0]&128?28:27};if(d!=null){switch(Pt(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28};}n(!1,"invalid yParity");}n(!1,"missing v");}(t.v,t.yParityAndS,t.yParity),l=new e(Bx,r,s,a);return o&&(l.#i=o),n(t.yParity==null||Pt(t.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(t.yParityAndS==null||t.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l;}};var Ks=class e{#e;constructor(t){K(Ea(t)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=Fe(t);}get privateKey(){return this.#e;}get publicKey(){return e.computePublicKey(this.#e);}get compressedPublicKey(){return e.computePublicKey(this.#e,!0);}sign(t){K(Ea(t)===32,"invalid digest length","digest",t);let n=qh.sign(nr(t),nr(this.#e),{lowS:!0});return qs.from({r:Ds(n.r,32),s:Ds(n.s,32),v:n.recovery?28:27});}computeSharedSecret(t){let n=e.computePublicKey(t);return Fe(qh.getSharedSecret(nr(this.#e),Ue(n),!1));}static computePublicKey(t,n){let i=Ue(t,"key");if(i.length===32){let s=qh.getPublicKey(i,!!n);return Fe(s);}if(i.length===64){let s=new Uint8Array(65);s[0]=4,s.set(i,1),i=s;}let r=qh.ProjectivePoint.fromHex(i);return Fe(r.toRawBytes(n));}static recoverPublicKey(t,n){K(Ea(t)===32,"invalid digest length","digest",t);let i=qs.from(n),r=qh.Signature.fromCompact(nr(Qt([i.r,i.s])));r=r.addRecoveryBit(i.yParity);let s=r.recoverPublicKey(nr(t));return K(s!=null,"invalid signautre for digest","signature",n),"0x"+s.toHex(!1);}static addPoints(t,n,i){let r=qh.ProjectivePoint.fromHex(e.computePublicKey(t).substring(2)),s=qh.ProjectivePoint.fromHex(e.computePublicKey(n).substring(2));return"0x"+r.add(s).toHex(!!i);}};function hoe(){Wc.lock(),Pn.lock(),Yo.lock(),go.lock(),qc.lock(),Kc.lock(),Yc.lock(),Wr.lock(),S0.lock(),go.lock();}var mVe=BigInt(0),vVe=BigInt(36);function foe(e){e=e.toLowerCase();let t=e.substring(2).split(""),n=new Uint8Array(40);for(let r=0;r<40;r++)n[r]=t[r].charCodeAt(0);let i=Ue(Pn(n));for(let r=0;r<40;r+=2)i[r>>1]>>4>=8&&(t[r]=t[r].toUpperCase()),(i[r>>1]&15)>=8&&(t[r+1]=t[r+1].toUpperCase());return"0x"+t.join("");}var X9={};for(let e=0;e<10;e++)X9[String(e)]=String(e);for(let e=0;e<26;e++)X9[String.fromCharCode(65+e)]=String(10+e);var poe=15;function goe(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>X9[i]).join("");for(;t.length>=poe;){let i=t.substring(0,poe);t=parseInt(i,10)%97+t.substring(i.length);}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n;}var yVe=function(){let e={};for(let t=0;t<36;t++){let n="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[n]=BigInt(t);}return e;}();function bVe(e){e=e.toLowerCase();let t=mVe;for(let n=0;n<e.length;n++)t=t*vVe+yVe[e[n]];return t;}function Bt(e){if(K(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=foe(e);return K(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t;}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){K(e.substring(2,4)===goe(e),"bad icap checksum","address",e);let t=bVe(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return foe("0x"+t);}K(!1,"invalid address","address",e);}function Q9(e){let t=BigInt(Bt(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+goe("XE00"+t)+t;}function R0(e){let t=Bt(e.from),i=ct(e.nonce,"tx.nonce").toString(16);return i==="0"?i="0x":i.length%2?i="0x0"+i:i="0x"+i,Bt(si(Pn(Gl([t,i])),12));}function Z9(e,t,n){let i=Bt(e),r=Ue(t,"salt"),s=Ue(n,"initCodeHash");return K(r.length===32,"salt must be 32 bytes","salt",t),K(s.length===32,"initCodeHash must be 32 bytes","initCodeHash",n),Bt(si(Pn(Qt(["0xff",i,r,s])),12));}function Vx(e){return e&&typeof e.getAddress=="function";}function eV(e){try{return Bt(e),!0;}catch{}return!1;}function J9(e,t){return $(this,null,function*(){let n=yield t;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ye(typeof e!="string","unconfigured name","UNCONFIGURED_NAME",{value:e}),K(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Bt(n);});}function or(e,t){if(typeof e=="string")return e.match(/^0x[0-9a-f]{40}$/i)?Bt(e):(ye(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),J9(e,t.resolveName(e)));if(Vx(e))return J9(e,e.getAddress());if(e&&typeof e.then=="function")return J9(e,e);K(!1,"unsupported addressable value","target",e);}var Qc={};function At(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Li(Qc,`${n?"":"u"}int${t}`,e,{signed:n,width:t});}function ui(e,t){return new Li(Qc,`bytes${t||""}`,e,{size:t});}var moe=Symbol.for("_ethers_typed"),Li=class e{type;value;#e;_typedSymbol;constructor(t,n,i,r){r==null&&(r=null),$s(Qc,t,"Typed"),$e(this,{_typedSymbol:moe,type:n,value:i}),this.#e=r,this.format();}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type;}defaultValue(){return 0;}minValue(){return 0;}maxValue(){return 0;}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/);}isData(){return this.type.startsWith("bytes");}isString(){return this.type==="string";}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e;}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null;}static from(t,n){return new e(Qc,t,n);}static uint8(t){return At(t,8);}static uint16(t){return At(t,16);}static uint24(t){return At(t,24);}static uint32(t){return At(t,32);}static uint40(t){return At(t,40);}static uint48(t){return At(t,48);}static uint56(t){return At(t,56);}static uint64(t){return At(t,64);}static uint72(t){return At(t,72);}static uint80(t){return At(t,80);}static uint88(t){return At(t,88);}static uint96(t){return At(t,96);}static uint104(t){return At(t,104);}static uint112(t){return At(t,112);}static uint120(t){return At(t,120);}static uint128(t){return At(t,128);}static uint136(t){return At(t,136);}static uint144(t){return At(t,144);}static uint152(t){return At(t,152);}static uint160(t){return At(t,160);}static uint168(t){return At(t,168);}static uint176(t){return At(t,176);}static uint184(t){return At(t,184);}static uint192(t){return At(t,192);}static uint200(t){return At(t,200);}static uint208(t){return At(t,208);}static uint216(t){return At(t,216);}static uint224(t){return At(t,224);}static uint232(t){return At(t,232);}static uint240(t){return At(t,240);}static uint248(t){return At(t,248);}static uint256(t){return At(t,256);}static uint(t){return At(t,256);}static int8(t){return At(t,-8);}static int16(t){return At(t,-16);}static int24(t){return At(t,-24);}static int32(t){return At(t,-32);}static int40(t){return At(t,-40);}static int48(t){return At(t,-48);}static int56(t){return At(t,-56);}static int64(t){return At(t,-64);}static int72(t){return At(t,-72);}static int80(t){return At(t,-80);}static int88(t){return At(t,-88);}static int96(t){return At(t,-96);}static int104(t){return At(t,-104);}static int112(t){return At(t,-112);}static int120(t){return At(t,-120);}static int128(t){return At(t,-128);}static int136(t){return At(t,-136);}static int144(t){return At(t,-144);}static int152(t){return At(t,-152);}static int160(t){return At(t,-160);}static int168(t){return At(t,-168);}static int176(t){return At(t,-176);}static int184(t){return At(t,-184);}static int192(t){return At(t,-192);}static int200(t){return At(t,-200);}static int208(t){return At(t,-208);}static int216(t){return At(t,-216);}static int224(t){return At(t,-224);}static int232(t){return At(t,-232);}static int240(t){return At(t,-240);}static int248(t){return At(t,-248);}static int256(t){return At(t,-256);}static int(t){return At(t,-256);}static bytes1(t){return ui(t,1);}static bytes2(t){return ui(t,2);}static bytes3(t){return ui(t,3);}static bytes4(t){return ui(t,4);}static bytes5(t){return ui(t,5);}static bytes6(t){return ui(t,6);}static bytes7(t){return ui(t,7);}static bytes8(t){return ui(t,8);}static bytes9(t){return ui(t,9);}static bytes10(t){return ui(t,10);}static bytes11(t){return ui(t,11);}static bytes12(t){return ui(t,12);}static bytes13(t){return ui(t,13);}static bytes14(t){return ui(t,14);}static bytes15(t){return ui(t,15);}static bytes16(t){return ui(t,16);}static bytes17(t){return ui(t,17);}static bytes18(t){return ui(t,18);}static bytes19(t){return ui(t,19);}static bytes20(t){return ui(t,20);}static bytes21(t){return ui(t,21);}static bytes22(t){return ui(t,22);}static bytes23(t){return ui(t,23);}static bytes24(t){return ui(t,24);}static bytes25(t){return ui(t,25);}static bytes26(t){return ui(t,26);}static bytes27(t){return ui(t,27);}static bytes28(t){return ui(t,28);}static bytes29(t){return ui(t,29);}static bytes30(t){return ui(t,30);}static bytes31(t){return ui(t,31);}static bytes32(t){return ui(t,32);}static address(t){return new e(Qc,"address",t);}static bool(t){return new e(Qc,"bool",!!t);}static bytes(t){return new e(Qc,"bytes",t);}static string(t){return new e(Qc,"string",t);}static array(t,n){throw new Error("not implemented yet");}static tuple(t,n){throw new Error("not implemented yet");}static overrides(t){return new e(Qc,"overrides",Object.assign({},t));}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===moe;}static dereference(t,n){if(e.isTyped(t)){if(t.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${t.type}`);return t.value;}return t;}};var NP=class extends as{constructor(t){super("address","address",t,!1);}defaultValue(){return"0x0000000000000000000000000000000000000000";}encode(t,n){let i=Li.dereference(n,"string");try{i=Bt(i);}catch(r){return this._throwError(r.message,n);}return t.writeValue(i);}decode(t){return Bt(Ds(t.readValue(),20));}};var LP=class extends as{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t;}defaultValue(){return this.coder.defaultValue();}encode(t,n){return this.coder.encode(t,n);}decode(t){return this.coder.decode(t);}};function tV(e,t,n){let i=[];if(Array.isArray(n))i=n;else if(n&&typeof n=="object"){let l={};i=t.map(c=>{let u=c.localName;return ye(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),ye(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[u]=!0,n[u];});}else K(!1,"invalid tuple value","tuple",n);K(t.length===i.length,"types/value length mismatch","tuple",n);let r=new C0(),s=new C0(),o=[];t.forEach((l,c)=>{let u=i[c];if(l.dynamic){let d=s.length;l.encode(s,u);let h=r.writeUpdatableValue();o.push(f=>{h(f+d);});}else l.encode(r,u);}),o.forEach(l=>{l(r.length);});let a=e.appendWriter(r);return a+=e.appendWriter(s),a;}function nV(e,t){let n=[],i=[],r=e.subReader(0);return t.forEach(s=>{let o=null;if(s.dynamic){let a=e.readIndex(),l=r.subReader(a);try{o=s.decode(l);}catch(c){if(yi(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type;}}else try{o=s.decode(e);}catch(a){if(yi(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type;}if(o==null)throw new Error("investigate");n.push(o),i.push(s.localName||null);}),Uc.fromItems(n,i);}var OP=class extends as{coder;length;constructor(t,n,i){let r=t.type+"["+(n>=0?n:"")+"]",s=n===-1||t.dynamic;super("array",r,i,s),$e(this,{coder:t,length:n});}defaultValue(){let t=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(t);return n;}encode(t,n){let i=Li.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let r=this.length;r===-1&&(r=i.length,t.writeValue(i.length)),m0(i.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let o=0;o<i.length;o++)s.push(this.coder);return tV(t,s,i);}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),ye(n*Ws<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*Ws,length:t.dataLength}));let i=[];for(let r=0;r<n;r++)i.push(new LP(this.coder));return nV(t,i);}};var BP=class extends as{constructor(t){super("bool","bool",t,!1);}defaultValue(){return!1;}encode(t,n){let i=Li.dereference(n,"bool");return t.writeValue(i?1:0);}decode(t){return!!t.readValue();}};var ZS=class extends as{constructor(t,n){super(t,t,n,!0);}defaultValue(){return"0x";}encode(t,n){n=nr(n);let i=t.writeValue(n.length);return i+=t.writeBytes(n),i;}decode(t){return t.readBytes(t.readIndex(),!0);}},VP=class extends ZS{constructor(t){super("bytes",t);}decode(t){return Fe(super.decode(t));}};var HP=class extends as{size;constructor(t,n){let i="bytes"+String(t);super(i,i,n,!1),$e(this,{size:t},{size:"number"});}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2);}encode(t,n){let i=nr(Li.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(i);}decode(t){return Fe(t.readBytes(this.size));}};var xVe=new Uint8Array([]),GP=class extends as{constructor(t){super("null","",t,!1);}defaultValue(){return null;}encode(t,n){return n!=null&&this._throwError("not null",n),t.writeBytes(xVe);}decode(t){return t.readBytes(0),null;}};var wVe=BigInt(0),CVe=BigInt(1),_Ve=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),zP=class extends as{size;signed;constructor(t,n,i){let r=(n?"int":"uint")+t*8;super(r,r,i,!1),$e(this,{size:t,signed:n},{size:"number",signed:"boolean"});}defaultValue(){return 0;}encode(t,n){let i=ct(Li.dereference(n,this.type)),r=Qa(_Ve,Ws*8);if(this.signed){let s=Qa(r,this.size*8-1);(i>s||i<-(s+CVe))&&this._throwError("value out-of-bounds",n),i=Gh(i,8*Ws);}else(i<wVe||i>Qa(r,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(i);}decode(t){let n=Qa(t.readValue(),this.size*8);return this.signed&&(n=Hh(n,this.size*8)),n;}};var UP=class extends ZS{constructor(t){super("string",t);}defaultValue(){return"";}encode(t,n){return super.encode(t,bi(Li.dereference(n,"string")));}decode(t){return Ko(super.decode(t));}};var I0=class extends as{coders;constructor(t,n){let i=!1,r=[];t.forEach(o=>{o.dynamic&&(i=!0),r.push(o.type);});let s="tuple("+r.join(",")+")";super("tuple",s,n,i),$e(this,{coders:Object.freeze(t.slice())});}defaultValue(){let t=[];this.coders.forEach(i=>{t.push(i.defaultValue());});let n=this.coders.reduce((i,r)=>{let s=r.localName;return s&&(i[s]||(i[s]=0),i[s]++),i;},{});return this.coders.forEach((i,r)=>{let s=i.localName;!s||n[s]!==1||(s==="length"&&(s="_length"),t[s]==null&&(t[s]=t[r]));}),Object.freeze(t);}encode(t,n){let i=Li.dereference(n,"tuple");return tV(t,this.coders,i);}decode(t){return nV(t,this.coders);}};function Ys(e){return Pn(bi(e));}var SVe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",voe=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),yoe=4;function EVe(e){let t=0;function n(){return e[t++]<<8|e[t++];}let i=n(),r=1,s=[0,1];for(let I=1;I<i;I++)s.push(r+=n());let o=n(),a=t;t+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|e[t++],l=8),c>>--l&1;}let d=31,h=2**d,f=h>>>1,g=f>>1,m=h-1,y=0;for(let I=0;I<d;I++)y=y<<1|u();let b=[],C=0,_=h;for(;;){let I=Math.floor(((y-C+1)*r-1)/_),N=0,R=i;for(;R-N>1;){let X=N+R>>>1;I<s[X]?R=X:N=X;}if(N==0)break;b.push(N);let D=C+Math.floor(_*s[N]/r),V=C+Math.floor(_*s[N+1]/r)-1;for(;!((D^V)&f);)y=y<<1&m|u(),D=D<<1&m,V=V<<1&m|1;for(;D&~V&g;)y=y&f|y<<1&m>>>1|u(),D=D<<1^f,V=(V^f)<<1|f|1;C=D,_=1+V-D;}let A=i-4;return b.map(I=>{switch(I-A){case 3:return A+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return A+256+(e[a++]<<8|e[a++]);case 1:return A+e[a++];default:return I-1;}});}function TVe(e){let t=0;return()=>e[t++];}function Coe(e){return TVe(EVe(AVe(e)));}function AVe(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((r,s)=>t[r.charCodeAt(0)]=s);let n=e.length,i=new Uint8Array(6*n>>3);for(let r=0,s=0,o=0,a=0;r<n;r++)a=a<<6|t[e.charCodeAt(r)],o+=6,o>=8&&(i[s++]=a>>(o-=8));return i;}function DVe(e){return e&1?~e>>1:e>>1;}function RVe(e,t){let n=Array(e);for(let i=0,r=0;i<e;i++)n[i]=r+=DVe(t());return n;}function t2(e,t=0){let n=[];for(;;){let i=e(),r=e();if(!r)break;t+=i;for(let s=0;s<r;s++)n.push(t+s);t+=r+1;}return n;}function _oe(e){return n2(()=>{let t=t2(e);if(t.length)return t;});}function Soe(e){let t=[];for(;;){let n=e();if(n==0)break;t.push(IVe(n,e));}for(;;){let n=e()-1;if(n<0)break;t.push(PVe(n,e));}return t.flat();}function n2(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n);}return t;}function Eoe(e,t,n){let i=Array(e).fill().map(()=>[]);for(let r=0;r<t;r++)RVe(e,n).forEach((s,o)=>i[o].push(s));return i;}function IVe(e,t){let n=1+t(),i=t(),r=n2(t);return Eoe(r.length,1+e,t).flatMap((o,a)=>{let[l,...c]=o;return Array(r[a]).fill().map((u,d)=>{let h=d*i;return[l+d*n,c.map(f=>f+h)];});});}function PVe(e,t){let n=1+t();return Eoe(n,1+e,t).map(r=>[r[0],r.slice(1)]);}function kVe(e){let t=[],n=t2(e);return r(i([]),[]),t;function i(s){let o=e(),a=n2(()=>{let l=t2(e).map(c=>n[c]);if(l.length)return i(l);});return{S:o,B:a,Q:s};}function r({S:s,B:o},a,l){if(!(s&4&&l===a[a.length-1])){s&2&&(l=a[a.length-1]),s&1&&t.push(a);for(let c of o)for(let u of c.Q)r(c,[...a,u],l);}}}function MVe(e){return e.toString(16).toUpperCase().padStart(2,"0");}function Toe(e){return`{${MVe(e)}}`;}function FVe(e){let t=[];for(let n=0,i=e.length;n<i;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r);}return t;}function zx(e){let n=e.length;if(n<4096)return String.fromCodePoint(...e);let i=[];for(let r=0;r<n;)i.push(String.fromCodePoint(...e.slice(r,r+=4096)));return i.join("");}function NVe(e,t){let n=e.length,i=n-t.length;for(let r=0;i==0&&r<n;r++)i=e[r]-t[r];return i;}var LVe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",i2=44032,$P=4352,WP=4449,qP=4519,Aoe=19,Doe=21,Ux=28,KP=Doe*Ux,OVe=Aoe*KP,BVe=i2+OVe,VVe=$P+Aoe,HVe=WP+Doe,GVe=qP+Ux;function JS(e){return e>>24&255;}function Roe(e){return e&16777215;}var rV,boe,sV,jP;function zVe(){let e=Coe(LVe);rV=new Map(_oe(e).flatMap((t,n)=>t.map(i=>[i,n+1<<24]))),boe=new Set(t2(e)),sV=new Map(),jP=new Map();for(let[t,n]of Soe(e)){if(!boe.has(t)&&n.length==2){let[i,r]=n,s=jP.get(i);s||(s=new Map(),jP.set(i,s)),s.set(r,t);}sV.set(t,n.reverse());}}function Ioe(e){return e>=i2&&e<BVe;}function UVe(e,t){if(e>=$P&&e<VVe&&t>=WP&&t<HVe)return i2+(e-$P)*KP+(t-WP)*Ux;if(Ioe(e)&&t>qP&&t<GVe&&(e-i2)%Ux==0)return e+(t-qP);{let n=jP.get(e);return n&&(n=n.get(t),n)?n:-1;}}function Poe(e){rV||zVe();let t=[],n=[],i=!1;function r(s){let o=rV.get(s);o&&(i=!0,s|=o),t.push(s);}for(let s of e)for(;;){if(s<128)t.push(s);else if(Ioe(s)){let o=s-i2,a=o/KP|0,l=o%KP/Ux|0,c=o%Ux;r($P+a),r(WP+l),c>0&&r(qP+c);}else{let o=sV.get(s);o?n.push(...o):r(s);}if(!n.length)break;s=n.pop();}if(i&&t.length>1){let s=JS(t[0]);for(let o=1;o<t.length;o++){let a=JS(t[o]);if(a==0||s<=a){s=a;continue;}let l=o-1;for(;;){let c=t[l+1];if(t[l+1]=t[l],t[l]=c,!l||(s=JS(t[--l]),s<=a))break;}s=JS(t[o]);}}return t;}function jVe(e){let t=[],n=[],i=-1,r=0;for(let s of e){let o=JS(s),a=Roe(s);if(i==-1)o==0?i=a:t.push(a);else if(r>0&&r>=o)o==0?(t.push(i,...n),n.length=0,i=a):n.push(a),r=o;else{let l=UVe(i,a);l>=0?i=l:r==0&&o==0?(t.push(i),i=a):(n.push(a),r=o);}}return i>=0&&t.push(i,...n),t;}function koe(e){return Poe(e).map(Roe);}function $Ve(e){return jVe(Poe(e));}var xoe=45;var Moe=".",Foe=65039,Noe=1,YP=e=>Array.from(e);function r2(e,t){return e.P.has(t)||e.Q.has(t);}var oV=class extends Array{get is_emoji(){return!0;}},aV,Loe,k0,lV,Ooe,WVe,Gx,iV,Hx,P0,woe,cV;function uV(){if(aV)return;let e=Coe(SVe),t=()=>t2(e),n=()=>new Set(t()),i=(u,d)=>d.forEach(h=>u.add(h));aV=new Map(Soe(e)),Loe=n(),k0=t(),lV=new Set(t().map(u=>k0[u])),k0=new Set(k0),Ooe=n(),WVe=n();let r=_oe(e),s=e(),o=()=>{let u=new Set();return t().forEach(d=>i(u,r[d])),i(u,t()),u;};Gx=n2(u=>{let d=n2(e).map(h=>h+96);if(d.length){let h=u>=s;d[0]-=32,d=zx(d),h&&(d=`Restricted[${d}]`);let f=o(),g=o(),m=!e();return{N:d,P:f,Q:g,M:m,R:h};}}),iV=n(),Hx=new Map();let a=t().concat(YP(iV)).sort((u,d)=>u-d);a.forEach((u,d)=>{let h=e(),f=a[d]=h?a[d-h]:{V:[],M:new Map()};f.V.push(u),iV.has(u)||Hx.set(u,f);});for(let{V:u,M:d}of new Set(Hx.values())){let h=[];for(let g of u){let m=Gx.filter(b=>r2(b,g)),y=h.find(({G:b})=>m.some(C=>b.has(C)));y||(y={G:new Set(),V:[]},h.push(y)),y.V.push(g),i(y.G,m);}let f=h.flatMap(g=>YP(g.G));for(let{G:g,V:m}of h){let y=new Set(f.filter(b=>!g.has(b)));for(let b of m)d.set(b,y);}}P0=new Set();let l=new Set(),c=u=>P0.has(u)?l.add(u):P0.add(u);for(let u of Gx){for(let d of u.P)c(d);for(let d of u.Q)c(d);}for(let u of P0)!Hx.has(u)&&!l.has(u)&&Hx.set(u,Noe);i(P0,koe(P0)),woe=kVe(e).map(u=>oV.from(u)).sort(NVe),cV=new Map();for(let u of woe){let d=[cV];for(let h of u){let f=d.map(g=>{let m=g.get(h);return m||(m=new Map(),g.set(h,m)),m;});h===Foe?d.push(...f):d=f;}for(let h of d)h.V=u;}}function dV(e){return(Boe(e)?"":`${hV(XP([e]))} `)+Toe(e);}function hV(e){return`"${e}"\u200E`;}function qVe(e){if(e.length>=4&&e[2]==xoe&&e[3]==xoe)throw new Error(`invalid label extension: "${zx(e.slice(0,4))}"`);}function KVe(e){for(let n=e.lastIndexOf(95);n>0;)if(e[--n]!==95)throw new Error("underscore allowed only at start");}function YVe(e){let t=e[0],n=voe.get(t);if(n)throw e2(`leading ${n}`);let i=e.length,r=-1;for(let s=1;s<i;s++){t=e[s];let o=voe.get(t);if(o){if(r==s)throw e2(`${n} + ${o}`);r=s+1,n=o;}}if(r==i)throw e2(`trailing ${n}`);}function XP(e,t=1/0,n=Toe){let i=[];XVe(e[0])&&i.push("\u25CC"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let r=0,s=e.length;for(let o=0;o<s;o++){let a=e[o];Boe(a)&&(i.push(zx(e.slice(r,o))),i.push(n(a)),r=o+1);}return i.push(zx(e.slice(r,s))),i.join("");}function XVe(e){return uV(),k0.has(e);}function Boe(e){return uV(),Ooe.has(e);}function QP(e){return eHe(QVe(e,$Ve,iHe));}function QVe(e,t,n){if(!e)return[];uV();let i=0;return e.split(Moe).map(r=>{let s=FVe(r),o={input:s,offset:i};i+=s.length+1;try{let a=o.tokens=nHe(s,t,n),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(KVe(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(h=>h<128))qVe(u),c="ASCII";else{let h=a.flatMap(f=>f.is_emoji?[]:f);if(!h.length)c="Emoji";else{if(k0.has(u[0]))throw e2("leading combining mark");for(let m=1;m<l;m++){let y=a[m];if(!y.is_emoji&&k0.has(y[0]))throw e2(`emoji + combining mark: "${zx(a[m-1])} + ${XP([y[0]])}"`);}YVe(u);let f=YP(new Set(h)),[g]=JVe(f);tHe(g,h),ZVe(g,f),c=g.N;}}o.type=c;}catch(a){o.error=a;}return o;});}function ZVe(e,t){let n,i=[];for(let r of t){let s=Hx.get(r);if(s===Noe)return;if(s){let o=s.M.get(r);if(n=n?n.filter(a=>o.has(a)):YP(o),!n.length)return;}else i.push(r);}if(n){for(let r of n)if(i.every(s=>r2(r,s)))throw new Error(`whole-script confusable: ${e.N}/${r.N}`);}}function JVe(e){let t=Gx;for(let n of e){let i=t.filter(r=>r2(r,n));if(!i.length)throw Gx.some(r=>r2(r,n))?Hoe(t[0],n):Voe(n);if(t=i,i.length==1)break;}return t;}function eHe(e){return e.map(({input:t,error:n,output:i})=>{if(n){let r=n.message;throw new Error(e.length==1?r:`Invalid label ${hV(XP(t,63))}: ${r}`);}return zx(i);}).join(Moe);}function Voe(e){return new Error(`disallowed character: ${dV(e)}`);}function Hoe(e,t){let n=dV(t),i=Gx.find(r=>r.P.has(t));return i&&(n=`${i.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`);}function e2(e){return new Error(`illegal placement: ${e}`);}function tHe(e,t){for(let n of t)if(!r2(e,n))throw Hoe(e,n);if(e.M){let n=koe(t);for(let i=1,r=n.length;i<r;i++)if(lV.has(n[i])){let s=i+1;for(let o;s<r&&lV.has(o=n[s]);s++)for(let a=i;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${dV(o)}`);if(s-i>yoe)throw new Error(`excessive non-spacing marks: ${hV(XP(n.slice(i-1,s)))} (${s-i}/${yoe})`);i=s;}}}function nHe(e,t,n){let i=[],r=[];for(e=e.slice().reverse();e.length;){let s=rHe(e);if(s)r.length&&(i.push(t(r)),r=[]),i.push(n(s));else{let o=e.pop();if(P0.has(o))r.push(o);else{let a=aV.get(o);if(a)r.push(...a);else if(!Loe.has(o))throw Voe(o);}}}return r.length&&i.push(t(r)),i;}function iHe(e){return e.filter(t=>t!=Foe);}function rHe(e,t){let n=cV,i,r=e.length;for(;r&&(n=n.get(e[--r]),!!n);){let{V:s}=n;s&&(i=s,t&&t.push(...e.slice(r).reverse()),e.length=r);}return i;}var zoe=new Uint8Array(32);zoe.fill(0);function Goe(e){return K(e.length!==0,"invalid ENS name; empty component","comp",e),e;}function fV(e){let t=bi(ZP(e)),n=[];if(e.length===0)return n;let i=0;for(let r=0;r<t.length;r++)t[r]===46&&(n.push(Goe(t.slice(i,r))),i=r+1);return K(i<t.length,"invalid ENS name; empty component","name",e),n.push(Goe(t.slice(i))),n;}function ZP(e){try{if(e.length===0)throw new Error("empty label");return QP(e);}catch(t){K(!1,`invalid ENS name (${t.message})`,"name",e);}}function pV(e){try{return fV(e).length!==0;}catch{}return!1;}function Yp(e){K(typeof e=="string","invalid ENS name; not a string","name",e),K(e.length,"invalid ENS name (empty label)","name",e);let t=zoe,n=fV(e);for(;n.length;)t=Pn(Qt([t,Pn(n.pop())]));return Fe(t);}function s2(e,t){let n=t??63;return K(n<=255,"DNS encoded label cannot exceed 255","length",n),Fe(Qt(fV(e).map(i=>{K(i.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);let r=new Uint8Array(i.length+1);return r.set(i,1),r[0]=r.length-1,r;})))+"00";}function gV(e,t){return{address:Bt(e),storageKeys:t.map((n,i)=>(K(Nn(n,32),"invalid slot",`storageKeys[${i}]`,n),n.toLowerCase()))};}function Xs(e){if(Array.isArray(e))return e.map((n,i)=>Array.isArray(n)?(K(n.length===2,"invalid slot set",`value[${i}]`,n),gV(n[0],n[1])):(K(n!=null&&typeof n=="object","invalid address-slot set","value",e),gV(n.address,n.storageKeys)));K(e!=null&&typeof e=="object","invalid access list","value",e);let t=Object.keys(e).map(n=>{let i=e[n].reduce((r,s)=>(r[s]=!0,r),{});return gV(n,Object.keys(i).sort());});return t.sort((n,i)=>n.address.localeCompare(i.address)),t;}function Zc(e){let t;return typeof e=="string"?t=Ks.computePublicKey(e,!1):t=e.publicKey,Bt(Pn("0x"+t.substring(4)).substring(26));}function Kh(e,t){return Zc(Ks.recoverPublicKey(e,t));}var Rs=BigInt(0),sHe=BigInt(2),oHe=BigInt(27),aHe=BigInt(28),lHe=BigInt(35),cHe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),mV=4096*32;function Uoe(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Wr(t).substring(4),"0x"+n;}function JP(e){return e==="0x"?null:Bt(e);}function vV(e,t){try{return Xs(e);}catch(n){K(!1,n.message,t,e);}}function o2(e,t){return e==="0x"?0:Pt(e,t);}function qr(e,t){if(e==="0x")return Rs;let n=ct(e,t);return K(n<=cHe,"value exceeds uint size",t,n),n;}function ar(e,t){let n=ct(e,"value"),i=ir(n);return K(i.length<=32,"value too large",`tx.${t}`,n),i;}function yV(e){return Xs(e).map(t=>[t.address,t.storageKeys]);}function uHe(e,t){K(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)K(Nn(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e;}function dHe(e){let t=Bp(e);K(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",e);let n={type:0,nonce:o2(t[0],"nonce"),gasPrice:qr(t[1],"gasPrice"),gasLimit:qr(t[2],"gasLimit"),to:JP(t[3]),value:qr(t[4],"value"),data:Fe(t[5]),chainId:Rs};if(t.length===6)return n;let i=qr(t[6],"v"),r=qr(t[7],"r"),s=qr(t[8],"s");if(r===Rs&&s===Rs)n.chainId=i;else{let o=(i-lHe)/sHe;o<Rs&&(o=Rs),n.chainId=o,K(o!==Rs||i===oHe||i===aHe,"non-canonical legacy v","v",t[6]),n.signature=qs.from({r:ms(t[7],32),s:ms(t[8],32),v:i});}return n;}function hHe(e,t){let n=[ar(e.nonce,"nonce"),ar(e.gasPrice||0,"gasPrice"),ar(e.gasLimit,"gasLimit"),e.to||"0x",ar(e.value,"value"),e.data],i=Rs;if(e.chainId!=Rs)i=ct(e.chainId,"tx.chainId"),K(!t||t.networkV==null||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let s=e.signature.legacyChainId;s!=null&&(i=s);}if(!t)return i!==Rs&&(n.push(ir(i)),n.push("0x"),n.push("0x")),Gl(n);let r=BigInt(27+t.yParity);return i!==Rs?r=qs.getChainIdV(i,t.v):BigInt(t.v)!==r&&K(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(ir(r)),n.push(ir(t.r)),n.push(ir(t.s)),Gl(n);}function bV(e,t){let n;try{if(n=o2(t[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity");}catch{K(!1,"invalid yParity","yParity",t[0]);}let i=ms(t[1],32),r=ms(t[2],32),s=qs.from({r:i,s:r,yParity:n});e.signature=s;}function fHe(e){let t=Bp(Ue(e).slice(1));K(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",Fe(e));let n={type:2,chainId:qr(t[0],"chainId"),nonce:o2(t[1],"nonce"),maxPriorityFeePerGas:qr(t[2],"maxPriorityFeePerGas"),maxFeePerGas:qr(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:qr(t[4],"gasLimit"),to:JP(t[5]),value:qr(t[6],"value"),data:Fe(t[7]),accessList:vV(t[8],"accessList")};return t.length===9||bV(n,t.slice(9)),n;}function pHe(e,t){let n=[ar(e.chainId,"chainId"),ar(e.nonce,"nonce"),ar(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ar(e.maxFeePerGas||0,"maxFeePerGas"),ar(e.gasLimit,"gasLimit"),e.to||"0x",ar(e.value,"value"),e.data,yV(e.accessList||[])];return t&&(n.push(ar(t.yParity,"yParity")),n.push(ir(t.r)),n.push(ir(t.s))),Qt(["0x02",Gl(n)]);}function gHe(e){let t=Bp(Ue(e).slice(1));K(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",Fe(e));let n={type:1,chainId:qr(t[0],"chainId"),nonce:o2(t[1],"nonce"),gasPrice:qr(t[2],"gasPrice"),gasLimit:qr(t[3],"gasLimit"),to:JP(t[4]),value:qr(t[5],"value"),data:Fe(t[6]),accessList:vV(t[7],"accessList")};return t.length===8||bV(n,t.slice(8)),n;}function mHe(e,t){let n=[ar(e.chainId,"chainId"),ar(e.nonce,"nonce"),ar(e.gasPrice||0,"gasPrice"),ar(e.gasLimit,"gasLimit"),e.to||"0x",ar(e.value,"value"),e.data,yV(e.accessList||[])];return t&&(n.push(ar(t.yParity,"recoveryParam")),n.push(ir(t.r)),n.push(ir(t.s))),Qt(["0x01",Gl(n)]);}function vHe(e){let t=Bp(Ue(e).slice(1)),n="3",i=null;if(t.length===4&&Array.isArray(t[0])){n="3 (network format)";let s=t[1],o=t[2],a=t[3];K(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),K(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),K(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),K(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",t),K(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let l=0;l<t[1].length;l++)i.push({data:s[l],commitment:o[l],proof:a[l]});t=t[0];}K(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${n}`,"data",Fe(e));let r={type:3,chainId:qr(t[0],"chainId"),nonce:o2(t[1],"nonce"),maxPriorityFeePerGas:qr(t[2],"maxPriorityFeePerGas"),maxFeePerGas:qr(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:qr(t[4],"gasLimit"),to:JP(t[5]),value:qr(t[6],"value"),data:Fe(t[7]),accessList:vV(t[8],"accessList"),maxFeePerBlobGas:qr(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};i&&(r.blobs=i),K(r.to!=null,`invalid address for transaction type: ${n}`,"data",e),K(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<r.blobVersionedHashes.length;s++)K(Nn(r.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return t.length===11||bV(r,t.slice(11)),r;}function yHe(e,t,n){let i=[ar(e.chainId,"chainId"),ar(e.nonce,"nonce"),ar(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ar(e.maxFeePerGas||0,"maxFeePerGas"),ar(e.gasLimit,"gasLimit"),e.to||Xc,ar(e.value,"value"),e.data,yV(e.accessList||[]),ar(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),uHe(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(i.push(ar(t.yParity,"yParity")),i.push(ir(t.r)),i.push(ir(t.s)),n)?Qt(["0x03",Gl([i,n.map(r=>r.data),n.map(r=>r.commitment),n.map(r=>r.proof)])]):Qt(["0x03",Gl(i)]);}var el=class e{#e;#t;#n;#i;#r;#o;#s;#a;#d;#c;#p;#g;#l;#u;#h;#f;get type(){return this.#e;}set type(t){switch(t){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:K(!1,"unsupported transaction type","type",t);}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";}return null;}get to(){let t=this.#t;return t==null&&this.type===3?Xc:t;}set to(t){this.#t=t==null?null:Bt(t);}get nonce(){return this.#i;}set nonce(t){this.#i=Pt(t,"value");}get gasLimit(){return this.#r;}set gasLimit(t){this.#r=ct(t);}get gasPrice(){let t=this.#o;return t==null&&(this.type===0||this.type===1)?Rs:t;}set gasPrice(t){this.#o=t==null?null:ct(t,"gasPrice");}get maxPriorityFeePerGas(){let t=this.#s;return t??(this.type===2||this.type===3?Rs:null);}set maxPriorityFeePerGas(t){this.#s=t==null?null:ct(t,"maxPriorityFeePerGas");}get maxFeePerGas(){let t=this.#a;return t??(this.type===2||this.type===3?Rs:null);}set maxFeePerGas(t){this.#a=t==null?null:ct(t,"maxFeePerGas");}get data(){return this.#n;}set data(t){this.#n=Fe(t);}get value(){return this.#d;}set value(t){this.#d=ct(t,"value");}get chainId(){return this.#c;}set chainId(t){this.#c=ct(t);}get signature(){return this.#p||null;}set signature(t){this.#p=t==null?null:qs.from(t);}get accessList(){let t=this.#g||null;return t??(this.type===1||this.type===2||this.type===3?[]:null);}set accessList(t){this.#g=t==null?null:Xs(t);}get maxFeePerBlobGas(){let t=this.#l;return t==null&&this.type===3?Rs:t;}set maxFeePerBlobGas(t){this.#l=t==null?null:ct(t,"maxFeePerBlobGas");}get blobVersionedHashes(){let t=this.#u;return t==null&&this.type===3?[]:t;}set blobVersionedHashes(t){if(t!=null){K(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let n=0;n<t.length;n++)K(Nn(t[n],32),"invalid blobVersionedHash",`value[${n}]`,t[n]);}this.#u=t;}get blobs(){return this.#f==null?null:this.#f.map(t=>Object.assign({},t));}set blobs(t){if(t==null){this.#f=null;return;}let n=[],i=[];for(let r=0;r<t.length;r++){let s=t[r];if(Vc(s)){ye(this.#h,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ue(s);if(K(o.length<=mV,"blob is too large",`blobs[${r}]`,s),o.length!==mV){let c=new Uint8Array(mV);c.set(o),o=c;}let a=this.#h.blobToKzgCommitment(o),l=Fe(this.#h.computeBlobKzgProof(o,a));n.push({data:Fe(o),commitment:Fe(a),proof:l}),i.push(Uoe(1,a));}else{let o=Fe(s.commitment);n.push({data:Fe(s.data),commitment:o,proof:Fe(s.proof)}),i.push(Uoe(1,o));}}this.#f=n,this.#u=i;}get kzg(){return this.#h;}set kzg(t){this.#h=t;}constructor(){this.#e=null,this.#t=null,this.#i=0,this.#r=Rs,this.#o=null,this.#s=null,this.#a=null,this.#n="0x",this.#d=Rs,this.#c=Rs,this.#p=null,this.#g=null,this.#l=null,this.#u=null,this.#f=null,this.#h=null;}get hash(){return this.signature==null?null:Pn(this.#m(!0,!1));}get unsignedHash(){return Pn(this.unsignedSerialized);}get from(){return this.signature==null?null:Kh(this.unsignedHash,this.signature);}get fromPublicKey(){return this.signature==null?null:Ks.recoverPublicKey(this.unsignedHash,this.signature);}isSigned(){return this.signature!=null;}#m(t,n){ye(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let i=t?this.signature:null;switch(this.inferType()){case 0:return hHe(this,i);case 1:return mHe(this,i);case 2:return pHe(this,i);case 3:return yHe(this,i,n?this.blobs:null);}ye(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"});}get serialized(){return this.#m(!0,!0);}get unsignedSerialized(){return this.#m(!1,!1);}inferType(){let t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop();}inferTypes(){let t=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,i=this.accessList!=null,r=this.#l!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ye(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ye(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ye(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let s=[];return this.type!=null?s.push(this.type):n?s.push(2):t?(s.push(1),i||s.push(0)):i?(s.push(1),s.push(2)):(r&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s;}isLegacy(){return this.type===0;}isBerlin(){return this.type===1;}isLondon(){return this.type===2;}isCancun(){return this.type===3;}clone(){return e.from(this);}toJSON(){let t=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList};}static from(t){if(t==null)return new e();if(typeof t=="string"){let i=Ue(t);if(i[0]>=127)return e.from(dHe(i));switch(i[0]){case 1:return e.from(gHe(i));case 2:return e.from(fHe(i));case 3:return e.from(vHe(i));}ye(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"});}let n=new e();return t.type!=null&&(n.type=t.type),t.to!=null&&(n.to=t.to),t.nonce!=null&&(n.nonce=t.nonce),t.gasLimit!=null&&(n.gasLimit=t.gasLimit),t.gasPrice!=null&&(n.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(n.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(n.data=t.data),t.value!=null&&(n.value=t.value),t.chainId!=null&&(n.chainId=t.chainId),t.signature!=null&&(n.signature=qs.from(t.signature)),t.accessList!=null&&(n.accessList=t.accessList),t.blobVersionedHashes!=null&&(n.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(n.kzg=t.kzg),t.blobs!=null&&(n.blobs=t.blobs),t.hash!=null&&(K(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),K(n.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(K(n.isSigned(),"unsigned transaction cannot define '.from'","tx",t),K(n.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),n;}};function jx(e){return typeof e=="string"&&(e=bi(e)),Pn(Qt([bi(QS),bi(String(e.length)),e]));}function xV(e,t){let n=jx(e);return Kh(n,t);}var bHe=new RegExp("^bytes([0-9]+)$"),xHe=new RegExp("^(u?int)([0-9]*)$"),wHe=new RegExp("^(.*)\\[([0-9]*)\\]$");function joe(e,t,n){switch(e){case"address":return n?Ue(ms(t,32)):Ue(Bt(t));case"string":return bi(t);case"bytes":return Ue(t);case"bool":return t=t?"0x01":"0x00",n?Ue(ms(t,32)):Ue(t);}let i=e.match(xHe);if(i){let r=i[1]==="int",s=parseInt(i[2]||"256");return K((!i[2]||i[2]===String(s))&&s%8===0&&s!==0&&s<=256,"invalid number type","type",e),n&&(s=256),r&&(t=Gh(t,s)),Ue(ms(ir(t),s/8));}if(i=e.match(bHe),i){let r=parseInt(i[1]);return K(String(r)===i[1]&&r!==0&&r<=32,"invalid bytes type","type",e),K(Ea(t)===r,`invalid value for ${e}`,"value",t),n?Ue(Vh(t,32)):t;}if(i=e.match(wHe),i&&Array.isArray(t)){let r=i[1],s=parseInt(i[2]||String(t.length));K(s===t.length,`invalid array length for ${e}`,"value",t);let o=[];return t.forEach(function(a){o.push(joe(r,a,!0));}),Ue(Qt(o));}K(!1,"invalid type","type",e);}function a2(e,t){K(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let n=[];return e.forEach(function(i,r){n.push(joe(i,t[r]));}),Fe(Qt(n));}function wV(e,t){return Pn(a2(e,t));}function CV(e,t){return Wr(a2(e,t));}var Koe=new Uint8Array(32);Koe.fill(0);var CHe=BigInt(-1),Yoe=BigInt(0),Xoe=BigInt(1),_He=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function SHe(e){let t=Ue(e),n=t.length%32;return n?Qt([t,Koe.slice(n)]):Fe(t);}var EHe=Ds(Xoe,32),THe=Ds(Yoe,32),$oe={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_V=["name","version","chainId","verifyingContract","salt"];function Woe(e){return function(t){return K(typeof t=="string",`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t;};}var AHe={name:Woe("name"),version:Woe("version"),chainId:function(e){let t=ct(e,"domain.chainId");return K(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Ta(t);},verifyingContract:function(e){try{return Bt(e).toLowerCase();}catch{}K(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e);},salt:function(e){let t=Ue(e,"domain.salt");return K(t.length===32,'invalid domain value "salt"',"domain.salt",e),Fe(t);}};function SV(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let n=t[1]==="",i=parseInt(t[2]);K(i%8===0&&i!==0&&i<=256&&t[2]===String(i),"invalid numeric width","type",e);let r=Qa(_He,n?i-1:i),s=n?(r+Xoe)*CHe:Yoe;return function(o){let a=ct(o,"value");return K(a>=s&&a<=r,`value out-of-bounds for ${e}`,"value",a),Ds(n?Gh(a,256):a,32);};}}{let t=e.match(/^bytes(\d+)$/);if(t){let n=parseInt(t[1]);return K(n!==0&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(i){let r=Ue(i);return K(r.length===n,`invalid length for ${e}`,"value",i),SHe(i);};}}switch(e){case"address":return function(t){return ms(Bt(t),32);};case"bool":return function(t){return t?EHe:THe;};case"bytes":return function(t){return Pn(t);};case"string":return function(t){return Ys(t);};}return null;}function qoe(e,t){return`${e}(${t.map(({name:n,type:i})=>i+" "+n).join(",")})`;}function ek(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e};}var Ul=class e{primaryType;#e;get types(){return JSON.parse(this.#e);}#t;#n;constructor(t){this.#t=new Map(),this.#n=new Map();let n=new Map(),i=new Map(),r=new Map(),s={};Object.keys(t).forEach(l=>{s[l]=t[l].map(({name:c,type:u})=>{let{base:d,index:h}=ek(u);return d==="int"&&!t.int&&(d="int256"),d==="uint"&&!t.uint&&(d="uint256"),{name:c,type:d+(h||"")};}),n.set(l,new Set()),i.set(l,[]),r.set(l,new Set());}),this.#e=JSON.stringify(s);for(let l in s){let c=new Set();for(let u of s[l]){K(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",t),c.add(u.name);let d=ek(u.type).base;K(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",t),!SV(d)&&(K(i.has(d),`unknown type ${JSON.stringify(d)}`,"types",t),i.get(d).push(l),n.get(l).add(d));}}let o=Array.from(i.keys()).filter(l=>i.get(l).length===0);K(o.length!==0,"missing primary type","types",t),K(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",t),$e(this,{primaryType:o[0]});function a(l,c){K(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",t),c.add(l);for(let u of n.get(l))if(i.has(u)){a(u,c);for(let d of c)r.get(d).add(u);}c.delete(l);}a(this.primaryType,new Set());for(let[l,c]of r){let u=Array.from(c);u.sort(),this.#t.set(l,qoe(l,s[l])+u.map(d=>qoe(d,s[d])).join(""));}}getEncoder(t){let n=this.#n.get(t);return n||(n=this.#i(t),this.#n.set(t,n)),n;}#i(t){{let r=SV(t);if(r)return r;}let n=ek(t).array;if(n){let r=n.prefix,s=this.getEncoder(r);return o=>{K(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return this.#t.has(r)&&(a=a.map(Pn)),Pn(Qt(a));};}let i=this.types[t];if(i){let r=Ys(this.#t.get(t));return s=>{let o=i.map(({name:a,type:l})=>{let c=this.getEncoder(l)(s[a]);return this.#t.has(l)?Pn(c):c;});return o.unshift(r),Qt(o);};}K(!1,`unknown type: ${t}`,"type",t);}encodeType(t){let n=this.#t.get(t);return K(n,`unknown type: ${JSON.stringify(t)}`,"name",t),n;}encodeData(t,n){return this.getEncoder(t)(n);}hashStruct(t,n){return Pn(this.encodeData(t,n));}encode(t){return this.encodeData(this.primaryType,t);}hash(t){return this.hashStruct(this.primaryType,t);}_visit(t,n,i){if(SV(t))return i(t,n);let r=ek(t).array;if(r)return K(r.count===-1||r.count===n.length,`array length mismatch; expected length ${r.count}`,"value",n),n.map(o=>this._visit(r.prefix,o,i));let s=this.types[t];if(s)return s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],i),o),{});K(!1,`unknown type: ${t}`,"type",t);}visit(t,n){return this._visit(this.primaryType,t,n);}static from(t){return new e(t);}static getPrimaryType(t){return e.from(t).primaryType;}static hashStruct(t,n,i){return e.from(n).hashStruct(t,i);}static hashDomain(t){let n=[];for(let i in t){if(t[i]==null)continue;let r=$oe[i];K(r,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",t),n.push({name:i,type:r});}return n.sort((i,r)=>_V.indexOf(i.name)-_V.indexOf(r.name)),e.hashStruct("EIP712Domain",{EIP712Domain:n},t);}static encode(t,n,i){return Qt(["0x1901",e.hashDomain(t),e.from(n).hash(i)]);}static hash(t,n,i){return Pn(e.encode(t,n,i));}static resolveNames(t,n,i,r){return $(this,null,function*(){t=Object.assign({},t);for(let a in t)t[a]==null&&delete t[a];let s={};t.verifyingContract&&!Nn(t.verifyingContract,20)&&(s[t.verifyingContract]="0x");let o=e.from(n);o.visit(i,(a,l)=>(a==="address"&&!Nn(l,20)&&(s[l]="0x"),l));for(let a in s)s[a]=yield r(a);return t.verifyingContract&&s[t.verifyingContract]&&(t.verifyingContract=s[t.verifyingContract]),i=o.visit(i,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:t,value:i};});}static getPayload(t,n,i){e.hashDomain(t);let r={},s=[];_V.forEach(l=>{let c=t[l];c!=null&&(r[l]=AHe[l](c),s.push({name:l,type:$oe[l]}));});let o=e.from(n);n=o.types;let a=Object.assign({},n);return K(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(i),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(i,(l,c)=>{if(l.match(/^bytes(\d*)/))return Fe(Ue(c));if(l.match(/^u?int/))return ct(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return K(typeof c=="string","invalid string","value",c),c;}K(!1,"unsupported type","type",l);})};}};function EV(e,t,n,i){return Kh(Ul.hash(e,t,n),i);}function Xo(e){let t=new Set();return e.forEach(n=>t.add(n)),Object.freeze(t);}var DHe="external public payable override",RHe=Xo(DHe.split(" ")),oae="constant external internal payable private public pure view override",IHe=Xo(oae.split(" ")),aae="constructor error event fallback function receive struct",lae=Xo(aae.split(" ")),cae="calldata memory storage payable indexed",PHe=Xo(cae.split(" ")),kHe="tuple returns",MHe=[aae,cae,kHe,oae].join(" "),FHe=Xo(MHe.split(" ")),NHe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},LHe=new RegExp("^(\\s*)"),OHe=new RegExp("^([0-9]+)"),BHe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),uae=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),dae=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Jc=class e{#e;#t;get offset(){return this.#e;}get length(){return this.#t.length-this.#e;}constructor(t){this.#e=0,this.#t=t.slice();}clone(){return new e(this.#t);}reset(){this.#e=0;}#n(t=0,n=0){return new e(this.#t.slice(t,n).map(i=>Object.freeze(Object.assign({},i,{match:i.match-t,linkBack:i.linkBack-t,linkNext:i.linkNext-t}))));}popKeyword(t){let n=this.peek();if(n.type!=="KEYWORD"||!t.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text;}popType(t){if(this.peek().type!==t){let n=this.peek();throw new Error(`expected ${t}; got ${n.type} ${JSON.stringify(n.text)}`);}return this.pop().text;}popParen(){let t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");let n=this.#n(this.#e+1,t.match+1);return this.#e=t.match+1,n;}popParams(){let t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");let n=[];for(;this.#e<t.match-1;){let i=this.peek().linkNext;n.push(this.#n(this.#e+1,i)),this.#e=i;}return this.#e=t.match+1,n;}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e];}peekKeyword(t){let n=this.peekType("KEYWORD");return n!=null&&t.has(n)?n:null;}peekType(t){if(this.length===0)return null;let n=this.peek();return n.type===t?n.text:null;}pop(){let t=this.peek();return this.#e++,t;}toString(){let t=[];for(let n=this.#e;n<this.#t.length;n++){let i=this.#t[n];t.push(`${i.type}:${i.text}`);}return`<TokenString ${t.join(" ")}>`;}};function Qp(e){let t=[],n=o=>{let a=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`);},i=[],r=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(LHe);a&&(s+=a[1].length,o=e.substring(s));let l={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let c=NHe[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,c==="OPEN_PAREN")i.push(t.length-1),r.push(t.length-1);else if(c=="CLOSE_PAREN")i.length===0&&n("no matching open bracket"),l.match=i.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1;else if(c==="COMMA")l.linkBack=r.pop(),t[l.linkBack].linkNext=t.length-1,r.push(t.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){let d=t.pop().text;u=d+u,t[t.length-1].value=Pt(d);}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u;}continue;}if(a=o.match(BHe),a){if(l.text=a[1],s+=l.text.length,FHe.has(l.text)){l.type="KEYWORD";continue;}if(l.text.match(dae)){l.type="TYPE";continue;}l.type="ID";continue;}if(a=o.match(OHe),a){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue;}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);}return new Jc(t.map(o=>Object.freeze(o)));}function Qoe(e,t){let n=[];for(let i in t.keys())e.has(i)&&n.push(i);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`);}function tk(e,t){if(t.peekKeyword(lae)){let n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`);}return t.popType("ID");}function Xh(e,t){let n=new Set();for(;;){let i=e.peekType("KEYWORD");if(i==null||t&&!t.has(i))break;if(e.pop(),n.has(i))throw new Error(`duplicate keywords: ${JSON.stringify(i)}`);n.add(i);}return Object.freeze(n);}function hae(e){let t=Xh(e,IHe);return Qoe(t,Xo("constant payable nonpayable".split(" "))),Qoe(t,Xo("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable";}function Yh(e,t){return e.popParams().map(n=>Or.from(n,t));}function fae(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return ct(e.pop().text);throw new Error("invalid gas");}return null;}function M0(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`);}var VHe=new RegExp(/^(.*)\[([0-9]*)\]$/);function Zoe(e){let t=e.match(dae);if(K(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){let n=parseInt(t[2]);K(n!==0&&n<=32,"invalid bytes length","type",e);}else if(t[3]){let n=parseInt(t[3]);K(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",e);}return e;}var yr={},Aa=Symbol.for("_ethers_internal"),Joe="_ParamTypeInternal",eae="_ErrorInternal",tae="_EventInternal",nae="_ConstructorInternal",iae="_FallbackInternal",rae="_FunctionInternal",sae="_StructInternal",Or=class e{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,n,i,r,s,o,a,l){if($s(t,yr,"ParamType"),Object.defineProperty(this,Aa,{value:Joe}),o&&(o=Object.freeze(o.slice())),r==="array"){if(a==null||l==null)throw new Error("");}else if(a!=null||l!=null)throw new Error("");if(r==="tuple"){if(o==null)throw new Error("");}else if(o!=null)throw new Error("");$e(this,{name:n,type:i,baseType:r,indexed:s,components:o,arrayLength:a,arrayChildren:l});}format(t){if(t==null&&(t="sighash"),t==="json"){let i=this.name||"";if(this.isArray()){let s=JSON.parse(this.arrayChildren.format("json"));return s.name=i,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s);}let r={type:this.baseType==="tuple"?"tuple":this.type,name:i};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(s=>JSON.parse(s.format(t)))),JSON.stringify(r);}let n="";return this.isArray()?(n+=this.arrayChildren.format(t),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(i=>i.format(t)).join(t==="full"?", ":",")+")":n+=this.type,t!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),t==="full"&&this.name&&(n+=" "+this.name)),n;}isArray(){return this.baseType==="array";}isTuple(){return this.baseType==="tuple";}isIndexable(){return this.indexed!=null;}walk(t,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let i=this;return t.map(r=>i.arrayChildren.walk(r,n));}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");let i=this;return t.map((r,s)=>i.components[s].walk(r,n));}return n(this.type,t);}#e(t,n,i,r){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{o.#e(t,l,i,u=>{a[c]=u;});}),r(a);return;}if(this.isTuple()){let o=this.components,a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name];});}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{o[c].#e(t,l,i,u=>{a[c]=u;});}),r(a);return;}let s=i(this.type,n);s.then?t.push(function(){return $(this,null,function*(){r(yield s);});}()):r(s);}walkAsync(t,n){return $(this,null,function*(){let i=[],r=[t];return this.#e(i,t,n,s=>{r[0]=s;}),i.length&&(yield Promise.all(i)),r[0];});}static from(t,n){if(e.isParamType(t))return t;if(typeof t=="string")try{return e.from(Qp(t),n);}catch{K(!1,"invalid param type","obj",t);}else if(t instanceof Jc){let a="",l="",c=null;Xh(t,Xo(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(l="tuple",c=t.popParams().map(m=>e.from(m)),a=`tuple(${c.map(m=>m.format()).join(",")})`):(a=Zoe(t.popType("TYPE")),l=a);let u=null,d=null;for(;t.length&&t.peekType("BRACKET");){let m=t.pop();u=new e(yr,"",a,l,null,c,d,u),d=m.value,a+=m.text,l="array",c=null;}let h=null;if(Xh(t,PHe).has("indexed")){if(!n)throw new Error("");h=!0;}let g=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new e(yr,g,a,l,h,c,d,u);}let i=t.name;K(!i||typeof i=="string"&&i.match(uae),"invalid name","obj.name",i);let r=t.indexed;r!=null&&(K(n,"parameter cannot be indexed","obj.indexed",t.indexed),r=!!r);let s=t.type,o=s.match(VHe);if(o){let a=parseInt(o[2]||"-1"),l=e.from({type:o[1],components:t.components});return new e(yr,i||"",s,"array",r,null,a,l);}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){let a=t.components!=null?t.components.map(c=>e.from(c)):null;return new e(yr,i||"",s,"tuple",r,a,null,null);}return s=Zoe(t.type),new e(yr,i||"",s,s,r,null,null,null);}static isParamType(t){return t&&t[Aa]===Joe;}},md=class e{type;inputs;constructor(t,n,i){$s(t,yr,"Fragment"),i=Object.freeze(i.slice()),$e(this,{type:n,inputs:i});}static from(t){if(typeof t=="string"){try{e.from(JSON.parse(t));}catch{}return e.from(Qp(t));}if(t instanceof Jc)switch(t.peekKeyword(lae)){case"constructor":return pd.from(t);case"error":return Qo.from(t);case"event":return fd.from(t);case"fallback":case"receive":return F0.from(t);case"function":return gd.from(t);case"struct":return Xp.from(t);}else if(typeof t=="object"){switch(t.type){case"constructor":return pd.from(t);case"error":return Qo.from(t);case"event":return fd.from(t);case"fallback":case"receive":return F0.from(t);case"function":return gd.from(t);case"struct":return Xp.from(t);}ye(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"});}K(!1,"unsupported frgament object","obj",t);}static isConstructor(t){return pd.isFragment(t);}static isError(t){return Qo.isFragment(t);}static isEvent(t){return fd.isFragment(t);}static isFunction(t){return gd.isFragment(t);}static isStruct(t){return Xp.isFragment(t);}},Qh=class extends md{name;constructor(t,n,i,r){super(t,n,r),K(typeof i=="string"&&i.match(uae),"invalid identifier","name",i),r=Object.freeze(r.slice()),$e(this,{name:i});}};function l2(e,t){return"("+t.map(n=>n.format(e)).join(e==="full"?", ":",")+")";}var Qo=class e extends Qh{constructor(t,n,i){super(t,"error",n,i),Object.defineProperty(this,Aa,{value:eae});}get selector(){return Ys(this.format("sighash")).substring(0,10);}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let n=[];return t!=="sighash"&&n.push("error"),n.push(this.name+l2(t,this.inputs)),n.join(" ");}static from(t){if(e.isFragment(t))return t;if(typeof t=="string")return e.from(Qp(t));if(t instanceof Jc){let n=tk("error",t),i=Yh(t);return M0(t),new e(yr,n,i);}return new e(yr,t.name,t.inputs?t.inputs.map(Or.from):[]);}static isFragment(t){return t&&t[Aa]===eae;}},fd=class e extends Qh{anonymous;constructor(t,n,i,r){super(t,"event",n,i),Object.defineProperty(this,Aa,{value:tae}),$e(this,{anonymous:r});}get topicHash(){return Ys(this.format("sighash"));}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+l2(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ");}static getTopicHash(t,n){return n=(n||[]).map(r=>Or.from(r)),new e(yr,t,n,!1).topicHash;}static from(t){if(e.isFragment(t))return t;if(typeof t=="string")try{return e.from(Qp(t));}catch{K(!1,"invalid event fragment","obj",t);}else if(t instanceof Jc){let n=tk("event",t),i=Yh(t,!0),r=!!Xh(t,Xo(["anonymous"])).has("anonymous");return M0(t),new e(yr,n,i,r);}return new e(yr,t.name,t.inputs?t.inputs.map(n=>Or.from(n,!0)):[],!!t.anonymous);}static isFragment(t){return t&&t[Aa]===tae;}},pd=class e extends md{payable;gas;constructor(t,n,i,r,s){super(t,n,i),Object.defineProperty(this,Aa,{value:nae}),$e(this,{payable:r,gas:s});}format(t){if(ye(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});let n=[`constructor${l2(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ");}static from(t){if(e.isFragment(t))return t;if(typeof t=="string")try{return e.from(Qp(t));}catch{K(!1,"invalid constuctor fragment","obj",t);}else if(t instanceof Jc){Xh(t,Xo(["constructor"]));let n=Yh(t),i=!!Xh(t,RHe).has("payable"),r=fae(t);return M0(t),new e(yr,"constructor",n,i,r);}return new e(yr,"constructor",t.inputs?t.inputs.map(Or.from):[],!!t.payable,t.gas!=null?t.gas:null);}static isFragment(t){return t&&t[Aa]===nae;}},F0=class e extends md{payable;constructor(t,n,i){super(t,"fallback",n),Object.defineProperty(this,Aa,{value:iae}),$e(this,{payable:i});}format(t){let n=this.inputs.length===0?"receive":"fallback";if(t==="json"){let i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i});}return`${n}()${this.payable?" payable":""}`;}static from(t){if(e.isFragment(t))return t;if(typeof t=="string")try{return e.from(Qp(t));}catch{K(!1,"invalid fallback fragment","obj",t);}else if(t instanceof Jc){let n=t.toString(),i=t.peekKeyword(Xo(["fallback","receive"]));if(K(i,"type must be fallback or receive","obj",n),t.popKeyword(Xo(["fallback","receive"]))==="receive"){let a=Yh(t);return K(a.length===0,"receive cannot have arguments","obj.inputs",a),Xh(t,Xo(["payable"])),M0(t),new e(yr,[],!0);}let s=Yh(t);s.length?K(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(a=>a.format("minimal")).join(", ")):s=[Or.from("bytes")];let o=hae(t);if(K(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Xh(t,Xo(["returns"])).has("returns")){let a=Yh(t);K(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(l=>l.format("minimal")).join(", "));}return M0(t),new e(yr,s,o==="payable");}if(t.type==="receive")return new e(yr,[],!0);if(t.type==="fallback"){let n=[Or.from("bytes")],i=t.stateMutability==="payable";return new e(yr,n,i);}K(!1,"invalid fallback description","obj",t);}static isFragment(t){return t&&t[Aa]===iae;}},gd=class e extends Qh{constant;outputs;stateMutability;payable;gas;constructor(t,n,i,r,s,o){super(t,"function",n,r),Object.defineProperty(this,Aa,{value:rae}),s=Object.freeze(s.slice()),$e(this,{constant:i==="view"||i==="pure",gas:o,outputs:s,payable:i==="payable",stateMutability:i});}get selector(){return Ys(this.format("sighash")).substring(0,10);}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});let n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+l2(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(l2(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ");}static getSelector(t,n){return n=(n||[]).map(r=>Or.from(r)),new e(yr,t,"view",n,[],null).selector;}static from(t){if(e.isFragment(t))return t;if(typeof t=="string")try{return e.from(Qp(t));}catch{K(!1,"invalid function fragment","obj",t);}else if(t instanceof Jc){let i=tk("function",t),r=Yh(t),s=hae(t),o=[];Xh(t,Xo(["returns"])).has("returns")&&(o=Yh(t));let a=fae(t);return M0(t),new e(yr,i,s,r,o,a);}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new e(yr,t.name,n,t.inputs?t.inputs.map(Or.from):[],t.outputs?t.outputs.map(Or.from):[],t.gas!=null?t.gas:null);}static isFragment(t){return t&&t[Aa]===rae;}},Xp=class e extends Qh{constructor(t,n,i){super(t,"struct",n,i),Object.defineProperty(this,Aa,{value:sae});}format(){throw new Error("@TODO");}static from(t){if(typeof t=="string")try{return e.from(Qp(t));}catch{K(!1,"invalid struct fragment","obj",t);}else if(t instanceof Jc){let n=tk("struct",t),i=Yh(t);return M0(t),new e(yr,n,i);}return new e(yr,t.name,t.inputs?t.inputs.map(Or.from):[]);}static isFragment(t){return t&&t[Aa]===sae;}};var eu=new Map();eu.set(0,"GENERIC_PANIC");eu.set(1,"ASSERT_FALSE");eu.set(17,"OVERFLOW");eu.set(18,"DIVIDE_BY_ZERO");eu.set(33,"ENUM_RANGE_ERROR");eu.set(34,"BAD_STORAGE_DATA");eu.set(49,"STACK_UNDERFLOW");eu.set(50,"ARRAY_RANGE_ERROR");eu.set(65,"OUT_OF_MEMORY");eu.set(81,"UNINITIALIZED_FUNCTION_CALL");var HHe=new RegExp(/^bytes([0-9]*)$/),GHe=new RegExp(/^(u?int)([0-9]*)$/),TV=null,pae=1024;function zHe(e,t,n,i){let r="missing revert data",s=null,o=null,a=null;if(n){r="execution reverted";let c=Ue(n);if(n=Fe(n),c.length===0)r+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)r+=" (could not decode reason; invalid data length)";else if(Fe(c.slice(0,4))==="0x08c379a0")try{s=i.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},r+=`: ${JSON.stringify(s)}`;}catch{r+=" (could not decode reason; invalid string data)";}else if(Fe(c.slice(0,4))==="0x4e487b71")try{let u=Number(i.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${eu.get(u)||"UNKNOWN"}(${u})`,r+=`: ${s}`;}catch{r+=" (could not decode panic code)";}else r+=" (unknown custom error)";}let l={to:t.to?Bt(t.to):null,data:t.data||"0x"};return t.from&&(l.from=Bt(t.from)),Yn(r,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:l,invocation:o,revert:a});}var jl=class e{#e(t){if(t.isArray())return new OP(this.#e(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new I0(t.components.map(i=>this.#e(i)),t.name);switch(t.baseType){case"address":return new NP(t.name);case"bool":return new BP(t.name);case"string":return new UP(t.name);case"bytes":return new VP(t.name);case"":return new GP(t.name);}let n=t.type.match(GHe);if(n){let i=parseInt(n[2]||"256");return K(i!==0&&i<=256&&i%8===0,"invalid "+n[1]+" bit length","param",t),new zP(i/8,n[1]==="int",t.name);}if(n=t.type.match(HHe),n){let i=parseInt(n[1]);return K(i!==0&&i<=32,"invalid bytes length","param",t),new HP(i,t.name);}K(!1,"invalid type","type",t.type);}getDefaultValue(t){let n=t.map(r=>this.#e(Or.from(r)));return new I0(n,"_").defaultValue();}encode(t,n){m0(n.length,t.length,"types/values length mismatch");let i=t.map(o=>this.#e(Or.from(o))),r=new I0(i,"_"),s=new C0();return r.encode(s,n),s.data;}decode(t,n,i){let r=t.map(o=>this.#e(Or.from(o)));return new I0(r,"_").decode(new mP(n,i,pae));}static _setDefaultMaxInflation(t){K(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),pae=t;}static defaultAbiCoder(){return TV==null&&(TV=new e()),TV;}static getBuiltinCallException(t,n,i){return zHe(t,n,i,e.defaultAbiCoder());}};function AV(e){let t=bi(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Vh(t,32);}function DV(e){let t=Ue(e,"bytes");if(t.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(t[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let n=31;for(;t[n-1]===0;)n--;return Ko(t.slice(0,n));}var $x=class{fragment;name;signature;topic;args;constructor(t,n,i){let r=t.name,s=t.format();$e(this,{fragment:t,name:r,signature:s,topic:n,args:i});}},Wx=class{fragment;name;args;signature;selector;value;constructor(t,n,i,r){let s=t.name,o=t.format();$e(this,{fragment:t,name:s,args:i,signature:o,selector:n,value:r});}},qx=class{fragment;name;args;signature;selector;constructor(t,n,i){let r=t.name,s=t.format();$e(this,{fragment:t,name:r,args:i,signature:s,selector:n});}},N0=class{hash;_isIndexed;static isIndexed(t){return!!(t&&t._isIndexed);}constructor(t){$e(this,{hash:t,_isIndexed:!0});}},gae={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},mae={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&gae[e.toString()]&&(t=gae[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`;}}},Zh=class e{fragments;deploy;fallback;receive;#e;#t;#n;#i;constructor(t){let n=[];typeof t=="string"?n=JSON.parse(t):n=t,this.#n=new Map(),this.#e=new Map(),this.#t=new Map();let i=[];for(let o of n)try{i.push(md.from(o));}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message);}$e(this,{fragments:Object.freeze(i)});let r=null,s=!1;this.#i=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return;}$e(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(K(!r||o.payable!==r.payable,"conflicting fallback fragments",`fragments[${a}]`,o),r=o,s=r.payable);return;case"function":l=this.#n;break;case"event":l=this.#t;break;case"error":l=this.#e;break;default:return;}let c=o.format();l.has(c)||l.set(c,o);}),this.deploy||$e(this,{deploy:pd.from("constructor()")}),$e(this,{fallback:r,receive:s});}format(t){let n=t?"minimal":"full";return this.fragments.map(r=>r.format(n));}formatJson(){let t=this.fragments.map(n=>n.format("json"));return JSON.stringify(t.map(n=>JSON.parse(n)));}getAbiCoder(){return jl.defaultAbiCoder();}#r(t,n,i){if(Nn(t)){let s=t.toLowerCase();for(let o of this.#n.values())if(s===o.selector)return o;return null;}if(t.indexOf("(")===-1){let s=[];for(let[o,a]of this.#n)o.split("(")[0]===t&&s.push(a);if(n){let o=n.length>0?n[n.length-1]:null,a=n.length,l=!0;Li.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=s.length-1;c>=0;c--){let u=s[c].inputs.length;u!==a&&(!l||u!==a-1)&&s.splice(c,1);}for(let c=s.length-1;c>=0;c--){let u=s[c].inputs;for(let d=0;d<n.length;d++)if(Li.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;s.splice(c,1);break;}if(n[d].type!==u[d].baseType){s.splice(c,1);break;}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){let o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1);}if(s.length===0)return null;if(s.length>1&&i){let o=s.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous function description (i.e. matches ${o})`,"key",t);}return s[0];}let r=this.#n.get(gd.from(t).format());return r||null;}getFunctionName(t){let n=this.#r(t,null,!1);return K(n,"no matching function","key",t),n.name;}hasFunction(t){return!!this.#r(t,null,!1);}getFunction(t,n){return this.#r(t,n||null,!0);}forEachFunction(t){let n=Array.from(this.#n.keys());n.sort((i,r)=>i.localeCompare(r));for(let i=0;i<n.length;i++){let r=n[i];t(this.#n.get(r),i);}}#o(t,n,i){if(Nn(t)){let s=t.toLowerCase();for(let o of this.#t.values())if(s===o.topicHash)return o;return null;}if(t.indexOf("(")===-1){let s=[];for(let[o,a]of this.#t)o.split("(")[0]===t&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){let a=s[o].inputs;for(let l=0;l<n.length;l++)if(Li.isTyped(n[l])&&n[l].type!==a[l].baseType){s.splice(o,1);break;}}}if(s.length===0)return null;if(s.length>1&&i){let o=s.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous event description (i.e. matches ${o})`,"key",t);}return s[0];}let r=this.#t.get(fd.from(t).format());return r||null;}getEventName(t){let n=this.#o(t,null,!1);return K(n,"no matching event","key",t),n.name;}hasEvent(t){return!!this.#o(t,null,!1);}getEvent(t,n){return this.#o(t,n||null,!0);}forEachEvent(t){let n=Array.from(this.#t.keys());n.sort((i,r)=>i.localeCompare(r));for(let i=0;i<n.length;i++){let r=n[i];t(this.#t.get(r),i);}}getError(t,n){if(Nn(t)){let r=t.toLowerCase();if(mae[r])return Qo.from(mae[r].signature);for(let s of this.#e.values())if(r===s.selector)return s;return null;}if(t.indexOf("(")===-1){let r=[];for(let[s,o]of this.#e)s.split("(")[0]===t&&r.push(o);if(r.length===0)return t==="Error"?Qo.from("error Error(string)"):t==="Panic"?Qo.from("error Panic(uint256)"):null;if(r.length>1){let s=r.map(o=>JSON.stringify(o.format())).join(", ");K(!1,`ambiguous error description (i.e. ${s})`,"name",t);}return r[0];}if(t=Qo.from(t).format(),t==="Error(string)")return Qo.from("error Error(string)");if(t==="Panic(uint256)")return Qo.from("error Panic(uint256)");let i=this.#e.get(t);return i||null;}forEachError(t){let n=Array.from(this.#e.keys());n.sort((i,r)=>i.localeCompare(r));for(let i=0;i<n.length;i++){let r=n[i];t(this.#e.get(r),i);}}_decodeParams(t,n){return this.#i.decode(t,n);}_encodeParams(t,n){return this.#i.encode(t,n);}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[]);}decodeErrorResult(t,n){if(typeof t=="string"){let i=this.getError(t);K(i,"unknown error","fragment",t),t=i;}return K(si(n,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",n),this._decodeParams(t.inputs,si(n,4));}encodeErrorResult(t,n){if(typeof t=="string"){let i=this.getError(t);K(i,"unknown error","fragment",t),t=i;}return Qt([t.selector,this._encodeParams(t.inputs,n||[])]);}decodeFunctionData(t,n){if(typeof t=="string"){let i=this.getFunction(t);K(i,"unknown function","fragment",t),t=i;}return K(si(n,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",n),this._decodeParams(t.inputs,si(n,4));}encodeFunctionData(t,n){if(typeof t=="string"){let i=this.getFunction(t);K(i,"unknown function","fragment",t),t=i;}return Qt([t.selector,this._encodeParams(t.inputs,n||[])]);}decodeFunctionResult(t,n){if(typeof t=="string"){let s=this.getFunction(t);K(s,"unknown function","fragment",t),t=s;}let i="invalid length for result data",r=nr(n);if(r.length%32===0)try{return this.#i.decode(t.outputs,r);}catch{i="could not decode result data";}ye(!1,i,"BAD_DATA",{value:Fe(r),info:{method:t.name,signature:t.format()}});}makeError(t,n){let i=Ue(t,"data"),r=jl.getBuiltinCallException("call",n,i);if(r.message.startsWith("execution reverted (unknown custom error)")){let a=Fe(i.slice(0,4)),l=this.getError(a);if(l)try{let c=this.#i.decode(l.inputs,i.slice(4));r.revert={name:l.name,signature:l.format(),args:c},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`;}catch{r.message="execution reverted (coult not decode custom error)";}}let o=this.parseTransaction(n);return o&&(r.invocation={method:o.name,signature:o.signature,args:o.args}),r;}encodeFunctionResult(t,n){if(typeof t=="string"){let i=this.getFunction(t);K(i,"unknown function","fragment",t),t=i;}return Fe(this.#i.encode(t.outputs,n||[]));}encodeFilterTopics(t,n){if(typeof t=="string"){let s=this.getEvent(t);K(s,"unknown event","eventFragment",t),t=s;}ye(n.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:t.inputs.length});let i=[];t.anonymous||i.push(t.topicHash);let r=(s,o)=>s.type==="string"?Ys(o):s.type==="bytes"?Pn(Fe(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Ds(o):s.type.match(/^bytes/)?o=Vh(o,32):s.type==="address"&&this.#i.encode(["address"],[o]),ms(Fe(o),32));for(n.forEach((s,o)=>{let a=t.inputs[o];if(!a.indexed){K(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return;}s==null?i.push(null):a.baseType==="array"||a.baseType==="tuple"?K(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?i.push(s.map(l=>r(a,l))):i.push(r(a,s));});i.length&&i[i.length-1]===null;)i.pop();return i;}encodeEventLog(t,n){if(typeof t=="string"){let o=this.getEvent(t);K(o,"unknown event","eventFragment",t),t=o;}let i=[],r=[],s=[];return t.anonymous||i.push(t.topicHash),K(n.length===t.inputs.length,"event arguments/values mismatch","values",n),t.inputs.forEach((o,a)=>{let l=n[a];if(o.indexed){if(o.type==="string")i.push(Ys(l));else if(o.type==="bytes")i.push(Pn(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");i.push(this.#i.encode([o.type],[l]));}}else r.push(o),s.push(l);}),{data:this.#i.encode(r,s),topics:i};}decodeEventLog(t,n,i){if(typeof t=="string"){let f=this.getEvent(t);K(f,"unknown event","eventFragment",t),t=f;}if(i!=null&&!t.anonymous){let f=t.topicHash;K(Nn(i[0],32)&&i[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",i[0]),i=i.slice(1);}let r=[],s=[],o=[];t.inputs.forEach((f,g)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(r.push(Or.from({type:"bytes32",name:f.name})),o.push(!0)):(r.push(f),o.push(!1)):(s.push(f),o.push(!1));});let a=i!=null?this.#i.decode(r,Qt(i)):null,l=this.#i.decode(s,n,!0),c=[],u=[],d=0,h=0;return t.inputs.forEach((f,g)=>{let m=null;if(f.indexed){if(a==null)m=new N0(null);else if(o[g])m=new N0(a[h++]);else try{m=a[h++];}catch(y){m=y;}}else try{m=l[d++];}catch(y){m=y;}c.push(m),u.push(f.name||null);}),Uc.fromItems(c,u);}parseTransaction(t){let n=Ue(t.data,"tx.data"),i=ct(t.value!=null?t.value:0,"tx.value"),r=this.getFunction(Fe(n.slice(0,4)));if(!r)return null;let s=this.#i.decode(r.inputs,n.slice(4));return new Wx(r,r.selector,s,i);}parseCallResult(t){throw new Error("@TODO");}parseLog(t){let n=this.getEvent(t.topics[0]);return!n||n.anonymous?null:new $x(n,n.topicHash,this.decodeEventLog(n,t.data,t.topics));}parseError(t){let n=Fe(t),i=this.getError(si(n,0,4));if(!i)return null;let r=this.#i.decode(i.inputs,si(n,4));return new qx(i,i.selector,r);}static from(t){return t instanceof e?t:typeof t=="string"?new e(JSON.parse(t)):typeof t.formatJson=="function"?new e(t.formatJson()):typeof t.format=="function"?new e(t.format("json")):new e(t);}};var vae=BigInt(0);function Kx(e){return e??null;}function Kr(e){return e==null?null:e.toString();}var Zp=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,n,i){$e(this,{gasPrice:Kx(t),maxFeePerGas:Kx(n),maxPriorityFeePerGas:Kx(i)});}toJSON(){let{gasPrice:t,maxFeePerGas:n,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:Kr(t),maxFeePerGas:Kr(n),maxPriorityFeePerGas:Kr(i)};}};function $l(e){let t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Fe(e.data));let n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let r of n)!(r in e)||e[r]==null||(t[r]=ct(e[r],`request.${r}`));let i="type,nonce".split(/,/);for(let r of i)!(r in e)||e[r]==null||(t[r]=Pt(e[r],`request.${r}`));return e.accessList&&(t.accessList=Xs(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(r=>Vc(r)?Fe(r):Object.assign({},r))),t;}var L0=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(t,n){this.#e=t.transactions.map(i=>typeof i!="string"?new vd(i,n):i),$e(this,{provider:n,hash:Kx(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:Kx(t.prevRandao),extraData:t.extraData,baseFeePerGas:Kx(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot});}get transactions(){return this.#e.map(t=>typeof t=="string"?t:t.hash);}get prefetchedTransactions(){let t=this.#e.slice();return t.length===0?[]:(ye(typeof t[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t);}toJSON(){let{baseFeePerGas:t,difficulty:n,extraData:i,gasLimit:r,gasUsed:s,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:g,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:Kr(t),difficulty:Kr(n),extraData:i,gasLimit:Kr(r),gasUsed:Kr(s),blobGasUsed:Kr(this.blobGasUsed),excessBlobGas:Kr(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:g,transactions:y};}[Symbol.iterator](){let t=0,n=this.transactions;return{next:()=>t<this.length?{value:n[t++],done:!1}:{value:void 0,done:!0}};}get length(){return this.#e.length;}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3);}getTransaction(t){return $(this,null,function*(){let n;if(typeof t=="number")n=this.#e[t];else{let i=t.toLowerCase();for(let r of this.#e)if(typeof r=="string"){if(r!==i)continue;n=r;break;}else{if(r.hash!==i)continue;n=r;break;}}if(n==null)throw new Error("no such tx");return typeof n=="string"?yield this.provider.getTransaction(n):n;});}getPrefetchedTransaction(t){let n=this.prefetchedTransactions;if(typeof t=="number")return n[t];t=t.toLowerCase();for(let i of n)if(i.hash===t)return i;K(!1,"no matching transaction","indexOrHash",t);}isMined(){return!!this.hash;}isLondon(){return!!this.baseFeePerGas;}orphanedEvent(){if(!this.isMined())throw new Error("");return UHe(this);}},tl=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,n){this.provider=n;let i=Object.freeze(t.topics.slice());$e(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:i,index:t.index,transactionIndex:t.transactionIndex});}toJSON(){let{address:t,blockHash:n,blockNumber:i,data:r,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:t,blockHash:n,blockNumber:i,data:r,index:s,removed:o,topics:a,transactionHash:l,transactionIndex:c};}getBlock(){return $(this,null,function*(){let t=yield this.provider.getBlock(this.blockHash);return ye(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t;});}getTransaction(){return $(this,null,function*(){let t=yield this.provider.getTransaction(this.transactionHash);return ye(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t;});}getTransactionReceipt(){return $(this,null,function*(){let t=yield this.provider.getTransactionReceipt(this.transactionHash);return ye(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t;});}removedEvent(){return jHe(this);}},Jh=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(t,n){this.#e=Object.freeze(t.logs.map(r=>new tl(r,n)));let i=vae;t.effectiveGasPrice!=null?i=t.effectiveGasPrice:t.gasPrice!=null&&(i=t.gasPrice),$e(this,{provider:n,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:i,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root});}get logs(){return this.#e;}toJSON(){let{to:t,from:n,contractAddress:i,hash:r,index:s,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:i,cumulativeGasUsed:Kr(this.cumulativeGasUsed),from:n,gasPrice:Kr(this.gasPrice),blobGasUsed:Kr(this.blobGasUsed),blobGasPrice:Kr(this.blobGasPrice),gasUsed:Kr(this.gasUsed),hash:r,index:s,logs:c,logsBloom:l,root:d,status:u,to:t};}get length(){return this.logs.length;}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}};}get fee(){return this.gasUsed*this.gasPrice;}getBlock(){return $(this,null,function*(){let t=yield this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t;});}getTransaction(){return $(this,null,function*(){let t=yield this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t;});}getResult(){return $(this,null,function*(){return yield this.provider.getTransactionResult(this.hash);});}confirmations(){return $(this,null,function*(){return(yield this.provider.getBlockNumber())-this.blockNumber+1;});}removedEvent(){return bae(this);}reorderedEvent(t){return ye(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),yae(this,t);}},vd=class e{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(t,n){this.provider=n,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.#e=-1;}toJSON(){let{blockNumber:t,blockHash:n,index:i,hash:r,type:s,to:o,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:t,blockHash:n,blobVersionedHashes:h,chainId:Kr(this.chainId),data:c,from:a,gasLimit:Kr(this.gasLimit),gasPrice:Kr(this.gasPrice),hash:r,maxFeePerGas:Kr(this.maxFeePerGas),maxPriorityFeePerGas:Kr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Kr(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:i,type:s,value:Kr(this.value)};}getBlock(){return $(this,null,function*(){let t=this.blockNumber;if(t==null){let i=yield this.getTransaction();i&&(t=i.blockNumber);}if(t==null)return null;let n=this.provider.getBlock(t);if(n==null)throw new Error("TODO");return n;});}getTransaction(){return $(this,null,function*(){return this.provider.getTransaction(this.hash);});}confirmations(){return $(this,null,function*(){if(this.blockNumber==null){let{tx:n,blockNumber:i}=yield Wi({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:i-n.blockNumber+1;}return(yield this.provider.getBlockNumber())-this.blockNumber+1;});}wait(t,n){return $(this,null,function*(){let i=t??1,r=n??0,s=this.#e,o=-1,a=s===-1,l=()=>$(this,null,function*(){if(a)return null;let{blockNumber:h,nonce:f}=yield Wi({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){s=h;return;}if(a)return null;let g=yield this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=s-3,o<this.#e&&(o=this.#e));o<=h;){if(a)return null;let m=yield this.provider.getBlock(o,!0);if(m==null)return;for(let y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){let b=yield m.getTransaction(y);if(b.from===this.from&&b.nonce===this.nonce){if(a)return null;let C=yield this.provider.getTransactionReceipt(b.hash);if(C==null||h-C.blockNumber+1<i)return;let _="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?_="repriced":b.data==="0x"&&b.from===b.to&&b.value===vae&&(_="cancelled"),ye(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:_==="replaced"||_==="cancelled",reason:_,replacement:b.replaceableTransaction(s),hash:b.hash,receipt:C});}}o++;}}),c=h=>{if(h==null||h.status!==0)return h;ye(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h});},u=yield this.provider.getTransactionReceipt(this.hash);if(i===0)return c(u);if(u){if((yield u.confirmations())>=i)return c(u);}else if(yield l(),i===0)return null;return yield new Promise((h,f)=>{let g=[],m=()=>{g.forEach(b=>b());};if(g.push(()=>{a=!0;}),r>0){let b=setTimeout(()=>{m(),f(Yn("wait for transaction timeout","TIMEOUT"));},r);g.push(()=>{clearTimeout(b);});}let y=b=>$(this,null,function*(){if((yield b.confirmations())>=i){m();try{h(c(b));}catch(C){f(C);}}});if(g.push(()=>{this.provider.off(this.hash,y);}),this.provider.on(this.hash,y),s>=0){let b=()=>$(this,null,function*(){try{yield l();}catch(C){if(yi(C,"TRANSACTION_REPLACED")){m(),f(C);return;}}a||this.provider.once("block",b);});g.push(()=>{this.provider.off("block",b);}),this.provider.once("block",b);}});});}isMined(){return this.blockHash!=null;}isLegacy(){return this.type===0;}isBerlin(){return this.type===1;}isLondon(){return this.type===2;}isCancun(){return this.type===3;}removedEvent(){return ye(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),bae(this);}reorderedEvent(t){return ye(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ye(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yae(this,t);}replaceableTransaction(t){K(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);let n=new e(this,this.provider);return n.#e=t,n;}};function UHe(e){return{orphan:"drop-block",hash:e.hash,number:e.number};}function yae(e,t){return{orphan:"reorder-transaction",tx:e,other:t};}function bae(e){return{orphan:"drop-transaction",tx:e};}function jHe(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};}var ef=class extends tl{interface;fragment;args;constructor(t,n,i){super(t,t.provider);let r=n.decodeEventLog(i,t.data,t.topics);$e(this,{args:r,fragment:i,interface:n});}get eventName(){return this.fragment.name;}get eventSignature(){return this.fragment.format();}},Jp=class extends tl{error;constructor(t,n){super(t,t.provider),$e(this,{error:n});}},Yx=class extends Jh{#e;constructor(t,n,i){super(i,n),this.#e=t;}get logs(){return super.logs.map(t=>{let n=t.topics.length?this.#e.getEvent(t.topics[0]):null;if(n)try{return new ef(t,this.#e,n);}catch(i){return new Jp(t,i);}return t;});}},tf=class e extends vd{#e;constructor(t,n,i){super(i,n),this.#e=t;}wait(t,n){return $(this,null,function*(){let i=yield hs(e.prototype,this,"wait").call(this,t,n);return i==null?null:new Yx(this.#e,this.provider,i);});}},eg=class extends zh{log;constructor(t,n,i,r){super(t,n,i),$e(this,{log:r});}getBlock(){return $(this,null,function*(){return yield this.log.getBlock();});}getTransaction(){return $(this,null,function*(){return yield this.log.getTransaction();});}getTransactionReceipt(){return $(this,null,function*(){return yield this.log.getTransactionReceipt();});}},O0=class extends eg{constructor(t,n,i,r,s){super(t,n,i,new ef(s,t.interface,r));let o=t.interface.decodeEventLog(r,this.log.data,this.log.topics);$e(this,{args:o,fragment:r});}get eventName(){return this.fragment.name;}get eventSignature(){return this.fragment.format();}};var xae=BigInt(0);function Cae(e){return e&&typeof e.call=="function";}function _ae(e){return e&&typeof e.estimateGas=="function";}function rk(e){return e&&typeof e.resolveName=="function";}function Sae(e){return e&&typeof e.sendTransaction=="function";}function Eae(e){if(e!=null){if(rk(e))return e;if(e.provider)return e.provider;}}var RV=class{#e;fragment;constructor(t,n,i){if($e(this,{fragment:n}),n.inputs.length<i.length)throw new Error("too many arguments");let r=V0(t.runner,"resolveName"),s=rk(r)?r:null;this.#e=function(){return $(this,null,function*(){let o=yield Promise.all(n.inputs.map((a,l)=>i[l]==null?null:a.walkAsync(i[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(h=>or(h,s))):or(d,s):d)));return t.interface.encodeFilterTopics(n,o);});}();}getTopicFilter(){return this.#e;}};function V0(e,t){return e==null?null:typeof e[t]=="function"?e:e.provider&&typeof e.provider[t]=="function"?e.provider:null;}function B0(e){return e==null?null:e.provider||null;}function sk(e,t){return $(this,null,function*(){let n=Li.dereference(e,"overrides");K(typeof n=="object","invalid overrides parameter","overrides",e);let i=$l(n);return K(i.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),K(i.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i;});}function kV(e,t,n){return $(this,null,function*(){let i=V0(e,"resolveName"),r=rk(i)?i:null;return yield Promise.all(t.map((s,o)=>s.walkAsync(n[o],(a,l)=>(l=Li.dereference(l,a),a==="address"?or(l,r):l))));});}function $He(e){let t=function(o){return $(this,null,function*(){let a=yield sk(o,["data"]);a.to=yield e.getAddress(),a.from&&(a.from=yield or(a.from,Eae(e.runner)));let l=e.interface,c=ct(a.value||xae,"overrides.value")===xae,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&K(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),K(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let d=l.receive||l.fallback&&l.fallback.payable;return K(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),K(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a;});},n=function(o){return $(this,null,function*(){let a=V0(e.runner,"call");ye(Cae(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let l=yield t(o);try{return yield a.call(l);}catch(c){throw Lp(c)&&c.data?e.interface.makeError(c.data,l):c;}});},i=function(o){return $(this,null,function*(){let a=e.runner;ye(Sae(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let l=yield a.sendTransaction(yield t(o)),c=B0(e.runner);return new tf(e.interface,c,l);});},r=function(o){return $(this,null,function*(){let a=V0(e.runner,"estimateGas");return ye(_ae(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield a.estimateGas(yield t(o));});},s=o=>$(this,null,function*(){return yield i(o);});return $e(s,{_contract:e,estimateGas:r,populateTransaction:t,send:i,staticCall:n}),s;}function WHe(e,t){let n=function(...c){let u=e.interface.getFunction(t,c);return ye(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:c}}),u;},i=function(...c){return $(this,null,function*(){let u=n(...c),d={};if(u.inputs.length+1===c.length&&(d=yield sk(c.pop()),d.from&&(d.from=yield or(d.from,Eae(e.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let h=yield kV(e.runner,u.inputs,c);return Object.assign({},d,yield Wi({to:e.getAddress(),data:e.interface.encodeFunctionData(u,h)}));});},r=function(...c){return $(this,null,function*(){let u=yield a(...c);return u.length===1?u[0]:u;});},s=function(...c){return $(this,null,function*(){let u=e.runner;ye(Sae(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=yield u.sendTransaction(yield i(...c)),h=B0(e.runner);return new tf(e.interface,h,d);});},o=function(...c){return $(this,null,function*(){let u=V0(e.runner,"estimateGas");return ye(_ae(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),yield u.estimateGas(yield i(...c));});},a=function(...c){return $(this,null,function*(){let u=V0(e.runner,"call");ye(Cae(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=yield i(...c),h="0x";try{h=yield u.call(d);}catch(g){throw Lp(g)&&g.data?e.interface.makeError(g.data,d):g;}let f=n(...c);return e.interface.decodeFunctionResult(f,h);});},l=(...c)=>$(this,null,function*(){return n(...c).constant?yield r(...c):yield s(...c);});return $e(l,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:o,populateTransaction:i,send:s,staticCall:r,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{let c=e.interface.getFunction(t);return ye(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),c;}}),l;}function qHe(e,t){let n=function(...r){let s=e.interface.getEvent(t,r);return ye(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s;},i=function(...r){return new RV(e,n(...r),r);};return $e(i,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getEvent(t);return ye(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r;}}),i;}var ik=Symbol.for("_ethersInternal_contract"),Tae=new WeakMap();function KHe(e,t){Tae.set(e[ik],t);}function nl(e){return Tae.get(e[ik]);}function YHe(e){return e&&typeof e=="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter=="function"&&e.fragment;}function MV(e,t){return $(this,null,function*(){let n,i=null;if(Array.isArray(t)){let s=function(o){if(Nn(o,32))return o;let a=e.interface.getEvent(o);return K(a,"unknown fragment","name",o),a.topicHash;};n=t.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o));}else t==="*"?n=[null]:typeof t=="string"?Nn(t,32)?n=[t]:(i=e.interface.getEvent(t),K(i,"unknown fragment","event",t),n=[i.topicHash]):YHe(t)?n=yield t.getTopicFilter():"fragment"in t?(i=t.fragment,n=[i.topicHash]):K(!1,"unknown event name","event",t);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){let o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o);}return s.toLowerCase();});let r=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:i,tag:r,topics:n};});}function c2(e,t){return $(this,null,function*(){let{subs:n}=nl(e);return n.get((yield MV(e,t)).tag)||null;});}function wae(e,t,n){return $(this,null,function*(){let i=B0(e.runner);ye(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:r,tag:s,topics:o}=yield MV(e,n),{addr:a,subs:l}=nl(e),c=l.get(s);if(!c){let d={address:a||e,topics:o},h=y=>{let b=r;if(b==null)try{b=e.interface.getEvent(y.topics[0]);}catch{}if(b){let C=b,_=r?e.interface.decodeEventLog(r,y.data,y.topics):[];PV(e,n,_,A=>new O0(e,A,n,C,y));}else PV(e,n,[],C=>new eg(e,C,n,y));},f=[];c={tag:s,listeners:[],start:()=>{f.length||f.push(i.on(d,h));},stop:()=>$(this,null,function*(){if(f.length==0)return;let y=f;f=[],yield Promise.all(y),i.off(d,h);})},l.set(s,c);}return c;});}var IV=Promise.resolve();function XHe(e,t,n,i){return $(this,null,function*(){yield IV;let r=yield c2(e,t);if(!r)return!1;let s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:o,once:a})=>{let l=Array.from(n);i&&l.push(i(a?null:o));try{o.call(e,...l);}catch{}return!a;}),r.listeners.length===0&&(r.stop(),nl(e).subs.delete(r.tag)),s>0;});}function PV(e,t,n,i){return $(this,null,function*(){try{yield IV;}catch{}let r=XHe(e,t,n,i);return IV=r,yield r;});}var nk=["then"],nf=class e{target;interface;runner;filters;[ik];fallback;constructor(t,n,i,r){K(typeof t=="string"||Vx(t),"invalid value for Contract target","target",t),i==null&&(i=null);let s=Zh.from(n);$e(this,{target:t,runner:i,interface:s}),Object.defineProperty(this,ik,{value:{}});let o,a=null,l=null;if(r){let d=B0(i);l=new tf(this.interface,d,r);}let c=new Map();if(typeof t=="string"){if(Nn(t))a=t,o=Promise.resolve(t);else{let d=V0(i,"resolveName");if(!rk(d))throw Yn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(t).then(h=>{if(h==null)throw Yn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return nl(this).addr=h,h;});}}else o=t.getAddress().then(d=>{if(d==null)throw new Error("TODO");return nl(this).addr=d,d;});KHe(this,{addrPromise:o,addr:a,deployTx:l,subs:c});let u=new Proxy({},{get:(d,h,f)=>{if(typeof h=="symbol"||nk.indexOf(h)>=0)return Reflect.get(d,h,f);try{return this.getEvent(h);}catch(g){if(!yi(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g;}},has:(d,h)=>nk.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return $e(this,{filters:u}),$e(this,{fallback:s.receive||s.fallback?$He(this):null}),new Proxy(this,{get:(d,h,f)=>{if(typeof h=="symbol"||h in d||nk.indexOf(h)>=0)return Reflect.get(d,h,f);try{return d.getFunction(h);}catch(g){if(!yi(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g;}},has:(d,h)=>typeof h=="symbol"||h in d||nk.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)});}connect(t){return new e(this.target,this.interface,t);}attach(t){return new e(t,this.interface,this.runner);}getAddress(){return $(this,null,function*(){return yield nl(this).addrPromise;});}getDeployedCode(){return $(this,null,function*(){let t=B0(this.runner);ye(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let n=yield t.getCode(yield this.getAddress());return n==="0x"?null:n;});}waitForDeployment(){return $(this,null,function*(){let t=this.deploymentTransaction();if(t)return yield t.wait(),this;if((yield this.getDeployedCode())!=null)return this;let i=B0(this.runner);return ye(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,s)=>{let o=()=>$(this,null,function*(){try{if((yield this.getDeployedCode())!=null)return r(this);i.once("block",o);}catch(a){s(a);}});o();});});}deploymentTransaction(){return nl(this).deployTx;}getFunction(t){return typeof t!="string"&&(t=t.format()),WHe(this,t);}getEvent(t){return typeof t!="string"&&(t=t.format()),qHe(this,t);}queryTransaction(t){return $(this,null,function*(){throw new Error("@TODO");});}queryFilter(t,n,i){return $(this,null,function*(){n==null&&(n=0),i==null&&(i="latest");let{addr:r,addrPromise:s}=nl(this),o=r||(yield s),{fragment:a,topics:l}=yield MV(this,t),c={address:o,topics:l,fromBlock:n,toBlock:i},u=B0(this.runner);return ye(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(yield u.getLogs(c)).map(d=>{let h=a;if(h==null)try{h=this.interface.getEvent(d.topics[0]);}catch{}if(h)try{return new ef(d,this.interface,h);}catch(f){return new Jp(d,f);}return new tl(d,u);});});}on(t,n){return $(this,null,function*(){let i=yield wae(this,"on",t);return i.listeners.push({listener:n,once:!1}),i.start(),this;});}once(t,n){return $(this,null,function*(){let i=yield wae(this,"once",t);return i.listeners.push({listener:n,once:!0}),i.start(),this;});}emit(t,...n){return $(this,null,function*(){return yield PV(this,t,n,null);});}listenerCount(t){return $(this,null,function*(){if(t){let r=yield c2(this,t);return r?r.listeners.length:0;}let{subs:n}=nl(this),i=0;for(let{listeners:r}of n.values())i+=r.length;return i;});}listeners(t){return $(this,null,function*(){if(t){let r=yield c2(this,t);return r?r.listeners.map(({listener:s})=>s):[];}let{subs:n}=nl(this),i=[];for(let{listeners:r}of n.values())i=i.concat(r.map(({listener:s})=>s));return i;});}off(t,n){return $(this,null,function*(){let i=yield c2(this,t);if(!i)return this;if(n){let r=i.listeners.map(({listener:s})=>s).indexOf(n);r>=0&&i.listeners.splice(r,1);}return(n==null||i.listeners.length===0)&&(i.stop(),nl(this).subs.delete(i.tag)),this;});}removeAllListeners(t){return $(this,null,function*(){if(t){let n=yield c2(this,t);if(!n)return this;n.stop(),nl(this).subs.delete(n.tag);}else{let{subs:n}=nl(this);for(let{tag:i,stop:r}of n.values())r(),n.delete(i);}return this;});}addListener(t,n){return $(this,null,function*(){return yield this.on(t,n);});}removeListener(t,n){return $(this,null,function*(){return yield this.off(t,n);});}static buildClass(t){class n extends e{constructor(r,s=null){super(r,t,s);}}return n;}static from(t,n,i){return i==null&&(i=null),new this(t,n,i);}};function QHe(){return nf;}var Da=class extends QHe(){};var u2=class e{interface;bytecode;runner;constructor(t,n,i){let r=Zh.from(t);n instanceof Uint8Array?n=Fe(Ue(n)):(typeof n=="object"&&(n=n.object),n.startsWith("0x")||(n="0x"+n),n=Fe(Ue(n))),$e(this,{bytecode:n,interface:r,runner:i||null});}attach(t){return new nf(t,this.interface,this.runner);}getDeployTransaction(...t){return $(this,null,function*(){let n={},i=this.interface.deploy;if(i.inputs.length+1===t.length&&(n=yield sk(t.pop())),i.inputs.length!==t.length)throw new Error("incorrect number of arguments to constructor");let r=yield kV(this.runner,i.inputs,t),s=Qt([this.bytecode,this.interface.encodeDeploy(r)]);return Object.assign({},n,{data:s});});}deploy(...t){return $(this,null,function*(){let n=yield this.getDeployTransaction(...t);ye(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=yield this.runner.sendTransaction(n),r=R0(i);return new nf(r,this.interface,this.runner,i);});}connect(t){return new e(this.interface,this.bytecode,t);}static fromSolidity(t,n){K(t!=null,"bad compiler output","output",t),typeof t=="string"&&(t=JSON.parse(t));let i=t.abi,r="";return t.bytecode?r=t.bytecode:t.evm&&t.evm.bytecode&&(r=t.evm.bytecode),new this(i,r,n);}};function FV(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):K(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`;}var Xx=class{name;constructor(t){$e(this,{name:t});}connect(t){return this;}supportsCoinType(t){return!1;}encodeAddress(t,n){return $(this,null,function*(){throw new Error("unsupported coin");});}decodeAddress(t,n){return $(this,null,function*(){throw new Error("unsupported coin");});}};var Dae=new RegExp("^(ipfs)://(.*)$","i"),Aae=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Dae,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],tg=class e{provider;address;name;#e;#t;constructor(t,n,i){$e(this,{provider:t,address:n,name:i}),this.#e=null,this.#t=new Da(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t);}supportsWildcard(){return $(this,null,function*(){return this.#e==null&&(this.#e=$(this,null,function*(){try{return yield this.#t.supportsInterface("0x9061b923");}catch(t){if(yi(t,"CALL_EXCEPTION"))return!1;throw this.#e=null,t;}})),yield this.#e;});}#n(t,n){return $(this,null,function*(){n=(n||[]).slice();let i=this.#t.interface;n.unshift(Yp(this.name));let r=null;(yield this.supportsWildcard())&&(r=i.getFunction(t),ye(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),n=[s2(this.name,255),i.encodeFunctionData(r,n)],t="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{let s=yield this.#t[t](...n);return r?i.decodeFunctionResult(r,s)[0]:s;}catch(s){if(!yi(s,"CALL_EXCEPTION"))throw s;}return null;});}getAddress(t){return $(this,null,function*(){if(t==null&&(t=60),t===60)try{let s=yield this.#n("addr(bytes32)");return s==null||s===Xc?null:s;}catch(s){if(yi(s,"CALL_EXCEPTION"))return null;throw s;}if(t>=0&&t<2147483648){let s=t+2147483648,o=yield this.#n("addr(bytes32,uint)",[s]);if(Nn(o,20))return Bt(o);}let n=null;for(let s of this.provider.plugins)if(s instanceof Xx&&s.supportsCoinType(t)){n=s;break;}if(n==null)return null;let i=yield this.#n("addr(bytes32,uint)",[t]);if(i==null||i==="0x")return null;let r=yield n.decodeAddress(t,i);if(r!=null)return r;ye(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:i}});});}getText(t){return $(this,null,function*(){let n=yield this.#n("text(bytes32,string)",[t]);return n==null||n==="0x"?null:n;});}getContentHash(){return $(this,null,function*(){let t=yield this.#n("contenthash(bytes32)");if(t==null||t==="0x")return null;let n=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){let r=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${r}://${b0("0x"+n[2])}`;}let i=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return`bzz://${i[1]}`;ye(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}});});}getAvatar(){return $(this,null,function*(){return(yield this._getAvatar()).url;});}_getAvatar(){return $(this,null,function*(){let t=[{type:"name",value:this.name}];try{let n=yield this.getText("avatar");if(n==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:n});for(let i=0;i<Aae.length;i++){let r=n.match(Aae[i]);if(r==null)continue;let s=r[1].toLowerCase();switch(s){case"https":case"data":return t.push({type:"url",value:n}),{linkage:t,url:n};case"ipfs":{let o=FV(n);return t.push({type:"ipfs",value:n}),t.push({type:"url",value:o}),{linkage:t,url:o};}case"erc721":case"erc1155":{let o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:s,value:n});let a=yield this.getAddress();if(a==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};let l=(r[2]||"").split("/");if(l.length!==2)return t.push({type:`!${s}caip`,value:r[2]||""}),{url:null,linkage:t};let c=l[1],u=new Da(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){let m=yield u.ownerOf(c);if(a!==m)return t.push({type:"!owner",value:m}),{url:null,linkage:t};t.push({type:"owner",value:m});}else if(s==="erc1155"){let m=yield u.balanceOf(a,c);if(!m)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:m.toString()});}let d=yield u[o](c);if(d==null||d==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:d}),s==="erc1155"&&(d=d.replace("{id}",Ds(c,32).substring(2)),t.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=FV(d)),t.push({type:"metadata-url",value:d});let h={},f=yield new ki(d).send();f.assertOk();try{h=f.bodyJson;}catch{try{t.push({type:"!metadata",value:f.bodyText});}catch{let b=f.body;return b&&t.push({type:"!metadata",value:Fe(b)}),{url:null,linkage:t};}return{url:null,linkage:t};}if(!h)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(Dae)==null)return t.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:g}),g=FV(g);}return t.push({type:"url",value:g}),{linkage:t,url:g};}}}}catch{}return{linkage:t,url:null};});}static getEnsAddress(t){return $(this,null,function*(){let n=yield t.getNetwork(),i=n.getPlugin("org.ethers.plugins.network.Ens");return ye(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),i.address;});}static#i(t,n){return $(this,null,function*(){let i=yield e.getEnsAddress(t);try{let s=yield new Da(i,["function resolver(bytes32) view returns (address)"],t).resolver(Yp(n),{enableCcipRead:!0});return s===Xc?null:s;}catch(r){throw r;}return null;});}static fromName(t,n){return $(this,null,function*(){let i=n;for(;;){if(i===""||i==="."||n!=="eth"&&i==="eth")return null;let r=yield e.#i(t,i);if(r!=null){let s=new e(t,r,n);return i!==n&&!(yield s.supportsWildcard())?null:s;}i=i.split(".").slice(1).join(".");}});}};var Rae=BigInt(0);function Xn(e,t){return function(n){return n==null?t:e(n);};}function ok(e,t){return n=>{if(t&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(i=>e(i));};}function d2(e,t){return n=>{let i={};for(let r in e){let s=r;if(t&&r in t&&!(s in n)){for(let o of t[r])if(o in n){s=o;break;}}try{let o=e[r](n[s]);o!==void 0&&(i[r]=o);}catch(o){let a=o instanceof Error?o.message:"not-an-error";ye(!1,`invalid value for value.${r} (${a})`,"BAD_DATA",{value:n});}}return i;};}function ZHe(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1;}K(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e);}function Qx(e){return K(Nn(e,!0),"invalid data","value",e),e;}function Qs(e){return K(Nn(e,32),"invalid hash","value",e),e;}var JHe=d2({address:Bt,blockHash:Qs,blockNumber:Pt,data:Qx,index:Pt,removed:Xn(ZHe,!1),topics:ok(Qs),transactionHash:Qs,transactionIndex:Pt},{index:["logIndex"]});function Iae(e){return JHe(e);}var eGe=d2({hash:Xn(Qs),parentHash:Qs,parentBeaconBlockRoot:Xn(Qs,null),number:Pt,timestamp:Pt,nonce:Xn(Qx),difficulty:ct,gasLimit:ct,gasUsed:ct,stateRoot:Xn(Qs,null),receiptsRoot:Xn(Qs,null),blobGasUsed:Xn(ct,null),excessBlobGas:Xn(ct,null),miner:Xn(Bt),prevRandao:Xn(Qs,null),extraData:Qx,baseFeePerGas:Xn(ct)},{prevRandao:["mixHash"]});function Pae(e){let t=eGe(e);return t.transactions=e.transactions.map(n=>typeof n=="string"?n:NV(n)),t;}var tGe=d2({transactionIndex:Pt,blockNumber:Pt,transactionHash:Qs,address:Bt,topics:ok(Qs),data:Qx,index:Pt,blockHash:Qs},{index:["logIndex"]});function nGe(e){return tGe(e);}var iGe=d2({to:Xn(Bt,null),from:Xn(Bt,null),contractAddress:Xn(Bt,null),index:Pt,root:Xn(Fe),gasUsed:ct,blobGasUsed:Xn(ct,null),logsBloom:Xn(Qx),blockHash:Qs,hash:Qs,logs:ok(nGe),blockNumber:Pt,cumulativeGasUsed:ct,effectiveGasPrice:Xn(ct),blobGasPrice:Xn(ct,null),status:Xn(Pt),type:Xn(Pt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function kae(e){return iGe(e);}function NV(e){e.to&&ct(e.to)===Rae&&(e.to="0x0000000000000000000000000000000000000000");let t=d2({hash:Qs,index:Xn(Pt,void 0),type:n=>n==="0x"||n==null?0:Pt(n),accessList:Xn(Xs,null),blobVersionedHashes:Xn(ok(Qs,!0),null),blockHash:Xn(Qs,null),blockNumber:Xn(Pt,null),transactionIndex:Xn(Pt,null),from:Bt,gasPrice:Xn(ct),maxPriorityFeePerGas:Xn(ct),maxFeePerGas:Xn(ct),maxFeePerBlobGas:Xn(ct,null),gasLimit:ct,to:Xn(Bt,null),value:ct,nonce:Pt,data:Qx,creates:Xn(Bt,null),chainId:Xn(ct,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(t.to==null&&t.creates==null&&(t.creates=R0(t)),(e.type===1||e.type===2)&&e.accessList==null&&(t.accessList=[]),e.signature?t.signature=qs.from(e.signature):t.signature=qs.from(e),t.chainId==null){let n=t.signature.legacyChainId;n!=null&&(t.chainId=n);}return t.blockHash&&ct(t.blockHash)===Rae&&(t.blockHash=null),t;}var rGe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",tu=class e{name;constructor(t){$e(this,{name:t});}clone(){return new e(this.name);}},ng=class e extends tu{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,n){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);let i={effectiveBlock:t};function r(s,o){let a=(n||{})[s];a==null&&(a=o),K(typeof a=="number",`invalud value for ${s}`,"costs",n),i[s]=a;}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),$e(this,i);}clone(){return new e(this.effectiveBlock,this);}},ig=class e extends tu{address;targetNetwork;constructor(t,n){super("org.ethers.plugins.network.Ens"),$e(this,{address:t||rGe,targetNetwork:n??1});}clone(){return new e(this.address,this.targetNetwork);}},h2=class e extends tu{#e;get feeDataFunc(){return this.#e;}constructor(t){super("org.ethers.plugins.network.FeeData"),this.#e=t;}getFeeData(t){return $(this,null,function*(){return yield this.#e(t);});}clone(){return new e(this.#e);}},H0=class extends tu{#e;#t;get url(){return this.#e;}get processFunc(){return this.#t;}constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=t,this.#t=n;}clone(){return this;}};var LV=new Map(),qn=class e{#e;#t;#n;constructor(t,n){this.#e=t,this.#t=ct(n),this.#n=new Map();}toJSON(){return{name:this.name,chainId:String(this.chainId)};}get name(){return this.#e;}set name(t){this.#e=t;}get chainId(){return this.#t;}set chainId(t){this.#t=ct(t,"chainId");}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===ct(t);}catch{}return this.name===t;}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===ct(t);}catch{}return!1;}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===ct(t.chainId);}catch{}return!1;}return t.name!=null?this.name===t.name:!1;}return!1;}get plugins(){return Array.from(this.#n.values());}attachPlugin(t){if(this.#n.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#n.set(t.name,t.clone()),this;}getPlugin(t){return this.#n.get(t)||null;}getPlugins(t){return this.plugins.filter(n=>n.name.split("#")[0]===t);}clone(){let t=new e(this.name,this.chainId);return this.plugins.forEach(n=>{t.attachPlugin(n.clone());}),t;}computeIntrinsicGas(t){let n=this.getPlugin("org.ethers.plugins.network.GasCost")||new ng(),i=n.txBase;if(t.to==null&&(i+=n.txCreate),t.data)for(let r=2;r<t.data.length;r+=2)t.data.substring(r,r+2)==="00"?i+=n.txDataZero:i+=n.txDataNonzero;if(t.accessList){let r=Xs(t.accessList);for(let s in r)i+=n.txAccessListAddress+n.txAccessListStorageKey*r[s].storageKeys.length;}return i;}static from(t){if(sGe(),t==null)return e.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){let n=LV.get(t);if(n)return n();if(typeof t=="bigint")return new e("unknown",t);K(!1,"unknown network","network",t);}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){K(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);let n=new e(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&n.attachPlugin(new ig(t.ensAddress,t.ensNetwork)),n;}K(!1,"invalid network","network",t);}static register(t,n){typeof t=="number"&&(t=BigInt(t));let i=LV.get(t);i&&K(!1,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",t),LV.set(t,n);}};function Mae(e,t){let n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);let i=n.split(".");if(i.length===1&&i.push(""),i.length!==2)throw new Error(`invalid gwei value: ${e}`);for(;i[1].length<t;)i[1]+="0";if(i[1].length>9){let r=BigInt(i[1].substring(0,9));i[1].substring(9).match(/^0+$/)||r++,i[1]=r.toString();}return BigInt(i[0]+i[1]);}function Fae(e){return new H0(e,(t,n,i)=>$(this,null,function*(){i.setHeader("User-Agent","ethers");let r;try{let[s,o]=yield Promise.all([i.send(),t()]);r=s;let a=r.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:Mae(a.maxFee,9),maxPriorityFeePerGas:Mae(a.maxPriorityFee,9)};}catch(s){ye(!1,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:r,error:s});}}));}var Nae=!1;function sGe(){if(Nae)return;Nae=!0;function e(t,n,i){let r=function(){let s=new qn(t,n);return i.ensNetwork!=null&&s.attachPlugin(new ig(null,i.ensNetwork)),s.attachPlugin(new ng()),(i.plugins||[]).forEach(o=>{s.attachPlugin(o);}),s;};qn.register(t,r),qn.register(n,r),i.altNames&&i.altNames.forEach(s=>{qn.register(s,r);});}e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Fae("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Fae("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1});}function OV(e){return JSON.parse(JSON.stringify(e));}var ak=class{#e;#t;#n;#i;constructor(t){this.#e=t,this.#t=null,this.#n=4e3,this.#i=-2;}get pollingInterval(){return this.#n;}set pollingInterval(t){this.#n=t;}#r(){return $(this,null,function*(){try{let t=yield this.#e.getBlockNumber();if(this.#i===-2){this.#i=t;return;}if(t!==this.#i){for(let n=this.#i+1;n<=t;n++){if(this.#t==null)return;yield this.#e.emit("block",n);}this.#i=t;}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n));});}start(){this.#t||(this.#t=this.#e._setTimeout(this.#r.bind(this),this.#n),this.#r());}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null);}pause(t){this.stop(),t&&(this.#i=-2);}resume(){this.start();}},f2=class{#e;#t;#n;constructor(t){this.#e=t,this.#n=!1,this.#t=n=>{this._poll(n,this.#e);};}_poll(t,n){return $(this,null,function*(){throw new Error("sub-classes must override this");});}start(){this.#n||(this.#n=!0,this.#t(-2),this.#e.on("block",this.#t));}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#t));}pause(t){this.stop();}resume(){this.start();}},lk=class extends f2{#e;#t;constructor(t,n){super(t),this.#e=n,this.#t=-2;}pause(t){t&&(this.#t=-2),super.pause(t);}_poll(t,n){return $(this,null,function*(){let i=yield n.getBlock(this.#e);i!=null&&(this.#t===-2?this.#t=i.number:i.number>this.#t&&(n.emit(this.#e,i.number),this.#t=i.number));});}},ck=class extends f2{#e;constructor(t,n){super(t),this.#e=OV(n);}_poll(t,n){return $(this,null,function*(){throw new Error("@TODO");});}},uk=class extends f2{#e;constructor(t,n){super(t),this.#e=n;}_poll(t,n){return $(this,null,function*(){let i=yield n.getTransactionReceipt(this.#e);i&&n.emit(this.#e,i);});}},rg=class{#e;#t;#n;#i;#r;constructor(t,n){this.#e=t,this.#t=OV(n),this.#n=this.#o.bind(this),this.#i=!1,this.#r=-2;}#o(t){return $(this,null,function*(){if(this.#r===-2)return;let n=OV(this.#t);n.fromBlock=this.#r+1,n.toBlock=t;let i=yield this.#e.getLogs(n);if(i.length===0){this.#r<t-60&&(this.#r=t-60);return;}for(let r of i)this.#e.emit(this.#t,r),this.#r=r.blockNumber;});}start(){this.#i||(this.#i=!0,this.#r===-2&&this.#e.getBlockNumber().then(t=>{this.#r=t;}),this.#e.on("block",this.#n));}stop(){this.#i&&(this.#i=!1,this.#e.off("block",this.#n));}pause(t){this.stop(),t&&(this.#r=-2);}resume(){this.start();}};var oGe=BigInt(2),aGe=10;function dk(e){return e&&typeof e.then=="function";}function hk(e,t){return e+":"+JSON.stringify(t,(n,i)=>{if(i==null)return"null";if(typeof i=="bigint")return`bigint:${i.toString()}`;if(typeof i=="string")return i.toLowerCase();if(typeof i=="object"&&!Array.isArray(i)){let r=Object.keys(i);return r.sort(),r.reduce((s,o)=>(s[o]=i[o],s),{});}return i;});}var nu=class{name;constructor(t){$e(this,{name:t});}start(){}stop(){}pause(t){}resume(){}};function lGe(e){return JSON.parse(JSON.stringify(e));}function HV(e){return e=Array.from(new Set(e).values()),e.sort(),e;}function BV(e,t){return $(this,null,function*(){if(e==null)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),typeof e=="string")switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e};}if(Nn(e,32)){let n=e.toLowerCase();return{type:"transaction",tag:hk("tx",{hash:n}),hash:n};}if(e.orphan){let n=e;return{type:"orphan",tag:hk("orphan",n),filter:lGe(n)};}if(e.address||e.topics){let n=e,i={topics:(n.topics||[]).map(r=>r==null?null:Array.isArray(r)?HV(r.map(s=>s.toLowerCase())):r.toLowerCase())};if(n.address){let r=[],s=[],o=a=>{Nn(a)?r.push(a):s.push($(this,null,function*(){r.push(yield or(a,t));}));};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&(yield Promise.all(s)),i.address=HV(r.map(a=>a.toLowerCase()));}return{filter:i,tag:hk("event",i),type:"event"};}K(!1,"unknown ProviderEvent","event",e);});}function VV(){return new Date().getTime();}var cGe={cacheTimeout:250,pollingInterval:4e3},Wl=class{#e;#t;#n;#i;#r;#o;#s;#a;#d;#c;#p;#g;constructor(t,n){if(this.#g=Object.assign({},cGe,n||{}),t==="any")this.#o=!0,this.#r=null;else if(t){let i=qn.from(t);this.#o=!1,this.#r=Promise.resolve(i),setTimeout(()=>{this.emit("network",i,null);},0);}else this.#o=!1,this.#r=null;this.#a=-1,this.#s=new Map(),this.#e=new Map(),this.#t=new Map(),this.#n=null,this.#i=!1,this.#d=1,this.#c=new Map(),this.#p=!1;}get pollingInterval(){return this.#g.pollingInterval;}get provider(){return this;}get plugins(){return Array.from(this.#t.values());}attachPlugin(t){if(this.#t.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#t.set(t.name,t.connect(this)),this;}getPlugin(t){return this.#t.get(t)||null;}get disableCcipRead(){return this.#p;}set disableCcipRead(t){this.#p=!!t;}#l(t){return $(this,null,function*(){let n=this.#g.cacheTimeout;if(n<0)return yield this._perform(t);let i=hk(t.method,t),r=this.#s.get(i);return r||(r=this._perform(t),this.#s.set(i,r),setTimeout(()=>{this.#s.get(i)===r&&this.#s.delete(i);},n)),yield r;});}ccipReadFetch(t,n,i){return $(this,null,function*(){if(this.disableCcipRead||i.length===0||t.to==null)return null;let r=t.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<i.length;a++){let l=i[a],c=l.replace("{sender}",r).replace("{data}",s),u=new ki(c);l.indexOf("{data}")===-1&&(u.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:i});let d="unknown error",h;try{h=yield u.send();}catch(f){o.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue;}try{let f=h.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f});}catch{}ye(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:l,errorMessage:d}}),o.push(d);}ye(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:i,errorMessages:o}});});}_wrapBlock(t,n){return new L0(Pae(t),this);}_wrapLog(t,n){return new tl(Iae(t),this);}_wrapTransactionReceipt(t,n){return new Jh(kae(t),this);}_wrapTransactionResponse(t,n){return new vd(NV(t),this);}_detectNetwork(){ye(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"});}_perform(t){return $(this,null,function*(){ye(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t});});}getBlockNumber(){return $(this,null,function*(){let t=Pt(yield this.#l({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=t),t;});}_getAddress(t){return or(t,this);}_getBlockTag(t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t;}if(Nn(t))return Nn(t,32)?t:Ta(t);if(typeof t=="bigint"&&(t=Pt(t,"blockTag")),typeof t=="number")return t>=0?Ta(t):this.#a>=0?Ta(this.#a+t):this.getBlockNumber().then(n=>Ta(n+t));K(!1,"invalid blockTag","blockTag",t);}_getFilter(t){let n=(t.topics||[]).map(l=>l==null?null:Array.isArray(l)?HV(l.map(c=>c.toLowerCase())):l.toLowerCase()),i="blockHash"in t?t.blockHash:void 0,r=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l;}if(i&&(c!=null||u!=null))throw new Error("invalid filter");let h={};return d&&(h.address=d),n.length&&(h.topics=n),c&&(h.fromBlock=c),u&&(h.toBlock=u),i&&(h.blockHash=i),h;},s=[];if(t.address)if(Array.isArray(t.address))for(let l of t.address)s.push(this._getAddress(l));else s.push(this._getAddress(t.address));let o;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));let a;return"toBlock"in t&&(a=this._getBlockTag(t.toBlock)),s.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(l=>r(l[0],l[1],l[2])):r(s,o,a);}_getTransactionRequest(t){let n=$l(t),i=[];if(["to","from"].forEach(r=>{if(n[r]==null)return;let s=or(n[r],this);dk(s)?i.push(function(){return $(this,null,function*(){n[r]=yield s;});}()):n[r]=s;}),n.blockTag!=null){let r=this._getBlockTag(n.blockTag);dk(r)?i.push(function(){return $(this,null,function*(){n.blockTag=yield r;});}()):n.blockTag=r;}return i.length?function(){return $(this,null,function*(){return yield Promise.all(i),n;});}():n;}getNetwork(){return $(this,null,function*(){if(this.#r==null){let r=$(this,null,function*(){try{let s=yield this._detectNetwork();return this.emit("network",s,null),s;}catch(s){throw this.#r===r&&(this.#r=null),s;}});return this.#r=r,(yield r).clone();}let t=this.#r,[n,i]=yield Promise.all([t,this._detectNetwork()]);return n.chainId!==i.chainId&&(this.#o?(this.emit("network",i,n),this.#r===t&&(this.#r=Promise.resolve(i))):ye(!1,`network changed: ${n.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone();});}getFeeData(){return $(this,null,function*(){let t=yield this.getNetwork(),n=()=>$(this,null,function*(){let{_block:r,gasPrice:s,priorityFee:o}=yield Wi({_block:this.#m("latest",!1),gasPrice:$(this,null,function*(){try{let u=yield this.#l({method:"getGasPrice"});return ct(u,"%response");}catch{}return null;}),priorityFee:$(this,null,function*(){try{let u=yield this.#l({method:"getPriorityFee"});return ct(u,"%response");}catch{}return null;})}),a=null,l=null,c=this._wrapBlock(r,t);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*oGe+l),new Zp(s,a,l);}),i=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(i){let r=new ki(i.url),s=yield i.processFunc(n,this,r);return new Zp(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas);}return yield n();});}estimateGas(t){return $(this,null,function*(){let n=this._getTransactionRequest(t);return dk(n)&&(n=yield n),ct(yield this.#l({method:"estimateGas",transaction:n}),"%response");});}#u(t,n,i){return $(this,null,function*(){ye(i<aGe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:n,enableCcipRead:!0})});let r=$l(t);try{return Fe(yield this._perform({method:"call",transaction:r,blockTag:n}));}catch(s){if(!this.disableCcipRead&&Lp(s)&&s.data&&i>=0&&n==="latest"&&r.to!=null&&si(s.data,0,4)==="0x556f1830"){let o=s.data,a=yield or(r.to,this),l;try{l=pGe(si(s.data,4));}catch(d){ye(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:o}});}ye(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});let c=yield this.ccipReadFetch(r,l.calldata,l.urls);ye(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:s.data,errorArgs:l.errorArgs}});let u={to:a,data:Qt([l.selector,fGe([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=yield this.#u(u,n,i+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d;}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d;}}throw s;}});}#h(t){return $(this,null,function*(){let{value:n}=yield Wi({network:this.getNetwork(),value:t});return n;});}call(t){return $(this,null,function*(){let{tx:n,blockTag:i}=yield Wi({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return yield this.#h(this.#u(n,i,t.enableCcipRead?0:-1));});}#f(t,n,i){return $(this,null,function*(){let r=this._getAddress(n),s=this._getBlockTag(i);return(typeof r!="string"||typeof s!="string")&&([r,s]=yield Promise.all([r,s])),yield this.#h(this.#l(Object.assign(t,{address:r,blockTag:s})));});}getBalance(t,n){return $(this,null,function*(){return ct(yield this.#f({method:"getBalance"},t,n),"%response");});}getTransactionCount(t,n){return $(this,null,function*(){return Pt(yield this.#f({method:"getTransactionCount"},t,n),"%response");});}getCode(t,n){return $(this,null,function*(){return Fe(yield this.#f({method:"getCode"},t,n));});}getStorage(t,n,i){return $(this,null,function*(){let r=ct(n,"position");return Fe(yield this.#f({method:"getStorage",position:r},t,i));});}broadcastTransaction(t){return $(this,null,function*(){let{blockNumber:n,hash:i,network:r}=yield Wi({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),s=el.from(t);if(s.hash!==i)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(n);});}#m(t,n){return $(this,null,function*(){if(Nn(t,32))return yield this.#l({method:"getBlock",blockHash:t,includeTransactions:n});let i=this._getBlockTag(t);return typeof i!="string"&&(i=yield i),yield this.#l({method:"getBlock",blockTag:i,includeTransactions:n});});}getBlock(t,n){return $(this,null,function*(){let{network:i,params:r}=yield Wi({network:this.getNetwork(),params:this.#m(t,!!n)});return r==null?null:this._wrapBlock(r,i);});}getTransaction(t){return $(this,null,function*(){let{network:n,params:i}=yield Wi({network:this.getNetwork(),params:this.#l({method:"getTransaction",hash:t})});return i==null?null:this._wrapTransactionResponse(i,n);});}getTransactionReceipt(t){return $(this,null,function*(){let{network:n,params:i}=yield Wi({network:this.getNetwork(),params:this.#l({method:"getTransactionReceipt",hash:t})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){let r=yield this.#l({method:"getTransaction",hash:t});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=r.gasPrice;}return this._wrapTransactionReceipt(i,n);});}getTransactionResult(t){return $(this,null,function*(){let{result:n}=yield Wi({network:this.getNetwork(),result:this.#l({method:"getTransactionResult",hash:t})});return n==null?null:Fe(n);});}getLogs(t){return $(this,null,function*(){let n=this._getFilter(t);dk(n)&&(n=yield n);let{network:i,params:r}=yield Wi({network:this.getNetwork(),params:this.#l({method:"getLogs",filter:n})});return r.map(s=>this._wrapLog(s,i));});}_getProvider(t){ye(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"});}getResolver(t){return $(this,null,function*(){return yield tg.fromName(this,t);});}getAvatar(t){return $(this,null,function*(){let n=yield this.getResolver(t);return n?yield n.getAvatar():null;});}resolveName(t){return $(this,null,function*(){let n=yield this.getResolver(t);return n?yield n.getAddress():null;});}lookupAddress(t){return $(this,null,function*(){t=Bt(t);let n=Yp(t.substring(2).toLowerCase()+".addr.reverse");try{let i=yield tg.getEnsAddress(this),s=yield new Da(i,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Xc)return null;let a=yield new Da(s,["function name(bytes32) view returns (string)"],this).name(n);return(yield this.resolveName(a))!==t?null:a;}catch(i){if(yi(i,"BAD_DATA")&&i.value==="0x"||yi(i,"CALL_EXCEPTION"))return null;throw i;}return null;});}waitForTransaction(t,n,i){return $(this,null,function*(){let r=n??1;return r===0?this.getTransactionReceipt(t):new Promise((s,o)=>$(this,null,function*(){let a=null,l=c=>$(this,null,function*(){try{let u=yield this.getTransactionReceipt(t);if(u!=null&&c-u.blockNumber+1>=r){s(u),a&&(clearTimeout(a),a=null);return;}}catch(u){console.log("EEE",u);}this.once("block",l);});i!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(Yn("timeout","TIMEOUT",{reason:"timeout"})));},i)),l(yield this.getBlockNumber());}));});}waitForBlock(t){return $(this,null,function*(){ye(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"});});}_clearTimeout(t){let n=this.#c.get(t);n&&(n.timer&&clearTimeout(n.timer),this.#c.delete(t));}_setTimeout(t,n){n==null&&(n=0);let i=this.#d++,r=()=>{this.#c.delete(i),t();};if(this.paused)this.#c.set(i,{timer:null,func:r,time:n});else{let s=setTimeout(r,n);this.#c.set(i,{timer:s,func:r,time:VV()});}return i;}_forEachSubscriber(t){for(let n of this.#e.values())t(n.subscriber);}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new nu(t.type);case"block":{let n=new ak(this);return n.pollingInterval=this.pollingInterval,n;}case"safe":case"finalized":return new lk(this,t.type);case"event":return new rg(this,t.filter);case"transaction":return new uk(this,t.hash);case"orphan":return new ck(this,t.filter);}throw new Error(`unsupported event: ${t.type}`);}_recoverSubscriber(t,n){for(let i of this.#e.values())if(i.subscriber===t){i.started&&i.subscriber.stop(),i.subscriber=n,i.started&&n.start(),this.#n!=null&&n.pause(this.#n);break;}}#v(t,n){return $(this,null,function*(){let i=yield BV(t,this);return i.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(i=yield BV({orphan:"drop-log",log:n[0]},this)),this.#e.get(i.tag)||null;});}#y(t){return $(this,null,function*(){let n=yield BV(t,this),i=n.tag,r=this.#e.get(i);return r||(r={subscriber:this._getSubscriber(n),tag:i,addressableMap:new WeakMap(),nameMap:new Map(),started:!1,listeners:[]},this.#e.set(i,r)),r;});}on(t,n){return $(this,null,function*(){let i=yield this.#y(t);return i.listeners.push({listener:n,once:!1}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this;});}once(t,n){return $(this,null,function*(){let i=yield this.#y(t);return i.listeners.push({listener:n,once:!0}),i.started||(i.subscriber.start(),i.started=!0,this.#n!=null&&i.subscriber.pause(this.#n)),this;});}emit(t,...n){return $(this,null,function*(){let i=yield this.#v(t,n);if(!i||i.listeners.length===0)return!1;let r=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:o})=>{let a=new zh(this,o?null:s,t);try{s.call(this,...n,a);}catch{}return!o;}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),this.#e.delete(i.tag)),r>0;});}listenerCount(t){return $(this,null,function*(){if(t){let i=yield this.#v(t);return i?i.listeners.length:0;}let n=0;for(let{listeners:i}of this.#e.values())n+=i.length;return n;});}listeners(t){return $(this,null,function*(){if(t){let i=yield this.#v(t);return i?i.listeners.map(({listener:r})=>r):[];}let n=[];for(let{listeners:i}of this.#e.values())n=n.concat(i.map(({listener:r})=>r));return n;});}off(t,n){return $(this,null,function*(){let i=yield this.#v(t);if(!i)return this;if(n){let r=i.listeners.map(({listener:s})=>s).indexOf(n);r>=0&&i.listeners.splice(r,1);}return(!n||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),this.#e.delete(i.tag)),this;});}removeAllListeners(t){return $(this,null,function*(){if(t){let{tag:n,started:i,subscriber:r}=yield this.#y(t);i&&r.stop(),this.#e.delete(n);}else for(let[n,{started:i,subscriber:r}]of this.#e)i&&r.stop(),this.#e.delete(n);return this;});}addListener(t,n){return $(this,null,function*(){return yield this.on(t,n);});}removeListener(t,n){return $(this,null,function*(){return this.off(t,n);});}get destroyed(){return this.#i;}destroy(){this.removeAllListeners();for(let t of this.#c.keys())this._clearTimeout(t);this.#i=!0;}get paused(){return this.#n!=null;}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1));}pause(t){if(this.#a=-1,this.#n!=null){if(this.#n==!!t)return;ye(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"});}this._forEachSubscriber(n=>n.pause(t)),this.#n=!!t;for(let n of this.#c.values())n.timer&&clearTimeout(n.timer),n.time=VV()-n.time;}resume(){if(this.#n!=null){this._forEachSubscriber(t=>t.resume()),this.#n=null;for(let t of this.#c.values()){let n=t.time;n<0&&(n=0),t.time=VV(),setTimeout(t.func,n);}}}};function uGe(e,t){try{let n=GV(e,t);if(n)return Ko(n);}catch{}return null;}function GV(e,t){if(e==="0x")return null;try{let n=Pt(si(e,t,t+32)),i=Pt(si(e,n,n+32));return si(e,n+32,n+32+i);}catch{}return null;}function Lae(e){let t=ir(e);if(t.length>32)throw new Error("internal; should not happen");let n=new Uint8Array(32);return n.set(t,32-t.length),n;}function dGe(e){if(e.length%32===0)return e;let t=new Uint8Array(Math.ceil(e.length/32)*32);return t.set(e),t;}var hGe=new Uint8Array([]);function fGe(e){let t=[],n=0;for(let i=0;i<e.length;i++)t.push(hGe),n+=32;for(let i=0;i<e.length;i++){let r=Ue(e[i]);t[i]=Lae(n),t.push(Lae(r.length)),t.push(dGe(r)),n+=32+Math.ceil(r.length/32)*32;}return Qt(t);}var Oae="0x0000000000000000000000000000000000000000000000000000000000000000";function pGe(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ye(Ea(e)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let n=si(e,0,32);ye(si(n,0,12)===si(Oae,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=si(n,12);try{let i=[],r=Pt(si(e,32,64)),s=Pt(si(e,r,r+32)),o=si(e,r+32);for(let a=0;a<s;a++){let l=uGe(o,a*32);if(l==null)throw new Error("abort");i.push(l);}t.urls=i;}catch{ye(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"});}try{let i=GV(e,64);if(i==null)throw new Error("abort");t.calldata=i;}catch{ye(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"});}ye(si(e,100,128)===si(Oae,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=si(e,96,100);try{let i=GV(e,128);if(i==null)throw new Error("abort");t.extraData=i;}catch{ye(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"});}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(i=>t[i]),t;}function Zx(e,t){if(e.provider)return e.provider;ye(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t});}function Bae(e,t){return $(this,null,function*(){let n=$l(t);if(n.to!=null&&(n.to=or(n.to,e)),n.from!=null){let i=n.from;n.from=Promise.all([e.getAddress(),or(i,e)]).then(([r,s])=>(K(r.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),r));}else n.from=e.getAddress();return yield Wi(n);});}var ql=class{provider;constructor(t){$e(this,{provider:t||null});}getNonce(t){return $(this,null,function*(){return Zx(this,"getTransactionCount").getTransactionCount(yield this.getAddress(),t);});}populateCall(t){return $(this,null,function*(){return yield Bae(this,t);});}populateTransaction(t){return $(this,null,function*(){let n=Zx(this,"populateTransaction"),i=yield Bae(this,t);i.nonce==null&&(i.nonce=yield this.getNonce("pending")),i.gasLimit==null&&(i.gasLimit=yield this.estimateGas(i));let r=yield this.provider.getNetwork();if(i.chainId!=null){let o=ct(i.chainId);K(o===r.chainId,"transaction chainId mismatch","tx.chainId",t.chainId);}else i.chainId=r.chainId;let s=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||s)?K(!1,"eip-1559 transaction do not support gasPrice","tx",t):(i.type===0||i.type===1)&&s&&K(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1){let o=yield n.getFeeData();ye(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),i.gasPrice==null&&(i.gasPrice=o.gasPrice);}else{let o=yield n.getFeeData();if(i.type==null){if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null){if(i.type=2,i.gasPrice!=null){let a=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=a,i.maxPriorityFeePerGas=a;}else i.maxFeePerGas==null&&(i.maxFeePerGas=o.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=o.maxPriorityFeePerGas);}else o.gasPrice!=null?(ye(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=o.gasPrice),i.type=0):ye(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});}else(i.type===2||i.type===3)&&(i.maxFeePerGas==null&&(i.maxFeePerGas=o.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=o.maxPriorityFeePerGas));}return yield Wi(i);});}estimateGas(t){return $(this,null,function*(){return Zx(this,"estimateGas").estimateGas(yield this.populateCall(t));});}call(t){return $(this,null,function*(){return Zx(this,"call").call(yield this.populateCall(t));});}resolveName(t){return $(this,null,function*(){return yield Zx(this,"resolveName").resolveName(t);});}sendTransaction(t){return $(this,null,function*(){let n=Zx(this,"sendTransaction"),i=yield this.populateTransaction(t);delete i.from;let r=el.from(i);return yield n.broadcastTransaction(yield this.signTransaction(r));});}},G0=class e extends ql{address;constructor(t,n){super(n),$e(this,{address:t});}getAddress(){return $(this,null,function*(){return this.address;});}connect(t){return new e(this.address,t);}#e(t,n){ye(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n});}signTransaction(t){return $(this,null,function*(){this.#e("transactions","signTransaction");});}signMessage(t){return $(this,null,function*(){this.#e("messages","signMessage");});}signTypedData(t,n,i){return $(this,null,function*(){this.#e("typed-data","signTypedData");});}};var Vae=new Set();function Zs(e){Vae.has(e)||(Vae.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="));}function gGe(e){return JSON.parse(JSON.stringify(e));}var fk=class{#e;#t;#n;#i;#r;#o;constructor(t){this.#e=t,this.#t=null,this.#n=this.#s.bind(this),this.#i=!1,this.#r=null,this.#o=!1;}_subscribe(t){throw new Error("subclasses must override this");}_emitResults(t,n){throw new Error("subclasses must override this");}_recover(t){throw new Error("subclasses must override this");}#s(t){return $(this,null,function*(){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let n=null;try{n=yield this.#t;}catch(s){if(!yi(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s;}if(n==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return;}let i=yield this.#e.getNetwork();if(this.#r||(this.#r=i),this.#r.chainId!==i.chainId)throw new Error("chaid changed");if(this.#o)return;let r=yield this.#e.send("eth_getFilterChanges",[n]);yield this._emitResults(this.#e,r);}catch(n){console.log("@TODO",n);}this.#e.once("block",this.#n);});}#a(){let t=this.#t;t&&(this.#t=null,t.then(n=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[n]);}));}start(){this.#i||(this.#i=!0,this.#s(-2));}stop(){this.#i&&(this.#i=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#n));}pause(t){t&&this.#a(),this.#e.off("block",this.#n);}resume(){this.start();}},pk=class extends fk{#e;constructor(t,n){super(t),this.#e=gGe(n);}_recover(t){return new rg(t,this.#e);}_subscribe(t){return $(this,null,function*(){return yield t.send("eth_newFilter",[this.#e]);});}_emitResults(t,n){return $(this,null,function*(){for(let i of n)t.emit(this.#e,t._wrapLog(i,t._network));});}},gk=class extends fk{_subscribe(t){return $(this,null,function*(){return yield t.send("eth_newPendingTransactionFilter",[]);});}_emitResults(t,n){return $(this,null,function*(){for(let i of n)t.emit("pending",i);});}};var mGe="bigint,boolean,function,number,string,symbol".split(/,/g);function mk(e){if(e==null||mGe.indexOf(typeof e)>=0||typeof e.getAddress=="function")return e;if(Array.isArray(e))return e.map(mk);if(typeof e=="object")return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error(`should not happen: ${e} (${typeof e})`);}function vGe(e){return new Promise(t=>{setTimeout(t,e);});}function Jx(e){return e&&e.toLowerCase();}function Hae(e){return e&&typeof e.pollingInterval=="number";}var Gae={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},sg=class extends ql{address;constructor(t,n){super(t),n=Bt(n),$e(this,{address:n});}connect(t){ye(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"});}getAddress(){return $(this,null,function*(){return this.address;});}populateTransaction(t){return $(this,null,function*(){return yield this.populateCall(t);});}sendUncheckedTransaction(t){return $(this,null,function*(){let n=mk(t),i=[];if(n.from){let s=n.from;i.push($(this,null,function*(){let o=yield or(s,this.provider);K(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=o;}));}else n.from=this.address;if(n.gasLimit==null&&i.push($(this,null,function*(){n.gasLimit=yield this.provider.estimateGas(Re(O({},n),{from:this.address}));})),n.to!=null){let s=n.to;i.push($(this,null,function*(){n.to=yield or(s,this.provider);}));}i.length&&(yield Promise.all(i));let r=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[r]);});}sendTransaction(t){return $(this,null,function*(){let n=yield this.provider.getBlockNumber(),i=yield this.sendUncheckedTransaction(t);return yield new Promise((r,s)=>{let o=[1e3,100],a=0,l=()=>$(this,null,function*(){try{let c=yield this.provider.getTransaction(i);if(c!=null){r(c.replaceableTransaction(n));return;}}catch(c){if(yi(c,"CANCELLED")||yi(c,"BAD_DATA")||yi(c,"NETWORK_ERROR")||yi(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=i,s(c);return;}if(yi(c,"INVALID_ARGUMENT")&&(a++,c.info==null&&(c.info={}),c.info.sendTransactionHash=i,a>10)){s(c);return;}this.provider.emit("error",Yn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}));}this.provider._setTimeout(()=>{l();},o.pop()||4e3);});l();});});}signTransaction(t){return $(this,null,function*(){let n=mk(t);if(n.from){let r=yield or(n.from,this.provider);K(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=r;}else n.from=this.address;let i=this.provider.getRpcTransaction(n);return yield this.provider.send("eth_signTransaction",[i]);});}signMessage(t){return $(this,null,function*(){let n=typeof t=="string"?bi(t):t;return yield this.provider.send("personal_sign",[Fe(n),this.address.toLowerCase()]);});}signTypedData(t,n,i){return $(this,null,function*(){let r=mk(i),s=yield Ul.resolveNames(t,n,r,o=>$(this,null,function*(){let a=yield or(o);return K(a!=null,"TypedData does not support null address","value",o),a;}));return yield this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ul.getPayload(s.domain,n,s.value))]);});}unlock(t){return $(this,null,function*(){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null]);});}_legacySignMessage(t){return $(this,null,function*(){let n=typeof t=="string"?bi(t):t;return yield this.provider.send("eth_sign",[this.address.toLowerCase(),Fe(n)]);});}},og=class e extends Wl{#e;#t;#n;#i;#r;#o;#s;#a(){if(this.#i)return;let t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#i=setTimeout(()=>{this.#i=null;let n=this.#n;for(this.#n=[];n.length;){let i=[n.shift()];for(;n.length&&i.length!==this.#e.batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(s=>s.payload)).length>this.#e.batchMaxSize){n.unshift(i.pop());break;}$(this,null,function*(){let r=i.length===1?i[0].payload:i.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{let s=yield this._send(r);this.emit("debug",{action:"receiveRpcResult",result:s});for(let{resolve:o,reject:a,payload:l}of i){if(this.destroyed){a(Yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue;}let c=s.filter(u=>u.id===l.id)[0];if(c==null){let u=Yn("missing response for request","BAD_DATA",{value:s,info:{payload:l}});this.emit("error",u),a(u);continue;}if("error"in c){a(this.getRpcError(l,c));continue;}o(c.result);}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(let{reject:o}of i)o(s);}});}},t);}constructor(t,n){super(t,n),this.#t=1,this.#e=Object.assign({},Gae,n||{}),this.#n=[],this.#i=null,this.#o=null,this.#s=null;{let r=null,s=new Promise(o=>{r=o;});this.#r={promise:s,resolve:r};}let i=this._getOption("staticNetwork");typeof i=="boolean"?(K(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&t!=null&&(this.#o=qn.from(t))):i&&(K(t==null||i.matches(t),"staticNetwork MUST match network object","options",n),this.#o=i);}_getOption(t){return this.#e[t];}get _network(){return ye(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o;}_perform(t){return $(this,null,function*(){if(t.method==="call"||t.method==="estimateGas"){let i=t.transaction;if(i&&i.type!=null&&ct(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){let r=yield this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}));}}let n=this.getRpcRequest(t);return n!=null?yield this.send(n.method,n.args):hs(e.prototype,this,"_perform").call(this,t);});}_detectNetwork(){return $(this,null,function*(){let t=this._getOption("staticNetwork");if(t)if(t===!0){if(this.#o)return this.#o;}else return t;return this.#s?yield this.#s:this.ready?(this.#s=$(this,null,function*(){try{let n=qn.from(ct(yield this.send("eth_chainId",[])));return this.#s=null,n;}catch(n){throw this.#s=null,n;}}),yield this.#s):(this.#s=$(this,null,function*(){let n={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(yield this._send(n))[0],this.#s=null;}catch(r){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:r}),r;}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return qn.from(ct(i.result));throw this.getRpcError(n,i);}),yield this.#s);});}_start(){this.#r==null||this.#r.resolve==null||(this.#r.resolve(),this.#r=null,$(this,null,function*(){for(;this.#o==null&&!this.destroyed;)try{this.#o=yield this._detectNetwork();}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Yn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),yield vGe(1e3);}this.#a();}));}_waitUntilReady(){return $(this,null,function*(){if(this.#r!=null)return yield this.#r.promise;});}_getSubscriber(t){return t.type==="pending"?new gk(this):t.type==="event"?this._getOption("polling")?new rg(this,t.filter):new pk(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new nu("orphan"):super._getSubscriber(t);}get ready(){return this.#r==null;}getRpcTransaction(t){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(t[i]==null)return;let r=i;i==="gasLimit"&&(r="gas"),n[r]=Ta(ct(t[i],`tx.${i}`));}),["from","to","data"].forEach(i=>{t[i]!=null&&(n[i]=Fe(t[i]));}),t.accessList&&(n.accessList=Xs(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(i=>i.toLowerCase())),n;}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Jx(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Jx(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Jx(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Jx(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Jx):t.filter.address=Jx(t.filter.address)),{method:"eth_getLogs",args:[t.filter]};}return null;}getRpcError(t,n){let{method:i}=t,{error:r}=n;if(i==="eth_estimateGas"&&r.message){let a=r.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Yn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:r}});}if(i==="eth_call"||i==="eth_estimateGas"){let a=zV(r),l=jl.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",t.params[0],a?a.data:null);return l.info={error:r,payload:t},l;}let s=JSON.stringify(yGe(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Yn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:t,error:r}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){let a=t.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Yn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return Yn("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Yn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:r}});if(s.match(/only replay-protected/i))return Yn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:a,info:{error:r}}});}let o=!!s.match(/the method .* does not exist/i);return o||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(o=!0),o?Yn("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:r,payload:t}}):Yn("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:t});}send(t,n){if(this.destroyed)return Promise.reject(Yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));let i=this.#t++,r=new Promise((s,o)=>{this.#n.push({resolve:s,reject:o,payload:{method:t,params:n,id:i,jsonrpc:"2.0"}});});return this.#a(),r;}getSigner(t){return $(this,null,function*(){t==null&&(t=0);let n=this.send("eth_accounts",[]);if(typeof t=="number"){let r=yield n;if(t>=r.length)throw new Error("no such account");return new sg(this,r[t]);}let{accounts:i}=yield Wi({network:this.getNetwork(),accounts:n});t=Bt(t);for(let r of i)if(Bt(r)===t)return new sg(this,t);throw new Error("invalid account");});}listAccounts(){return $(this,null,function*(){return(yield this.send("eth_accounts",[])).map(n=>new sg(this,n));});}destroy(){this.#i&&(clearTimeout(this.#i),this.#i=null);for(let{payload:t,reject:n}of this.#n)n(Yn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#n=[],super.destroy();}},p2=class extends og{#e;constructor(t,n){super(t,n);let i=this._getOption("pollingInterval");i==null&&(i=Gae.pollingInterval),this.#e=i;}_getSubscriber(t){let n=super._getSubscriber(t);return Hae(n)&&(n.pollingInterval=this.#e),n;}get pollingInterval(){return this.#e;}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#e=t,this._forEachSubscriber(n=>{Hae(n)&&(n.pollingInterval=this.#e);});}},br=class e extends p2{#e;constructor(t,n,i){t==null&&(t="http://localhost:8545"),super(n,i),typeof t=="string"?this.#e=new ki(t):this.#e=t.clone();}_getConnection(){return this.#e.clone();}send(t,n){return $(this,null,function*(){return yield this._start(),yield hs(e.prototype,this,"send").call(this,t,n);});}_send(t){return $(this,null,function*(){let n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");let i=yield n.send();i.assertOk();let r=i.bodyJson;return Array.isArray(r)||(r=[r]),r;});}};function zV(e){if(e==null)return null;if(typeof e.message=="string"&&e.message.match(/revert/i)&&Nn(e.data))return{message:e.message,data:e.data};if(typeof e=="object"){for(let t in e){let n=zV(e[t]);if(n)return n;}return null;}if(typeof e=="string")try{return zV(JSON.parse(e));}catch{}return null;}function UV(e,t){if(e!=null){if(typeof e.message=="string"&&t.push(e.message),typeof e=="object")for(let n in e)UV(e[n],t);if(typeof e=="string")try{return UV(JSON.parse(e),t);}catch{}}}function yGe(e){let t=[];return UV(e,t),t;}var vk="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function bGe(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia";}K(!1,"unsupported network","network",e);}var z0=class e extends br{apiKey;constructor(t,n){t==null&&(t="mainnet");let i=qn.from(t);n==null&&(n=vk);let r={polling:!0,staticNetwork:i},s=e.getRequest(i,n);super(s,i,r),$e(this,{apiKey:n});}_getProvider(t){try{return new e(t,this.apiKey);}catch{}return super._getProvider(t);}static getRequest(t,n){n==null&&(n=vk);let i=new ki(`https://${bGe(t.name)}/${n}`);return i.allowGzip=!0,n===vk&&(i.retryFunc=(r,s,o)=>$(this,null,function*(){return Zs("AnkrProvider"),!0;})),i;}getRpcError(t,n){return t.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(t,n);}isCommunityResource(){return this.apiKey===vk;}};var yk="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function xGe(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com";}K(!1,"unsupported network","network",e);}var U0=class e extends br{apiKey;constructor(t,n){t==null&&(t="mainnet");let i=qn.from(t);n==null&&(n=yk);let r=e.getRequest(i,n);super(r,i,{staticNetwork:i}),$e(this,{apiKey:n});}_getProvider(t){try{return new e(t,this.apiKey);}catch{}return super._getProvider(t);}_perform(t){return $(this,null,function*(){if(t.method==="getTransactionResult"){let{trace:n,tx:i}=yield Wi({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(n==null||i==null)return null;let r,s=!1;try{r=n[0].result.output,s=n[0].error==="Reverted";}catch{}if(r)return ye(!s,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:r,reason:null,transaction:i,invocation:null,revert:null}),r;ye(!1,"could not parse trace result","BAD_DATA",{value:n});}return yield hs(e.prototype,this,"_perform").call(this,t);});}isCommunityResource(){return this.apiKey===yk;}static getRequest(t,n){n==null&&(n=yk);let i=new ki(`https://${xGe(t.name)}/v2/${n}`);return i.allowGzip=!0,n===yk&&(i.retryFunc=(r,s,o)=>$(this,null,function*(){return Zs("alchemy"),!0;})),i;}};function bk(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249";}K(!1,"unsupported network","network",e);}function wGe(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com";}K(!1,"unsupported network","network",e);}var j0=class e extends br{apiKey;constructor(t,n){t==null&&(t="mainnet");let i=qn.from(t);n==null&&(n=bk(i.name));let r=e.getRequest(i,n);super(r,i,{staticNetwork:i}),$e(this,{apiKey:n});}_getProvider(t){try{return new e(t,this.apiKey);}catch{}return super._getProvider(t);}isCommunityResource(){return this.apiKey===bk(this._network.name);}static getRequest(t,n){n==null&&(n=bk(t.name));let i=new ki(`https://${wGe(t.name)}/${n}`);return i.allowGzip=!0,n===bk(t.name)&&(i.retryFunc=(r,s,o)=>$(this,null,function*(){return Zs("ChainstackProvider"),!0;})),i;}};var $0=class extends br{constructor(t){t==null&&(t="mainnet");let n=qn.from(t);K(n.name==="mainnet","unsupported network","network",t),super("https://cloudflare-eth.com/",n,{staticNetwork:n});}};var zae=2e3;function CGe(e){return e&&typeof e.then=="function";}var Uae="org.ethers.plugins.provider.Etherscan",g2=class e extends tu{baseUrl;constructor(t){super(Uae),$e(this,{baseUrl:t});}clone(){return new e(this.baseUrl);}},_Ge=["enableCcipRead"],SGe=1,W0=class e extends Wl{network;apiKey;#e;constructor(t,n){let i=n??null;super();let r=qn.from(t);this.#e=r.getPlugin(Uae),$e(this,{apiKey:i,network:r}),this.getBaseUrl();}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}K(!1,"unsupported network","network",this.network);}getUrl(t,n){let i=Object.keys(n).reduce((s,o)=>{let a=n[o];return a!=null&&(s+=`&${o}=${a}`),s;},""),r=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${t}${i}${r}`;}getPostUrl(){return`${this.getBaseUrl()}/api`;}getPostData(t,n){return n.module=t,n.apikey=this.apiKey,n;}detectNetwork(){return $(this,null,function*(){return this.network;});}fetch(t,n,i){return $(this,null,function*(){let r=SGe++,s=i?this.getPostUrl():this.getUrl(t,n),o=i?this.getPostData(t,n):null;this.emit("debug",{action:"sendRequest",id:r,url:s,payload:o});let a=new ki(s);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,d,h)=>(this.isCommunityResource()&&Zs("Etherscan"),Promise.resolve(!0)),a.processFunc=(u,d)=>$(this,null,function*(){let h=d.hasBody()?JSON.parse(Ko(d.body)):{},f=(typeof h.result=="string"?h.result:"").toLowerCase().indexOf("rate limit")>=0;return t==="proxy"?h&&h.status==0&&h.message=="NOTOK"&&f&&(this.emit("debug",{action:"receiveError",id:r,reason:"proxy-NOTOK",error:h}),d.throwThrottleError(h.result,zae)):f&&(this.emit("debug",{action:"receiveError",id:r,reason:"null result",error:h.result}),d.throwThrottleError(h.result,zae)),d;}),o&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(o).map(u=>`${u}=${o[u]}`).join("&"));let l=yield a.send();try{l.assertOk();}catch(u){this.emit("debug",{action:"receiveError",id:r,error:u,reason:"assertOk"}),ye(!1,"response error","SERVER_ERROR",{request:a,response:l});}l.hasBody()||(this.emit("debug",{action:"receiveError",id:r,error:"missing body",reason:"null body"}),ye(!1,"missing response","SERVER_ERROR",{request:a,response:l}));let c=JSON.parse(Ko(l.body));return t==="proxy"?(c.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:r,result:c,reason:"invalid JSON-RPC"}),ye(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:l,info:{result:c}})),c.error&&(this.emit("debug",{action:"receiveError",id:r,result:c,reason:"JSON-RPC error"}),ye(!1,"error response","SERVER_ERROR",{request:a,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:r,result:c}),c.result):c.status==0&&(c.message==="No records found"||c.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:r,result:c}),c.result):((c.status!=1||typeof c.message=="string"&&!c.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:r,result:c}),ye(!1,"error response","SERVER_ERROR",{request:a,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:r,result:c}),c.result);});}_getTransactionPostData(t){let n={};for(let i in t){if(_Ge.indexOf(i)>=0||t[i]==null)continue;let r=t[i];if(!(i==="type"&&r===0)&&!(i==="blockTag"&&r==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[i])r=Ta(r);else if(i==="accessList")r="["+Xs(r).map(s=>`{address:"${s.address}",storageKeys:["${s.storageKeys.join('","')}"]}`).join(",")+"]";else if(i==="blobVersionedHashes"){if(r.length===0)continue;ye(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:t}});}else r=Fe(r);n[i]=r;}}return n;}_checkError(t,n,i){let r="";if(yi(n,"SERVER_ERROR")){try{r=n.info.result.error.message;}catch{}if(!r)try{r=n.info.message;}catch{}}if(t.method==="estimateGas"&&!r.match(/revert/i)&&r.match(/insufficient funds/i)&&ye(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.transaction}),(t.method==="call"||t.method==="estimateGas")&&r.match(/execution reverted/i)){let s="";try{s=n.info.result.error.data;}catch{}let o=jl.getBuiltinCallException(t.method,t.transaction,s);throw o.info={request:t,error:n},o;}if(r&&t.method==="broadcastTransaction"){let s=el.from(t.signedTransaction);r.match(/replacement/i)&&r.match(/underpriced/i)&&ye(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:s}),r.match(/insufficient funds/)&&ye(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:s}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ye(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:s});}throw n;}_detectNetwork(){return $(this,null,function*(){return this.network;});}_perform(t){return $(this,null,function*(){switch(t.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>this._checkError(t,n,t.signedTransaction));case"getBlock":if("blockTag"in t)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});ye(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.hash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_call";try{return yield this.fetch("proxy",n,!0);}catch(i){return this._checkError(t,i,t.transaction);}}case"estimateGas":{let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return yield this.fetch("proxy",n,!0);}catch(i){return this._checkError(t,i,t.transaction);}}default:break;}return hs(e.prototype,this,"_perform").call(this,t);});}getNetwork(){return $(this,null,function*(){return this.network;});}getEtherPrice(){return $(this,null,function*(){return this.network.name!=="mainnet"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd);});}getContract(t){return $(this,null,function*(){let n=this._getAddress(t);CGe(n)&&(n=yield n);try{let i=yield this.fetch("contract",{action:"getabi",address:n}),r=JSON.parse(i);return new Da(n,r,this);}catch{return null;}});}isCommunityResource(){return this.apiKey==null;}};function EGe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object");}var jae=EGe().WebSocket;var ag=class{#e;#t;get filter(){return JSON.parse(this.#t);}#n;#i;#r;constructor(t,n){this.#e=t,this.#t=JSON.stringify(n),this.#n=null,this.#i=null,this.#r=null;}start(){this.#n=this.#e.send("eth_subscribe",this.filter).then(t=>(this.#e._register(t,this),t));}stop(){this.#n.then(t=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[t]);}),this.#n=null;}pause(t){ye(t,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#i=!!t;}resume(){this.#i=null;}_handleMessage(t){if(this.#n!=null&&this.#i===null){let n=this.#r;n==null?n=this._emit(this.#e,t):n=n.then(()=>$(this,null,function*(){yield this._emit(this.#e,t);})),this.#r=n.then(()=>{this.#r===n&&(this.#r=null);});}}_emit(t,n){return $(this,null,function*(){throw new Error("sub-classes must implemente this; _emit");});}},ew=class extends ag{constructor(t){super(t,["newHeads"]);}_emit(t,n){return $(this,null,function*(){t.emit("block",parseInt(n.number));});}},tw=class extends ag{constructor(t){super(t,["newPendingTransactions"]);}_emit(t,n){return $(this,null,function*(){t.emit("pending",n);});}},nw=class extends ag{#e;get logFilter(){return JSON.parse(this.#e);}constructor(t,n){super(t,["logs",n]),this.#e=JSON.stringify(n);}_emit(t,n){return $(this,null,function*(){t.emit(this.logFilter,t._wrapLog(n,t._network));});}},q0=class extends og{#e;#t;#n;constructor(t,n){let i=Object.assign({},n??{});K(i.batchMaxCount==null||i.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),i.batchMaxCount=1,i.staticNetwork==null&&(i.staticNetwork=!0),super(t,i),this.#e=new Map(),this.#t=new Map(),this.#n=new Map();}_getSubscriber(t){switch(t.type){case"close":return new nu("close");case"block":return new ew(this);case"pending":return new tw(this);case"event":return new nw(this,t.filter);case"orphan":if(t.filter.orphan==="drop-log")return new nu("drop-log");}return super._getSubscriber(t);}_register(t,n){this.#t.set(t,n);let i=this.#n.get(t);if(i){for(let r of i)n._handleMessage(r);this.#n.delete(t);}}_send(t){return $(this,null,function*(){K(!Array.isArray(t),"WebSocket does not support batch send","payload",t);let n=new Promise((i,r)=>{this.#e.set(t.id,{payload:t,resolve:i,reject:r});});return yield this._waitUntilReady(),yield this._write(JSON.stringify(t)),[yield n];});}_processMessage(t){return $(this,null,function*(){let n=JSON.parse(t);if(n&&typeof n=="object"&&"id"in n){let i=this.#e.get(n.id);if(i==null){this.emit("error",Yn("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return;}this.#e.delete(n.id),i.resolve(n);}else if(n&&n.method==="eth_subscription"){let i=n.params.subscription,r=this.#t.get(i);if(r)r._handleMessage(n.params.result);else{let s=this.#n.get(i);s==null&&(s=[],this.#n.set(i,s)),s.push(n.params.result);}}else{this.emit("error",Yn("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return;}});}_write(t){return $(this,null,function*(){throw new Error("sub-classes must override this");});}};var rf=class e extends q0{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t;}constructor(t,n,i){super(n,i),typeof t=="string"?(this.#e=()=>new jae(t),this.#t=this.#e()):typeof t=="function"?(this.#e=t,this.#t=t()):(this.#e=null,this.#t=t),this.websocket.onopen=()=>$(this,null,function*(){try{yield this._start(),this.resume();}catch(r){console.log("failed to start WebsocketProvider",r);}}),this.websocket.onmessage=r=>{this._processMessage(r.data);};}_write(t){return $(this,null,function*(){this.websocket.send(t);});}destroy(){return $(this,null,function*(){this.#t!=null&&(this.#t.close(),this.#t=null),hs(e.prototype,this,"destroy").call(this);});}};var m2="84842078b09946638c03157f83405213";function TGe(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io";}K(!1,"unsupported network","network",e);}var iw=class extends rf{projectId;projectSecret;constructor(t,n){let i=new lg(t,n),r=i._getConnection();ye(!r.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let s=r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,i._network),$e(this,{projectId:i.projectId,projectSecret:i.projectSecret});}isCommunityResource(){return this.projectId===m2;}},lg=class e extends br{projectId;projectSecret;constructor(t,n,i){t==null&&(t="mainnet");let r=qn.from(t);n==null&&(n=m2),i==null&&(i=null);let s=e.getRequest(r,n,i);super(s,r,{staticNetwork:r}),$e(this,{projectId:n,projectSecret:i});}_getProvider(t){try{return new e(t,this.projectId,this.projectSecret);}catch{}return super._getProvider(t);}isCommunityResource(){return this.projectId===m2;}static getWebSocketProvider(t,n){return new iw(t,n);}static getRequest(t,n,i){n==null&&(n=m2),i==null&&(i=null);let r=new ki(`https://${TGe(t.name)}/v3/${n}`);return r.allowGzip=!0,i&&r.setCredentials("",i),n===m2&&(r.retryFunc=(s,o,a)=>$(this,null,function*(){return Zs("InfuraProvider"),!0;})),r;}};var xk="919b412a057b5e9c9b6dce193c5a60242d6efadb";function AGe(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro";}K(!1,"unsupported network","network",e);}var K0=class e extends br{token;constructor(t,n){t==null&&(t="mainnet");let i=qn.from(t);n==null&&(n=xk);let r=e.getRequest(i,n);super(r,i,{staticNetwork:i}),$e(this,{token:n});}_getProvider(t){try{return new e(t,this.token);}catch{}return super._getProvider(t);}isCommunityResource(){return this.token===xk;}static getRequest(t,n){n==null&&(n=xk);let i=new ki(`https://${AGe(t.name)}/${n}`);return i.allowGzip=!0,n===xk&&(i.retryFunc=(r,s,o)=>$(this,null,function*(){return Zs("QuickNodeProvider"),!0;})),i;}};var DGe=BigInt("1"),RGe=BigInt("2");function IGe(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i;}}function PGe(e){return new Promise(t=>{setTimeout(t,e);});}function qV(){return new Date().getTime();}function jV(e){return JSON.stringify(e,(t,n)=>typeof n=="bigint"?{type:"bigint",value:n.toString()}:n);}var $ae={stallTimeout:400,priority:1,weight:1},Wae={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};function kGe(e,t){return $(this,null,function*(){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=$(this,null,function*(){try{let n=yield e.provider.getBlockNumber();n>e.blockNumber&&(e.blockNumber=n);}catch(n){e.blockNumber=-2,e._lastFatalError=n,e._lastFatalErrorTimestamp=qV();}e._updateNumber=null;})),yield e._updateNumber,e.outOfSync++,!e._lastFatalError););});}function v2(e){if(e==null)return"null";if(Array.isArray(e))return"["+e.map(v2).join(",")+"]";if(typeof e=="object"&&typeof e.toJSON=="function")return v2(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{"+t.map(n=>`${JSON.stringify(n)}:${v2(e[n])}`).join(",")+"}";}}throw console.log("Could not serialize",e),new Error("Hmm...");}function $V(e){if("error"in e){let n=e.error;return{tag:v2(n),value:n};}let t=e.result;return{tag:v2(t),value:t};}function wk(e,t){let n=new Map();for(let{value:r,tag:s,weight:o}of t){let a=n.get(s)||{value:r,weight:0};a.weight+=o,n.set(s,a);}let i=null;for(let r of n.values())r.weight>=e&&(!i||r.weight>i.weight)&&(i=r);if(i)return i.value;}function KV(e,t){let n=0,i=new Map(),r=null,s=[];for(let{value:a,tag:l,weight:c}of t)if(a instanceof Error){let u=i.get(l)||{value:a,weight:0};u.weight+=c,i.set(l,u),(r==null||u.weight>r.weight)&&(r=u);}else s.push(BigInt(a)),n+=c;if(n<e)return r&&r.weight>=e?r.value:void 0;s.sort((a,l)=>a<l?-1:l>a?1:0);let o=Math.floor(s.length/2);return s.length%2?s[o]:(s[o-1]+s[o]+DGe)/RGe;}function WV(e,t){let n=wk(e,t);if(n!==void 0)return n;for(let i of t)if(i.value)return i.value;}function MGe(e,t){if(e===1)return Pt(KV(e,t),"%internal");let n=new Map(),i=(o,a)=>{let l=n.get(o)||{result:o,weight:0};l.weight+=a,n.set(o,l);};for(let{weight:o,value:a}of t){let l=Pt(a);i(l-1,o),i(l,o),i(l+1,o);}let r=0,s;for(let{weight:o,result:a}of n.values())o>=e&&(o>r||s!=null&&o===r&&a>s)&&(r=o,s=a);return s;}var Y0=class e extends Wl{quorum;eventQuorum;eventWorkers;#e;#t;#n;constructor(t,n,i){super(n,i),this.#e=t.map(r=>r instanceof Wl?Object.assign({provider:r},$ae,Wae):Object.assign({},$ae,r,Wae)),this.#t=-2,this.#n=null,i&&i.quorum!=null?this.quorum=i.quorum:this.quorum=Math.ceil(this.#e.reduce((r,s)=>(r+=s.weight,r),0)/2),this.eventQuorum=1,this.eventWorkers=1,K(this.quorum<=this.#e.reduce((r,s)=>r+s.weight,0),"quorum exceed provider weight","quorum",this.quorum);}get providerConfigs(){return this.#e.map(t=>{let n=Object.assign({},t);for(let i in n)i[0]==="_"&&delete n[i];return n;});}_detectNetwork(){return $(this,null,function*(){return qn.from(ct(yield this._perform({method:"chainId"})));});}_translatePerform(t,n){return $(this,null,function*(){switch(n.method){case"broadcastTransaction":return yield t.broadcastTransaction(n.signedTransaction);case"call":return yield t.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(yield t.getNetwork()).chainId;case"estimateGas":return yield t.estimateGas(n.transaction);case"getBalance":return yield t.getBalance(n.address,n.blockTag);case"getBlock":{let i="blockHash"in n?n.blockHash:n.blockTag;return yield t.getBlock(i,n.includeTransactions);}case"getBlockNumber":return yield t.getBlockNumber();case"getCode":return yield t.getCode(n.address,n.blockTag);case"getGasPrice":return(yield t.getFeeData()).gasPrice;case"getPriorityFee":return(yield t.getFeeData()).maxPriorityFeePerGas;case"getLogs":return yield t.getLogs(n.filter);case"getStorage":return yield t.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return yield t.getTransaction(n.hash);case"getTransactionCount":return yield t.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return yield t.getTransactionReceipt(n.hash);case"getTransactionResult":return yield t.getTransactionResult(n.hash);}});}#i(t){let n=Array.from(t).map(r=>r.config),i=this.#e.slice();IGe(i),i.sort((r,s)=>r.priority-s.priority);for(let r of i)if(!r._lastFatalError&&n.indexOf(r)===-1)return r;return null;}#r(t,n){let i=this.#i(t);if(i==null)return null;let r={config:i,result:null,didBump:!1,perform:null,staller:null},s=qV();return r.perform=$(this,null,function*(){try{i.requests++;let a=yield this._translatePerform(i.provider,n);r.result={result:a};}catch(a){i.errorResponses++,r.result={error:a};}let o=qV()-s;i._totalTime+=o,i.rollingDuration=.95*i.rollingDuration+.05*o,r.perform=null;}),r.staller=$(this,null,function*(){yield PGe(i.stallTimeout),r.staller=null;}),t.add(r),r;}#o(){return $(this,null,function*(){let t=this.#n;if(!t){let n=[];this.#e.forEach(i=>{n.push($(this,null,function*(){yield kGe(i,0),i._lastFatalError||(i._network=yield i.provider.getNetwork());}));}),this.#n=t=$(this,null,function*(){yield Promise.all(n);let i=null;for(let r of this.#e){if(r._lastFatalError)continue;let s=r._network;i==null?i=s.chainId:s.chainId!==i&&ye(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"});}});}yield t;});}#s(t,n){return $(this,null,function*(){let i=[];for(let r of t)if(r.result!=null){let{tag:s,value:o}=$V(r.result);i.push({tag:s,value:o,weight:r.config.weight});}if(!(i.reduce((r,s)=>r+s.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(Pt(KV(this.quorum,this.#e.filter(s=>!s._lastFatalError).map(s=>({value:s.blockNumber,tag:Pt(s.blockNumber).toString(),weight:s.weight}))))));let r=MGe(this.quorum,i);return r===void 0?void 0:(r>this.#t&&(this.#t=r),this.#t);}case"getGasPrice":case"getPriorityFee":case"estimateGas":return KV(this.quorum,i);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?WV(this.quorum,i):wk(this.quorum,i);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return wk(this.quorum,i);case"broadcastTransaction":return WV(this.quorum,i);}ye(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${jV(n.method)})`});}});}#a(t,n){return $(this,null,function*(){if(t.size===0)throw new Error("no runners?!");let i=[],r=0;for(let o of t){if(o.perform&&i.push(o.perform),o.staller){i.push(o.staller);continue;}o.didBump||(o.didBump=!0,r++);}let s=yield this.#s(t,n);if(s!==void 0){if(s instanceof Error)throw s;return s;}for(let o=0;o<r;o++)this.#r(t,n);return ye(i.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(t).map(o=>jV(o.result))}}),yield Promise.race(i),yield this.#a(t,n);});}_perform(t){return $(this,null,function*(){if(t.method==="broadcastTransaction"){let s=this.#e.map(l=>null),o=this.#e.map((d,h)=>$(this,[d,h],function*({provider:l,weight:c},u){try{let f=yield l._perform(t);s[u]=Object.assign($V({result:f}),{weight:c});}catch(f){s[u]=Object.assign($V({error:f}),{weight:c});}}));for(;;){let l=s.filter(d=>d!=null);for(let{value:d}of l)if(!(d instanceof Error))return d;let c=wk(this.quorum,s.filter(d=>d!=null));if(yi(c,"INSUFFICIENT_FUNDS"))throw c;let u=o.filter((d,h)=>s[h]==null);if(u.length===0)break;yield Promise.race(u);}let a=WV(this.quorum,s);if(ye(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:s.map(jV)}}),a instanceof Error)throw a;return a;}yield this.#o();let n=new Set(),i=0;for(;;){let s=this.#r(n,t);if(s==null||(i+=s.config.weight,i>=this.quorum))break;}let r=yield this.#a(n,t);for(let s of n)s.perform&&s.result==null&&s.config.lateResponses++;return r;});}destroy(){return $(this,null,function*(){for(let{provider:t}of this.#e)t.destroy();hs(e.prototype,this,"destroy").call(this);});}};function FGe(e){return e&&typeof e.send=="function"&&typeof e.close=="function";}var NGe="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function YV(e,t){t==null&&(t={});let n=o=>t[o]==="-"?!1:typeof t.exclusive=="string"?o===t.exclusive:Array.isArray(t.exclusive)?t.exclusive.indexOf(o)!==-1:!0;if(typeof e=="string"&&e.match(/^https?:/))return new br(e);if(typeof e=="string"&&e.match(/^wss?:/)||FGe(e))return new rf(e);let i=null;try{i=qn.from(e);}catch{}let r=[];if(n("publicPolygon")&&i&&(i.name==="matic"?r.push(new br("https://polygon-rpc.com/",i,{staticNetwork:i})):i.name==="matic-amoy"&&r.push(new br("https://rpc-amoy.polygon.technology/",i,{staticNetwork:i}))),n("alchemy"))try{r.push(new U0(e,t.alchemy));}catch{}if(n("ankr")&&t.ankr!=null)try{r.push(new z0(e,t.ankr));}catch{}if(n("chainstack"))try{r.push(new j0(e,t.chainstack));}catch{}if(n("cloudflare"))try{r.push(new $0(e));}catch{}if(n("etherscan"))try{r.push(new W0(e,t.etherscan));}catch{}if(n("infura"))try{let o=t.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),r.push(new lg(e,o,a));}catch{}if(n("quicknode"))try{let o=t.quicknode;r.push(new K0(e,o));}catch{}if(ye(r.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),r.length===1)return r[0];let s=Math.floor(r.length/2);return s>2&&(s=2),i&&NGe.indexOf(i.name)!==-1&&(s=1),t&&t.quorum&&(s=t.quorum),new Y0(r,void 0,{quorum:s});}var y2=class e extends ql{signer;#e;#t;constructor(t){super(t.provider),$e(this,{signer:t}),this.#e=null,this.#t=0;}getAddress(){return $(this,null,function*(){return this.signer.getAddress();});}connect(t){return new e(this.signer.connect(t));}getNonce(t){return $(this,null,function*(){if(t==="pending"){this.#e==null&&(this.#e=hs(e.prototype,this,"getNonce").call(this,"pending"));let n=this.#t;return(yield this.#e)+n;}return hs(e.prototype,this,"getNonce").call(this,t);});}increment(){this.#t++;}reset(){this.#t=0,this.#e=null;}sendTransaction(t){return $(this,null,function*(){let n=this.getNonce("pending");return this.increment(),t=yield this.signer.populateTransaction(t),t.nonce=yield n,yield this.signer.sendTransaction(t);});}signTransaction(t){return this.signer.signTransaction(t);}signMessage(t){return this.signer.signMessage(t);}signTypedData(t,n,i){return this.signer.signTypedData(t,n,i);}};var b2=class e extends p2{#e;constructor(t,n,i){let r=Object.assign({},i??{},{batchMaxCount:1});K(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(n,r),this.#e=(s,o)=>$(this,null,function*(){let a={method:s,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let l=yield t.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l;}catch(l){let c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:c}),c;}});}send(t,n){return $(this,null,function*(){return yield this._start(),yield hs(e.prototype,this,"send").call(this,t,n);});}_send(t){return $(this,null,function*(){K(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{let n=yield this.#e(t.method,t.params||[]);return[{id:t.id,result:n}];}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}];}});}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break;}return super.getRpcError(t,n);}hasSigner(t){return $(this,null,function*(){t==null&&(t=0);let n=yield this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(i=>i.toLowerCase()===t).length!==0);});}getSigner(t){return $(this,null,function*(){if(t==null&&(t=0),!(yield this.hasSigner(t)))try{yield this.#e("eth_requestAccounts",[]);}catch(n){let i=n.payload;throw this.getRpcError(i,{id:i.id,error:n});}return yield hs(e.prototype,this,"getSigner").call(this,t);});}};var Ck="62e1ad51b37b8e00394bda3b";function LGe(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network";}K(!1,"unsupported network","network",e);}var x2=class e extends br{applicationId;applicationSecret;constructor(t,n,i){t==null&&(t="mainnet");let r=qn.from(t);n==null&&(n=Ck),i==null&&(i=null);let s={staticNetwork:r},o=e.getRequest(r,n,i);super(o,r,s),$e(this,{applicationId:n,applicationSecret:i});}_getProvider(t){try{return new e(t,this.applicationId,this.applicationSecret);}catch{}return super._getProvider(t);}static getRequest(t,n,i){n==null&&(n=Ck);let r=new ki(`https://${LGe(t.name)}/v1/lb/${n}`);return r.allowGzip=!0,i&&r.setCredentials("",i),n===Ck&&(r.retryFunc=(s,o,a)=>$(this,null,function*(){return Zs("PocketProvider"),!0;})),r;}isCommunityResource(){return this.applicationId===Ck;}};var XV=void 0;var sf=class e extends ql{address;#e;constructor(t,n){super(n),K(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=t;let i=Zc(this.signingKey.publicKey);$e(this,{address:i});}get signingKey(){return this.#e;}get privateKey(){return this.signingKey.privateKey;}getAddress(){return $(this,null,function*(){return this.address;});}connect(t){return new e(this.#e,t);}signTransaction(t){return $(this,null,function*(){t=$l(t);let{to:n,from:i}=yield Wi({to:t.to?or(t.to,this.provider):void 0,from:t.from?or(t.from,this.provider):void 0});n!=null&&(t.to=n),i!=null&&(t.from=i),t.from!=null&&(K(Bt(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);let r=el.from(t);return r.signature=this.signingKey.sign(r.unsignedHash),r.serialized;});}signMessage(t){return $(this,null,function*(){return this.signMessageSync(t);});}signMessageSync(t){return this.signingKey.sign(jx(t)).serialized;}signTypedData(t,n,i){return $(this,null,function*(){let r=yield Ul.resolveNames(t,n,i,s=>$(this,null,function*(){ye(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:s}});let o=yield this.provider.resolveName(s);return ye(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:s}),o;}));return this.signingKey.sign(Ul.hash(r.domain,n,r.value)).serialized;});}};var _k=" !#$%&'()*+,-./<=>?@[]^_`{|}~",OGe=/^[a-z]*$/i;function qae(e,t){let n=97;return e.reduce((i,r)=>(r===t?n++:r.match(OGe)?i.push(String.fromCharCode(n)+r):(n=97,i.push(r)),i),[]);}function BGe(e,t){for(let r=_k.length-1;r>=0;r--)e=e.split(_k[r]).join(t.substring(2*r,2*r+2));let n=[],i=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(r,s,o,a)=>{if(o)for(let l=parseInt(o);l>=0;l--)n.push(";");else n.push(s.toLowerCase());return"";});if(i)throw new Error(`leftovers: ${JSON.stringify(i)}`);return qae(qae(n,";"),":");}function Sk(e){return K(e[0]==="0","unsupported auwl data","data",e),BGe(e.substring(1+2*_k.length),e.substring(1,1+2*_k.length));}var X0=class{locale;constructor(t){$e(this,{locale:t});}split(t){return t.toLowerCase().split(/\s+/g);}join(t){return t.join(" ");}};var of=class extends X0{#e;#t;constructor(t,n,i){super(t),this.#e=n,this.#t=i,this.#n=null;}get _data(){return this.#e;}_decodeWords(){return Sk(this.#e);}#n;#i(){if(this.#n==null){let t=this._decodeWords();if(Ys(t.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#n=t;}return this.#n;}getWord(t){let n=this.#i();return K(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t];}getWordIndex(t){return this.#i().indexOf(t);}};var VGe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",HGe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",QV=null,Ra=class e extends of{constructor(){super("en",VGe,HGe);}static wordlist(){return QV==null&&(QV=new e()),QV;}};function Kae(e){return(1<<e)-1<<8-e&255;}function GGe(e){return(1<<e)-1&255;}function ZV(e,t){v0("NFKD"),t==null&&(t=Ra.wordlist());let n=t.split(e);K(n.length%3===0&&n.length>=12&&n.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let i=new Uint8Array(Math.ceil(11*n.length/8)),r=0;for(let c=0;c<n.length;c++){let u=t.getWordIndex(n[c].normalize("NFKD"));K(u>=0,`invalid mnemonic word at index ${c}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(i[r>>3]|=1<<7-r%8),r++;}let s=32*n.length/3,o=n.length/3,a=Kae(o),l=Ue(Wr(i.slice(0,s/8)))[0]&a;return K(l===(i[i.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),Fe(i.slice(0,s/8));}function JV(e,t){K(e.length%4===0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),t==null&&(t=Ra.wordlist());let n=[0],i=11;for(let o=0;o<e.length;o++)i>8?(n[n.length-1]<<=8,n[n.length-1]|=e[o],i-=8):(n[n.length-1]<<=i,n[n.length-1]|=e[o]>>8-i,n.push(e[o]&GGe(8-i)),i+=3);let r=e.length/4,s=parseInt(Wr(e).substring(2,4),16)&Kae(r);return n[n.length-1]<<=r,n[n.length-1]|=s>>8-r,t.join(n.map(o=>t.getWord(o)));}var eH={},yd=class e{phrase;password;wordlist;entropy;constructor(t,n,i,r,s){r==null&&(r=""),s==null&&(s=Ra.wordlist()),$s(t,eH,"Mnemonic"),$e(this,{phrase:i,password:r,wordlist:s,entropy:n});}computeSeed(){let t=bi("mnemonic"+this.password,"NFKD");return Yo(bi(this.phrase,"NFKD"),t,2048,64,"sha512");}static fromPhrase(t,n,i){let r=ZV(t,i);return t=JV(Ue(r),i),new e(eH,r,t,n,i);}static fromEntropy(t,n,i){let r=Ue(t,"entropy"),s=JV(r,i);return new e(eH,Fe(r),s,n,i);}static entropyToPhrase(t,n){let i=Ue(t,"entropy");return JV(i,n);}static phraseToEntropy(t,n){return ZV(t,n);}static isValidMnemonic(t,n){try{return ZV(t,n),!0;}catch{}return!1;}};var Js=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e);},tH=function(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n;},Tk,Yl,bd,zGe={16:10,24:12,32:14},UGe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Kl=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ek=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],jGe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],$Ge=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],WGe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],qGe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],KGe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],YGe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],XGe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],QGe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],ZGe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],JGe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],eze=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],tze=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function nH(e){let t=[];for(let n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t;}var w2=class e{get key(){return Js(this,Tk,"f").slice();}constructor(t){if(Tk.set(this,void 0),Yl.set(this,void 0),bd.set(this,void 0),!(this instanceof e))throw Error("AES must be instanitated with `new`");tH(this,Tk,new Uint8Array(t),"f");let n=zGe[this.key.length];if(n==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");tH(this,bd,[],"f"),tH(this,Yl,[],"f");for(let u=0;u<=n;u++)Js(this,bd,"f").push([0,0,0,0]),Js(this,Yl,"f").push([0,0,0,0]);let i=(n+1)*4,r=this.key.length/4,s=nH(this.key),o;for(let u=0;u<r;u++)o=u>>2,Js(this,bd,"f")[o][u%4]=s[u],Js(this,Yl,"f")[n-o][u%4]=s[u];let a=0,l=r,c;for(;l<i;){if(c=s[r-1],s[0]^=Kl[c>>16&255]<<24^Kl[c>>8&255]<<16^Kl[c&255]<<8^Kl[c>>24&255]^UGe[a]<<24,a+=1,r!=8)for(let f=1;f<r;f++)s[f]^=s[f-1];else{for(let f=1;f<r/2;f++)s[f]^=s[f-1];c=s[r/2-1],s[r/2]^=Kl[c&255]^Kl[c>>8&255]<<8^Kl[c>>16&255]<<16^Kl[c>>24&255]<<24;for(let f=r/2+1;f<r;f++)s[f]^=s[f-1];}let u=0,d,h;for(;u<r&&l<i;)d=l>>2,h=l%4,Js(this,bd,"f")[d][h]=s[u],Js(this,Yl,"f")[n-d][h]=s[u++],l++;}for(let u=1;u<n;u++)for(let d=0;d<4;d++)c=Js(this,Yl,"f")[u][d],Js(this,Yl,"f")[u][d]=ZGe[c>>24&255]^JGe[c>>16&255]^eze[c>>8&255]^tze[c&255];}encrypt(t){if(t.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let n=Js(this,bd,"f").length-1,i=[0,0,0,0],r=nH(t);for(let a=0;a<4;a++)r[a]^=Js(this,bd,"f")[0][a];for(let a=1;a<n;a++){for(let l=0;l<4;l++)i[l]=jGe[r[l]>>24&255]^$Ge[r[(l+1)%4]>>16&255]^WGe[r[(l+2)%4]>>8&255]^qGe[r[(l+3)%4]&255]^Js(this,bd,"f")[a][l];r=i.slice();}let s=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Js(this,bd,"f")[n][a],s[4*a]=(Kl[r[a]>>24&255]^o>>24)&255,s[4*a+1]=(Kl[r[(a+1)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Kl[r[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Kl[r[(a+3)%4]&255]^o)&255;return s;}decrypt(t){if(t.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let n=Js(this,Yl,"f").length-1,i=[0,0,0,0],r=nH(t);for(let a=0;a<4;a++)r[a]^=Js(this,Yl,"f")[0][a];for(let a=1;a<n;a++){for(let l=0;l<4;l++)i[l]=KGe[r[l]>>24&255]^YGe[r[(l+3)%4]>>16&255]^XGe[r[(l+2)%4]>>8&255]^QGe[r[(l+1)%4]&255]^Js(this,Yl,"f")[a][l];r=i.slice();}let s=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Js(this,Yl,"f")[n][a],s[4*a]=(Ek[r[a]>>24&255]^o>>24)&255,s[4*a+1]=(Ek[r[(a+3)%4]>>16&255]^o>>16)&255,s[4*a+2]=(Ek[r[(a+2)%4]>>8&255]^o>>8)&255,s[4*a+3]=(Ek[r[(a+1)%4]&255]^o)&255;return s;}};Tk=new WeakMap(),Yl=new WeakMap(),bd=new WeakMap();var xd=class{constructor(t,n,i){if(i&&!(this instanceof i))throw new Error(`${t} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new w2(n)},name:{enumerable:!0,value:t}});}};var Ak=function(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n;},rw=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e);},C2,af,_2=class e extends xd{constructor(t,n){if(super("ECC",t,e),C2.set(this,void 0),af.set(this,void 0),n){if(n.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Ak(this,C2,new Uint8Array(n),"f");}else Ak(this,C2,new Uint8Array(16),"f");Ak(this,af,this.iv,"f");}get iv(){return new Uint8Array(rw(this,C2,"f"));}encrypt(t){if(t.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let n=new Uint8Array(t.length);for(let i=0;i<t.length;i+=16){for(let r=0;r<16;r++)rw(this,af,"f")[r]^=t[i+r];Ak(this,af,this.aes.encrypt(rw(this,af,"f")),"f"),n.set(rw(this,af,"f"),i);}return n;}decrypt(t){if(t.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let n=new Uint8Array(t.length);for(let i=0;i<t.length;i+=16){let r=this.aes.decrypt(t.subarray(i,i+16));for(let s=0;s<16;s++)n[i+s]=r[s]^rw(this,af,"f")[s],rw(this,af,"f")[s]=t[i+s];}return n;}};C2=new WeakMap(),af=new WeakMap();var iH=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e);},nze,ize,Dk,rze;ize=new WeakMap(),Dk=new WeakMap(),nze=new WeakSet(),rze=function(t){let n=this.segmentSize/8;iH(this,Dk,"f").set(iH(this,Dk,"f").subarray(n)),iH(this,Dk,"f").set(t.subarray(0,n),16-n);};var sw=function(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n;},Xl=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e);},S2,Q0,Ql,cg=class e extends xd{constructor(t,n){super("CTR",t,e),S2.set(this,void 0),Q0.set(this,void 0),Ql.set(this,void 0),sw(this,Ql,new Uint8Array(16),"f"),Xl(this,Ql,"f").fill(0),sw(this,S2,Xl(this,Ql,"f"),"f"),sw(this,Q0,16,"f"),n==null&&(n=1),typeof n=="number"?this.setCounterValue(n):this.setCounterBytes(n);}get counter(){return new Uint8Array(Xl(this,Ql,"f"));}setCounterValue(t){if(!Number.isInteger(t)||t<0||t>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let n=15;n>=0;--n)Xl(this,Ql,"f")[n]=t%256,t=Math.floor(t/256);}setCounterBytes(t){if(t.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Xl(this,Ql,"f").set(t);}increment(){for(let t=15;t>=0;t--)if(Xl(this,Ql,"f")[t]===255)Xl(this,Ql,"f")[t]=0;else{Xl(this,Ql,"f")[t]++;break;}}encrypt(t){var n,i;let r=new Uint8Array(t);for(let s=0;s<r.length;s++)Xl(this,Q0,"f")===16&&(sw(this,S2,this.aes.encrypt(Xl(this,Ql,"f")),"f"),sw(this,Q0,0,"f"),this.increment()),r[s]^=Xl(this,S2,"f")[sw(this,Q0,(i=Xl(this,Q0,"f"),n=i++,i),"f"),n];return r;}decrypt(t){return this.encrypt(t);}};S2=new WeakMap(),Q0=new WeakMap(),Ql=new WeakMap();var sze,oze,aze;sze=new WeakMap(),oze=new WeakMap(),aze=new WeakMap();function rH(e){if(e.length<16)throw new TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw new TypeError("PKCS#7 padding byte out of range");let n=e.length-t;for(let i=0;i<t;i++)if(e[n+i]!==t)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,n));}function sH(e){return typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e),nr(e);}function ow(e,t){for(e=String(e);e.length<t;)e="0"+e;return e;}function Z0(e){return typeof e=="string"?bi(e,"NFKC"):nr(e);}function xr(e,t){let n=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);K(n!=null,"invalid path","path",t);let i=n[1],r=n[3],s=n[4]==="!",o=e;for(let a of i.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)];}else if(typeof o=="object"){let l=null;for(let c in o)if(c.toLowerCase()===a){l=o[c];break;}o=l;}else o=null;if(o==null)break;}if(K(!s||o!=null,"missing required value","path",i),r&&o!=null){if(r==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o;}if(r==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(r==="data"&&typeof o=="string")return sH(o);if(r==="array"&&Array.isArray(o)||r===typeof o)return o;K(!1,`wrong type found for ${r} `,"path",i);}return o;}var Xae="m/44'/60'/0'/0/0";function aw(e){try{let t=JSON.parse(e);if((t.version!=null?parseInt(t.version):0)===3)return!0;}catch{}return!1;}function lze(e,t,n){if(xr(e,"crypto.cipher:string")==="aes-128-ctr"){let r=xr(e,"crypto.cipherparams.iv:data!"),s=new cg(t,r);return Fe(s.decrypt(n));}ye(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"});}function Rk(e,t){let n=Ue(t),i=xr(e,"crypto.ciphertext:data!"),r=Fe(Pn(Qt([n.slice(16,32),i]))).substring(2);K(r===xr(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let s=lze(e,n.slice(0,16),i),o=Zc(s);if(e.address){let c=e.address.toLowerCase();c.startsWith("0x")||(c="0x"+c),K(Bt(c)===o,"keystore address/privateKey mismatch","address",e.address);}let a={address:o,privateKey:s};if(xr(e,"x-ethers.version:string")==="0.1"){let c=n.slice(32,64),u=xr(e,"x-ethers.mnemonicCiphertext:data!"),d=xr(e,"x-ethers.mnemonicCounter:data!"),h=new cg(c,d);a.mnemonic={path:xr(e,"x-ethers.path:string")||Xae,locale:xr(e,"x-ethers.locale:string")||"en",entropy:Fe(Ue(h.decrypt(u)))};}return a;}function Qae(e){let t=xr(e,"crypto.kdf:string");if(t&&typeof t=="string"){if(t.toLowerCase()==="scrypt"){let n=xr(e,"crypto.kdfparams.salt:data!"),i=xr(e,"crypto.kdfparams.n:int!"),r=xr(e,"crypto.kdfparams.r:int!"),s=xr(e,"crypto.kdfparams.p:int!");K(i>0&&(i&i-1)===0,"invalid kdf.N","kdf.N",i),K(r>0&&s>0,"invalid kdf","kdf",t);let o=xr(e,"crypto.kdfparams.dklen:int!");return K(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:n,N:i,r,p:s,dkLen:64};}else if(t.toLowerCase()==="pbkdf2"){let n=xr(e,"crypto.kdfparams.salt:data!"),i=xr(e,"crypto.kdfparams.prf:string!"),r=i.split("-").pop();K(r==="sha256"||r==="sha512","invalid kdf.pdf","kdf.pdf",i);let s=xr(e,"crypto.kdfparams.c:int!"),o=xr(e,"crypto.kdfparams.dklen:int!");return K(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:n,count:s,dkLen:o,algorithm:r};}}K(!1,"unsupported key-derivation function","kdf",t);}function E2(e,t){let n=JSON.parse(e),i=Z0(t),r=Qae(n);if(r.name==="pbkdf2"){let{salt:d,count:h,dkLen:f,algorithm:g}=r,m=Yo(i,d,h,f,g);return Rk(n,m);}ye(r.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:r});let{salt:s,N:o,r:a,p:l,dkLen:c}=r,u=Yc(i,s,o,a,l,c);return Rk(n,u);}function Yae(e){return new Promise(t=>{setTimeout(()=>{t();},e);});}function T2(e,t,n){return $(this,null,function*(){let i=JSON.parse(e),r=Z0(t),s=Qae(i);if(s.name==="pbkdf2"){n&&(n(0),yield Yae(0));let{salt:h,count:f,dkLen:g,algorithm:m}=s,y=Yo(r,h,f,g,m);return n&&(n(1),yield Yae(0)),Rk(i,y);}ye(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:o,N:a,r:l,p:c,dkLen:u}=s,d=yield Kc(r,o,a,l,c,u,n);return Rk(i,d);});}function Zae(e){let t=e.salt!=null?Ue(e.salt,"options.salt"):go(32),n=1<<17,i=8,r=1;return e.scrypt&&(e.scrypt.N&&(n=e.scrypt.N),e.scrypt.r&&(i=e.scrypt.r),e.scrypt.p&&(r=e.scrypt.p)),K(typeof n=="number"&&n>0&&Number.isSafeInteger(n)&&(BigInt(n)&BigInt(n-1))===BigInt(0),"invalid scrypt N parameter","options.N",n),K(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),K(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt p parameter","options.p",r),{name:"scrypt",dkLen:32,salt:t,N:n,r:i,p:r};}function Jae(e,t,n,i){let r=Ue(n.privateKey,"privateKey"),s=i.iv!=null?Ue(i.iv,"options.iv"):go(16);K(s.length===16,"invalid options.iv length","options.iv",i.iv);let o=i.uuid!=null?Ue(i.uuid,"options.uuid"):go(16);K(o.length===16,"invalid options.uuid length","options.uuid",i.iv);let a=e.slice(0,16),l=e.slice(16,32),c=new cg(a,s),u=Ue(c.encrypt(r)),d=Pn(Qt([l,u])),h={address:n.address.substring(2).toLowerCase(),id:$S(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Fe(s).substring(2)},ciphertext:Fe(u).substring(2),kdf:"scrypt",kdfparams:{salt:Fe(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:d.substring(2)}};if(n.mnemonic){let f=i.client!=null?i.client:`ethers/${Tx}`,g=n.mnemonic.path||Xae,m=n.mnemonic.locale||"en",y=e.slice(32,64),b=Ue(n.mnemonic.entropy,"account.mnemonic.entropy"),C=go(16),_=new cg(y,C),A=Ue(_.encrypt(b)),I=new Date(),R="UTC--"+(I.getUTCFullYear()+"-"+ow(I.getUTCMonth()+1,2)+"-"+ow(I.getUTCDate(),2)+"T"+ow(I.getUTCHours(),2)+"-"+ow(I.getUTCMinutes(),2)+"-"+ow(I.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:f,gethFilename:R,path:g,locale:m,mnemonicCounter:Fe(C).substring(2),mnemonicCiphertext:Fe(A).substring(2),version:"0.1"};}return JSON.stringify(h);}function J0(e,t,n){n==null&&(n={});let i=Z0(t),r=Zae(n),s=Yc(i,r.salt,r.N,r.r,r.p,64);return Jae(Ue(s),r,e,n);}function ev(e,t,n){return $(this,null,function*(){n==null&&(n={});let i=Z0(t),r=Zae(n),s=yield Kc(i,r.salt,r.N,r.r,r.p,64,n.progressCallback);return Jae(Ue(s),r,e,n);});}var lw="m/44'/60'/0'/0/0",cze=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Cd=2147483648,uze=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dze="0123456789abcdef";function Ik(e,t){let n="";for(;e;)n=dze[e%16]+n,e=Math.trunc(e/16);for(;n.length<t*2;)n="0"+n;return"0x"+n;}function oH(e){let t=Ue(e),n=si(Wr(Wr(t)),0,4),i=Qt([t,n]);return b0(i);}var wd={};function ele(e,t,n,i){let r=new Uint8Array(37);e&Cd?(ye(i!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),r.set(Ue(i),1)):r.set(Ue(n));for(let o=24;o>=0;o-=8)r[33+(o>>3)]=e>>24-o&255;let s=Ue(Wc("sha512",t,r));return{IL:s.slice(0,32),IR:s.slice(32)};}function tle(e,t){let n=t.split("/");K(n.length>0,"invalid path","path",t),n[0]==="m"&&(K(e.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),n.shift());let i=e;for(let r=0;r<n.length;r++){let s=n[r];if(s.match(/^[0-9]+'$/)){let o=parseInt(s.substring(0,s.length-1));K(o<Cd,"invalid path index",`path[${r}]`,s),i=i.deriveChild(Cd+o);}else if(s.match(/^[0-9]+$/)){let o=parseInt(s);K(o<Cd,"invalid path index",`path[${r}]`,s),i=i.deriveChild(o);}else K(!1,"invalid path component",`path[${r}]`,s);}return i;}var lf=class e extends sf{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(t,n,i,r,s,o,a,l,c){super(n,c),$s(t,wd,"HDNodeWallet"),$e(this,{publicKey:n.compressedPublicKey});let u=si(qc(Wr(this.publicKey)),0,4);$e(this,{parentFingerprint:i,fingerprint:u,chainCode:r,path:s,index:o,depth:a}),$e(this,{mnemonic:l});}connect(t){return new e(wd,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t);}#e(){let t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t;}encrypt(t,n){return $(this,null,function*(){return yield ev(this.#e(),t,{progressCallback:n});});}encryptSync(t){return J0(this.#e(),t);}get extendedKey(){return ye(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),oH(Qt(["0x0488ADE4",Ik(this.depth,1),this.parentFingerprint,Ik(this.index,4),this.chainCode,Qt(["0x00",this.privateKey])]));}hasPath(){return this.path!=null;}neuter(){return new tv(wd,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider);}deriveChild(t){let n=Pt(t,"index");K(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Cd),n&Cd&&(i+="'"));let{IR:r,IL:s}=ele(n,this.chainCode,this.publicKey,this.privateKey),o=new Ks(Ds((Hl(s)+BigInt(this.privateKey))%uze,32));return new e(wd,o,this.fingerprint,Fe(r),i,n,this.depth+1,this.mnemonic,this.provider);}derivePath(t){return tle(this,t);}static#t(t,n){K(Vc(t),"invalid seed","seed","[REDACTED]");let i=Ue(t,"seed");K(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");let r=Ue(Wc("sha512",cze,i)),s=new Ks(Fe(r.slice(0,32)));return new e(wd,s,"0x00000000",Fe(r.slice(32)),"m",0,0,n,null);}static fromExtendedKey(t){let n=ir(GS(t));K(n.length===82||oH(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");let i=n[4],r=Fe(n.slice(5,9)),s=parseInt(Fe(n.slice(9,13)).substring(2),16),o=Fe(n.slice(13,45)),a=n.slice(45,78);switch(Fe(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let l=Fe(a);return new tv(wd,Zc(l),l,r,o,null,s,i,null);}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new e(wd,new Ks(a.slice(1)),r,o,null,s,i,null,null);}K(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]");}static createRandom(t,n,i){t==null&&(t=""),n==null&&(n=lw),i==null&&(i=Ra.wordlist());let r=yd.fromEntropy(go(16),t,i);return e.#t(r.computeSeed(),r).derivePath(n);}static fromMnemonic(t,n){return n||(n=lw),e.#t(t.computeSeed(),t).derivePath(n);}static fromPhrase(t,n,i,r){n==null&&(n=""),i==null&&(i=lw),r==null&&(r=Ra.wordlist());let s=yd.fromPhrase(t,n,r);return e.#t(s.computeSeed(),s).derivePath(i);}static fromSeed(t){return e.#t(t,null);}},tv=class e extends G0{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(t,n,i,r,s,o,a,l,c){super(n,c),$s(t,wd,"HDNodeVoidWallet"),$e(this,{publicKey:i});let u=si(qc(Wr(i)),0,4);$e(this,{publicKey:i,fingerprint:u,parentFingerprint:r,chainCode:s,path:o,index:a,depth:l});}connect(t){return new e(wd,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t);}get extendedKey(){return ye(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),oH(Qt(["0x0488B21E",Ik(this.depth,1),this.parentFingerprint,Ik(this.index,4),this.chainCode,this.publicKey]));}hasPath(){return this.path!=null;}deriveChild(t){let n=Pt(t,"index");K(n<=4294967295,"invalid index","index",n);let i=this.path;i&&(i+="/"+(n&~Cd),n&Cd&&(i+="'"));let{IR:r,IL:s}=ele(n,this.chainCode,this.publicKey,null),o=Ks.addPoints(s,this.publicKey,!0),a=Zc(o);return new e(wd,a,o,this.fingerprint,Fe(r),i,n,this.depth+1,this.provider);}derivePath(t){return tle(this,t);}};function aH(e){let t=Pt(e,"index");return K(t>=0&&t<Cd,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`;}function lH(e){let t=Pt(e,"index");return K(t>=0&&t<Cd,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`;}function cw(e){try{if(JSON.parse(e).encseed)return!0;}catch{}return!1;}function uw(e,t){let n=JSON.parse(e),i=Z0(t),r=Bt(xr(n,"ethaddr:string!")),s=sH(xr(n,"encseed:string!"));K(s&&s.length%16===0,"invalid encseed","json",e);let o=Ue(Yo(i,i,2e3,32,"sha256")).slice(0,16),a=s.slice(0,16),l=s.slice(16),c=new _2(o,a),u=rH(Ue(c.decrypt(l))),d="";for(let h=0;h<u.length;h++)d+=String.fromCharCode(u[h]);return{address:r,privateKey:Ys(d)};}function nle(e){return new Promise(t=>{setTimeout(()=>{t();},e);});}var A2=class e extends sf{constructor(t,n){typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t);let i=typeof t=="string"?new Ks(t):t;super(i,n);}connect(t){return new e(this.signingKey,t);}encrypt(t,n){return $(this,null,function*(){let i={address:this.address,privateKey:this.privateKey};return yield ev(i,t,{progressCallback:n});});}encryptSync(t){let n={address:this.address,privateKey:this.privateKey};return J0(n,t);}static#e(t){if(K(t,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in t&&t.mnemonic&&t.mnemonic.locale==="en"){let i=yd.fromEntropy(t.mnemonic.entropy),r=lf.fromMnemonic(i,t.mnemonic.path);if(r.address===t.address&&r.privateKey===t.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key");}let n=new e(t.privateKey);return K(n.address===t.address,"address/privateKey mismatch","json","[ REDACTED ]"),n;}static fromEncryptedJson(t,n,i){return $(this,null,function*(){let r=null;return aw(t)?r=yield T2(t,n,i):cw(t)&&(i&&(i(0),yield nle(0)),r=uw(t,n),i&&(i(1),yield nle(0))),e.#e(r);});}static fromEncryptedJsonSync(t,n){let i=null;return aw(t)?i=E2(t,n):cw(t)?i=uw(t,n):K(!1,"invalid JSON wallet","json","[ REDACTED ]"),e.#e(i);}static createRandom(t){let n=lf.createRandom();return t?n.connect(t):n;}static fromPhrase(t,n){let i=lf.fromPhrase(t);return n?i.connect(n):i;}};var hze=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function ile(e,t){let n=(1<<e)-1,i=[],r=0,s=0,o=0;for(let a=0;a<t.length;a++)for(r=r<<6|hze.indexOf(t[a]),s+=6;s>=e;){let l=r>>s-e;r&=(1<<s-e)-1,s-=e,l===0?o+=n:(i.push(l+o),o=0);}return i;}function rle(e,t){let n=Sk(e).join(",");return t.split(/,/g).forEach(i=>{let r=i.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);K(r!==null,"internal error parsing accents","accents",t);let s=0,o=ile(parseInt(r[3]),r[4]),a=parseInt(r[2]),l=new RegExp(`([${r[1]}])`,"g");n=n.replace(l,(c,u)=>(--o[s]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),s++),u));}),n.split(",");}var D2=class extends of{#e;constructor(t,n,i,r){super(t,n,r),this.#e=i;}get _accent(){return this.#e;}_decodeWords(){return rle(this._data,this._accent);}};var cH={en:Ra.wordlist()};var Zo=function(e){return e.NUMBER="NUMBER_NUMBER",e.HEX="NUMBER_HEX",e.STR="NUMBER_STR",e.BIGINT="NUMBER_BIGINT",e;}(Zo||{}),iu=function(e){return e.HEX="BYTES_HEX",e.UINT8ARRAY="BYTES_UINT8ARRAY",e;}(iu||{}),lr={number:Zo.BIGINT,bytes:iu.HEX},Vt={number:Zo.HEX,bytes:iu.HEX};var Zl=function(e){return e.EARLIEST="earliest",e.LATEST="latest",e.PENDING="pending",e.SAFE="safe",e.FINALIZED="finalized",e.COMMITTED="committed",e;}(Zl||{}),R2=function(e){return e.chainstart="chainstart",e.frontier="frontier",e.homestead="homestead",e.dao="dao",e.tangerineWhistle="tangerineWhistle",e.spuriousDragon="spuriousDragon",e.byzantium="byzantium",e.constantinople="constantinople",e.petersburg="petersburg",e.istanbul="istanbul",e.muirGlacier="muirGlacier",e.berlin="berlin",e.london="london",e.altair="altair",e.arrowGlacier="arrowGlacier",e.grayGlacier="grayGlacier",e.bellatrix="bellatrix",e.merge="merge",e.capella="capella",e.shanghai="shanghai",e;}(R2||{});var I2=Object.getPrototypeOf(Uint8Array);var sle=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},ole=Symbol.for("web3/base-provider"),ug=class e{static isWeb3Provider(t){return t instanceof e||!!(t&&t[ole]);}get[ole](){return!0;}send(t,n){this.request(t).then(i=>{n(null,i);}).catch(i=>{n(i);});}sendAsync(t){return sle(this,void 0,void 0,function*(){return this.request(t);});}asEIP1193Provider(){let t=Object.create(this),n=t.request;return t.request=function(r){return sle(this,void 0,void 0,function*(){return(yield n(r)).result;});},t.asEIP1193Provider=void 0,t;}};var Pk=class extends Array{constructor(t){super(),this._accountProvider=t;}};var kt=class extends Error{get innerError(){return this.cause instanceof dg?this.cause.errors:this.cause;}set innerError(t){Array.isArray(t)?this.cause=new dg(t):this.cause=t;}constructor(t,n){super(t),Array.isArray(n)?this.cause=new dg(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack;}static convertToString(t,n=!1){if(t==null)return"undefined";let i=JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s);return n&&["bigint","string"].includes(typeof t)?i.replace(/['\\"]+/g,""):i;}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause};}},dg=class extends kt{constructor(t){super(`Multiple errors occurred: [${t.map(n=>n.message).join("], [")}]`),this.code=208,this.errors=t;}},un=class extends kt{constructor(t,n){super(`Invalid value given "${kt.convertToString(t,!0)}". Error: ${n}.`),this.name=this.constructor.name;}};var P2=class extends kt{constructor(){super("Private key must be 32 bytes."),this.code=701;}},kk=class extends kt{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702;}},Mk=class extends kt{constructor(t){super(`"${t}"`),this.code=802;}},k2=class extends kt{constructor(){super("Invalid key derivation function"),this.code=703;}},Fk=class extends kt{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704;}},Nk=class extends kt{constructor(){super("Unsupported key store version"),this.code=705;}},Lk=class extends kt{constructor(){super("Password cannot be empty"),this.code=706;}},Ok=class extends kt{constructor(){super("Initialization vector must be 16 bytes"),this.code=707;}},Bk=class extends kt{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709;}};var hg=class extends kt{constructor(t,n){super(t),this.code=500,n&&(this.errorCode=n.code,this.errorReason=n.reason);}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason});}};var nv=class extends hg{constructor(t){super("Connection not open",t),this.code=503;}};var Vk=class extends hg{constructor(t){super(`Maximum number of reconnect attempts reached! (${t})`),this.code=505;}},Hk=class extends hg{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506;}},Gk=class extends hg{constructor(t){super(`Request already sent with following id: ${t}`),this.code=507;}};var Br=class extends kt{constructor(t,n){super(t),this.code=300,this.receipt=n;}},M2=class extends kt{constructor(t,n){super(`The resolver at ${t} does not implement requested method: "${n}".`),this.address=t,this.name=n,this.code=301;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name});}};var F2=class e extends Br{constructor(t){if(super(t.message||"Error"),this.name="name"in t&&t.name||this.constructor.name,this.stack="stack"in t&&t.stack||void 0,this.code=t.code,typeof t.data=="object"){let n;t.data&&"originalError"in t.data?n=t.data.originalError:n=t.data,this.data=n.data,this.cause=new e(n);}else this.data=t.data;}setDecodedProperties(t,n,i){this.errorName=t,this.errorSignature=n,this.errorArgs=i;}toJSON(){let t=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(t=Object.assign(Object.assign({},t),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),t;}},il=class extends Br{constructor(t){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.cause=new F2(t);}},zk=class extends un{constructor(t){var n,i;super(`data: ${(n=t.data)!==null&&n!==void 0?n:"undefined"}, input: ${(i=t.input)!==null&&i!==void 0?i:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=311;}};var Uk=class extends kt{constructor(t){super(`ENS is not supported on network ${t}`),this.code=902;}},jk=class extends kt{constructor(){super("Network not synced"),this.code=903;}};var hw=class extends kt{constructor(t){super(`Invalid parameters passed. "${typeof t<"u"?t:""}"`),this.hint=t,this.code=207;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint});}},iv=class extends kt{constructor(){super(...arguments),this.code=201;}},Jl=class extends kt{constructor(){super("The method you're trying to call is not implemented."),this.code=202;}},fw=class extends kt{constructor(){super(...arguments),this.code=203;}},$k=class extends kt{constructor(){super(...arguments),this.code=204;}},Ut=class extends kt{constructor(t,n){super(t),this.code=205,this.props=n??{};}},Wk=class extends kt{constructor(t){super(`A plugin with the namespace: ${t} has already been registered.`),this.code=206;}};var fg=class extends kt{constructor(){super(...arguments),this.code=600;}};var rv=class extends kt{constructor(t){super(`Client URL "${t}" is invalid.`),this.code=602;}},rl=class extends kt{constructor(){super(...arguments),this.code=603;}},qk=class extends kt{constructor(){super(...arguments),this.code=604;}};var Kk=class extends un{constructor(){super(...arguments),this.code=801;}};var N2=class extends kt{constructor(t,n){super(t),this.receipt=n,this.code=400;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt});}};var pg=class extends kt{constructor(t,n,i,r){super(`Transaction has been reverted by the EVM${i===void 0?"":`:
 ${kt.convertToString(i)}`}`),this.reason=t,this.signature=n,this.receipt=i,this.data=r,this.code=402;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data});}},pw=class extends pg{constructor(t,n,i,r,s,o,a){super(t),this.reason=t,this.customErrorName=n,this.customErrorDecodedSignature=i,this.customErrorArguments=r,this.signature=s,this.receipt=o,this.data=a,this.code=438;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data});}};var gw=class extends N2{constructor(t){super(`Transaction has been reverted by the EVM${t===void 0?"":`:
 ${kt.convertToString(t)}`}`,t),this.code=405;}};var Yk=class extends N2{constructor(){super("Raw transaction undefined"),this.code=407;}},L2=class extends N2{constructor(){super("Transaction not found"),this.code=430;}},O2=class extends un{constructor(t){super(t,"invalid transaction with invalid sender"),this.code=408;}},Xk=class extends un{constructor(t){super(t,"invalid transaction with invalid receiver"),this.code=437;}};var Qk=class extends un{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410;}},Zk=class extends un{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411;}},Jk=class extends un{constructor(t){super(JSON.stringify(t),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412;}},e5=class extends un{constructor(t){super(JSON.stringify(t),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435;}},t5=class extends un{constructor(t){super(JSON.stringify(t),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436;}},n5=class extends un{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413;}},i5=class extends un{constructor(t){var n,i;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=t.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(i=t.hardfork)!==null&&i!==void 0?i:"undefined"}`),this.code=414;}},uH=class extends kt{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440;}},r5=class extends un{constructor(t){var n,i,r,s;super(`gas: ${(n=t.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(i=t.gasPrice)!==null&&i!==void 0?i:"undefined"}, maxPriorityFeePerGas: ${(r=t.maxPriorityFeePerGas)!==null&&r!==void 0?r:"undefined"}, maxFeePerGas: ${(s=t.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,'"gas" is missing'),this.code=415,this.cause=new uH();}},dH=class extends kt{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441;}},s5=class extends un{constructor(t){var n,i,r,s;super(`gas: ${(n=t.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(i=t.gasPrice)!==null&&i!==void 0?i:"undefined"}, maxPriorityFeePerGas: ${(r=t.maxPriorityFeePerGas)!==null&&r!==void 0?r:"undefined"}, maxFeePerGas: ${(s=t.maxFeePerGas)!==null&&s!==void 0?s:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.cause=new dH();}},o5=class extends un{constructor(t){var n,i;super(`gas: ${(n=t.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(i=t.gasPrice)!==null&&i!==void 0?i:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416;}},a5=class extends un{constructor(t){var n,i;super(`maxPriorityFeePerGas: ${(n=t.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(i=t.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417;}},l5=class extends un{constructor(t){super(t,"eip-1559 transactions don't support gasPrice"),this.code=418;}},B2=class extends un{constructor(t){var n,i;super(`maxPriorityFeePerGas: ${(n=t.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(i=t.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419;}},c5=class extends un{constructor(t){super(t,"invalid transaction object"),this.code=420;}},u5=class extends un{constructor(t){var n,i;super(`nonce: ${(n=t.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(i=t.chainId)!==null&&i!==void 0?i:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421;}},d5=class extends un{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422;}},h5=class extends un{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423;}},V2=class extends un{constructor(t){super(t,"unsupported transaction type"),this.code=424;}},mw=class extends un{constructor(t){var n,i;super(`data: ${(n=t.data)!==null&&n!==void 0?n:"undefined"}, input: ${(i=t.input)!==null&&i!==void 0?i:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=425;}},f5=class extends kt{constructor(t){super(`The connected Ethereum Node did not respond within ${t.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${t.transactionHash?t.transactionHash.toString():"not available"}`),this.code=431;}};function ale(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${e?e.toString():"not available"}`;}var vw=class extends kt{constructor(t){super(`Transaction was not mined within ${t.numberOfSeconds} seconds. ${ale(t.transactionHash)}`),this.code=426;}},H2=class extends kt{constructor(t){super(`Transaction started at ${t.starterBlockNumber} but was not mined within ${t.numberOfBlocks} blocks. ${ale(t.transactionHash)}`),this.code=432;}},p5=class extends un{constructor(t){var n,i;super(`receipt: ${JSON.stringify(t.receipt)}, blockHash: ${(n=t.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(i=t.transactionHash)===null||i===void 0?void 0:i.toString()}`,"Receipt missing or blockHash null"),this.code=427;}},g5=class extends un{constructor(t){super(`receipt: ${JSON.stringify(t.receipt)}`,"Receipt missing block number"),this.code=428;}},yw=class extends kt{constructor(t){super(`Invalid signature. "${t}"`),this.code=433;}},G2=class extends un{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429;}},m5=class extends kt{constructor(t,n){let i=[];t.forEach(r=>i.push(r.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${i.join(", ")}`),this.code=439;}};var ru=class extends un{constructor(t){super(t,"can not parse as byte data"),this.code=1002;}},gg=class extends un{constructor(t){super(t,"can not parse as number data"),this.code=1003;}},cf=class extends un{constructor(t){super(t,"invalid ethereum address"),this.code=1005;}},v5=class extends un{constructor(t){super(t,"not a valid string"),this.code=1001;}},z2=class extends un{constructor(t){super(t,"invalid unit"),this.code=1004;}},U2=class extends un{constructor(t){super(t,"not a valid unit. Must be a positive integer"),this.code=1015;}},y5=class extends un{constructor(t){super(t,"can not be converted to hex"),this.code=1006;}},j2=class extends un{constructor(t){super(t,"value greater than the nibble width"),this.code=1014;}};var mg=class extends un{constructor(t){super(t,"not a valid boolean."),this.code=1008;}},b5=class extends un{constructor(t){super(t,"not a valid unsigned integer."),this.code=1009;}},$2=class extends un{constructor(t){super(t,"invalid size given."),this.code=1010;}},W2=class extends un{constructor(t){super(t,"value is larger than size."),this.code=1011;}},x5=class extends un{constructor(t){super(t,"invalid string given"),this.code=1012;}};var $Ue=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&(e.result===void 0||e.result===null)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),lle=e=>$Ue(e)?e.error.message:"",vo=class extends kt{constructor(t,n,i,r){var s;super(n??`Returned error: ${Array.isArray(t)?t.map(a=>lle(a)).join(","):lle(t)}`),this.code=100,n||(this.data=Array.isArray(t)?t.map(a=>{var l;return(l=a.error)===null||l===void 0?void 0:l.data;}):(s=t?.error)===null||s===void 0?void 0:s.data),this.statusCode=r,this.request=i;let o;"error"in t?o=t.error:t instanceof Array&&(o=t.filter(a=>a.error).map(a=>a.error)),Array.isArray(o)&&o.length>0?this.cause=new dg(o):this.cause=o;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode});}},_d=class extends vo{constructor(t,n){super(t,void 0,n),this.code=101;let i;"error"in t?i=t.error:t instanceof Array&&(i=t.map(r=>r.error)),Array.isArray(i)?this.cause=new dg(i):this.cause=i;}};var q2=class extends kt{constructor(t,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${t} and common.hardfork ${n}`),this.code=1101;}},K2=class extends kt{constructor(t,n){super(`Web3Config chain doesnt match in defaultHardfork ${t} and common.hardfork ${n}`),this.code=1101;}};var hH="An Rpc error has occured with a code of *code*",eo={[-32700]:{message:"Parse error",description:"Invalid JSON"},[-32600]:{message:"Invalid request",description:"JSON is not a valid request object	"},[-32601]:{message:"Method not found",description:"Method does not exist	"},[-32602]:{message:"Invalid params",description:"Invalid method parameters"},[-32603]:{message:"Internal error",description:"Internal JSON-RPC error"},[-32e3]:{message:"Invalid input",description:"Missing or invalid parameters"},[-32001]:{message:"Resource not found",description:"Requested resource not found"},[-32002]:{message:"Resource unavailable",description:"Requested resource not available"},[-32003]:{message:"Transaction rejected",description:"Transaction creation failed"},[-32004]:{message:"Method not supported",description:"Method is not implemented"},[-32005]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[-32006]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[4001]:{name:"User Rejected Request",message:"The user rejected the request."},[4100]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[4200]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[4900]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[4901]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};var yo=class extends kt{constructor(t,n){super(n??hH.replace("*code*",t.error.code.toString())),this.code=t.error.code,this.id=t.id,this.jsonrpc=t.jsonrpc,this.jsonRpcError=t.error;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc});}},w5=class extends kt{constructor(t,n){var i,r,s,o;if(!t)super();else if(!((i=eo[t])===null||i===void 0)&&i.message)super(eo[t].message);else{let a=Object.keys(eo).find(l=>typeof l=="string"&&t>=parseInt(l.split("-")[0],10)&&t<=parseInt(l.split("-")[1],10));super((s=(r=eo[a??""])===null||r===void 0?void 0:r.message)!==null&&s!==void 0?s:hH.replace("*code*",(o=t?.toString())!==null&&o!==void 0?o:'""'));}this.code=t,this.data=n;}},fH=class extends yo{constructor(t){super(t,eo[-32700].message),this.code=-32700;}},pH=class extends yo{constructor(t){super(t,eo[-32600].message),this.code=-32600;}},gH=class extends yo{constructor(t){super(t,eo[-32601].message),this.code=-32601;}},mH=class extends yo{constructor(t){super(t,eo[-32602].message),this.code=-32602;}},vH=class extends yo{constructor(t){super(t,eo[-32603].message),this.code=-32603;}},yH=class extends yo{constructor(t){super(t,eo[-32e3].message),this.code=-32e3;}},bH=class extends yo{constructor(t){super(t,eo[-32004].message),this.code=-32004;}},xH=class extends yo{constructor(t){super(t,eo[-32002].message),this.code=-32002;}},wH=class extends yo{constructor(t){super(t,eo[-32001].message),this.code=-32001;}},CH=class extends yo{constructor(t){super(t,eo[-32006].message),this.code=-32006;}},_H=class extends yo{constructor(t){super(t,eo[-32003].message),this.code=-32003;}},SH=class extends yo{constructor(t){super(t,eo[-32005].message),this.code=-32005;}},to=new Map();to.set(-32700,{error:fH});to.set(-32600,{error:pH});to.set(-32601,{error:gH});to.set(-32602,{error:mH});to.set(-32603,{error:vH});to.set(-32e3,{error:yH});to.set(-32004,{error:bH});to.set(-32002,{error:xH});to.set(-32003,{error:_H});to.set(-32001,{error:wH});to.set(-32006,{error:CH});to.set(-32005,{error:SH});var C5=class extends kt{constructor(t){super(`Format for the type ${t} is unsupported`),this.type=t,this.code=1200;}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type});}};var kE={};Iu(kE,{ChunkResponseParser:()=>PE,Eip1193Provider:()=>Sg,EventEmitter:()=>mv,SocketProvider:()=>Vw,Web3DeferredPromise:()=>_g,asciiToHex:()=>Yle,bytesToHex:()=>Ht,bytesToUint8Array:()=>ea,checkAddressCheckSum:()=>eWe,compareBlockNumbers:()=>aWe,convert:()=>X5,convertScalarValue:()=>EE,encodePacked:()=>hG,ethUnitMap:()=>CE,format:()=>Ve,fromAscii:()=>q$e,fromDecimal:()=>j$e,fromTwosComplement:()=>lWe,fromUtf8:()=>$5,fromWei:()=>Y$e,getStorageSlotNumForLongString:()=>gWe,hexToAscii:()=>Xle,hexToBytes:()=>Zn,hexToNumber:()=>xg,hexToNumberString:()=>qle,hexToString:()=>W$e,hexToUtf8:()=>_E,isAddress:()=>tce,isBatchRequest:()=>iM,isBatchResponse:()=>IE,isBloom:()=>tWe,isContractAddressInBloom:()=>rWe,isContractInitOptions:()=>cu,isDataFormat:()=>uu,isHex:()=>J$e,isHexStrict:()=>ece,isInBloom:()=>nWe,isNullish:()=>Rt,isPromise:()=>fG,isResponseRpcError:()=>tM,isResponseWithError:()=>RE,isResponseWithNotification:()=>nM,isResponseWithResult:()=>DE,isSubscriptionResult:()=>dce,isTopic:()=>sWe,isTopicInBloom:()=>oWe,isUint8Array:()=>Ia,isUserEthereumAddressInBloom:()=>iWe,isValidResponse:()=>gG,jsonRpc:()=>Ki,keccak256:()=>Dd,keccak256Wrapper:()=>Dd,leftPad:()=>Cg,mergeDeep:()=>tc,numberToHex:()=>qi,padLeft:()=>wg,padRight:()=>ice,pollTillDefined:()=>vWe,pollTillDefinedAndReturnIntervalId:()=>Z5,processSolidityEncodePackedArgs:()=>lce,randomBytes:()=>vv,randomHex:()=>mWe,rejectIfConditionAtInterval:()=>pG,rejectIfTimeout:()=>TE,rightPad:()=>Y5,setRequestIdStart:()=>hce,sha3:()=>Ow,sha3Raw:()=>ys,soliditySha3:()=>fWe,soliditySha3Raw:()=>pWe,stringToHex:()=>$$e,toAscii:()=>K$e,toBatchPayload:()=>fce,toBigInt:()=>Ad,toBool:()=>lG,toChecksumAddress:()=>Ps,toDecimal:()=>U$e,toHex:()=>xo,toNumber:()=>Is,toPayload:()=>Bw,toTwosComplement:()=>uG,toUtf8:()=>Kle,toWei:()=>X$e,uint8ArrayConcat:()=>Cr,uint8ArrayEquals:()=>gv,utf8ToBytes:()=>W5,utf8ToHex:()=>ta,uuidV4:()=>AE,validateResponse:()=>eM,waitWithTimeout:()=>uce});function no(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`);}function JUe(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`);}function eje(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array";}function uf(e,...t){if(!eje(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`);}function aE(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");no(e.outputLen),no(e.blockLen);}function Sd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called");}function lE(e,t){uf(e);let n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`);}var tje={number:no,bool:JUe,bytes:uf,hash:aE,exists:Sd,output:lE},_5=tje;var S5=BigInt(4294967295),EH=BigInt(32);function ule(e,t=!1){return t?{h:Number(e&S5),l:Number(e>>EH&S5)}:{h:Number(e>>EH&S5)|0,l:Number(e&S5)|0};}function TH(e,t=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let r=0;r<e.length;r++){let{h:s,l:o}=ule(e[r],t);[n[r],i[r]]=[s,o];}return[n,i];}var nje=(e,t)=>BigInt(e>>>0)<<EH|BigInt(t>>>0),ije=(e,t,n)=>e>>>n,rje=(e,t,n)=>e<<32-n|t>>>n,sje=(e,t,n)=>e>>>n|t<<32-n,oje=(e,t,n)=>e<<32-n|t>>>n,aje=(e,t,n)=>e<<64-n|t>>>n-32,lje=(e,t,n)=>e>>>n-32|t<<64-n,cje=(e,t)=>t,uje=(e,t)=>e,AH=(e,t,n)=>e<<n|t>>>32-n,DH=(e,t,n)=>t<<n|e>>>32-n,RH=(e,t,n)=>t<<n-32|e>>>64-n,IH=(e,t,n)=>e<<n-32|t>>>64-n;function dje(e,t,n,i){let r=(t>>>0)+(i>>>0);return{h:e+n+(r/2**32|0)|0,l:r|0};}var hje=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),fje=(e,t,n,i)=>t+n+i+(e/2**32|0)|0,pje=(e,t,n,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),gje=(e,t,n,i,r)=>t+n+i+r+(e/2**32|0)|0,mje=(e,t,n,i,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(r>>>0),vje=(e,t,n,i,r,s)=>t+n+i+r+s+(e/2**32|0)|0;var yje={fromBig:ule,split:TH,toBig:nje,shrSH:ije,shrSL:rje,rotrSH:sje,rotrSL:oje,rotrBH:aje,rotrBL:lje,rotr32H:cje,rotr32L:uje,rotlSH:AH,rotlSL:DH,rotlBH:RH,rotlBL:IH,add:dje,add3L:hje,add3H:fje,add4L:pje,add4H:gje,add5H:vje,add5L:mje},In=yje;var bw=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var xw=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),sv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),su=(e,t)=>e<<32-t|e>>>t,oi=(e,t)=>e<<t|e>>>32-t>>>0,ww=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,bje=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Cw(e){for(let t=0;t<e.length;t++)e[t]=bje(e[t]);}function Ed(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e));}function ou(e){return typeof e=="string"&&(e=Ed(e)),uf(e),e;}function ov(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];uf(r),t+=r.length;}let n=new Uint8Array(t);for(let i=0,r=0;i<e.length;i++){let s=e[i];n.set(s,r),r+=s.length;}return n;}var vg=class{clone(){return this._cloneInto();}},xje={}.toString;function E5(e,t){if(t!==void 0&&xje.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t);}function _w(e){let t=i=>e().update(ou(i)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t;}function dle(e){let t=(i,r)=>e(r).update(ou(i)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>e(i),t;}function T5(e=32){if(bw&&typeof bw.getRandomValues=="function")return bw.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined");}var ple=[],gle=[],mle=[],wje=BigInt(0),cE=BigInt(1),Cje=BigInt(2),_je=BigInt(7),Sje=BigInt(256),Eje=BigInt(113);for(let e=0,t=cE,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],ple.push(2*(5*i+n)),gle.push((e+1)*(e+2)/2%64);let r=wje;for(let s=0;s<7;s++)t=(t<<cE^(t>>_je)*Eje)%Sje,t&Cje&&(r^=cE<<(cE<<BigInt(s))-cE);mle.push(r);}var[Tje,Aje]=TH(mle,!0),hle=(e,t,n)=>n>32?RH(e,t,n):AH(e,t,n),fle=(e,t,n)=>n>32?IH(e,t,n):DH(e,t,n);function Dje(e,t=24){let n=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=hle(c,u,1)^n[a],h=fle(c,u,1)^n[a+1];for(let f=0;f<50;f+=10)e[o+f]^=d,e[o+f+1]^=h;}let r=e[2],s=e[3];for(let o=0;o<24;o++){let a=gle[o],l=hle(r,s,a),c=fle(r,s,a),u=ple[o];r=e[u],s=e[u+1],e[u]=l,e[u+1]=c;}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10];}e[0]^=Tje[i],e[1]^=Aje[i];}n.fill(0);}var A5=class e extends vg{constructor(t,n,i,r=!1,s=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=i,this.enableXOF=r,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,no(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=xw(this.state);}keccak(){ww||Cw(this.state32),Dje(this.state32,this.rounds),ww||Cw(this.state32),this.posOut=0,this.pos=0;}update(t){Sd(this);let{blockLen:n,state:i}=this;t=ou(t);let r=t.length;for(let s=0;s<r;){let o=Math.min(n-this.pos,r-s);for(let a=0;a<o;a++)i[this.pos++]^=t[s++];this.pos===n&&this.keccak();}return this;}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:n,pos:i,blockLen:r}=this;t[i]^=n,n&128&&i===r-1&&this.keccak(),t[r-1]^=128,this.keccak();}writeInto(t){Sd(this,!1),uf(t),this.finish();let n=this.state,{blockLen:i}=this;for(let r=0,s=t.length;r<s;){this.posOut>=i&&this.keccak();let o=Math.min(i-this.posOut,s-r);t.set(n.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o;}return t;}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t);}xof(t){return no(t),this.xofInto(new Uint8Array(t));}digestInto(t){if(lE(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t;}digest(){return this.digestInto(new Uint8Array(this.outputLen));}destroy(){this.destroyed=!0,this.state.fill(0);}_cloneInto(t){let{blockLen:n,suffix:i,outputLen:r,rounds:s,enableXOF:o}=this;return t||(t=new e(n,i,r,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=i,t.outputLen=r,t.enableXOF=o,t.destroyed=this.destroyed,t;}},yg=(e,t,n)=>_w(()=>new A5(t,e,n)),mFt=yg(6,144,224/8),vFt=yg(6,136,256/8),yFt=yg(6,104,384/8),bFt=yg(6,72,512/8),vle=yg(1,144,224/8),PH=yg(1,136,256/8),yle=yg(1,104,384/8),ble=yg(1,72,512/8),xle=(e,t,n)=>dle((i={})=>new A5(t,e,i.dkLen===void 0?n:i.dkLen,!0)),xFt=xle(31,168,128/8),wFt=xle(31,136,256/8);var SFt=_5.bool,Sw=_5.bytes;function kH(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e);}function wle(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0;}function uE(e){return t=>(_5.bytes(t),e(t));}var EFt=(()=>{let e=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,t=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:t&&!e?t("crypto"):void 0,web:e};})();var IFt=uE(vle),wr=(()=>{let e=uE(PH);return e.create=PH.create,e;})(),PFt=uE(yle),kFt=uE(ble);var Qn;(function(e){e.assertEqual=r=>r;function t(r){}e.assertIs=t;function n(r){throw new Error();}e.assertNever=n,e.arrayToEnum=r=>{let s={};for(let o of r)s[o]=o;return s;},e.getValidEnumValues=r=>{let s=e.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(let a of s)o[a]=r[a];return e.objectValues(o);},e.objectValues=r=>e.objectKeys(r).map(function(s){return r[s];}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let s=[];for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s;},e.find=(r,s)=>{for(let o of r)if(s(o))return o;},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s);}e.joinValues=i,e.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s;})(Qn||(Qn={}));var Sle=function(e){return e.mergeShapes=(t,n)=>O(O({},t),n),e;}(Sle||{}),Et=Qn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hf=e=>{switch(typeof e){case"undefined":return Et.undefined;case"string":return Et.string;case"number":return isNaN(e)?Et.nan:Et.number;case"boolean":return Et.boolean;case"function":return Et.function;case"bigint":return Et.bigint;case"symbol":return Et.symbol;case"object":return Array.isArray(e)?Et.array:e===null?Et.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Et.promise:typeof Map<"u"&&e instanceof Map?Et.map:typeof Set<"u"&&e instanceof Set?Et.set:typeof Date<"u"&&e instanceof Date?Et.date:Et.object;default:return Et.unknown;}},Qe=Qn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ije=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ff=(()=>{class e extends Error{get errors(){return this.issues;}constructor(n){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r];},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r];};let i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=n;}format(n){let i=n||function(o){return o.message;},r={_errors:[]},s=o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(i(a));else{let l=r,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(i(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++;}}};return s(this),r;}static assert(n){if(!(n instanceof e))throw new Error(`Not a ZodError: ${n}`);}toString(){return this.message;}get message(){return JSON.stringify(this.issues,Qn.jsonStringifyReplacer,2);}get isEmpty(){return this.issues.length===0;}flatten(n=i=>i.message){let i={},r=[];for(let s of this.issues)s.path.length>0?(i[s.path[0]]=i[s.path[0]]||[],i[s.path[0]].push(n(s))):r.push(n(s));return{formErrors:r,fieldErrors:i};}get formErrors(){return this.flatten();}}return e.create=t=>new e(t),e;})(),Aw=(e,t)=>{let n;switch(e.code){case Qe.invalid_type:e.received===Et.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Qe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Qn.jsonStringifyReplacer)}`;break;case Qe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qn.joinValues(e.keys,", ")}`;break;case Qe.invalid_union:n="Invalid input";break;case Qe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qn.joinValues(e.options)}`;break;case Qe.invalid_enum_value:n=`Invalid enum value. Expected ${Qn.joinValues(e.options)}, received '${e.received}'`;break;case Qe.invalid_arguments:n="Invalid function arguments";break;case Qe.invalid_return_type:n="Invalid function return type";break;case Qe.invalid_date:n="Invalid date";break;case Qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Qn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Qe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Qe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Qe.custom:n="Invalid input";break;case Qe.invalid_intersection_types:n="Intersection results could not be merged";break;case Qe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Qe.not_finite:n="Number must be finite";break;default:n=t.defaultError,Qn.assertNever(e);}return{message:n};},Ele=Aw;function Pje(e){Ele=e;}function D5(){return Ele;}var R5=e=>{let{data:t,path:n,errorMaps:i,issueData:r}=e,s=[...n,...(r.path||[])],o=Re(O({},r),{path:s});if(r.message!==void 0)return Re(O({},r),{path:s,message:r.message});let a="",l=i.filter(c=>!!c).slice().reverse();for(let c of l)a=c(o,{data:t,defaultError:a}).message;return Re(O({},r),{path:s,message:a});},kje=[];function mt(e,t){let n=D5(),i=R5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Aw?void 0:Aw].filter(r=>!!r)});e.common.issues.push(i);}var bo=class e{constructor(){this.value="valid";}dirty(){this.value==="valid"&&(this.value="dirty");}abort(){this.value!=="aborted"&&(this.value="aborted");}static mergeArray(t,n){let i=[];for(let r of n){if(r.status==="aborted")return Jt;r.status==="dirty"&&t.dirty(),i.push(r.value);}return{status:t.value,value:i};}static mergeObjectAsync(t,n){return $(this,null,function*(){let i=[];for(let r of n){let s=yield r.key,o=yield r.value;i.push({key:s,value:o});}return e.mergeObjectSync(t,i);});}static mergeObjectSync(t,n){let i={};for(let r of n){let{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return Jt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value);}return{status:t.value,value:i};}},Jt=Object.freeze({status:"aborted"}),Tw=e=>({status:"dirty",value:e}),Jo=e=>({status:"valid",value:e}),FH=e=>e.status==="aborted",NH=e=>e.status==="dirty",lv=e=>e.status==="valid",pE=e=>typeof Promise<"u"&&e instanceof Promise;function I5(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e);}function Tle(e,t,n,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,n):r?r.value=n:t.set(e,n),n;}var Mt=function(e){return e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message,e;}(Mt||{}),dE,hE,ec=class{constructor(t,n,i,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=r;}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath;}},Cle=(e,t)=>{if(lv(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new ff(e.common.issues);return this._error=n,this._error;}};};function Cn(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:i,description:r}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(o,a)=>{var l,c;let{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??i)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError};},description:r};}var _n=class{get description(){return this._def.description;}_getType(t){return hf(t.data);}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:hf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent};}_processInputParams(t){return{status:new bo(),ctx:{common:t.parent.common,data:t.data,parsedType:hf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}};}_parseSync(t){let n=this._parse(t);if(pE(n))throw new Error("Synchronous parse encountered promise.");return n;}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n);}parse(t,n){let i=this.safeParse(t,n);if(i.success)return i.data;throw i.error;}safeParse(t,n){var i;let r={common:{issues:[],async:(i=n?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hf(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Cle(r,s);}"~validate"(t){var n,i;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hf(t)};if(!this["~standard"].async)try{let s=this._parseSync({data:t,path:[],parent:r});return lv(s)?{value:s.value}:{issues:r.common.issues};}catch(s){!((i=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0};}return this._parseAsync({data:t,path:[],parent:r}).then(s=>lv(s)?{value:s.value}:{issues:r.common.issues});}parseAsync(t,n){return $(this,null,function*(){let i=yield this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error;});}safeParseAsync(t,n){return $(this,null,function*(){let i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hf(t)},r=this._parse({data:t,path:i.path,parent:i}),s=yield pE(r)?r:Promise.resolve(r);return Cle(i,s);});}refine(t,n){let i=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{let o=t(r),a=()=>s.addIssue(O({code:Qe.custom},i(r)));return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1);});}refinement(t,n){return this._refinement((i,r)=>t(i)?!0:(r.addIssue(typeof n=="function"?n(i,r):n),!1));}_refinement(t){return new dv({schema:this,typeName:en.ZodEffects,effect:{type:"refinement",refinement:t}});}superRefine(t){return this._refinement(t);}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)};}optional(){return bg.create(this,this._def);}nullable(){return Iw.create(this,this._def);}nullish(){return this.nullable().optional();}array(){return gE.create(this);}promise(){return L5.create(this,this._def);}or(t){return UH.create([this,t],this._def);}and(t){return jH.create(this,t,this._def);}transform(t){return new dv(Re(O({},Cn(this._def)),{schema:this,typeName:en.ZodEffects,effect:{type:"transform",transform:t}}));}default(t){let n=typeof t=="function"?t:()=>t;return new qH(Re(O({},Cn(this._def)),{innerType:this,defaultValue:n,typeName:en.ZodDefault}));}brand(){return new mE(O({typeName:en.ZodBranded,type:this},Cn(this._def)));}catch(t){let n=typeof t=="function"?t:()=>t;return new KH(Re(O({},Cn(this._def)),{innerType:this,catchValue:n,typeName:en.ZodCatch}));}describe(t){let n=this.constructor;return new n(Re(O({},this._def),{description:t}));}pipe(t){return vE.create(this,t);}readonly(){return YH.create(this);}isOptional(){return this.safeParse(void 0).success;}isNullable(){return this.safeParse(null).success;}},Mje=/^c[^\s-]{8,}$/i,Fje=/^[0-9a-z]+$/,Nje=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Lje=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Oje=/^[a-z0-9_-]{21}$/i,Bje=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vje=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hje=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gje="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",MH,zje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$je=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wje=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qje=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ale="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kje=new RegExp(`^${Ale}$`);function Dle(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t;}function Yje(e){return new RegExp(`^${Dle(e)}$`);}function Rle(e){let t=`${Ale}T${Dle(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`);}function Xje(e,t){return!!((t==="v4"||!t)&&zje.test(e)||(t==="v6"||!t)&&jje.test(e));}function Qje(e,t){if(!Bje.test(e))return!1;try{let[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||t&&r.alg!==t);}catch{return!1;}}function Zje(e,t){return!!((t==="v4"||!t)&&Uje.test(e)||(t==="v6"||!t)&&$je.test(e));}var N5=(()=>{class e extends _n{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==Et.string){let o=this._getOrReturnCtx(n);return mt(o,{code:Qe.invalid_type,expected:Et.string,received:o.parsedType}),Jt;}let r=new bo(),s;for(let o of this._def.checks)if(o.kind==="min")n.data.length<o.value&&(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")n.data.length>o.value&&(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){let a=n.data.length>o.value,l=n.data.length<o.value;(a||l)&&(s=this._getOrReturnCtx(n,s),a?mt(s,{code:Qe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&mt(s,{code:Qe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty());}else if(o.kind==="email")Hje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"email",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")MH||(MH=new RegExp(Gje,"u")),MH.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"emoji",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Lje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"uuid",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Oje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"nanoid",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Mje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"cuid",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Fje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"cuid2",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Nje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"ulid",code:Qe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(n.data);}catch{s=this._getOrReturnCtx(n,s),mt(s,{validation:"url",code:Qe.invalid_string,message:o.message}),r.dirty();}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"regex",code:Qe.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?n.data=n.data.trim():o.kind==="includes"?n.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?n.data=n.data.toLowerCase():o.kind==="toUpperCase"?n.data=n.data.toUpperCase():o.kind==="startsWith"?n.data.startsWith(o.value)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?n.data.endsWith(o.value)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Rle(o).test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Kje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Yje(o).test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Vje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"duration",code:Qe.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Xje(n.data,o.version)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"ip",code:Qe.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Qje(n.data,o.alg)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"jwt",code:Qe.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Zje(n.data,o.version)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"cidr",code:Qe.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Wje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"base64",code:Qe.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?qje.test(n.data)||(s=this._getOrReturnCtx(n,s),mt(s,{validation:"base64url",code:Qe.invalid_string,message:o.message}),r.dirty()):Qn.assertNever(o);return{status:r.value,value:n.data};}_regex(n,i,r){return this.refinement(s=>n.test(s),O({validation:i,code:Qe.invalid_string},Mt.errToObj(r)));}_addCheck(n){return new e(Re(O({},this._def),{checks:[...this._def.checks,n]}));}email(n){return this._addCheck(O({kind:"email"},Mt.errToObj(n)));}url(n){return this._addCheck(O({kind:"url"},Mt.errToObj(n)));}emoji(n){return this._addCheck(O({kind:"emoji"},Mt.errToObj(n)));}uuid(n){return this._addCheck(O({kind:"uuid"},Mt.errToObj(n)));}nanoid(n){return this._addCheck(O({kind:"nanoid"},Mt.errToObj(n)));}cuid(n){return this._addCheck(O({kind:"cuid"},Mt.errToObj(n)));}cuid2(n){return this._addCheck(O({kind:"cuid2"},Mt.errToObj(n)));}ulid(n){return this._addCheck(O({kind:"ulid"},Mt.errToObj(n)));}base64(n){return this._addCheck(O({kind:"base64"},Mt.errToObj(n)));}base64url(n){return this._addCheck(O({kind:"base64url"},Mt.errToObj(n)));}jwt(n){return this._addCheck(O({kind:"jwt"},Mt.errToObj(n)));}ip(n){return this._addCheck(O({kind:"ip"},Mt.errToObj(n)));}cidr(n){return this._addCheck(O({kind:"cidr"},Mt.errToObj(n)));}datetime(n){var i,r;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck(O({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:(i=n?.offset)!==null&&i!==void 0?i:!1,local:(r=n?.local)!==null&&r!==void 0?r:!1},Mt.errToObj(n?.message)));}date(n){return this._addCheck({kind:"date",message:n});}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck(O({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision},Mt.errToObj(n?.message)));}duration(n){return this._addCheck(O({kind:"duration"},Mt.errToObj(n)));}regex(n,i){return this._addCheck(O({kind:"regex",regex:n},Mt.errToObj(i)));}includes(n,i){return this._addCheck(O({kind:"includes",value:n,position:i?.position},Mt.errToObj(i?.message)));}startsWith(n,i){return this._addCheck(O({kind:"startsWith",value:n},Mt.errToObj(i)));}endsWith(n,i){return this._addCheck(O({kind:"endsWith",value:n},Mt.errToObj(i)));}min(n,i){return this._addCheck(O({kind:"min",value:n},Mt.errToObj(i)));}max(n,i){return this._addCheck(O({kind:"max",value:n},Mt.errToObj(i)));}length(n,i){return this._addCheck(O({kind:"length",value:n},Mt.errToObj(i)));}nonempty(n){return this.min(1,Mt.errToObj(n));}trim(){return new e(Re(O({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}));}toLowerCase(){return new e(Re(O({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}));}toUpperCase(){return new e(Re(O({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}));}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime");}get isDate(){return!!this._def.checks.find(n=>n.kind==="date");}get isTime(){return!!this._def.checks.find(n=>n.kind==="time");}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration");}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email");}get isURL(){return!!this._def.checks.find(n=>n.kind==="url");}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji");}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid");}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid");}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid");}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2");}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid");}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip");}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr");}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64");}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url");}get minLength(){let n=null;for(let i of this._def.checks)i.kind==="min"&&(n===null||i.value>n)&&(n=i.value);return n;}get maxLength(){let n=null;for(let i of this._def.checks)i.kind==="max"&&(n===null||i.value<n)&&(n=i.value);return n;}}return e.create=t=>{var n;return new e(O({checks:[],typeName:en.ZodString,coerce:(n=t?.coerce)!==null&&n!==void 0?n:!1},Cn(t)));},e;})();function Jje(e,t){let n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,r=n>i?n:i,s=parseInt(e.toFixed(r).replace(".","")),o=parseInt(t.toFixed(r).replace(".",""));return s%o/Math.pow(10,r);}var OH=(()=>{class e extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf;}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==Et.number){let o=this._getOrReturnCtx(n);return mt(o,{code:Qe.invalid_type,expected:Et.number,received:o.parsedType}),Jt;}let r,s=new bo();for(let o of this._def.checks)o.kind==="int"?Qn.isInteger(n.data)||(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?Jje(n.data,o.value)!==0&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(n.data)||(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.not_finite,message:o.message}),s.dirty()):Qn.assertNever(o);return{status:s.value,value:n.data};}gte(n,i){return this.setLimit("min",n,!0,Mt.toString(i));}gt(n,i){return this.setLimit("min",n,!1,Mt.toString(i));}lte(n,i){return this.setLimit("max",n,!0,Mt.toString(i));}lt(n,i){return this.setLimit("max",n,!1,Mt.toString(i));}setLimit(n,i,r,s){return new e(Re(O({},this._def),{checks:[...this._def.checks,{kind:n,value:i,inclusive:r,message:Mt.toString(s)}]}));}_addCheck(n){return new e(Re(O({},this._def),{checks:[...this._def.checks,n]}));}int(n){return this._addCheck({kind:"int",message:Mt.toString(n)});}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(n)});}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(n)});}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(n)});}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(n)});}multipleOf(n,i){return this._addCheck({kind:"multipleOf",value:n,message:Mt.toString(i)});}finite(n){return this._addCheck({kind:"finite",message:Mt.toString(n)});}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(n)});}get minValue(){let n=null;for(let i of this._def.checks)i.kind==="min"&&(n===null||i.value>n)&&(n=i.value);return n;}get maxValue(){let n=null;for(let i of this._def.checks)i.kind==="max"&&(n===null||i.value<n)&&(n=i.value);return n;}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&Qn.isInteger(n.value));}get isFinite(){let n=null,i=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(i===null||r.value>i)&&(i=r.value):r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);}return Number.isFinite(i)&&Number.isFinite(n);}}return e.create=t=>new e(O({checks:[],typeName:en.ZodNumber,coerce:t?.coerce||!1},Cn(t))),e;})(),BH=(()=>{class e extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte;}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data);}catch{return this._getInvalidInput(n);}if(this._getType(n)!==Et.bigint)return this._getInvalidInput(n);let r,s=new bo();for(let o of this._def.checks)o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?n.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(n,r),mt(r,{code:Qe.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Qn.assertNever(o);return{status:s.value,value:n.data};}_getInvalidInput(n){let i=this._getOrReturnCtx(n);return mt(i,{code:Qe.invalid_type,expected:Et.bigint,received:i.parsedType}),Jt;}gte(n,i){return this.setLimit("min",n,!0,Mt.toString(i));}gt(n,i){return this.setLimit("min",n,!1,Mt.toString(i));}lte(n,i){return this.setLimit("max",n,!0,Mt.toString(i));}lt(n,i){return this.setLimit("max",n,!1,Mt.toString(i));}setLimit(n,i,r,s){return new e(Re(O({},this._def),{checks:[...this._def.checks,{kind:n,value:i,inclusive:r,message:Mt.toString(s)}]}));}_addCheck(n){return new e(Re(O({},this._def),{checks:[...this._def.checks,n]}));}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(n)});}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(n)});}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(n)});}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(n)});}multipleOf(n,i){return this._addCheck({kind:"multipleOf",value:n,message:Mt.toString(i)});}get minValue(){let n=null;for(let i of this._def.checks)i.kind==="min"&&(n===null||i.value>n)&&(n=i.value);return n;}get maxValue(){let n=null;for(let i of this._def.checks)i.kind==="max"&&(n===null||i.value<n)&&(n=i.value);return n;}}return e.create=t=>{var n;return new e(O({checks:[],typeName:en.ZodBigInt,coerce:(n=t?.coerce)!==null&&n!==void 0?n:!1},Cn(t)));},e;})(),VH=(()=>{class e extends _n{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==Et.boolean){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.boolean,received:r.parsedType}),Jt;}return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodBoolean,coerce:t?.coerce||!1},Cn(t))),e;})(),HH=(()=>{class e extends _n{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==Et.date){let o=this._getOrReturnCtx(n);return mt(o,{code:Qe.invalid_type,expected:Et.date,received:o.parsedType}),Jt;}if(isNaN(n.data.getTime())){let o=this._getOrReturnCtx(n);return mt(o,{code:Qe.invalid_date}),Jt;}let r=new bo(),s;for(let o of this._def.checks)o.kind==="min"?n.data.getTime()<o.value&&(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?n.data.getTime()>o.value&&(s=this._getOrReturnCtx(n,s),mt(s,{code:Qe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Qn.assertNever(o);return{status:r.value,value:new Date(n.data.getTime())};}_addCheck(n){return new e(Re(O({},this._def),{checks:[...this._def.checks,n]}));}min(n,i){return this._addCheck({kind:"min",value:n.getTime(),message:Mt.toString(i)});}max(n,i){return this._addCheck({kind:"max",value:n.getTime(),message:Mt.toString(i)});}get minDate(){let n=null;for(let i of this._def.checks)i.kind==="min"&&(n===null||i.value>n)&&(n=i.value);return n!=null?new Date(n):null;}get maxDate(){let n=null;for(let i of this._def.checks)i.kind==="max"&&(n===null||i.value<n)&&(n=i.value);return n!=null?new Date(n):null;}}return e.create=t=>new e(O({checks:[],coerce:t?.coerce||!1,typeName:en.ZodDate},Cn(t))),e;})(),Ile=(()=>{class e extends _n{_parse(n){if(this._getType(n)!==Et.symbol){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.symbol,received:r.parsedType}),Jt;}return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodSymbol},Cn(t))),e;})(),GH=(()=>{class e extends _n{_parse(n){if(this._getType(n)!==Et.undefined){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.undefined,received:r.parsedType}),Jt;}return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodUndefined},Cn(t))),e;})(),zH=(()=>{class e extends _n{_parse(n){if(this._getType(n)!==Et.null){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.null,received:r.parsedType}),Jt;}return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodNull},Cn(t))),e;})(),P5=(()=>{class e extends _n{constructor(){super(...arguments),this._any=!0;}_parse(n){return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodAny},Cn(t))),e;})(),fE=(()=>{class e extends _n{constructor(){super(...arguments),this._unknown=!0;}_parse(n){return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodUnknown},Cn(t))),e;})(),av=(()=>{class e extends _n{_parse(n){let i=this._getOrReturnCtx(n);return mt(i,{code:Qe.invalid_type,expected:Et.never,received:i.parsedType}),Jt;}}return e.create=t=>new e(O({typeName:en.ZodNever},Cn(t))),e;})(),Ple=(()=>{class e extends _n{_parse(n){if(this._getType(n)!==Et.undefined){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.void,received:r.parsedType}),Jt;}return Jo(n.data);}}return e.create=t=>new e(O({typeName:en.ZodVoid},Cn(t))),e;})(),gE=(()=>{class e extends _n{_parse(n){let{ctx:i,status:r}=this._processInputParams(n),s=this._def;if(i.parsedType!==Et.array)return mt(i,{code:Qe.invalid_type,expected:Et.array,received:i.parsedType}),Jt;if(s.exactLength!==null){let a=i.data.length>s.exactLength.value,l=i.data.length<s.exactLength.value;(a||l)&&(mt(i,{code:a?Qe.too_big:Qe.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty());}if(s.minLength!==null&&i.data.length<s.minLength.value&&(mt(i,{code:Qe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&i.data.length>s.maxLength.value&&(mt(i,{code:Qe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),i.common.async)return Promise.all([...i.data].map((a,l)=>s.type._parseAsync(new ec(i,a,i.path,l)))).then(a=>bo.mergeArray(r,a));let o=[...i.data].map((a,l)=>s.type._parseSync(new ec(i,a,i.path,l)));return bo.mergeArray(r,o);}get element(){return this._def.type;}min(n,i){return new e(Re(O({},this._def),{minLength:{value:n,message:Mt.toString(i)}}));}max(n,i){return new e(Re(O({},this._def),{maxLength:{value:n,message:Mt.toString(i)}}));}length(n,i){return new e(Re(O({},this._def),{exactLength:{value:n,message:Mt.toString(i)}}));}nonempty(n){return this.min(1,n);}}return e.create=(t,n)=>new e(O({type:t,minLength:null,maxLength:null,exactLength:null,typeName:en.ZodArray},Cn(n))),e;})();function Ew(e){if(e instanceof Dw){let t={};for(let n in e.shape){let i=e.shape[n];t[n]=bg.create(Ew(i));}return new Dw(Re(O({},e._def),{shape:()=>t}));}else return e instanceof gE?new gE(Re(O({},e._def),{type:Ew(e.element)})):e instanceof bg?bg.create(Ew(e.unwrap())):e instanceof Iw?Iw.create(Ew(e.unwrap())):e instanceof Rw?Rw.create(e.items.map(t=>Ew(t))):e;}var Dw=(()=>{class e extends _n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend;}_getCached(){if(this._cached!==null)return this._cached;let n=this._def.shape(),i=Qn.objectKeys(n);return this._cached={shape:n,keys:i};}_parse(n){if(this._getType(n)!==Et.object){let u=this._getOrReturnCtx(n);return mt(u,{code:Qe.invalid_type,expected:Et.object,received:u.parsedType}),Jt;}let{status:r,ctx:s}=this._processInputParams(n),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof av&&this._def.unknownKeys==="strip"))for(let u in s.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let d=o[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ec(s,h,s.path,u)),alwaysSet:u in s.data});}if(this._def.catchall instanceof av){let u=this._def.unknownKeys;if(u==="passthrough")for(let d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(mt(s,{code:Qe.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.");}else{let u=this._def.catchall;for(let d of l){let h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ec(s,h,s.path,d)),alwaysSet:d in s.data});}}return s.common.async?Promise.resolve().then(()=>$(this,null,function*(){let u=[];for(let d of c){let h=yield d.key,f=yield d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet});}return u;})).then(u=>bo.mergeObjectSync(r,u)):bo.mergeObjectSync(r,c);}get shape(){return this._def.shape();}strict(n){return Mt.errToObj,new e(O(Re(O({},this._def),{unknownKeys:"strict"}),n!==void 0?{errorMap:(i,r)=>{var s,o,a,l;let c=(a=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,i,r).message)!==null&&a!==void 0?a:r.defaultError;return i.code==="unrecognized_keys"?{message:(l=Mt.errToObj(n).message)!==null&&l!==void 0?l:c}:{message:c};}}:{}));}strip(){return new e(Re(O({},this._def),{unknownKeys:"strip"}));}passthrough(){return new e(Re(O({},this._def),{unknownKeys:"passthrough"}));}extend(n){return new e(Re(O({},this._def),{shape:()=>O(O({},this._def.shape()),n)}));}merge(n){return new e({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>O(O({},this._def.shape()),n._def.shape()),typeName:en.ZodObject});}setKey(n,i){return this.augment({[n]:i});}catchall(n){return new e(Re(O({},this._def),{catchall:n}));}pick(n){let i={};return Qn.objectKeys(n).forEach(r=>{n[r]&&this.shape[r]&&(i[r]=this.shape[r]);}),new e(Re(O({},this._def),{shape:()=>i}));}omit(n){let i={};return Qn.objectKeys(this.shape).forEach(r=>{n[r]||(i[r]=this.shape[r]);}),new e(Re(O({},this._def),{shape:()=>i}));}deepPartial(){return Ew(this);}partial(n){let i={};return Qn.objectKeys(this.shape).forEach(r=>{let s=this.shape[r];n&&!n[r]?i[r]=s:i[r]=s.optional();}),new e(Re(O({},this._def),{shape:()=>i}));}required(n){let i={};return Qn.objectKeys(this.shape).forEach(r=>{if(n&&!n[r])i[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof bg;)o=o._def.innerType;i[r]=o;}}),new e(Re(O({},this._def),{shape:()=>i}));}keyof(){return Fle(Qn.objectKeys(this.shape));}}return e.create=(t,n)=>new e(O({shape:()=>t,unknownKeys:"strip",catchall:av.create(),typeName:en.ZodObject},Cn(n))),e.strictCreate=(t,n)=>new e(O({shape:()=>t,unknownKeys:"strict",catchall:av.create(),typeName:en.ZodObject},Cn(n))),e.lazycreate=(t,n)=>new e(O({shape:t,unknownKeys:"strip",catchall:av.create(),typeName:en.ZodObject},Cn(n))),e;})(),UH=(()=>{class e extends _n{_parse(n){let{ctx:i}=this._processInputParams(n),r=this._def.options;function s(o){for(let l of o)if(l.result.status==="valid")return l.result;for(let l of o)if(l.result.status==="dirty")return i.common.issues.push(...l.ctx.common.issues),l.result;let a=o.map(l=>new ff(l.ctx.common.issues));return mt(i,{code:Qe.invalid_union,unionErrors:a}),Jt;}if(i.common.async)return Promise.all(r.map(o=>$(this,null,function*(){let a=Re(O({},i),{common:Re(O({},i.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:i.data,path:i.path,parent:a}),ctx:a};}))).then(s);{let o,a=[];for(let c of r){let u=Re(O({},i),{common:Re(O({},i.common),{issues:[]}),parent:null}),d=c._parseSync({data:i.data,path:i.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues);}if(o)return i.common.issues.push(...o.ctx.common.issues),o.result;let l=a.map(c=>new ff(c));return mt(i,{code:Qe.invalid_union,unionErrors:l}),Jt;}}get options(){return this._def.options;}}return e.create=(t,n)=>new e(O({options:t,typeName:en.ZodUnion},Cn(n))),e;})(),df=e=>e instanceof $H?df(e.schema):e instanceof dv?df(e.innerType()):e instanceof WH?[e.value]:e instanceof cv?e.options:e instanceof uv?Qn.objectValues(e.enum):e instanceof qH?df(e._def.innerType):e instanceof GH?[void 0]:e instanceof zH?[null]:e instanceof bg?[void 0,...df(e.unwrap())]:e instanceof Iw?[null,...df(e.unwrap())]:e instanceof mE||e instanceof YH?df(e.unwrap()):e instanceof KH?df(e._def.innerType):[],k5=class e extends _n{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.object)return mt(n,{code:Qe.invalid_type,expected:Et.object,received:n.parsedType}),Jt;let i=this.discriminator,r=n.data[i],s=this.optionsMap.get(r);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(mt(n,{code:Qe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Jt);}get discriminator(){return this._def.discriminator;}get options(){return this._def.options;}get optionsMap(){return this._def.optionsMap;}static create(t,n,i){let r=new Map();for(let s of n){let o=df(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of o){if(r.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);r.set(a,s);}}return new e(O({typeName:en.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:r},Cn(i)));}};function LH(e,t){let n=hf(e),i=hf(t);if(e===t)return{valid:!0,data:e};if(n===Et.object&&i===Et.object){let r=Qn.objectKeys(t),s=Qn.objectKeys(e).filter(a=>r.indexOf(a)!==-1),o=O(O({},e),t);for(let a of s){let l=LH(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data;}return{valid:!0,data:o};}else if(n===Et.array&&i===Et.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let s=0;s<e.length;s++){let o=e[s],a=t[s],l=LH(o,a);if(!l.valid)return{valid:!1};r.push(l.data);}return{valid:!0,data:r};}else return n===Et.date&&i===Et.date&&+e==+t?{valid:!0,data:e}:{valid:!1};}var jH=(()=>{class e extends _n{_parse(n){let{status:i,ctx:r}=this._processInputParams(n),s=(o,a)=>{if(FH(o)||FH(a))return Jt;let l=LH(o.value,a.value);return l.valid?((NH(o)||NH(a))&&i.dirty(),{status:i.value,value:l.data}):(mt(r,{code:Qe.invalid_intersection_types}),Jt);};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>s(o,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}));}}return e.create=(t,n,i)=>new e(O({left:t,right:n,typeName:en.ZodIntersection},Cn(i))),e;})(),Rw=(()=>{class e extends _n{_parse(n){let{status:i,ctx:r}=this._processInputParams(n);if(r.parsedType!==Et.array)return mt(r,{code:Qe.invalid_type,expected:Et.array,received:r.parsedType}),Jt;if(r.data.length<this._def.items.length)return mt(r,{code:Qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:Qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());let o=[...r.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new ec(r,a,r.path,l)):null;}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>bo.mergeArray(i,a)):bo.mergeArray(i,o);}get items(){return this._def.items;}rest(n){return new e(Re(O({},this._def),{rest:n}));}}return e.create=(t,n)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e(O({items:t,typeName:en.ZodTuple,rest:null},Cn(n)));},e;})(),M5=class e extends _n{get keySchema(){return this._def.keyType;}get valueSchema(){return this._def.valueType;}_parse(t){let{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Et.object)return mt(i,{code:Qe.invalid_type,expected:Et.object,received:i.parsedType}),Jt;let r=[],s=this._def.keyType,o=this._def.valueType;for(let a in i.data)r.push({key:s._parse(new ec(i,a,i.path,a)),value:o._parse(new ec(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?bo.mergeObjectAsync(n,r):bo.mergeObjectSync(n,r);}get element(){return this._def.valueType;}static create(t,n,i){return n instanceof _n?new e(O({keyType:t,valueType:n,typeName:en.ZodRecord},Cn(i))):new e(O({keyType:N5.create(),valueType:t,typeName:en.ZodRecord},Cn(n)));}},kle=(()=>{class e extends _n{get keySchema(){return this._def.keyType;}get valueSchema(){return this._def.valueType;}_parse(n){let{status:i,ctx:r}=this._processInputParams(n);if(r.parsedType!==Et.map)return mt(r,{code:Qe.invalid_type,expected:Et.map,received:r.parsedType}),Jt;let s=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new ec(r,l,r.path,[u,"key"])),value:o._parse(new ec(r,c,r.path,[u,"value"]))}));if(r.common.async){let l=new Map();return Promise.resolve().then(()=>$(this,null,function*(){for(let c of a){let u=yield c.key,d=yield c.value;if(u.status==="aborted"||d.status==="aborted")return Jt;(u.status==="dirty"||d.status==="dirty")&&i.dirty(),l.set(u.value,d.value);}return{status:i.value,value:l};}));}else{let l=new Map();for(let c of a){let u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Jt;(u.status==="dirty"||d.status==="dirty")&&i.dirty(),l.set(u.value,d.value);}return{status:i.value,value:l};}}}return e.create=(t,n,i)=>new e(O({valueType:n,keyType:t,typeName:en.ZodMap},Cn(i))),e;})(),Mle=(()=>{class e extends _n{_parse(n){let{status:i,ctx:r}=this._processInputParams(n);if(r.parsedType!==Et.set)return mt(r,{code:Qe.invalid_type,expected:Et.set,received:r.parsedType}),Jt;let s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(mt(r,{code:Qe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),i.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(mt(r,{code:Qe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),i.dirty());let o=this._def.valueType;function a(c){let u=new Set();for(let d of c){if(d.status==="aborted")return Jt;d.status==="dirty"&&i.dirty(),u.add(d.value);}return{status:i.value,value:u};}let l=[...r.data.values()].map((c,u)=>o._parse(new ec(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l);}min(n,i){return new e(Re(O({},this._def),{minSize:{value:n,message:Mt.toString(i)}}));}max(n,i){return new e(Re(O({},this._def),{maxSize:{value:n,message:Mt.toString(i)}}));}size(n,i){return this.min(n,i).max(n,i);}nonempty(n){return this.min(1,n);}}return e.create=(t,n)=>new e(O({valueType:t,minSize:null,maxSize:null,typeName:en.ZodSet},Cn(n))),e;})(),F5=class e extends _n{constructor(){super(...arguments),this.validate=this.implement;}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==Et.function)return mt(n,{code:Qe.invalid_type,expected:Et.function,received:n.parsedType}),Jt;function i(a,l){return R5({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,D5(),Aw].filter(c=>!!c),issueData:{code:Qe.invalid_arguments,argumentsError:l}});}function r(a,l){return R5({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,D5(),Aw].filter(c=>!!c),issueData:{code:Qe.invalid_return_type,returnTypeError:l}});}let s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof L5){let a=this;return Jo(function(...l){return $(this,null,function*(){let c=new ff([]),u=yield a._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(i(l,f)),c;}),d=yield Reflect.apply(o,this,u);return yield a._def.returns._def.type.parseAsync(d,s).catch(f=>{throw c.addIssue(r(d,f)),c;});});});}else{let a=this;return Jo(function(...l){let c=a._def.args.safeParse(l,s);if(!c.success)throw new ff([i(l,c.error)]);let u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new ff([r(u,d.error)]);return d.data;});}}parameters(){return this._def.args;}returnType(){return this._def.returns;}args(...t){return new e(Re(O({},this._def),{args:Rw.create(t).rest(fE.create())}));}returns(t){return new e(Re(O({},this._def),{returns:t}));}implement(t){return this.parse(t);}strictImplement(t){return this.parse(t);}static create(t,n,i){return new e(O({args:t||Rw.create([]).rest(fE.create()),returns:n||fE.create(),typeName:en.ZodFunction},Cn(i)));}},$H=(()=>{class e extends _n{get schema(){return this._def.getter();}_parse(n){let{ctx:i}=this._processInputParams(n);return this._def.getter()._parse({data:i.data,path:i.path,parent:i});}}return e.create=(t,n)=>new e(O({getter:t,typeName:en.ZodLazy},Cn(n))),e;})(),WH=(()=>{class e extends _n{_parse(n){if(n.data!==this._def.value){let i=this._getOrReturnCtx(n);return mt(i,{received:i.data,code:Qe.invalid_literal,expected:this._def.value}),Jt;}return{status:"valid",value:n.data};}get value(){return this._def.value;}}return e.create=(t,n)=>new e(O({value:t,typeName:en.ZodLiteral},Cn(n))),e;})();function Fle(e,t){return new cv(O({values:e,typeName:en.ZodEnum},Cn(t)));}var cv=class e extends _n{constructor(){super(...arguments),dE.set(this,void 0);}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),i=this._def.values;return mt(n,{expected:Qn.joinValues(i),received:n.parsedType,code:Qe.invalid_type}),Jt;}if(I5(this,dE,"f")||Tle(this,dE,new Set(this._def.values),"f"),!I5(this,dE,"f").has(t.data)){let n=this._getOrReturnCtx(t),i=this._def.values;return mt(n,{received:n.data,code:Qe.invalid_enum_value,options:i}),Jt;}return Jo(t.data);}get options(){return this._def.values;}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t;}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t;}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t;}extract(t,n=this._def){return e.create(t,O(O({},this._def),n));}exclude(t,n=this._def){return e.create(this.options.filter(i=>!t.includes(i)),O(O({},this._def),n));}};dE=new WeakMap();cv.create=Fle;var uv=class extends _n{constructor(){super(...arguments),hE.set(this,void 0);}_parse(t){let n=Qn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Et.string&&i.parsedType!==Et.number){let r=Qn.objectValues(n);return mt(i,{expected:Qn.joinValues(r),received:i.parsedType,code:Qe.invalid_type}),Jt;}if(I5(this,hE,"f")||Tle(this,hE,new Set(Qn.getValidEnumValues(this._def.values)),"f"),!I5(this,hE,"f").has(t.data)){let r=Qn.objectValues(n);return mt(i,{received:i.data,code:Qe.invalid_enum_value,options:r}),Jt;}return Jo(t.data);}get enum(){return this._def.values;}};hE=new WeakMap();uv.create=(e,t)=>new uv(O({values:e,typeName:en.ZodNativeEnum},Cn(t)));var L5=(()=>{class e extends _n{unwrap(){return this._def.type;}_parse(n){let{ctx:i}=this._processInputParams(n);if(i.parsedType!==Et.promise&&i.common.async===!1)return mt(i,{code:Qe.invalid_type,expected:Et.promise,received:i.parsedType}),Jt;let r=i.parsedType===Et.promise?i.data:Promise.resolve(i.data);return Jo(r.then(s=>this._def.type.parseAsync(s,{path:i.path,errorMap:i.common.contextualErrorMap})));}}return e.create=(t,n)=>new e(O({type:t,typeName:en.ZodPromise},Cn(n))),e;})(),dv=(()=>{class e extends _n{innerType(){return this._def.schema;}sourceType(){return this._def.schema._def.typeName===en.ZodEffects?this._def.schema.sourceType():this._def.schema;}_parse(n){let{status:i,ctx:r}=this._processInputParams(n),s=this._def.effect||null,o={addIssue:a=>{mt(r,a),a.fatal?i.abort():i.dirty();},get path(){return r.path;}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){let a=s.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(l=>$(this,null,function*(){if(i.value==="aborted")return Jt;let c=yield this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Jt:c.status==="dirty"||i.value==="dirty"?Tw(c.value):c;}));{if(i.value==="aborted")return Jt;let l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Jt:l.status==="dirty"||i.value==="dirty"?Tw(l.value):l;}}if(s.type==="refinement"){let a=l=>{let c=s.refinement(l,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l;};if(r.common.async===!1){let l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Jt:(l.status==="dirty"&&i.dirty(),a(l.value),{status:i.value,value:l.value});}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Jt:(l.status==="dirty"&&i.dirty(),a(l.value).then(()=>({status:i.value,value:l.value}))));}if(s.type==="transform")if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!lv(a))return a;let l=s.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:l};}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>lv(a)?Promise.resolve(s.transform(a.value,o)).then(l=>({status:i.value,value:l})):a);Qn.assertNever(s);}}return e.create=(t,n,i)=>new e(O({schema:t,typeName:en.ZodEffects,effect:n},Cn(i))),e.createWithPreprocess=(t,n,i)=>new e(O({schema:n,effect:{type:"preprocess",transform:t},typeName:en.ZodEffects},Cn(i))),e;})(),bg=(()=>{class e extends _n{_parse(n){return this._getType(n)===Et.undefined?Jo(void 0):this._def.innerType._parse(n);}unwrap(){return this._def.innerType;}}return e.create=(t,n)=>new e(O({innerType:t,typeName:en.ZodOptional},Cn(n))),e;})(),Iw=(()=>{class e extends _n{_parse(n){return this._getType(n)===Et.null?Jo(null):this._def.innerType._parse(n);}unwrap(){return this._def.innerType;}}return e.create=(t,n)=>new e(O({innerType:t,typeName:en.ZodNullable},Cn(n))),e;})(),qH=(()=>{class e extends _n{_parse(n){let{ctx:i}=this._processInputParams(n),r=i.data;return i.parsedType===Et.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:i.path,parent:i});}removeDefault(){return this._def.innerType;}}return e.create=(t,n)=>new e(O({innerType:t,typeName:en.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default},Cn(n))),e;})(),KH=(()=>{class e extends _n{_parse(n){let{ctx:i}=this._processInputParams(n),r=Re(O({},i),{common:Re(O({},i.common),{issues:[]})}),s=this._def.innerType._parse({data:r.data,path:r.path,parent:O({},r)});return pE(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ff(r.common.issues);},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ff(r.common.issues);},input:r.data})};}removeCatch(){return this._def.innerType;}}return e.create=(t,n)=>new e(O({innerType:t,typeName:en.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch},Cn(n))),e;})(),Nle=(()=>{class e extends _n{_parse(n){if(this._getType(n)!==Et.nan){let r=this._getOrReturnCtx(n);return mt(r,{code:Qe.invalid_type,expected:Et.nan,received:r.parsedType}),Jt;}return{status:"valid",value:n.data};}}return e.create=t=>new e(O({typeName:en.ZodNaN},Cn(t))),e;})(),e$e=Symbol("zod_brand"),mE=class extends _n{_parse(t){let{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n});}unwrap(){return this._def.type;}},vE=class e extends _n{_parse(t){let{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return $(this,null,function*(){let s=yield this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Jt:s.status==="dirty"?(n.dirty(),Tw(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i});});{let r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?Jt:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i});}}static create(t,n){return new e({in:t,out:n,typeName:en.ZodPipeline});}},YH=(()=>{class e extends _n{_parse(n){let i=this._def.innerType._parse(n),r=s=>(lv(s)&&(s.value=Object.freeze(s.value)),s);return pE(i)?i.then(s=>r(s)):r(i);}unwrap(){return this._def.innerType;}}return e.create=(t,n)=>new e(O({innerType:t,typeName:en.ZodReadonly},Cn(n))),e;})();function Lle(e,t={},n){return e?P5.create().superRefine((i,r)=>{var s,o;if(!e(i)){let a=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;r.addIssue(Re(O({code:"custom"},c),{fatal:l}));}}):P5.create();}var t$e={object:Dw.lazycreate},en=function(e){return e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly",e;}(en||{}),n$e=(e,t={message:`Input not instance of ${e.name}`})=>Lle(n=>n instanceof e,t),Ole=N5.create,Ble=OH.create,i$e=Nle.create,r$e=BH.create,Vle=VH.create,s$e=HH.create,o$e=Ile.create,a$e=GH.create,l$e=zH.create,c$e=P5.create,u$e=fE.create,d$e=av.create,h$e=Ple.create,f$e=gE.create,p$e=Dw.create,g$e=Dw.strictCreate,m$e=UH.create,v$e=k5.create,y$e=jH.create,b$e=Rw.create,x$e=M5.create,w$e=kle.create,C$e=Mle.create,_$e=F5.create,S$e=$H.create,E$e=WH.create,T$e=cv.create,A$e=uv.create,D$e=L5.create,_le=dv.create,R$e=bg.create,I$e=Iw.create,P$e=dv.createWithPreprocess,k$e=vE.create,M$e=()=>Ole().optional(),F$e=()=>Ble().optional(),N$e=()=>Vle().optional(),L$e={string:e=>N5.create(Re(O({},e),{coerce:!0})),number:e=>OH.create(Re(O({},e),{coerce:!0})),boolean:e=>VH.create(Re(O({},e),{coerce:!0})),bigint:e=>BH.create(Re(O({},e),{coerce:!0})),date:e=>HH.create(Re(O({},e),{coerce:!0}))},O$e=Jt,au=Object.freeze({__proto__:null,defaultErrorMap:Aw,setErrorMap:Pje,getErrorMap:D5,makeIssue:R5,EMPTY_PATH:kje,addIssueToContext:mt,ParseStatus:bo,INVALID:Jt,DIRTY:Tw,OK:Jo,isAborted:FH,isDirty:NH,isValid:lv,isAsync:pE,get util(){return Qn;},get objectUtil(){return Sle;},ZodParsedType:Et,getParsedType:hf,ZodType:_n,datetimeRegex:Rle,ZodString:N5,ZodNumber:OH,ZodBigInt:BH,ZodBoolean:VH,ZodDate:HH,ZodSymbol:Ile,ZodUndefined:GH,ZodNull:zH,ZodAny:P5,ZodUnknown:fE,ZodNever:av,ZodVoid:Ple,ZodArray:gE,ZodObject:Dw,ZodUnion:UH,ZodDiscriminatedUnion:k5,ZodIntersection:jH,ZodTuple:Rw,ZodRecord:M5,ZodMap:kle,ZodSet:Mle,ZodFunction:F5,ZodLazy:$H,ZodLiteral:WH,ZodEnum:cv,ZodNativeEnum:uv,ZodPromise:L5,ZodEffects:dv,ZodTransformer:dv,ZodOptional:bg,ZodNullable:Iw,ZodDefault:qH,ZodCatch:KH,ZodNaN:Nle,BRAND:e$e,ZodBranded:mE,ZodPipeline:vE,ZodReadonly:YH,custom:Lle,Schema:_n,ZodSchema:_n,late:t$e,get ZodFirstPartyTypeKind(){return en;},coerce:L$e,any:c$e,array:f$e,bigint:r$e,boolean:Vle,date:s$e,discriminatedUnion:v$e,effect:_le,enum:T$e,function:_$e,instanceof:n$e,intersection:y$e,lazy:S$e,literal:E$e,map:w$e,nan:i$e,nativeEnum:A$e,never:d$e,null:l$e,nullable:I$e,number:Ble,object:p$e,oboolean:N$e,onumber:F$e,optional:R$e,ostring:M$e,pipeline:k$e,preprocess:P$e,promise:D$e,record:x$e,set:C$e,strictObject:g$e,string:Ole,symbol:o$e,transformer:_le,tuple:b$e,undefined:a$e,union:m$e,unknown:u$e,void:h$e,NEVER:O$e,ZodIssueCode:Qe,quotelessJson:Ije,ZodError:ff});var V$e=e=>e.message?e.message:"unspecified error",sl=class extends kt{constructor(t){super(),this.code=1100,this.errors=t,super.message=`Web3 validator found ${t.length} error[s]:
${this._compileErrors().join(`
`)}`;}_compileErrors(){return this.errors.map(V$e);}};var xi={};Iu(xi,{abiSchemaToJsonSchema:()=>H5,codePointToInt:()=>eG,ensureIfUint8Array:()=>iG,ethAbiToJsonSchema:()=>ZH,fetchArrayElement:()=>JH,hexToNumber:()=>G5,hexToUint8Array:()=>yE,numberToHex:()=>tG,padLeft:()=>nG,parseBaseType:()=>Td,transformJsonDataToAbiFormat:()=>V5,uint8ArrayToHexString:()=>Mw});var Hle=["bool","int","uint","bytes","string","address","tuple"];var XH=e=>typeof e=="object"&&"type"in e&&"name"in e;var Pw=e=>typeof e=="string",on=e=>typeof e=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function O5(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t);}var hv=e=>typeof e=="number"||typeof e=="bigint"||typeof e=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function B5(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e.startsWith("0x");}var kw=function(e){for(let[t,n]of Object.entries(e))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${n.toString()}`);};var H$e=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Td=e=>{let t=e.replace(/ /,""),n,i=!1,r=[];if(e.includes("[")&&(t=t.slice(0,t.indexOf("[")),r=[...e.matchAll(/(?:\[(\d*)\])/g)].map(s=>parseInt(s[1],10)).map(s=>Number.isNaN(s)?-1:s),i=r.length>0),Hle.includes(t))return{baseType:t,isArray:i,baseTypeSize:n,arraySizes:r};if(t.startsWith("int"))n=parseInt(t.substring(3),10),t="int";else if(t.startsWith("uint"))n=parseInt(e.substring(4),10),t="uint";else if(t.startsWith("bytes"))n=parseInt(t.substring(5),10),t="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:r};return{baseType:t,isArray:i,baseTypeSize:n,arraySizes:r};},QH=(e,t={})=>{if(Object.keys(t).includes("type"))throw new sl([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);let{baseType:i,baseTypeSize:r}=Td(e);if(!i&&!H$e.includes(e))throw new sl([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(i){if(i==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${i}${r??""}`,required:!0};}return e?{format:e,required:!0}:{};},H5=(e,t="/0")=>{let n={type:"array",items:[],maxItems:e.length,minItems:e.length};for(let[i,r]of e.entries()){let s,o,a=[];XH(r)?(s=r.type,o=r.name||`${t}/${i}`,a=r.components):typeof r=="string"?(s=r,o=`${t}/${i}`):Array.isArray(r)&&(r[0]&&typeof r[0]=="string"&&r[0].startsWith("tuple")&&!Array.isArray(r[0])&&r[1]&&Array.isArray(r[1])?(s=r[0],o=`${t}/${i}`,a=r[1]):(s="tuple",o=`${t}/${i}`,a=r));let{baseType:l,isArray:c,arraySizes:u}=Td(s),d,h=n;for(let f=u.length-1;f>0;f-=1)d={type:"array",$id:o,items:[],maxItems:u[f],minItems:u[f]},u[f]<0&&(delete d.maxItems,delete d.minItems),Array.isArray(h.items)?h.items.length===0?h.items=[d]:h.items.push(d):h.items=[h.items,d],h=d;if(l==="tuple"&&!c){let f=H5(a,o);f.$id=o,h.items.push(f);}else if(l==="tuple"&&c){let f=u[0],g=Object.assign({type:"array",$id:o,items:H5(a,o)},f>=0&&{minItems:f,maxItems:f});h.items.push(g);}else if(c){let f=u[0],g=Object.assign({type:"array",$id:o,items:QH(s)},f>=0&&{minItems:f,maxItems:f});h.items.push(g);}else Array.isArray(h.items)?h.items.push(Object.assign({$id:o},QH(s))):h.items.push(Object.assign({$id:o},QH(s)));h=n;}return n;},ZH=e=>H5(e),JH=(e,t)=>t===1?e:JH(e[0],t-1),V5=(e,t,n)=>{let i=[];for(let[r,s]of e.entries()){let o,a,l=[];XH(s)?(o=s.type,a=s.name,l=s.components):typeof s=="string"?o=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(o=s[0],l=s[1]):(o="tuple",l=s));let{baseType:c,isArray:u,arraySizes:d}=Td(o),h=Array.isArray(t)?t[r]:t[a];if(c==="tuple"&&!u)i.push(V5(l,h,n));else if(c==="tuple"&&u){let f=[];for(let g of h)if(d.length>1){let m=JH(g,d.length-1),y=[];for(let b of m)y.push(V5(l,b,n));f.push(y);}else f.push(V5(l,g,n));i.push(f);}else i.push(h);}return n=n??[],n.push(...i),n;},eG=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error(`Invalid code point: ${e}`);},G5=e=>{if(!on(e))throw new Error("Invalid hex string");let[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],i=BigInt(n);return i>Number.MAX_SAFE_INTEGER?t?-i:i:i<Number.MIN_SAFE_INTEGER?i:t?-1*Number(i):Number(i);},tG=e=>{if((typeof e=="number"||typeof e=="bigint")&&e<0)return`-0x${e.toString(16).slice(1)}`;if((typeof e=="number"||typeof e=="bigint")&&e>=0)return`0x${e.toString(16)}`;if(typeof e=="string"&&on(e)){let[t,n]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],i=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${t?"-":""}0x${i.replace(/^0+/,"").toLowerCase()}`;}if(typeof e=="string"&&!on(e))return tG(BigInt(e));throw new gg(e);},nG=(e,t,n="0")=>{if(typeof e=="string"&&!on(e))return e.padStart(t,n);let i=typeof e=="string"&&on(e)?e:tG(e),[r,s]=i.startsWith("-")?["-0x",i.slice(3)]:["0x",i.slice(2)];return`${r}${s.padStart(t,n)}`;};function Mw(e){let t="0x";for(let n of e){let i=n.toString(16);t+=i.length===1?`0${i}`:i;}return t;}var pf={zero:48,nine:57,A:65,F:70,a:97,f:102};function Gle(e){if(e>=pf.zero&&e<=pf.nine)return e-pf.zero;if(e>=pf.A&&e<=pf.F)return e-(pf.A-10);if(e>=pf.a&&e<=pf.f)return e-(pf.a-10);}function yE(e){let t=0;if(e.startsWith("0")&&(e[1]==="x"||e[1]==="X")&&(t=2),e.length%2!==0)throw new ru(`hex string has odd length: ${e}`);let n=(e.length-t)/2,i=new Uint8Array(n);for(let r=0,s=t;r<n;r+=1){let o=Gle(e.charCodeAt(s++)),a=Gle(e.charCodeAt(s++));if(o===void 0||a===void 0)throw new ru(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);i[r]=o*16+a;}return i;}function iG(e){var t;return!(e instanceof Uint8Array)&&((t=e?.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"?Uint8Array.from(e):e;}var z5=e=>{var t,n;return e instanceof Uint8Array||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="Buffer";},lu=(e,t={abiType:"bytes"})=>{if(typeof e!="string"&&!Array.isArray(e)&&!z5(e)||typeof e=="string"&&on(e)&&e.startsWith("-")||typeof e=="string"&&!on(e))return!1;let n;if(typeof e=="string"){if(e.length%2!==0)return!1;n=yE(e);}else if(Array.isArray(e)){if(e.some(i=>i<0||i>255||!Number.isInteger(i)))return!1;n=new Uint8Array(e);}else n=e;if(t?.abiType){let{baseTypeSize:i}=Td(t.abiType);return i?n.length===i:!0;}return t?.size?n.length===t?.size:!0;};var rG=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;let t=e.slice(2),n=Ed(t.toLowerCase()),i=Mw(wr(iG(n))).slice(2);for(let r=0;r<40;r+=1)if(parseInt(i[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(i[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0;},cr=(e,t=!0)=>{if(typeof e!="string"&&!z5(e))return!1;let n;return z5(e)?n=Mw(e):typeof e=="string"&&!on(e)?n=e.toLowerCase().startsWith("0x")?e:`0x${e}`:n=e,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:t?rG(n):!0:!1;};var gf=(e,t)=>{if(t===BigInt(0))return BigInt(1);let n=e;for(let i=1;i<t;i+=1)n*=e;return n;},ol=(e,t={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="string"&&e.length===0)return!1;let n;if(t?.abiType){let{baseTypeSize:r}=Td(t.abiType);r&&(n=r);}else t.bitSize&&(n=t.bitSize);let i=gf(BigInt(2),BigInt(n??256))-BigInt(1);try{let r=typeof e=="string"&&on(e)?BigInt(G5(e)):BigInt(e);return r>=0&&r<=i;}catch{return!1;}},fv=(e,t={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof e)||typeof e=="number"&&e>Number.MAX_SAFE_INTEGER)return!1;let n;if(t?.abiType){let{baseTypeSize:s,baseType:o}=Td(t.abiType);if(o!=="int")return!1;s&&(n=s);}else t.bitSize&&(n=t.bitSize);let i=gf(BigInt(2),BigInt((n??256)-1)),r=BigInt(-1)*gf(BigInt(2),BigInt((n??256)-1));try{let s=typeof e=="string"&&on(e)?BigInt(G5(e)):BigInt(e);return s>=r&&s<=i;}catch{return!1;}},U5=e=>!!(fv(e)||typeof e=="string"&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf(".")||typeof e=="number");var sG=e=>ol(e),Vr=e=>Object.values(Zl).includes(e),bE=e=>Vr(e)||sG(e);var mf=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)),Fw=(e,t)=>{if(typeof t=="string"&&!on(t)||!mf(e))return!1;let n=typeof t=="string"?yE(t):t,i=Mw(wr(n)).slice(2);for(let r=0;r<12;r+=4){let s=(parseInt(i.slice(r,r+2),16)<<8)+parseInt(i.slice(r+2,r+4),16)&2047,o=eG(e.charCodeAt(e.length-1-Math.floor(s/4))),a=1<<s%4;if((o&a)!==a)return!1;}return!0;},zle=(e,t)=>{if(!mf(e)||!cr(t))return!1;let n=nG(t,64);return Fw(e,n);},Ule=(e,t)=>!mf(e)||!cr(t)?!1:Fw(e,t);var jle=e=>["number","string","boolean"].includes(typeof e)?typeof e=="boolean"?!0:typeof e=="string"&&!on(e)?e==="1"||e==="0":typeof e=="string"&&on(e)?e==="0x1"||e==="0x0":e===1||e===0:!1;var we=e=>e==null,pv=e=>typeof e=="object"&&!we(e)&&!Array.isArray(e)&&!(e instanceof I2);var Nw=e=>typeof e!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(e)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),$le=(e,t)=>!mf(e)||!Nw(t)?!1:Fw(e,t);var Wle=e=>{let t=["fromBlock","toBlock","address","topics","blockHash"];if(we(e)||typeof e!="object"||!Object.keys(e).every(n=>t.includes(n))||!we(e.fromBlock)&&!bE(e.fromBlock)||!we(e.toBlock)&&!bE(e.toBlock))return!1;if(!we(e.address)){if(Array.isArray(e.address)){if(!e.address.every(n=>cr(n)))return!1;}else if(!cr(e.address))return!1;}return!(!we(e.topics)&&!e.topics.every(n=>we(n)?!0:Array.isArray(n)?n.every(i=>Nw(i)):!!Nw(n)));};var Lw={address:e=>cr(e),bloom:e=>mf(e),blockNumber:e=>sG(e),blockTag:e=>Vr(e),blockNumberOrTag:e=>bE(e),bool:e=>jle(e),bytes:e=>lu(e),filter:e=>Wle(e),hex:e=>on(e),uint:e=>ol(e),int:e=>fv(e),number:e=>U5(e),string:e=>Pw(e)};for(let e=8;e<=256;e+=8)Lw[`int${e}`]=t=>fv(t,{bitSize:e}),Lw[`uint${e}`]=t=>ol(t,{bitSize:e});for(let e=1;e<=32;e+=1)Lw[`bytes${e}`]=t=>lu(t,{size:e});Lw.bytes256=Lw.bytes;var oG=Lw;var xE=e=>{if((!e?.type||e?.type==="object")&&e?.properties){let t={};for(let n of Object.keys(e.properties)){let i=xE(e.properties[n]);i&&(t[n]=i);}return Array.isArray(e.required)?au.object(t).partial().required(e.required.reduce((n,i)=>Object.assign(Object.assign({},n),{[i]:!0}),{})):au.object(t).partial();}if(e?.type==="array"&&e?.items){if(Array.isArray(e.items)&&e.items.length>1&&e.maxItems!==void 0&&new Set(e.items.map(i=>i.$id)).size===e.items.length){let i=[];for(let r of e.items){let s=xE(r);s&&i.push(s);}return au.tuple(i);}let t=Array.isArray(e.items)?e.items[0]:e.items,n=au.array(xE(t));return n=e.minItems!==void 0?n.min(e.minItems):n,n=e.maxItems!==void 0?n.max(e.maxItems):n,n;}if(e.oneOf&&Array.isArray(e.oneOf))return au.union(e.oneOf.map(t=>xE(t)));if(e?.format){if(!oG[e.format])throw new C5(e.format);return au.any().refine(oG[e.format],t=>({params:{value:t,format:e.format}}));}return e?.type&&e?.type!=="object"&&typeof au[String(e.type)]=="function"?au[String(e.type)]():au.object({data:au.any()}).partial();},j5=class e{static factory(){return e.validatorInstance||(e.validatorInstance=new e()),e.validatorInstance;}validate(t,n,i){var r,s;let a=xE(t).safeParse(n);if(!a.success){let l=this.convertErrors((s=(r=a.error)===null||r===void 0?void 0:r.issues)!==null&&s!==void 0?s:[]);if(l){if(i?.silent)return l;throw new sl(l);}}}convertErrors(t){if(t&&Array.isArray(t)&&t.length>0)return t.map(n=>{var i;let r,s,o,a;a=n.path.join("/");let l=String(n.path[n.path.length-1]),c=n.path.join("/");if(n.code===Qe.too_big)s="maxItems",a=`${c}/maxItems`,o={limit:n.maximum},r=`must NOT have more than ${n.maximum} items`;else if(n.code===Qe.too_small)s="minItems",a=`${c}/minItems`,o={limit:n.minimum},r=`must NOT have fewer than ${n.minimum} items`;else if(n.code===Qe.custom){let{value:u,format:d}=(i=n.params)!==null&&i!==void 0?i:{};typeof u>"u"?r=`value at "/${a}" is required`:r=`value "${typeof u=="object"?JSON.stringify(u):u}" at "/${a}" must pass "${d}" validation`,o={value:u};}return{keyword:s??l,instancePath:c?`/${c}`:"",schemaPath:a?`#${a}`:"#",params:o??{value:n.message},message:r??n.message};});}};var wE=class{constructor(){this._validator=j5.factory();}validateJSONSchema(t,n,i){return this._validator.validate(t,n,i);}validate(t,n,i={silent:!1}){var r,s;let o=ZH(t);if(!(Array.isArray(o.items)&&((r=o.items)===null||r===void 0?void 0:r.length)===0&&n.length===0)){if(Array.isArray(o.items)&&((s=o.items)===null||s===void 0?void 0:s.length)===0&&n.length!==0)throw new sl([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(o,n,i);}}};var Dt=new wE();function Ia(e){var t,n;return e instanceof Uint8Array||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="Buffer";}function Cr(...e){let t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t),i=0;for(let r of e)n.set(r,i),i+=r.length;return n;}function gv(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n+=1)if(e[n]!==t[n])return!1;return!0;}var CE={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},aG="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",ea=e=>{if(Dt.validate(["bytes"],[e]),Ia(e))return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="string")return xi.hexToUint8Array(e);throw new ru(e);},{uint8ArrayToHexString:z$e}=xi,Ht=e=>z$e(ea(e)),Zn=e=>typeof e=="string"&&e.slice(0,2).toLowerCase()!=="0x"?ea(`0x${e}`):ea(e),xg=e=>(Dt.validate(["hex"],[e]),xi.hexToNumber(e)),U$e=xg,qi=(e,t)=>{typeof e!="bigint"&&Dt.validate(["int"],[e]);let n=xi.numberToHex(e);return t&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n;},j$e=qi,qle=e=>xg(e).toString(),ta=e=>{Dt.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),Ht(new TextEncoder().encode(t));},$5=ta,$$e=ta,_E=e=>kH(Zn(e)),Kle=e=>typeof e=="string"?_E(e):(Dt.validate(["bytes"],[e]),kH(e)),W5=Ed,W$e=_E,Yle=e=>{Dt.validate(["string"],[e]);let t="";for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n).toString(16);t+=i.length%2!==0?`0${i}`:i;}return`0x${t}`;},q$e=Yle,Xle=e=>new TextDecoder("ascii").decode(Zn(e)),K$e=Xle,xo=(e,t)=>{if(typeof e=="string"&&cr(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if(typeof e=="boolean")return t?"bool":e?"0x01":"0x00";if(typeof e=="number")return t?e<0?"int256":"uint256":qi(e);if(typeof e=="bigint")return t?"bigint":qi(e);if(Ia(e))return t?"bytes":Ht(e);if(typeof e=="object"&&e)return t?"string":ta(JSON.stringify(e));if(typeof e=="string"){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":qi(e);if(on(e))return t?"bytes":e;if(hv(e)&&!fv(e)&&!ol(e))return t?"bytes":`0x${e}`;if(hv(e)&&!fv(e)&&ol(e))return t?"uint":qi(e);if(!Number.isFinite(e))return t?"string":ta(e);}throw new y5(e);},Is=e=>{if(typeof e=="number")return e>1e20?(console.warn(aG),BigInt(e)):e;if(typeof e=="bigint")return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if(typeof e=="string"&&on(e))return xg(e);try{return Is(BigInt(e));}catch{throw new gg(e);}},Ad=e=>{if(typeof e=="number")return BigInt(e);if(typeof e=="bigint")return e;if(typeof e=="string"&&hv(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new gg(e);},Y$e=(e,t)=>{let n;if(typeof t=="string"){if(n=CE[t],!n)throw new z2(t);}else{if(t<0||!Number.isInteger(t))throw new U2(t);n=gf(BigInt(10),BigInt(t));}let i=String(Is(e)),r=n.toString().length-1;if(r<=0)return i.toString();let s=i.padStart(r,"0"),o=s.slice(0,-r),a=s.slice(-r).replace(/\.?0+$/,"");return o===""?a?`0.${a}`:"0":a===""?o:`${o}.${a}`.slice(0,o.length+r+1);},X$e=(e,t)=>{Dt.validate(["number"],[e]);let n;if(typeof t=="string"){if(n=CE[t],!n)throw new z2(t);}else{if(t<0||!Number.isInteger(t))throw new U2(t);n=gf(BigInt(10),BigInt(t));}let i=e;typeof i=="number"&&(i<1e-15&&console.warn(aG),i>1e20?(console.warn(aG),i=BigInt(i)):i=i.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));let[r,s]=String(typeof i=="string"&&!on(i)?i:Is(i)).split(".").concat(""),a=BigInt(`${r}${s}`)*n,l=s.length;return l===0?a.toString():a.toString().slice(0,-l);},Ps=e=>{if(!cr(e,!1))throw new cf(e);let t=e.toLowerCase().replace(/^0x/i,""),n=xi.uint8ArrayToHexString(wr(xi.ensureIfUint8Array(W5(t))));if(we(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let i="0x",r=n.replace(/^0x/i,"");for(let s=0;s<t.length;s+=1)parseInt(r[s],16)>7?i+=t[s].toUpperCase():i+=t[s];return i;},lG=e=>{if(typeof e=="boolean")return e;if(typeof e=="number"&&(e===0||e===1)||typeof e=="bigint"&&(e===BigInt(0)||e===BigInt(1)))return!!e;if(typeof e=="string"&&!on(e)&&(e==="1"||e==="0"||e==="false"||e==="true"))return e==="true"?!0:e==="false"?!1:!!Number(e);if(typeof e=="string"&&on(e)&&(e==="0x1"||e==="0x0"))return!!Is(e);throw new mg(e);};var K5=Wf(Zle(),1);var Jle=K5.default;var mv=class extends Jle{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER;}setMaxListeners(t){return this.maxListeners=t,this;}getMaxListeners(){return this.maxListeners;}};var ece=on,J$e=hv,eWe=rG,tce=cr,tWe=mf,nWe=Fw,iWe=zle,rWe=Ule,sWe=Nw,oWe=$le,aWe=(e,t)=>{let n=typeof e=="string"&&Vr(e),i=typeof t=="string"&&Vr(t);if(e===t||(e==="earliest"||e===0)&&(t==="earliest"||t===0))return 0;if(e==="earliest")return-1;if(t==="earliest")return 1;if(n&&i){let o={[Zl.EARLIEST]:1,[Zl.FINALIZED]:2,[Zl.SAFE]:3,[Zl.LATEST]:4,[Zl.PENDING]:5};return o[e]<o[t]?-1:1;}if(n&&!i||!n&&i)throw new x5("Cannot compare blocktag with provided non-blocktag input.");let r=BigInt(e),s=BigInt(t);return r<s?-1:r===s?0:1;},cu=e=>typeof e=="object"&&!we(e)&&Object.keys(e).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(t=>t in e),Rt=we;var nce=e=>typeof e=="object"&&!we(e)&&!Array.isArray(e)&&!(e instanceof I2),tc=(e,...t)=>{if(!nce(e))return e;let n=Object.assign({},e);for(let i of t)for(let r in i)nce(i[r])?(n[r]||(n[r]={}),n[r]=tc(n[r],i[r])):!we(i[r])&&Object.hasOwnProperty.call(i,r)&&(Array.isArray(i[r])||i[r]instanceof I2?n[r]=i[r].slice(0):n[r]=i[r]);return n;};var wg=(e,t,n="0")=>typeof e=="string"?on(e)?xi.padLeft(e,t,n):e.padStart(t,n):(Dt.validate(["int"],[e]),xi.padLeft(e,t,n)),ice=(e,t,n="0")=>{if(typeof e=="string"&&!on(e))return e.padEnd(t,n);let i=typeof e=="string"&&on(e)?e:qi(e),r=i.startsWith("-")?3:2;return Dt.validate([i.startsWith("-")?"int":"uint"],[e]),i.padEnd(t+r,n);},Y5=ice,Cg=wg,uG=(e,t=64)=>{Dt.validate(["int"],[e]);let n=Is(e);if(n>=0)return wg(xo(n),t);let i=gf(BigInt(2),BigInt(t*4));if(-n>=i)throw new j2(`value: ${e}, nibbleWidth: ${t}`);let s=BigInt(n)+i;return wg(qi(s),t);},lWe=(e,t=64)=>{Dt.validate(["int"],[e]);let n=Is(e);if(n<0)return n;let i=Math.ceil(Math.log(Number(n))/Math.log(2));if(i>t*4)throw new j2(`value: "${e}", nibbleWidth: "${t}"`);if(t*4!==i)return n;let r=gf(BigInt(2),BigInt(t)*BigInt(4));return Is(BigInt(n)-r);};var{parseBaseType:cWe}=xi,uu=e=>typeof e=="object"&&!we(e)&&"number"in e&&"bytes"in e,uWe=(e,t,n=[])=>{let i=Object.assign({},e),r;for(let s of t){if(i.oneOf&&r){let o=r,a=n.find(([l])=>l===o);a&&a[0]===r&&(i=i.oneOf[a[1]]);}if(!i.properties&&!i.items)return;i.properties?i=i.properties[s]:i.items&&i.items.properties?i=i.items.properties[s]:i.items&&pv(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(s,10)]),i&&s&&(r=s);}return i;},EE=(e,t,n)=>{try{let{baseType:i,baseTypeSize:r}=cWe(t);if(i==="int"||i==="uint")switch(n.number){case Zo.NUMBER:return Number(Ad(e));case Zo.HEX:return qi(Ad(e));case Zo.STR:return Ad(e).toString();case Zo.BIGINT:return Ad(e);default:throw new iv(`Invalid format: ${String(n.number)}`);}if(i==="bytes"){let s;switch(r?typeof e=="string"?s=wg(e,r*2):Ia(e)&&(s=Cr(new Uint8Array(r-e.length),e)):s=e,n.bytes){case iu.HEX:return Ht(ea(s));case iu.UINT8ARRAY:return ea(s);default:throw new iv(`Invalid format: ${String(n.bytes)}`);}}if(i==="string")return String(e);}catch{return e;}return e;},rce=({value:e,schemaProp:t,schema:n,object:i,key:r,dataPath:s,format:o,oneOfPath:a=[]})=>{var l,c;if(Array.isArray(e)){let u=t;if(t?.oneOf!==void 0&&t.oneOf.forEach((d,h)=>{var f,g;!Array.isArray(t?.items)&&(typeof e[0]=="object"&&((f=d?.items)===null||f===void 0?void 0:f.type)==="object"||typeof e[0]=="string"&&((g=d?.items)===null||g===void 0?void 0:g.type)!=="object")&&(u=d,a.push([r,h]));}),we(u?.items))return delete i[r],s.pop(),!0;if(pv(u.items)&&!we(u.items.format)){for(let d=0;d<e.length;d+=1)i[r][d]=EE(e[d],(l=u?.items)===null||l===void 0?void 0:l.format,o);return s.pop(),!0;}if(!Array.isArray(u?.items)&&((c=u?.items)===null||c===void 0?void 0:c.type)==="object"){for(let d of e)X5(d,n,s,o,a);return s.pop(),!0;}if(Array.isArray(u?.items)){for(let d=0;d<e.length;d+=1)i[r][d]=EE(e[d],u.items[d].format,o);return s.pop(),!0;}}return!1;},X5=(e,t,n,i,r=[])=>{var s;if(!pv(e)&&!Array.isArray(e))return EE(e,t?.format,i);let o=e;if(Array.isArray(o)&&t?.type==="array"&&((s=t?.items)===null||s===void 0?void 0:s.type)==="object")rce({value:o,schemaProp:t,schema:t,object:o,key:"",dataPath:n,format:i,oneOfPath:r});else for(let[a,l]of Object.entries(o)){n.push(a);let c=uWe(t,n,r);if(we(c)){delete o[a],n.pop();continue;}if(pv(l)){X5(l,t,n,i,r),n.pop();continue;}if(!rce({value:l,schemaProp:c,schema:t,object:o,key:a,dataPath:n,format:i,oneOfPath:r})){if(c?.format===void 0&&c?.oneOf!==void 0){for(let[u,d]of c.oneOf.entries())if(d?.format!==void 0){c=d;break;}}o[a]=EE(l,c.format,i),n.pop();}}return o;},Ve=(e,t,n=lr)=>{let i;pv(t)?i=tc({},t):Array.isArray(t)?i=[...t]:i=t;let r=pv(e)?e:xi.ethAbiToJsonSchema(e);if(!r.properties&&!r.items&&!r.format)throw new iv("Invalid json schema for formatting");return X5(i,r,[],n);};var ace="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Dd=e=>{let t;return typeof e=="bigint"||typeof e=="number"?t=Ed(e.toString()):Array.isArray(e)?t=new Uint8Array(e):typeof e=="string"&&!on(e)?t=Ed(e):t=ea(e),Ht(wr(xi.ensureIfUint8Array(t)));};var Ow=e=>{let t;typeof e=="string"?e.startsWith("0x")&&on(e)?t=Zn(e):t=Ed(e):t=e;let n=Dd(t);return n===ace?void 0:n;},ys=e=>{let t=Ow(e);return we(t)?ace:t;},dWe=e=>{if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");let t,n;if(typeof e=="object"&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,n="v"in e?e.v:e.value,t=t.toLowerCase()==="bigint"?"int":t;else{if(typeof e=="bigint")return["int",e];t=xo(e,!0),n=xo(e),!t.startsWith("int")&&!t.startsWith("uint")&&(t="bytes");}return(t.startsWith("int")||t.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Ad(n)),[t,n];},hWe=e=>e.startsWith("int[")?`int256${e.slice(3)}`:e==="int"?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:e==="uint"?"uint256":e,dG=(e,t)=>{let n=/^(\d+).*$/.exec(e.slice(t));return n?parseInt(n[1],10):0;},sce=e=>e.toString(2).length,oce=(e,t)=>{let n=t.toString();if(e==="string"){if(typeof t=="string")return ta(t);throw new v5(t);}if(e==="bool"||e==="boolean"){if(typeof t=="boolean")return t?"01":"00";throw new mg(t);}if(e==="address"){if(!cr(n))throw new cf(n);return n;}let i=hWe(e);if(e.startsWith("uint")){let r=dG(i,4);if(r%8||r<8||r>256)throw new $2(n);let s=Is(n);if(sce(s)>r)throw new W2(n);if(s<BigInt(0))throw new b5(n);return r?Cg(s.toString(16),r/8*2):s.toString(16);}if(e.startsWith("int")){let r=dG(i,3);if(r%8||r<8||r>256)throw new $2(e);let s=Is(n);if(sce(s)>r)throw new W2(n);return s<BigInt(0)?uG(s.toString(),r/8*2):r?Cg(s.toString(16),r/4):s.toString(16);}if(i==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new ru(n);return n;}if(e.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new ru(n);let r=dG(e,5);if(!r||r<1||r>64||r<n.replace(/^0x/i,"").length/2)throw new ru(n);return Y5(n,r*2);}return"";},lce=e=>{let[t,n]=dWe(e);return Array.isArray(n)?n.map(s=>oce(t,s).replace("0x","")).join(""):oce(t,n).replace("0x","");},hG=(...e)=>`0x${e.map(lce).join("").toLowerCase()}`,fWe=(...e)=>Ow(hG(...e)),pWe=(...e)=>ys(hG(...e)),gWe=e=>Ow(`0x${(typeof e=="number"?e.toString():e).padStart(64,"0")}`);function cce(e){return T5(e);}var vv=e=>cce(e),mWe=e=>Ht(vv(e));var Q5=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function fG(e){return(typeof e=="object"||typeof e=="function")&&typeof e.then=="function";}function uce(e,t,n){return Q5(this,void 0,void 0,function*(){let i,r=yield Promise.race([e instanceof Promise?e:e(),new Promise((s,o)=>{i=setTimeout(()=>n?o(n):s(void 0),t);})]);if(i&&clearTimeout(i),r instanceof Error)throw r;return r;});}function Z5(e,t){let n;return[new Promise((r,s)=>{n=setInterval(function o(){return Q5(this,void 0,void 0,function*(){try{let a=yield uce(e,t);we(a)||(clearInterval(n),r(a));}catch(a){clearInterval(n),s(a);}}),o;}(),t);}),n];}function vWe(e,t){return Q5(this,void 0,void 0,function*(){return Z5(e,t)[0];});}function TE(e,t){let n,i=new Promise((r,s)=>{n=setTimeout(()=>{s(t);},e);});return[n,i];}function pG(e,t){let n,i=new Promise((r,s)=>{n=setInterval(()=>{Q5(this,void 0,void 0,function*(){let o=yield e();o&&(clearInterval(n),s(o));});},t);});return[n,i];}var Ki={};Iu(Ki,{isBatchRequest:()=>iM,isBatchResponse:()=>IE,isResponseRpcError:()=>tM,isResponseWithError:()=>RE,isResponseWithNotification:()=>nM,isResponseWithResult:()=>DE,isSubscriptionResult:()=>dce,isValidResponse:()=>gG,setRequestIdStart:()=>hce,toBatchPayload:()=>fce,toPayload:()=>Bw,validateResponse:()=>eM});var AE=()=>{let e=vv(16);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=Ht(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-");};var tM=e=>{let t=e.error.code;return to.has(t)||t>=-32099&&t<=-32e3;},DE=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&"result"in e&&we(e.error)&&(typeof e.id=="number"||typeof e.id=="string"),RE=e=>!Array.isArray(e)&&e.jsonrpc==="2.0"&&!!e&&we(e.result)&&"error"in e&&(typeof e.id=="number"||typeof e.id=="string"),nM=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&!we(e.params)&&!we(e.method),dce=e=>!Array.isArray(e)&&!!e&&e.jsonrpc==="2.0"&&"id"in e&&"result"in e,eM=e=>DE(e)||RE(e),gG=e=>Array.isArray(e)?e.every(eM):eM(e),IE=e=>Array.isArray(e)&&e.length>0&&gG(e),J5,hce=e=>{J5=e;},Bw=e=>{var t,n,i,r;return typeof J5<"u"&&(J5+=1),{jsonrpc:(t=e.jsonrpc)!==null&&t!==void 0?t:"2.0",id:(i=(n=e.id)!==null&&n!==void 0?n:J5)!==null&&i!==void 0?i:AE(),method:e.method,params:(r=e.params)!==null&&r!==void 0?r:void 0};},fce=e=>e.map(t=>Bw(t)),iM=e=>Array.isArray(e)&&e.length>0;var mG=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},pce,_g=class{constructor({timeout:t,eagerStart:n,timeoutMessage:i}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[pce]="Promise",this._state="pending",this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s;}),this._timeoutMessage=i,this._timeoutInterval=t,n&&this.startTimer();}get state(){return this._state;}then(t,n){return mG(this,void 0,void 0,function*(){return this._promise.then(t,n);});}catch(t){return mG(this,void 0,void 0,function*(){return this._promise.catch(t);});}finally(t){return mG(this,void 0,void 0,function*(){return this._promise.finally(t);});}resolve(t){this._resolve(t),this._state="fulfilled",this._clearTimeout();}reject(t){this._reject(t),this._state="rejected",this._clearTimeout();}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval));}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new fw(this._timeoutMessage));}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId);}};pce=Symbol.toStringTag;var PE=class{constructor(t,n){this.eventEmitter=t,this.autoReconnect=n,this.chunkTimeout=1e3*15;}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues();}onError(t){this._clearQueues=t;}parseResponse(t){let n=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(r=>{let s=r;this.lastChunk&&(s=this.lastChunk+s);let o;try{o=JSON.parse(s);}catch{this.lastChunk=s,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new _d({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})));},this.chunkTimeout);return;}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,o&&n.push(o);}),n;}};var gce=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Sg=class extends ug{constructor(){super(...arguments),this._eventEmitter=new K5.default(),this._chainId="",this._accounts=[];}_getChainId(){return gce(this,void 0,void 0,function*(){var t;let n=yield this.request(Bw({method:"eth_chainId",params:[]}));return(t=n?.result)!==null&&t!==void 0?t:"";});}_getAccounts(){return gce(this,void 0,void 0,function*(){var t;let n=yield this.request(Bw({method:"eth_accounts",params:[]}));return(t=n?.result)!==null&&t!==void 0?t:[];});}_onConnect(){Promise.all([this._getChainId().then(t=>{t!==this._chainId&&(this._chainId=t,this._eventEmitter.emit("chainChanged",this._chainId));}).catch(t=>{console.error(t);}),this._getAccounts().then(t=>{this._accounts.length===t.length&&t.every(n=>t.includes(n))||(this._accounts=t,this._onAccountsChanged());}).catch(t=>{console.error(t);})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(t=>{console.error(t);});}_onDisconnect(t,n){this._eventEmitter.emit("disconnect",new w5(t,n));}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts);}};var vG=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},yWe={autoReconnect:!0,delay:5e3,maxAttempts:5},bWe=1e3,Vw=class extends Sg{get SocketConnection(){return this._socketConnection;}constructor(t,n,i){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(t))throw new rv(t);this._socketPath=t,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},yWe),i??{}),this._pendingRequestsQueue=new Map(),this._sentRequestsQueue=new Map(),this._init(),this.connect(),this.chunkResponseParser=new PE(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues();}),this.isReconnecting=!1;}_init(){this._reconnectAttempts=0;}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners();}catch(t){if(this.isReconnecting)setImmediate(()=>{this._reconnect();});else throw this._connectionStatus="disconnected",t&&t.message?new hg(`Error while connecting to ${this._socketPath}. Reason: ${t.message}`):new rv(this._socketPath);}}_validateProviderPath(t){return!!t;}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size;}getSentRequestsQueueSize(){return this._sentRequestsQueue.size;}supportsSubscriptions(){return!0;}on(t,n){this._eventEmitter.on(t,n);}once(t,n){this._eventEmitter.once(t,n);}removeListener(t,n){this._eventEmitter.removeListener(t,n);}_onDisconnect(t,n){this._connectionStatus="disconnected",super._onDisconnect(t,n);}disconnect(t,n){let i=t??bWe;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(i,n),this._onDisconnect(i,n);}safeDisconnect(t,n){return vG(this,arguments,void 0,function*(i,r,s=!1,o=1e3){let a=0;yield vG(this,void 0,void 0,function*(){return new Promise(c=>{let u=setInterval(()=>{s&&a>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(u),c(!0)),a+=1;},o);});}),this.disconnect(i,r);});}removeAllListeners(t){this._eventEmitter.removeAllListeners(t);}_onError(t){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",t);}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners();}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,n)=>{t.deferredPromise.reject(new Hk()),this._sentRequestsQueue.delete(n);}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1;},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new Vk(this._reconnectOptions.maxAttempts))));}request(t){return vG(this,void 0,void 0,function*(){if(Rt(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();let n=iM(t)?t[0].id:t.id;if(!n)throw new qk("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new Gk(n);let i=new _g();i.catch(s=>{this._eventEmitter.emit("error",s);});let r={payload:t,deferredPromise:i};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,r),r.deferredPromise;this._sentRequestsQueue.set(n,r);try{this._sendToSocket(r.payload);}catch(s){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",s);}return i;});}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests();}_sendPendingRequests(){for(let[t,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(t),this._sentRequestsQueue.set(t,n);}catch(i){this._pendingRequestsQueue.delete(t),this._eventEmitter.emit("error",i);}}_onMessage(t){let n=this._parseResponses(t);if(!(Rt(n)||n.length===0))for(let i of n){if(nM(i)&&i.method.endsWith("_subscription")){this._eventEmitter.emit("message",i);return;}let r=IE(i)?i[0].id:i.id,s=this._sentRequestsQueue.get(r);if(!s)return;(IE(i)||DE(i)||RE(i))&&(this._eventEmitter.emit("message",i),s.deferredPromise.resolve(i)),this._sentRequestsQueue.delete(r);}}clearQueues(t){this._clearQueues(t);}_clearQueues(t){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,i)=>{n.deferredPromise.reject(new nv(t)),this._pendingRequestsQueue.delete(i);}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,i)=>{n.deferredPromise.reject(new nv(t)),this._sentRequestsQueue.delete(i);}),this._removeSocketListeners();}};var Rd=class{constructor(){this._emitter=new mv();}on(t,n){this._emitter.on(t,n);}once(t,n){this._emitter.once(t,n);}off(t,n){this._emitter.off(t,n);}emit(t,n){this._emitter.emit(t,n);}listenerCount(t){return this._emitter.listenerCount(t);}listeners(t){return this._emitter.listeners(t);}eventNames(){return this._emitter.eventNames();}removeAllListeners(){return this._emitter.removeAllListeners();}setMaxListenerWarningThreshold(t){this._emitter.setMaxListeners(t);}getMaxListeners(){return this._emitter.getMaxListeners();}};var Eg=function(e){return e.CONFIG_CHANGE="CONFIG_CHANGE",e;}(Eg||{}),rM=class extends Rd{constructor(t){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:xo(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:lr,ignoreGasPricing:!1},this.setConfig(t??{});}setConfig(t){let n=Object.keys(t);for(let i of n)this._triggerConfigChange(i,t[i]),!Rt(t[i])&&typeof t[i]=="number"&&i==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(t[i]));Object.assign(this.config,t);}get handleRevert(){return this.config.handleRevert;}set handleRevert(t){this._triggerConfigChange("handleRevert",t),this.config.handleRevert=t;}get contractDataInputFill(){return this.config.contractDataInputFill;}set contractDataInputFill(t){this._triggerConfigChange("contractDataInputFill",t),this.config.contractDataInputFill=t;}get defaultAccount(){return this.config.defaultAccount;}set defaultAccount(t){this._triggerConfigChange("defaultAccount",t),this.config.defaultAccount=t;}get defaultBlock(){return this.config.defaultBlock;}set defaultBlock(t){this._triggerConfigChange("defaultBlock",t),this.config.defaultBlock=t;}get transactionSendTimeout(){return this.config.transactionSendTimeout;}set transactionSendTimeout(t){this._triggerConfigChange("transactionSendTimeout",t),this.config.transactionSendTimeout=t;}get transactionBlockTimeout(){return this.config.transactionBlockTimeout;}set transactionBlockTimeout(t){this._triggerConfigChange("transactionBlockTimeout",t),this.config.transactionBlockTimeout=t;}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks;}set transactionConfirmationBlocks(t){this._triggerConfigChange("transactionConfirmationBlocks",t),this.config.transactionConfirmationBlocks=t;}get transactionPollingInterval(){return this.config.transactionPollingInterval;}set transactionPollingInterval(t){this._triggerConfigChange("transactionPollingInterval",t),this.config.transactionPollingInterval=t,this.transactionReceiptPollingInterval=t,this.transactionConfirmationPollingInterval=t;}get transactionPollingTimeout(){return this.config.transactionPollingTimeout;}set transactionPollingTimeout(t){this._triggerConfigChange("transactionPollingTimeout",t),this.config.transactionPollingTimeout=t;}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval;}set transactionReceiptPollingInterval(t){this._triggerConfigChange("transactionReceiptPollingInterval",t),this.config.transactionReceiptPollingInterval=t;}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval;}set transactionConfirmationPollingInterval(t){this._triggerConfigChange("transactionConfirmationPollingInterval",t),this.config.transactionConfirmationPollingInterval=t;}get blockHeaderTimeout(){return this.config.blockHeaderTimeout;}set blockHeaderTimeout(t){this._triggerConfigChange("blockHeaderTimeout",t),this.config.blockHeaderTimeout=t;}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures;}set enableExperimentalFeatures(t){this._triggerConfigChange("enableExperimentalFeatures",t),this.config.enableExperimentalFeatures=t;}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold;}set maxListenersWarningThreshold(t){this._triggerConfigChange("maxListenersWarningThreshold",t),this.setMaxListenerWarningThreshold(t),this.config.maxListenersWarningThreshold=t;}get defaultReturnFormat(){return this.config.defaultReturnFormat;}set defaultReturnFormat(t){this._triggerConfigChange("defaultReturnFormat",t),this.config.defaultReturnFormat=t;}get defaultNetworkId(){return this.config.defaultNetworkId;}set defaultNetworkId(t){this._triggerConfigChange("defaultNetworkId",t),this.config.defaultNetworkId=t;}get defaultChain(){return this.config.defaultChain;}set defaultChain(t){if(!Rt(this.config.defaultCommon)&&!Rt(this.config.defaultCommon.baseChain)&&t!==this.config.defaultCommon.baseChain)throw new K2(this.config.defaultChain,t);this._triggerConfigChange("defaultChain",t),this.config.defaultChain=t;}get defaultHardfork(){return this.config.defaultHardfork;}set defaultHardfork(t){if(!Rt(this.config.defaultCommon)&&!Rt(this.config.defaultCommon.hardfork)&&t!==this.config.defaultCommon.hardfork)throw new q2(this.config.defaultCommon.hardfork,t);this._triggerConfigChange("defaultHardfork",t),this.config.defaultHardfork=t;}get defaultCommon(){return this.config.defaultCommon;}set defaultCommon(t){if(!Rt(this.config.defaultHardfork)&&!Rt(t)&&!Rt(t.hardfork)&&this.config.defaultHardfork!==t.hardfork)throw new q2(this.config.defaultHardfork,t.hardfork);if(!Rt(this.config.defaultChain)&&!Rt(t)&&!Rt(t.baseChain)&&this.config.defaultChain!==t.baseChain)throw new K2(this.config.defaultChain,t.baseChain);this._triggerConfigChange("defaultCommon",t),this.config.defaultCommon=t;}get ignoreGasPricing(){return this.config.ignoreGasPricing;}set ignoreGasPricing(t){this._triggerConfigChange("ignoreGasPricing",t),this.config.ignoreGasPricing=t;}get defaultTransactionType(){return this.config.defaultTransactionType;}set defaultTransactionType(t){this._triggerConfigChange("defaultTransactionType",t),this.config.defaultTransactionType=t;}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas;}set defaultMaxPriorityFeePerGas(t){this._triggerConfigChange("defaultMaxPriorityFeePerGas",t),this.config.defaultMaxPriorityFeePerGas=t;}get transactionBuilder(){return this.config.transactionBuilder;}set transactionBuilder(t){this._triggerConfigChange("transactionBuilder",t),this.config.transactionBuilder=t;}get transactionTypeParser(){return this.config.transactionTypeParser;}set transactionTypeParser(t){this._triggerConfigChange("transactionTypeParser",t),this.config.transactionTypeParser=t;}get customTransactionSchema(){return this.config.customTransactionSchema;}set customTransactionSchema(t){this._triggerConfigChange("customTransactionSchema",t),this.config.customTransactionSchema=t;}_triggerConfigChange(t,n){this.emit(Eg.CONFIG_CHANGE,{name:t,oldValue:this.config[t],newValue:n});}};var yce=Wf(vce(),1);var xWe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},yv=class e extends ug{constructor(t,n){if(super(),!e.validateClientUrl(t))throw new rv(t);this.clientUrl=t,this.httpProviderOptions=n;}static validateClientUrl(t){return typeof t=="string"?/^http(s)?:\/\//i.test(t):!1;}getStatus(){throw new Jl();}supportsSubscriptions(){return!1;}request(t,n){var i;return xWe(this,void 0,void 0,function*(){let r=Object.assign(Object.assign({},(i=this.httpProviderOptions)===null||i===void 0?void 0:i.providerOptions),n),s=yield(0,yce.default)(this.clientUrl,Object.assign(Object.assign({},r),{method:"POST",headers:Object.assign(Object.assign({},r.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t)}));if(!s.ok)throw new vo(yield s.json(),void 0,void 0,s.status);return yield s.json();});}on(){throw new Jl();}removeListener(){throw new Jl();}once(){throw new Jl();}removeAllListeners(){throw new Jl();}connect(){throw new Jl();}disconnect(){throw new Jl();}reset(){throw new Jl();}reconnect(){throw new Jl();}};var Gw=null;typeof WebSocket<"u"?Gw=WebSocket:typeof MozWebSocket<"u"?Gw=MozWebSocket:typeof global<"u"?Gw=global.WebSocket||global.MozWebSocket:typeof window<"u"?Gw=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Gw=self.WebSocket||self.MozWebSocket);var bce=Gw;var bv=class extends Vw{constructor(t,n,i){super(t,n,i);}_validateProviderPath(t){return typeof t=="string"?/^ws(s)?:\/\//i.test(t):!1;}getStatus(){if(this._socketConnection&&!Rt(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected";}return"disconnected";}_openSocketConnection(){this._socketConnection=new bce(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions);}_closeSocketConnection(t,n){var i;(i=this._socketConnection)===null||i===void 0||i.close(t,n);}_sendToSocket(t){var n;if(this.getStatus()==="disconnected")throw new nv();(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(t));}_parseResponses(t){return this.chunkResponseParser.parseResponse(t.data);}_addSocketListeners(){var t,n,i,r;(t=this._socketConnection)===null||t===void 0||t.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(i=this._socketConnection)===null||i===void 0||i.addEventListener("close",s=>this._onCloseHandler(s)),(r=this._socketConnection)===null||r===void 0||r.addEventListener("error",this._onErrorHandler);}_removeSocketListeners(){var t,n,i;(t=this._socketConnection)===null||t===void 0||t.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(i=this._socketConnection)===null||i===void 0||i.removeEventListener("close",this._onCloseHandler);}_onCloseEvent(t){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(t.code)||!t.wasClean)){this._reconnect();return;}this._clearQueues(t),this._removeSocketListeners(),this._onDisconnect(t.code,t.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler);}};var yG=e=>ug.isWeb3Provider(e);var bG=e=>typeof e!="string"&&"request"in e&&e.request.constructor.name==="Function",xG=e=>typeof e!="string"&&"request"in e&&e.request.constructor.name==="AsyncFunction",wG=e=>typeof e!="string"&&"send"in e,CG=e=>typeof e!="string"&&"sendAsync"in e,xv=e=>e&&(yG(e)||xG(e)||bG(e)||CG(e)||wG(e)),xce=e=>e&&"supportsSubscriptions"in e?e.supportsSubscriptions():!!(e&&typeof e!="string"&&"on"in e);var _G=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},zw=function(e){return e.PROVIDER_CHANGED="PROVIDER_CHANGED",e.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE",e;}(zw||{}),wce={HttpProvider:yv,WebsocketProvider:bv},wv=class e extends Rd{constructor(t,n,i){super(),Rt(t)||this.setProvider(t),this.useRpcCallSpecification=n,Rt(i)||(this.middleware=i);}static get providers(){return wce;}get provider(){return this._provider;}get providers(){return wce;}setProvider(t){let n;if(t&&typeof t=="string"&&this.providers){if(/^http(s)?:\/\//i.test(t))n=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))n=new this.providers.WebsocketProvider(t);else throw new fg(`Can't autodetect provider for "${t}"`);}else Rt(t)?n=void 0:n=t;return this.emit(zw.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(zw.PROVIDER_CHANGED,this._provider),!0;}setMiddleware(t){this.middleware=t;}send(t){return _G(this,void 0,void 0,function*(){let n=Object.assign({},t),i=yield this._sendRequest(n);if(Rt(this.middleware)||(i=yield this.middleware.processResponse(i)),Ki.isResponseWithResult(i))return i.result;throw new vo(i);});}sendBatch(t){return _G(this,void 0,void 0,function*(){return yield this._sendRequest(t);});}_sendRequest(t){return _G(this,void 0,void 0,function*(){let{provider:n}=this;if(Rt(n))throw new fg("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let i=Ki.isBatchRequest(t)?Ki.toBatchPayload(t):Ki.toPayload(t);if(Rt(this.middleware)||(i=yield this.middleware.processRequest(i)),yG(n)){let r;try{r=yield n.request(i);}catch(s){r=s;}return this._processJsonRpcResponse(i,r,{legacy:!1,error:!1});}if(xG(n))return n.request(i).then(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!1})).catch(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!0}));if(bG(n))return new Promise((r,s)=>{let o=c=>{s(this._processJsonRpcResponse(i,c,{legacy:!0,error:!0}));},a=c=>r(this._processJsonRpcResponse(i,c,{legacy:!0,error:!1})),l=n.request(i,(c,u)=>c?o(c):a(u));fG(l)&&l.then(a).catch(u=>{try{let d=this._processJsonRpcResponse(i,u,{legacy:!0,error:!0});s(d);}catch(d){s(d);}});});if(wG(n))return new Promise((r,s)=>{n.send(i,(o,a)=>{if(o)return s(this._processJsonRpcResponse(i,o,{legacy:!0,error:!0}));if(Rt(a))throw new vo({},'Got a "nullish" response from provider.');return r(this._processJsonRpcResponse(i,a,{legacy:!0,error:!1}));});});if(CG(n))return n.sendAsync(i).then(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!1})).catch(r=>this._processJsonRpcResponse(i,r,{legacy:!0,error:!0}));throw new fg("Provider does not have a request or send method to use.");});}_processJsonRpcResponse(t,n,{legacy:i,error:r}){if(Rt(n))return this._buildResponse(t,null,r);if(Ki.isResponseWithError(n)){if(this.useRpcCallSpecification&&tM(n)){let s=n;if(to.get(s.error.code)){let o=to.get(s.error.code).error;throw new o(s);}else throw new yo(s);}else if(!e._isReverted(n))throw new _d(n,t);}if(Ki.isResponseWithResult(n))return n;if(n instanceof Error)throw e._isReverted(n),n;if(!i&&Ki.isBatchRequest(t)&&Ki.isBatchResponse(n)||i&&!r&&Ki.isBatchRequest(t))return n;if(i&&r&&Ki.isBatchRequest(t))throw n;if(i&&!Ki.isResponseWithError(n)&&!Ki.isResponseWithResult(n))return this._buildResponse(t,n,r);throw Ki.isBatchRequest(t)&&!Array.isArray(n)?new vo(n,"Got normal response for a batch request."):!Ki.isBatchRequest(t)&&Array.isArray(n)?new vo(n,"Got batch response for a normal request."):new vo(n,"Invalid response");}static _isReverted(t){let n;if(Ki.isResponseWithError(t)?n=t.error:t instanceof Error&&(n=t),n?.message.includes("revert"))throw new il(n);return!1;}_buildResponse(t,n,i){let r={jsonrpc:"2.0",id:Ki.isBatchRequest(t)?t[0].id:"id"in t?t.id:null};return i?Object.assign(Object.assign({},r),{error:n}):Object.assign(Object.assign({},r),{result:n});}};var ME=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},vf=class{constructor(t,n,i=!1){this.requestManager=t,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=i,this._subscriptions=new Map(),this.requestManager.on(zw.BEFORE_PROVIDER_CHANGE,()=>ME(this,void 0,void 0,function*(){yield this.unsubscribe();})),this.requestManager.on(zw.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents();}),this.listenToProviderEvents();}listenToProviderEvents(){let t=this.requestManager.provider;!this.requestManager.provider||typeof t?.supportsSubscriptions=="function"&&!t?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):t.on("data",n=>this.messageListener(n)));}messageListener(t){var n,i,r;if(!t)throw new rl("Should not call messageListener with no data. Type was");let s=((n=t.params)===null||n===void 0?void 0:n.subscription)||((i=t.data)===null||i===void 0?void 0:i.subscription)||((r=t.id)===null||r===void 0?void 0:r.toString(16));if(s){let o=this._subscriptions.get(s);o?.processSubscriptionData(t);}}subscribe(t,n){return ME(this,arguments,void 0,function*(i,r,s=lr){let o=this.registeredSubscriptions[i];if(!o)throw new rl("Invalid subscription type");let a=new o(r??void 0,{subscriptionManager:this,returnFormat:s});return yield this.addSubscription(a),a;});}get subscriptions(){return this._subscriptions;}addSubscription(t){return ME(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new fg("Provider not available");if(!this.supportsSubscriptions())throw new rl("The current provider does not support subscriptions");if(t.id&&this._subscriptions.has(t.id))throw new rl(`Subscription with id "${t.id}" already exists`);if(yield t.sendSubscriptionRequest(),Rt(t.id))throw new rl("Subscription is not subscribed yet.");return this._subscriptions.set(t.id,t),t.id;});}removeSubscription(t){return ME(this,void 0,void 0,function*(){let{id:n}=t;if(Rt(n))throw new rl("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new rl(`Subscription with id "${n.toString()}" does not exists`);return yield t.sendUnsubscribeRequest(),this._subscriptions.delete(n),n;});}unsubscribe(t){return ME(this,void 0,void 0,function*(){let n=[];for(let[i,r]of this.subscriptions.entries())(!t||typeof t=="function"&&t({id:i,sub:r}))&&n.push(this.removeSubscription(r));return Promise.all(n);});}clear(){this._subscriptions.clear();}supportsSubscriptions(){return Rt(this.requestManager.provider)?!1:xce(this.requestManager.provider);}};var FE=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},yf=class extends Rd{constructor(t,n){var i;super(),this.args=t;let{requestManager:r}=n,{subscriptionManager:s}=n;r?this._subscriptionManager=new vf(r,{},!0):this._subscriptionManager=s,this._returnFormat=(i=n?.returnFormat)!==null&&i!==void 0?i:lr;}get id(){return this._id;}get lastBlock(){return this._lastBlock;}subscribe(){return FE(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this);});}processSubscriptionData(t){var n,i;t?.data?this._processSubscriptionResult((i=(n=t?.data)===null||n===void 0?void 0:n.result)!==null&&i!==void 0?i:t?.data):t&&Ki.isResponseWithNotification(t)&&this._processSubscriptionResult(t?.params.result);}sendSubscriptionRequest(){return FE(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id;});}get returnFormat(){return this._returnFormat;}get subscriptionManager(){return this._subscriptionManager;}resubscribe(){return FE(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe();});}unsubscribe(){return FE(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this));});}sendUnsubscribeRequest(){return FE(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0;});}formatSubscriptionResult(t){return t;}_processSubscriptionResult(t){this.emit("data",this.formatSubscriptionResult(t));}_processSubscriptionError(t){this.emit("error",t);}_buildSubscriptionParams(){throw new Error("Implement in the child class");}};var Uw=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},aM=class e extends Pk{constructor(){super(...arguments),this._addressMap=new Map(),this._defaultKeyName="web3js_wallet";}static getStorage(){let t;try{t=window.localStorage;let n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t;}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!we(t)&&t.length!==0?t:void 0;}}create(t){for(let n=0;n<t;n+=1)this.add(this._accountProvider.create());return this;}add(t){var n;if(typeof t=="string")return this.add(this._accountProvider.privateKeyToAccount(t));let i=this.length;return this.get(t.address)&&(console.warn(`Account ${t.address.toLowerCase()} already exists.`),i=(n=this._addressMap.get(t.address.toLowerCase()))!==null&&n!==void 0?n:i),this._addressMap.set(t.address.toLowerCase(),i),this[i]=t,this;}get(t){if(typeof t=="string"){let n=this._addressMap.get(t.toLowerCase());return we(n)?void 0:this[n];}return this[t];}remove(t){if(typeof t=="string"){let n=this._addressMap.get(t.toLowerCase());return we(n)?!1:(this._addressMap.delete(t.toLowerCase()),this.splice(n,1),!0);}return this[t]?(this.splice(t,1),!0):!1;}clear(){return this._addressMap.clear(),this.length=0,this;}encrypt(t,n){return Uw(this,void 0,void 0,function*(){return Promise.all(this.map(i=>Uw(this,void 0,void 0,function*(){return i.encrypt(t,n);})));});}decrypt(t,n,i){return Uw(this,void 0,void 0,function*(){let r=yield Promise.all(t.map(s=>Uw(this,void 0,void 0,function*(){return this._accountProvider.decrypt(s,n,i);})));for(let s of r)this.add(s);return this;});}save(t,n){return Uw(this,void 0,void 0,function*(){let i=e.getStorage();if(!i)throw new Error("Local storage not available.");return i.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(t))),!0;});}load(t,n){return Uw(this,void 0,void 0,function*(){let i=e.getStorage();if(!i)throw new Error("Local storage not available.");let r=i.getItem(n??this._defaultKeyName);return r&&(yield this.decrypt(JSON.parse(r)||[],t)),this;});}};var Id={web:bw};function Cce(e,t,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(t.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&e.length!==16||n.startsWith("aes-256")&&e.length!==32)throw new Error("AES: wrong key length");}function _ce(e,t,n){return $(this,null,function*(){if(!Id.web)throw new Error("Browser crypto not available.");let i;if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(i="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(i="ctr"),!i)throw new Error("AES: unsupported mode");return[yield Id.web.subtle.importKey("raw",t,{name:`AES-${i.toUpperCase()}`,length:t.length*8},!0,["encrypt","decrypt"]),{name:`aes-${i}`,iv:n,counter:n,length:128}];});}function lM(e,t,n,i="aes-128-ctr",r=!0){return $(this,null,function*(){if(Cce(t,n,i),Id.web){let[s,o]=yield _ce(i,t,n),a=yield Id.web.subtle.encrypt(o,s,e),l=new Uint8Array(a);return!r&&o.name==="aes-cbc"&&!(e.length%16)&&(l=l.slice(0,-16)),l;}else if(Id.node){let s=Id.node.createCipheriv(i,t,n);return s.setAutoPadding(r),ov(s.update(e),s.final());}else throw new Error("The environment doesn't have AES module");});}function _We(e,t,n,i){return $(this,null,function*(){let r=e.slice(-16);for(let o=0;o<16;o++)r[o]^=n[o]^16;return(yield lM(r,t,n,i)).slice(0,16);});}function Sce(e,t,n,i="aes-128-ctr",r=!0){return $(this,null,function*(){if(Cce(t,n,i),Id.web){let[s,o]=yield _ce(i,t,n);if(!r&&o.name==="aes-cbc"){let c=yield _We(e,t,n,i);e=ov(e,c);}let a=yield Id.web.subtle.decrypt(o,s,e),l=new Uint8Array(a);if(o.name==="aes-cbc"){let c=yield lM(l,t,n,i);if(!wle(c,e))throw new Error("AES: wrong padding");}return l;}else if(Id.node){let s=Id.node.createDecipheriv(i,t,n);return s.setAutoPadding(r),ov(s.update(e),s.final());}else throw new Error("The environment doesn't have AES module");});}var cM=class extends vg{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,aE(t);let i=ou(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,s=new Uint8Array(r);s.set(i.length>r?t.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0);}update(t){return Sd(this),this.iHash.update(t),this;}digestInto(t){Sd(this),uf(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy();}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t;}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:n,iHash:i,finished:r,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t;}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy();}},NE=(e,t,n)=>new cM(e,t).update(n).digest();NE.create=(e,t)=>new cM(e,t);function EWe(e,t,n,i){aE(e);let r=E5({dkLen:32,asyncTick:10},i),{c:s,dkLen:o,asyncTick:a}=r;if(no(s),no(o),no(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let l=ou(t),c=ou(n),u=new Uint8Array(o),d=NE.create(e,l),h=d._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:d,PRFSalt:h};}function TWe(e,t,n,i,r){return e.destroy(),t.destroy(),i&&i.destroy(),r.fill(0),n;}function LE(e,t,n,i){let{c:r,dkLen:s,DK:o,PRF:a,PRFSalt:l}=EWe(e,t,n,i),c,u=new Uint8Array(4),d=sv(u),h=new Uint8Array(a.outputLen);for(let f=1,g=0;g<s;f++,g+=a.outputLen){let m=o.subarray(g,g+a.outputLen);d.setInt32(0,f,!1),(c=l._cloneInto(c)).update(u).digestInto(h),m.set(h.subarray(0,m.length));for(let y=1;y<r;y++){a._cloneInto(c).update(h).digestInto(h);for(let b=0;b<m.length;b++)m[b]^=h[b];}}return TWe(a,l,o,c,h);}function AWe(e,t,n,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,i);let r=BigInt(32),s=BigInt(4294967295),o=Number(n>>r&s),a=Number(n&s),l=i?4:0,c=i?0:4;e.setUint32(t+l,o,i),e.setUint32(t+c,a,i);}var Ece=(e,t,n)=>e&t^~e&n,Tce=(e,t,n)=>e&t^e&n^t&n,jw=class extends vg{constructor(t,n,i,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=sv(this.buffer);}update(t){Sd(this);let{view:n,buffer:i,blockLen:r}=this;t=ou(t);let s=t.length;for(let o=0;o<s;){let a=Math.min(r-this.pos,s-o);if(a===r){let l=sv(t);for(;r<=s-o;o+=r)this.process(l,o);continue;}i.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0),this.pos=0);}return this.length+=t.length,this.roundClean(),this;}digestInto(t){Sd(this),lE(t,this),this.finished=!0;let{buffer:n,view:i,blockLen:r,isLE:s}=this,{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let d=o;d<r;d++)n[d]=0;AWe(i,r-8,BigInt(this.length*8),s),this.process(i,0);let a=sv(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s);}digest(){let{buffer:t,outputLen:n}=this;this.digestInto(t);let i=t.slice(0,n);return this.destroy(),i;}_cloneInto(t){t||(t=new this.constructor()),t.set(...this.get());let{blockLen:n,buffer:i,length:r,finished:s,destroyed:o,pos:a}=this;return t.length=r,t.pos=a,t.finished=s,t.destroyed=o,r%n&&t.buffer.set(i),t;}};var DWe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ag=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dg=new Uint32Array(64),SG=class extends jw{constructor(){super(64,32,8,!1),this.A=Ag[0]|0,this.B=Ag[1]|0,this.C=Ag[2]|0,this.D=Ag[3]|0,this.E=Ag[4]|0,this.F=Ag[5]|0,this.G=Ag[6]|0,this.H=Ag[7]|0;}get(){let{A:t,B:n,C:i,D:r,E:s,F:o,G:a,H:l}=this;return[t,n,i,r,s,o,a,l];}set(t,n,i,r,s,o,a,l){this.A=t|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0;}process(t,n){for(let d=0;d<16;d++,n+=4)Dg[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){let h=Dg[d-15],f=Dg[d-2],g=su(h,7)^su(h,18)^h>>>3,m=su(f,17)^su(f,19)^f>>>10;Dg[d]=m+Dg[d-7]+g+Dg[d-16]|0;}let{A:i,B:r,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){let h=su(a,6)^su(a,11)^su(a,25),f=u+h+Ece(a,l,c)+DWe[d]+Dg[d]|0,m=(su(i,2)^su(i,13)^su(i,22))+Tce(i,r,s)|0;u=c,c=l,l=a,a=o+f|0,o=s,s=r,r=i,i=f+m|0;}i=i+this.A|0,r=r+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(i,r,s,o,a,l,c,u);}roundClean(){Dg.fill(0);}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0);}};var Cv=_w(()=>new SG());var[RWe,IWe]=In.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Rg=new Uint32Array(80),Ig=new Uint32Array(80),EG=class extends jw{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209;}get(){let{Ah:t,Al:n,Bh:i,Bl:r,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:h,Gh:f,Gl:g,Hh:m,Hl:y}=this;return[t,n,i,r,s,o,a,l,c,u,d,h,f,g,m,y];}set(t,n,i,r,s,o,a,l,c,u,d,h,f,g,m,y){this.Ah=t|0,this.Al=n|0,this.Bh=i|0,this.Bl=r|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=y|0;}process(t,n){for(let _=0;_<16;_++,n+=4)Rg[_]=t.getUint32(n),Ig[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){let A=Rg[_-15]|0,I=Ig[_-15]|0,N=In.rotrSH(A,I,1)^In.rotrSH(A,I,8)^In.shrSH(A,I,7),R=In.rotrSL(A,I,1)^In.rotrSL(A,I,8)^In.shrSL(A,I,7),D=Rg[_-2]|0,V=Ig[_-2]|0,X=In.rotrSH(D,V,19)^In.rotrBH(D,V,61)^In.shrSH(D,V,6),S=In.rotrSL(D,V,19)^In.rotrBL(D,V,61)^In.shrSL(D,V,6),T=In.add4L(R,S,Ig[_-7],Ig[_-16]),z=In.add4H(T,N,X,Rg[_-7],Rg[_-16]);Rg[_]=z|0,Ig[_]=T|0;}let{Ah:i,Al:r,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:h,Fh:f,Fl:g,Gh:m,Gl:y,Hh:b,Hl:C}=this;for(let _=0;_<80;_++){let A=In.rotrSH(d,h,14)^In.rotrSH(d,h,18)^In.rotrBH(d,h,41),I=In.rotrSL(d,h,14)^In.rotrSL(d,h,18)^In.rotrBL(d,h,41),N=d&f^~d&m,R=h&g^~h&y,D=In.add5L(C,I,R,IWe[_],Ig[_]),V=In.add5H(D,b,A,N,RWe[_],Rg[_]),X=D|0,S=In.rotrSH(i,r,28)^In.rotrBH(i,r,34)^In.rotrBH(i,r,39),T=In.rotrSL(i,r,28)^In.rotrBL(i,r,34)^In.rotrBL(i,r,39),z=i&s^i&a^s&a,W=r&o^r&l^o&l;b=m|0,C=y|0,m=f|0,y=g|0,f=d|0,g=h|0,{h:d,l:h}=In.add(c|0,u|0,V|0,X|0),c=a|0,u=l|0,a=s|0,l=o|0,s=i|0,o=r|0;let H=In.add3L(X,T,W);i=In.add3H(H,V,S,z),r=H|0;}({h:i,l:r}=In.add(this.Ah|0,this.Al|0,i|0,r|0)),{h:s,l:o}=In.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=In.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=In.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=In.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:g}=In.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:y}=In.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:b,l:C}=In.add(this.Hh|0,this.Hl|0,b|0,C|0),this.set(i,r,s,o,a,l,c,u,d,h,f,g,m,y,b,C);}roundClean(){Rg.fill(0),Ig.fill(0);}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);}};var Ace=_w(()=>new EG());function TG(e,t,n,i,r){if(!["sha256","sha512"].includes(r))throw new Error("Only sha256 and sha512 are supported");return Sw(e),Sw(t),LE(r==="sha256"?Cv:Ace,e,t,{c:n,dkLen:i});}function Dce(e,t,n,i,r,s){let o=e[t++]^n[i++],a=e[t++]^n[i++],l=e[t++]^n[i++],c=e[t++]^n[i++],u=e[t++]^n[i++],d=e[t++]^n[i++],h=e[t++]^n[i++],f=e[t++]^n[i++],g=e[t++]^n[i++],m=e[t++]^n[i++],y=e[t++]^n[i++],b=e[t++]^n[i++],C=e[t++]^n[i++],_=e[t++]^n[i++],A=e[t++]^n[i++],I=e[t++]^n[i++],N=o,R=a,D=l,V=c,X=u,S=d,T=h,z=f,W=g,H=m,F=y,Y=b,Z=C,ne=_,ae=A,Ce=I;for(let P=0;P<8;P+=2)X^=oi(N+Z|0,7),W^=oi(X+N|0,9),Z^=oi(W+X|0,13),N^=oi(Z+W|0,18),H^=oi(S+R|0,7),ne^=oi(H+S|0,9),R^=oi(ne+H|0,13),S^=oi(R+ne|0,18),ae^=oi(F+T|0,7),D^=oi(ae+F|0,9),T^=oi(D+ae|0,13),F^=oi(T+D|0,18),V^=oi(Ce+Y|0,7),z^=oi(V+Ce|0,9),Y^=oi(z+V|0,13),Ce^=oi(Y+z|0,18),R^=oi(N+V|0,7),D^=oi(R+N|0,9),V^=oi(D+R|0,13),N^=oi(V+D|0,18),T^=oi(S+X|0,7),z^=oi(T+S|0,9),X^=oi(z+T|0,13),S^=oi(X+z|0,18),Y^=oi(F+H|0,7),W^=oi(Y+F|0,9),H^=oi(W+Y|0,13),F^=oi(H+W|0,18),Z^=oi(Ce+ae|0,7),ne^=oi(Z+Ce|0,9),ae^=oi(ne+Z|0,13),Ce^=oi(ae+ne|0,18);r[s++]=o+N|0,r[s++]=a+R|0,r[s++]=l+D|0,r[s++]=c+V|0,r[s++]=u+X|0,r[s++]=d+S|0,r[s++]=h+T|0,r[s++]=f+z|0,r[s++]=g+W|0,r[s++]=m+H|0,r[s++]=y+F|0,r[s++]=b+Y|0,r[s++]=C+Z|0,r[s++]=_+ne|0,r[s++]=A+ae|0,r[s++]=I+Ce|0;}function AG(e,t,n,i,r){let s=i+0,o=i+16*r;for(let a=0;a<16;a++)n[o+a]=e[t+(2*r-1)*16+a];for(let a=0;a<r;a++,s+=16,t+=16)Dce(n,o,e,t,n,s),a>0&&(o+=16),Dce(n,s,e,t+=16,n,o);}function PWe(e,t,n){let i=E5({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:r,r:s,p:o,dkLen:a,asyncTick:l,maxmem:c,onProgress:u}=i;if(no(r),no(s),no(o),no(a),no(l),no(c),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*s,h=d/4;if(r<=1||r&r-1||r>=2**(d/8)||r>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=d*(r+o);if(f>c)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${c} (maxmem)`);let g=LE(Cv,e,t,{c:1,dkLen:d*o}),m=xw(g),y=xw(new Uint8Array(d*r)),b=xw(new Uint8Array(d)),C=()=>{};if(u){let _=2*r*o,A=Math.max(Math.floor(_/1e4),1),I=0;C=()=>{I++,u&&(!(I%A)||I===_)&&u(I/_);};}return{N:r,r:s,p:o,dkLen:a,blockSize32:h,V:y,B32:m,B:g,tmp:b,blockMixCb:C,asyncTick:l};}function kWe(e,t,n,i,r){let s=LE(Cv,e,n,{c:1,dkLen:t});return n.fill(0),i.fill(0),r.fill(0),s;}function Rce(e,t,n){let{N:i,r,p:s,dkLen:o,blockSize32:a,V:l,B32:c,B:u,tmp:d,blockMixCb:h}=PWe(e,t,n);ww||Cw(c);for(let f=0;f<s;f++){let g=a*f;for(let m=0;m<a;m++)l[m]=c[g+m];for(let m=0,y=0;m<i-1;m++)AG(l,y,l,y+=a,r),h();AG(l,(i-1)*a,c,g,r),h();for(let m=0;m<i;m++){let y=c[g+a-16]%i;for(let b=0;b<a;b++)d[b]=c[g+b]^l[y*a+b];AG(d,0,c,g,r),h();}}return ww||Cw(c),kWe(e,o,u,l,d);}function DG(e,t,n,i,r,s,o){return Sw(e),Sw(t),Rce(e,t,{N:n,r,p:i,dkLen:s,onProgress:o});}var GG={};Iu(GG,{secp256k1:()=>BE});var kG={};Iu(kG,{abytes:()=>$w,bitGet:()=>VWe,bitLen:()=>BWe,bitMask:()=>OE,bitSet:()=>HWe,bytesToHex:()=>_v,bytesToNumberBE:()=>xf,bytesToNumberLE:()=>dM,concatBytes:()=>Ww,createHmacDrbg:()=>PG,ensureBytes:()=>al,equalBytes:()=>LWe,hexToBytes:()=>Sv,hexToNumber:()=>IG,isBytes:()=>Pg,numberToBytesBE:()=>kg,numberToBytesLE:()=>hM,numberToHexUnpadded:()=>Mce,numberToVarBytesBE:()=>NWe,utf8ToBytes:()=>OWe,validateObject:()=>Mg});var kce=BigInt(0),uM=BigInt(1),MWe=BigInt(2);function Pg(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array";}function $w(e){if(!Pg(e))throw new Error("Uint8Array expected");}var FWe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _v(e){$w(e);let t="";for(let n=0;n<e.length;n++)t+=FWe[e[n]];return t;}function Mce(e){let t=e.toString(16);return t.length&1?`0${t}`:t;}function IG(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`);}var bf={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ice(e){if(e>=bf._0&&e<=bf._9)return e-bf._0;if(e>=bf._A&&e<=bf._F)return e-(bf._A-10);if(e>=bf._a&&e<=bf._f)return e-(bf._a-10);}function Sv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){let o=Ice(e.charCodeAt(s)),a=Ice(e.charCodeAt(s+1));if(o===void 0||a===void 0){let l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s);}i[r]=o*16+a;}return i;}function xf(e){return IG(_v(e));}function dM(e){return $w(e),IG(_v(Uint8Array.from(e).reverse()));}function kg(e,t){return Sv(e.toString(16).padStart(t*2,"0"));}function hM(e,t){return kg(e,t).reverse();}function NWe(e){return Sv(Mce(e));}function al(e,t,n){let i;if(typeof t=="string")try{i=Sv(t);}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`);}else if(Pg(t))i=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let r=i.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return i;}function Ww(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];$w(r),t+=r.length;}let n=new Uint8Array(t);for(let i=0,r=0;i<e.length;i++){let s=e[i];n.set(s,r),r+=s.length;}return n;}function LWe(e,t){if(e.length!==t.length)return!1;let n=0;for(let i=0;i<e.length;i++)n|=e[i]^t[i];return n===0;}function OWe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e));}function BWe(e){let t;for(t=0;e>kce;e>>=uM,t+=1);return t;}function VWe(e,t){return e>>BigInt(t)&uM;}function HWe(e,t,n){return e|(n?uM:kce)<<BigInt(t);}var OE=e=>(MWe<<BigInt(e-1))-uM,RG=e=>new Uint8Array(e),Pce=e=>Uint8Array.from(e);function PG(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let i=RG(e),r=RG(e),s=0,o=()=>{i.fill(1),r.fill(0),s=0;},a=(...d)=>n(r,i,...d),l=(d=RG())=>{r=a(Pce([0]),d),i=a(),d.length!==0&&(r=a(Pce([1]),d),i=a());},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,h=[];for(;d<t;){i=a();let f=i.slice();h.push(f),d+=i.length;}return Ww(...h);};return(d,h)=>{o(),l(d);let f;for(;!(f=h(c()));)l();return o(),f;};}var GWe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Pg(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Mg(e,t,n={}){let i=(r,s,o)=>{let a=GWe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let l=e[r];if(!(o&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${s}`);};for(let[r,s]of Object.entries(t))i(r,s,!1);for(let[r,s]of Object.entries(n))i(r,s,!0);return e;}var bs=BigInt(0),Hr=BigInt(1),Ev=BigInt(2),zWe=BigInt(3),MG=BigInt(4),Fce=BigInt(5),Nce=BigInt(8),UWe=BigInt(9),jWe=BigInt(16);function Co(e,t){let n=e%t;return n>=bs?n:t+n;}function $We(e,t,n){if(n<=bs||t<bs)throw new Error("Expected power/modulo > 0");if(n===Hr)return bs;let i=Hr;for(;t>bs;)t&Hr&&(i=i*e%n),e=e*e%n,t>>=Hr;return i;}function ll(e,t,n){let i=e;for(;t-->bs;)i*=i,i%=n;return i;}function fM(e,t){if(e===bs||t<=bs)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Co(e,t),i=t,r=bs,s=Hr,o=Hr,a=bs;for(;n!==bs;){let c=i/n,u=i%n,d=r-o*c,h=s-a*c;i=n,n=u,r=o,s=a,o=d,a=h;}if(i!==Hr)throw new Error("invert: does not exist");return Co(r,t);}function WWe(e){let t=(e-Hr)/Ev,n,i,r;for(n=e-Hr,i=0;n%Ev===bs;n/=Ev,i++);for(r=Ev;r<e&&$We(r,t,e)!==e-Hr;r++);if(i===1){let o=(e+Hr)/MG;return function(l,c){let u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u;};}let s=(n+Hr)/Ev;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=i,u=a.pow(a.mul(a.ONE,r),n),d=a.pow(l,s),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(h);f<c&&!a.eql(m,a.ONE);f++)m=a.sqr(m);let g=a.pow(u,Hr<<BigInt(c-f-1));u=a.sqr(g),d=a.mul(d,g),h=a.mul(h,u),c=f;}return d;};}function qWe(e){if(e%MG===zWe){let t=(e+Hr)/MG;return function(i,r){let s=i.pow(r,t);if(!i.eql(i.sqr(s),r))throw new Error("Cannot find square root");return s;};}if(e%Nce===Fce){let t=(e-Fce)/Nce;return function(i,r){let s=i.mul(r,Ev),o=i.pow(s,t),a=i.mul(r,o),l=i.mul(i.mul(a,Ev),o),c=i.mul(a,i.sub(l,i.ONE));if(!i.eql(i.sqr(c),r))throw new Error("Cannot find square root");return c;};}return e%jWe,WWe(e);}var KWe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FG(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=KWe.reduce((i,r)=>(i[r]="function",i),t);return Mg(e,n);}function YWe(e,t,n){if(n<bs)throw new Error("Expected power > 0");if(n===bs)return e.ONE;if(n===Hr)return t;let i=e.ONE,r=t;for(;n>bs;)n&Hr&&(i=e.mul(i,r)),r=e.sqr(r),n>>=Hr;return i;}function XWe(e,t){let n=new Array(t.length),i=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),r=e.inv(i);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),r),n;}function NG(e,t){let n=t!==void 0?t:e.toString(2).length,i=Math.ceil(n/8);return{nBitLength:n,nByteLength:i};}function Lce(e,t,n=!1,i={}){if(e<=bs)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:r,nByteLength:s}=NG(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=qWe(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:s,MASK:OE(r),ZERO:bs,ONE:Hr,create:l=>Co(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return bs<=l&&l<e;},is0:l=>l===bs,isOdd:l=>(l&Hr)===Hr,neg:l=>Co(-l,e),eql:(l,c)=>l===c,sqr:l=>Co(l*l,e),add:(l,c)=>Co(l+c,e),sub:(l,c)=>Co(l-c,e),mul:(l,c)=>Co(l*c,e),pow:(l,c)=>YWe(a,l,c),div:(l,c)=>Co(l*fM(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>fM(l,e),sqrt:i.sqrt||(l=>o(a,l)),invertBatch:l=>XWe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?hM(l,s):kg(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?dM(l):xf(l);}});return Object.freeze(a);}function Oce(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8);}function LG(e){let t=Oce(e);return t+Math.ceil(t/2);}function Bce(e,t,n=!1){let i=e.length,r=Oce(t),s=LG(t);if(i<16||i<s||i>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${i}`);let o=n?xf(e):dM(e),a=Co(o,t-Hr)+Hr;return n?hM(a,r):kg(a,r);}var ZWe=BigInt(0),OG=BigInt(1);function Vce(e,t){let n=(r,s)=>{let o=s.negate();return r?o:s;},i=r=>{let s=Math.ceil(t/r)+1,o=2**(r-1);return{windows:s,windowSize:o};};return{constTimeNegate:n,unsafeLadder(r,s){let o=e.ZERO,a=r;for(;s>ZWe;)s&OG&&(o=o.add(a)),a=a.double(),s>>=OG;return o;},precomputeWindow(r,s){let{windows:o,windowSize:a}=i(s),l=[],c=r,u=c;for(let d=0;d<o;d++){u=c,l.push(u);for(let h=1;h<a;h++)u=u.add(c),l.push(u);c=u.double();}return l;},wNAF(r,s,o){let{windows:a,windowSize:l}=i(r),c=e.ZERO,u=e.BASE,d=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let g=0;g<a;g++){let m=g*l,y=Number(o&d);o>>=f,y>l&&(y-=h,o+=OG);let b=m,C=m+Math.abs(y)-1,_=g%2!==0,A=y<0;y===0?u=u.add(n(_,s[b])):c=c.add(n(A,s[C]));}return{p:c,f:u};},wNAFCached(r,s,o,a){let l=r._WINDOW_SIZE||1,c=s.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&s.set(r,a(c))),this.wNAF(l,c,o);}};}function BG(e){return FG(e.Fp),Mg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(Re(O(O({},NG(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}));}function JWe(e){let t=BG(e);Mg(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:n,Fp:i,a:r}=t;if(n){if(!i.eql(r,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function");}return Object.freeze(O({},t));}var{bytesToNumberBE:eqe,hexToBytes:tqe}=kG,Tv={Err:class extends Error{constructor(t=""){super(t);}},_parseInt(e){let{Err:t}=Tv;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(i[0]&128)throw new t("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eqe(i),l:e.subarray(n+2)};},toSig(e){let{Err:t}=Tv,n=typeof e=="string"?tqe(e):e;$w(n);let i=n.length;if(i<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");let{d:r,l:s}=Tv._parseInt(n.subarray(2)),{d:o,l:a}=Tv._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:o};},hexFromSig(e){let t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u;},i=t(n(e.s)),r=t(n(e.r)),s=i.length/2,o=r.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${r}02${a}${i}`;}},wf=BigInt(0),nc=BigInt(1),f6t=BigInt(2),Hce=BigInt(3),p6t=BigInt(4);function nqe(e){let t=JWe(e),{Fp:n}=t,i=t.toBytes||((g,m,y)=>{let b=m.toAffine();return Ww(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y));}),r=t.fromBytes||(g=>{let m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),b=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:b};});function s(g){let{a:m,b:y}=t,b=n.sqr(g),C=n.mul(b,g);return n.add(n.add(C,n.mul(g,m)),y);}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&wf<g&&g<t.n;}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n");}function l(g){let{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:b,n:C}=t;if(m&&typeof g!="bigint"){if(Pg(g)&&(g=_v(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0");}let _;try{_=typeof g=="bigint"?g:xf(al("private key",g,y));}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`);}return b&&(_=Co(_,C)),a(_),_;}let c=new Map();function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected");}class d{constructor(m,y,b){if(this.px=m,this.py=y,this.pz=b,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");}static fromAffine(m){let{x:y,y:b}=m||{};if(!m||!n.isValid(y)||!n.isValid(b))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let C=_=>n.eql(_,n.ZERO);return C(y)&&C(b)?d.ZERO:new d(y,b,n.ONE);}get x(){return this.toAffine().x;}get y(){return this.toAffine().y;}static normalizeZ(m){let y=n.invertBatch(m.map(b=>b.pz));return m.map((b,C)=>b.toAffine(y[C])).map(d.fromAffine);}static fromHex(m){let y=d.fromAffine(r(al("pointHex",m)));return y.assertValidity(),y;}static fromPrivateKey(m){return d.BASE.multiply(l(m));}_setWindowSize(m){this._WINDOW_SIZE=m,c.delete(this);}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO");}let{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");let b=n.sqr(y),C=s(m);if(!n.eql(b,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");}hasEvenY(){let{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd");}equals(m){u(m);let{px:y,py:b,pz:C}=this,{px:_,py:A,pz:I}=m,N=n.eql(n.mul(y,I),n.mul(_,C)),R=n.eql(n.mul(b,I),n.mul(A,C));return N&&R;}negate(){return new d(this.px,n.neg(this.py),this.pz);}double(){let{a:m,b:y}=t,b=n.mul(y,Hce),{px:C,py:_,pz:A}=this,I=n.ZERO,N=n.ZERO,R=n.ZERO,D=n.mul(C,C),V=n.mul(_,_),X=n.mul(A,A),S=n.mul(C,_);return S=n.add(S,S),R=n.mul(C,A),R=n.add(R,R),I=n.mul(m,R),N=n.mul(b,X),N=n.add(I,N),I=n.sub(V,N),N=n.add(V,N),N=n.mul(I,N),I=n.mul(S,I),R=n.mul(b,R),X=n.mul(m,X),S=n.sub(D,X),S=n.mul(m,S),S=n.add(S,R),R=n.add(D,D),D=n.add(R,D),D=n.add(D,X),D=n.mul(D,S),N=n.add(N,D),X=n.mul(_,A),X=n.add(X,X),D=n.mul(X,S),I=n.sub(I,D),R=n.mul(X,V),R=n.add(R,R),R=n.add(R,R),new d(I,N,R);}add(m){u(m);let{px:y,py:b,pz:C}=this,{px:_,py:A,pz:I}=m,N=n.ZERO,R=n.ZERO,D=n.ZERO,V=t.a,X=n.mul(t.b,Hce),S=n.mul(y,_),T=n.mul(b,A),z=n.mul(C,I),W=n.add(y,b),H=n.add(_,A);W=n.mul(W,H),H=n.add(S,T),W=n.sub(W,H),H=n.add(y,C);let F=n.add(_,I);return H=n.mul(H,F),F=n.add(S,z),H=n.sub(H,F),F=n.add(b,C),N=n.add(A,I),F=n.mul(F,N),N=n.add(T,z),F=n.sub(F,N),D=n.mul(V,H),N=n.mul(X,z),D=n.add(N,D),N=n.sub(T,D),D=n.add(T,D),R=n.mul(N,D),T=n.add(S,S),T=n.add(T,S),z=n.mul(V,z),H=n.mul(X,H),T=n.add(T,z),z=n.sub(S,z),z=n.mul(V,z),H=n.add(H,z),S=n.mul(T,H),R=n.add(R,S),S=n.mul(F,H),N=n.mul(W,N),N=n.sub(N,S),S=n.mul(W,T),D=n.mul(F,D),D=n.add(D,S),new d(N,R,D);}subtract(m){return this.add(m.negate());}is0(){return this.equals(d.ZERO);}wNAF(m){return f.wNAFCached(this,c,m,y=>{let b=n.invertBatch(y.map(C=>C.pz));return y.map((C,_)=>C.toAffine(b[_])).map(d.fromAffine);});}multiplyUnsafe(m){let y=d.ZERO;if(m===wf)return y;if(a(m),m===nc)return this;let{endo:b}=t;if(!b)return f.unsafeLadder(this,m);let{k1neg:C,k1:_,k2neg:A,k2:I}=b.splitScalar(m),N=y,R=y,D=this;for(;_>wf||I>wf;)_&nc&&(N=N.add(D)),I&nc&&(R=R.add(D)),D=D.double(),_>>=nc,I>>=nc;return C&&(N=N.negate()),A&&(R=R.negate()),R=new d(n.mul(R.px,b.beta),R.py,R.pz),N.add(R);}multiply(m){a(m);let y=m,b,C,{endo:_}=t;if(_){let{k1neg:A,k1:I,k2neg:N,k2:R}=_.splitScalar(y),{p:D,f:V}=this.wNAF(I),{p:X,f:S}=this.wNAF(R);D=f.constTimeNegate(A,D),X=f.constTimeNegate(N,X),X=new d(n.mul(X.px,_.beta),X.py,X.pz),b=D.add(X),C=V.add(S);}else{let{p:A,f:I}=this.wNAF(y);b=A,C=I;}return d.normalizeZ([b,C])[0];}multiplyAndAddUnsafe(m,y,b){let C=d.BASE,_=(I,N)=>N===wf||N===nc||!I.equals(C)?I.multiplyUnsafe(N):I.multiply(N),A=_(this,y).add(_(m,b));return A.is0()?void 0:A;}toAffine(m){let{px:y,py:b,pz:C}=this,_=this.is0();m==null&&(m=_?n.ONE:n.inv(C));let A=n.mul(y,m),I=n.mul(b,m),N=n.mul(C,m);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:A,y:I};}isTorsionFree(){let{h:m,isTorsionFree:y}=t;if(m===nc)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve");}clearCofactor(){let{h:m,clearCofactor:y}=t;return m===nc?this:y?y(d,this):this.multiplyUnsafe(t.h);}toRawBytes(m=!0){return this.assertValidity(),i(d,this,m);}toHex(m=!0){return _v(this.toRawBytes(m));}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);let h=t.nBitLength,f=Vce(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o};}function iqe(e){let t=BG(e);return Mg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(O({lowS:!0},t));}function Gce(e){let t=iqe(e),{Fp:n,n:i}=t,r=n.BYTES+1,s=2*n.BYTES+1;function o(H){return wf<H&&H<n.ORDER;}function a(H){return Co(H,i);}function l(H){return fM(H,i);}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=nqe(Re(O({},t),{toBytes(H,F,Y){let Z=F.toAffine(),ne=n.toBytes(Z.x),ae=Ww;return Y?ae(Uint8Array.from([F.hasEvenY()?2:3]),ne):ae(Uint8Array.from([4]),ne,n.toBytes(Z.y));},fromBytes(H){let F=H.length,Y=H[0],Z=H.subarray(1);if(F===r&&(Y===2||Y===3)){let ne=xf(Z);if(!o(ne))throw new Error("Point is not on curve");let ae=d(ne),Ce;try{Ce=n.sqrt(ae);}catch(ee){let le=ee instanceof Error?": "+ee.message:"";throw new Error("Point is not on curve"+le);}let P=(Ce&nc)===nc;return(Y&1)===1!==P&&(Ce=n.neg(Ce)),{x:ne,y:Ce};}else if(F===s&&Y===4){let ne=n.fromBytes(Z.subarray(0,n.BYTES)),ae=n.fromBytes(Z.subarray(n.BYTES,2*n.BYTES));return{x:ne,y:ae};}else throw new Error(`Point of length ${F} was invalid. Expected ${r} compressed bytes or ${s} uncompressed bytes`);}})),f=H=>_v(kg(H,t.nByteLength));function g(H){let F=i>>nc;return H>F;}function m(H){return g(H)?a(-H):H;}let y=(H,F,Y)=>xf(H.slice(F,Y));class b{constructor(F,Y,Z){this.r=F,this.s=Y,this.recovery=Z,this.assertValidity();}static fromCompact(F){let Y=t.nByteLength;return F=al("compactSignature",F,Y*2),new b(y(F,0,Y),y(F,Y,2*Y));}static fromDER(F){let{r:Y,s:Z}=Tv.toSig(al("DER",F));return new b(Y,Z);}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n");}addRecoveryBit(F){return new b(this.r,this.s,F);}recoverPublicKey(F){let{r:Y,s:Z,recovery:ne}=this,ae=R(al("msgHash",F));if(ne==null||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");let Ce=ne===2||ne===3?Y+t.n:Y;if(Ce>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");let P=ne&1?"03":"02",Q=c.fromHex(P+f(Ce)),ee=l(Ce),le=a(-ae*ee),he=a(Z*ee),ue=c.BASE.multiplyAndAddUnsafe(Q,le,he);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue;}hasHighS(){return g(this.s);}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this;}toDERRawBytes(){return Sv(this.toDERHex());}toDERHex(){return Tv.hexFromSig({r:this.r,s:this.s});}toCompactRawBytes(){return Sv(this.toCompactHex());}toCompactHex(){return f(this.r)+f(this.s);}}let C={isValidPrivateKey(H){try{return u(H),!0;}catch{return!1;}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let H=LG(t.n);return Bce(t.randomBytes(H),t.n);},precompute(H=8,F=c.BASE){return F._setWindowSize(H),F.multiply(BigInt(3)),F;}};function _(H,F=!0){return c.fromPrivateKey(H).toRawBytes(F);}function A(H){let F=Pg(H),Y=typeof H=="string",Z=(F||Y)&&H.length;return F?Z===r||Z===s:Y?Z===2*r||Z===2*s:H instanceof c;}function I(H,F,Y=!0){if(A(H))throw new Error("first arg must be private key");if(!A(F))throw new Error("second arg must be public key");return c.fromHex(F).multiply(u(H)).toRawBytes(Y);}let N=t.bits2int||function(H){let F=xf(H),Y=H.length*8-t.nBitLength;return Y>0?F>>BigInt(Y):F;},R=t.bits2int_modN||function(H){return a(N(H));},D=OE(t.nBitLength);function V(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(wf<=H&&H<D))throw new Error(`bigint expected < 2^${t.nBitLength}`);return kg(H,t.nByteLength);}function X(H,F,Y=S){if(["recovered","canonical"].some(oe=>oe in Y))throw new Error("sign() legacy options not supported");let{hash:Z,randomBytes:ne}=t,{lowS:ae,prehash:Ce,extraEntropy:P}=Y;ae==null&&(ae=!0),H=al("msgHash",H),Ce&&(H=al("prehashed msgHash",Z(H)));let Q=R(H),ee=u(F),le=[V(ee),V(Q)];if(P!=null&&P!==!1){let oe=P===!0?ne(n.BYTES):P;le.push(al("extraEntropy",oe));}let he=Ww(...le),ue=Q;function xe(oe){let Ae=N(oe);if(!h(Ae))return;let Pe=l(Ae),ge=c.BASE.multiply(Ae).toAffine(),Ge=a(ge.x);if(Ge===wf)return;let it=a(Pe*a(ue+Ge*ee));if(it===wf)return;let De=(ge.x===Ge?0:2)|Number(ge.y&nc),re=it;return ae&&g(it)&&(re=m(it),De^=1),new b(Ge,re,De);}return{seed:he,k2sig:xe};}let S={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};function z(H,F,Y=S){let{seed:Z,k2sig:ne}=X(H,F,Y),ae=t;return PG(ae.hash.outputLen,ae.nByteLength,ae.hmac)(Z,ne);}c.BASE._setWindowSize(8);function W(H,F,Y,Z=T){let ne=H;if(F=al("msgHash",F),Y=al("publicKey",Y),"strict"in Z)throw new Error("options.strict was renamed to lowS");let{lowS:ae,prehash:Ce}=Z,P,Q;try{if(typeof ne=="string"||Pg(ne))try{P=b.fromDER(ne);}catch(ge){if(!(ge instanceof Tv.Err))throw ge;P=b.fromCompact(ne);}else if(typeof ne=="object"&&typeof ne.r=="bigint"&&typeof ne.s=="bigint"){let{r:ge,s:Ge}=ne;P=new b(ge,Ge);}else throw new Error("PARSE");Q=c.fromHex(Y);}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1;}if(ae&&P.hasHighS())return!1;Ce&&(F=t.hash(F));let{r:ee,s:le}=P,he=R(F),ue=l(le),xe=a(he*ue),oe=a(ee*ue),Ae=c.BASE.multiplyAndAddUnsafe(Q,xe,oe)?.toAffine();return Ae?a(Ae.x)===ee:!1;}return{CURVE:t,getPublicKey:_,getSharedSecret:I,sign:z,verify:W,ProjectivePoint:c,Signature:b,utils:C};}function rqe(e){return{hash:e,hmac:(t,...n)=>NE(e,t,ov(...n)),randomBytes:T5};}function zce(e,t){let n=i=>Gce(O(O({},e),rqe(i)));return Object.freeze(Re(O({},n(t)),{create:n}));}var $ce=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Uce=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sqe=BigInt(1),VG=BigInt(2),jce=(e,t)=>(e+t/VG)/t;function oqe(e){let t=$ce,n=BigInt(3),i=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=ll(u,n,t)*u%t,h=ll(d,n,t)*u%t,f=ll(h,VG,t)*c%t,g=ll(f,r,t)*f%t,m=ll(g,s,t)*g%t,y=ll(m,a,t)*m%t,b=ll(y,l,t)*y%t,C=ll(b,a,t)*m%t,_=ll(C,n,t)*u%t,A=ll(_,o,t)*g%t,I=ll(A,i,t)*c%t,N=ll(I,VG,t);if(!HG.eql(HG.sqr(N),e))throw new Error("Cannot find square root");return N;}var HG=Lce($ce,void 0,void 0,{sqrt:oqe}),BE=zce({a:BigInt(0),b:BigInt(7),Fp:HG,n:Uce,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=Uce,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-sqe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jce(s*e,t),l=jce(-i*e,t),c=Co(e-a*n-l*r,t),u=Co(-a*i-l*s,t),d=c>o,h=u>o;if(d&&(c=t-c),h&&(u=t-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u};}}},Cv),E6t=BigInt(0);var T6t=BE.ProjectivePoint;var zG,cl=(zG=BE)!==null&&zG!==void 0?zG:GG,UG=BigInt("0xffffffffffffffff"),Cf=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aqe=cl.CURVE.n,Wce=aqe/BigInt(2);var qce={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var VE=function(e){return e[e.Mainnet=1]="Mainnet",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia",e;}(VE||{}),Oi=function(e){return e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork",e;}(Oi||{});var _o=function(e){return e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum",e;}(_o||{});var ul=function(e){return e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Uint8Array=2]="Uint8Array",e[e.PrefixedHexString=3]="PrefixedHexString",e;}(ul||{});var Kce=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return B5(e)?e.slice(2):e;};function lqe(e){return!e||e==="0x0"?"0x0000000000000000":B5(e)?`0x${Kce(e).padStart(16,"0")}`:`0x${e.padStart(16,"0")}`;}var Yce=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`;};function cqe(e,t=!0){var n,i;let{name:r,config:s,difficulty:o,mixHash:a,gasLimit:l,coinbase:c,baseFeePerGas:u}=e,{extraData:d,timestamp:h,nonce:f}=e,g=Number(h),{chainId:m}=s;if(d===""&&(d="0x"),B5(h)||(h=Yce(parseInt(h))),f.length!==18&&(f=lqe(f)),s.eip155Block!==s.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");let y={name:r,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(l),difficulty:parseInt(o),nonce:f,extraData:d,mixHash:a,coinbase:c,baseFeePerGas:u},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:s.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=s.clique.period)!==null&&n!==void 0?n:s.clique.blockperiodseconds,epoch:(i=s.clique.epoch)!==null&&i!==void 0?i:s.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},b={[Oi.Homestead]:{name:"homesteadBlock"},[Oi.Dao]:{name:"daoForkBlock"},[Oi.TangerineWhistle]:{name:"eip150Block"},[Oi.SpuriousDragon]:{name:"eip155Block"},[Oi.Byzantium]:{name:"byzantiumBlock"},[Oi.Constantinople]:{name:"constantinopleBlock"},[Oi.Petersburg]:{name:"petersburgBlock"},[Oi.Istanbul]:{name:"istanbulBlock"},[Oi.MuirGlacier]:{name:"muirGlacierBlock"},[Oi.Berlin]:{name:"berlinBlock"},[Oi.London]:{name:"londonBlock"},[Oi.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[Oi.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Oi.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},C=Object.keys(b).reduce((I,N)=>(I[b[N].name]=N,I),{}),_=Object.keys(s).filter(I=>C[I]!==void 0&&s[I]!==void 0&&s[I]!==null);if(y.hardforks=_.map(I=>({name:C[I],block:b[C[I]].isTimestamp===!0||typeof s[I]!="number"?null:s[I],timestamp:b[C[I]].isTimestamp===!0&&typeof s[I]=="number"?s[I]:void 0})).filter(I=>I.block!==null||I.timestamp!==void 0),y.hardforks.sort((I,N)=>{var R,D;return((R=I.block)!==null&&R!==void 0?R:1/0)-((D=N.block)!==null&&D!==void 0?D:1/0);}),y.hardforks.sort((I,N)=>{var R,D;return((R=I.timestamp)!==null&&R!==void 0?R:g)-((D=N.timestamp)!==null&&D!==void 0?D:g);}),s.terminalTotalDifficulty!==void 0){let I={name:Oi.Merge,ttd:s.terminalTotalDifficulty,block:null},N=y.hardforks.findIndex(R=>{var D;return((D=b[R.name])===null||D===void 0?void 0:D.postMerge)===!0;});N!==-1?y.hardforks.splice(N,0,I):y.hardforks.push(I);}let A=y.hardforks.length>0?y.hardforks.slice(-1)[0]:void 0;return y.hardfork=A?.name,y.hardforks.unshift({name:Oi.Chainstart,block:0}),y;}function Xce(e,t,n){try{if(["config","difficulty","gasLimit","alloc"].some(i=>!(i in e)))throw new Error("Invalid format, expected geth genesis fields missing");return t!==void 0&&(e.name=t),cqe(e,n);}catch(i){throw new Error(`Error parsing parameters file: ${i.message}`);}}function Qce(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t;}var Zce=function(e){let t=Yce(e);return Zn(`0x${Qce(t.slice(2))}`);},Ai=function(e){var t;if(e==null)return new Uint8Array();if(e instanceof Uint8Array)return e;if(((t=e?.constructor)===null||t===void 0?void 0:t.name)==="Uint8Array"||Array.isArray(e))return Uint8Array.from(e);if(typeof e=="string"){if(!O5(e))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return Zn(Qce(Kce(e)));}if(typeof e=="number")return Ai(qi(e));if(typeof e=="bigint"){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let n=e.toString(16);return n.length%2&&(n=`0${n}`),Ai(`0x${n}`);}if(e.toArray)return Uint8Array.from(e.toArray());throw new Error("invalid type");};function di(e){let t=Ht(e);return BigInt(t==="0x"?0:t);}function uqe(e){return Ai(`0x${e.toString(16)}`);}var jG=function(e){return new Uint8Array(e).fill(0);},dqe=function(e,t,n){let i=jG(t);return n?e.length<t?(i.set(e),i):e.subarray(0,t):e.length<t?(i.set(e,t-e.length),i):e.subarray(-t);};function pM(e){if(!Ia(e)){let t=`This method only supports Uint8Array but input was: ${e}`;throw new Error(t);}}var $G=function(e,t){return pM(e),dqe(e,t,!1);};function hqe(e){let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e;}var qw=function(e){return pM(e),hqe(e);},Yi=e=>`0x${e.toString(16)}`;function Gn(e){return qw(uqe(e));}function fqe(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35));}function pqe(e){return e===BigInt(0)||e===BigInt(1);}var Kw=function(e,t,n,i,r){let s=fqe(t,r);if(!pqe(s))throw new Error("Invalid signature v value");return new cl.Signature(di(n),di(i)).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1);};function Av(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!O5(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let n=Ai(e);switch(t){case ul.Uint8Array:return n;case ul.BigInt:return di(n);case ul.Number:{let i=di(n);if(i>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(i);}case ul.PrefixedHexString:return Ht(n);default:throw new Error("unknown outputType");}}var wM=Wf(mM(),1);var Zue=Wf(lue(),1);var cue={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]};var uue={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]};var due={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]};var hue={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}};var fue={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}};var pue={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}};var gue={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}};var mue={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}};var vue={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}};var yue={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}};var bue={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}};var xue={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}};var wue={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}};var Cue={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}};var _ue={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Sue={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var Eue={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Tue={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Aue={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Due={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Rue={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}};var Iue={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}};var Pue={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var kue={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Mue={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}};var Dv={1153:hue,1559:fue,2315:pue,2537:gue,2565:mue,2718:vue,2929:yue,2930:bue,3198:xue,3529:wue,3540:Cue,3541:_ue,3554:Sue,3607:Eue,3651:Tue,3670:Aue,3675:Due,3855:Rue,3860:Iue,4345:Pue,4399:kue,5133:Mue};var Fue={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}};var Nue={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}};var Lue={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}};var Oue={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}};var Bue={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}};var Vue={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var Hue={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var Gue={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}};var zue={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}};var Uue={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}};var jue={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]};var $ue={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]};var Wue={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]};var que={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Kue={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}};var Yue={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]};var Xue={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]};var Que={chainstart:Fue,homestead:Lue,dao:Nue,tangerineWhistle:Oue,spuriousDragon:Bue,byzantium:Vue,constantinople:Hue,petersburg:Gue,istanbul:zue,muirGlacier:Uue,berlin:jue,london:$ue,shanghai:Wue,arrowGlacier:que,grayGlacier:Kue,mergeForkIdTransition:Yue,merge:Xue};var{buf:yqe}=Zue.default,du=class e extends mv{static custom(t,n={}){var i;let r=(i=n.baseChain)!==null&&i!==void 0?i:"mainnet",s=Object.assign({},e._getChainParams(r));if(s.name="custom-chain",typeof t!="string")return new e(Object.assign({chain:Object.assign(Object.assign({},s),t)},n));if(t===_o.PolygonMainnet)return e.custom({name:_o.PolygonMainnet,chainId:137,networkId:137},n);if(t===_o.PolygonMumbai)return e.custom({name:_o.PolygonMumbai,chainId:80001,networkId:80001},n);if(t===_o.ArbitrumRinkebyTestnet)return e.custom({name:_o.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(t===_o.ArbitrumOne)return e.custom({name:_o.ArbitrumOne,chainId:42161,networkId:42161},n);if(t===_o.xDaiChain)return e.custom({name:_o.xDaiChain,chainId:100,networkId:100},n);if(t===_o.OptimisticKovan)return e.custom({name:_o.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:Oi.Berlin},n));if(t===_o.OptimisticEthereum)return e.custom({name:_o.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:Oi.Berlin},n));throw new Error(`Custom chain ${t} not supported`);}static fromGethGenesis(t,{chain:n,eips:i,genesisHash:r,hardfork:s,mergeForkIdPostMerge:o}){var a;let l=Xce(t,n,o),c=new e({chain:(a=l.name)!==null&&a!==void 0?a:"custom",customChains:[l],eips:i,hardfork:s??l.hardfork});return r!==void 0&&c.setForkHashes(r),c;}static isSupportedChainId(t){return!!this._getInitializedChains().names[t.toString()];}static _getChainParams(t,n){let i=t,r=this._getInitializedChains(n);if(typeof i=="number"||typeof i=="bigint"){if(i=i.toString(),r.names[i]){let s=r.names[i];return r[s];}throw new Error(`Chain with ID ${i} not supported`);}if(r[i]!==void 0)return r[i];throw new Error(`Chain with name ${i} not supported`);}constructor(t){var n,i;super(),this._eips=[],this._customChains=(n=t.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(t.chain),this.DEFAULT_HARDFORK=(i=this._chainParams.defaultHardfork)!==null&&i!==void 0?i:Oi.Merge,this.HARDFORK_CHANGES=this.hardforks().map(r=>[r.name,Que[r.name]]),this._hardfork=this.DEFAULT_HARDFORK,t.hardfork!==void 0&&this.setHardfork(t.hardfork),t.eips&&this.setEIPs(t.eips);}setChain(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")this._chainParams=e._getChainParams(t,this._customChains);else if(typeof t=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");let n=["networkId","genesis","hardforks","bootstrapNodes"];for(let i of n)if(!(i in t))throw new Error(`Missing required chain parameter: ${i}`);this._chainParams=t;}else throw new Error("Wrong input format");for(let n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams;}setHardfork(t){let n=!1;for(let i of this.HARDFORK_CHANGES)i[0]===t&&(this._hardfork!==t&&(this._hardfork=t,this.emit("hardforkChanged",t)),n=!0);if(!n)throw new Error(`Hardfork with name ${t} not supported`);}getHardforkByBlockNumber(t,n,i){let r=Av(t,ul.BigInt),s=Av(n,ul.BigInt),o=Av(i,ul.Number),a=this.hardforks().filter(f=>f.block!==null||f.ttd!==null&&f.ttd!==void 0||f.timestamp!==void 0),l=a.findIndex(f=>f.ttd!==null&&f.ttd!==void 0);if(a.slice(l+1).findIndex(f=>f.ttd!==null&&f.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let u=a.findIndex(f=>f.block!==null&&f.block>r||o!==void 0&&Number(f.timestamp)>o);if(u===-1)u=a.length;else if(u===0)throw Error("Must have at least one hardfork at block 0");if(o===void 0){let f=a.slice(0,u).reverse().findIndex(g=>g.block!==null||g.ttd!==void 0);u-=f;}if(u-=1,a[u].block===null&&a[u].timestamp===void 0)(s==null||BigInt(a[u].ttd)>s)&&(u-=1);else if(l>=0&&s!==void 0&&s!==null){if(u>=l&&BigInt(a[l].ttd)>s)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(u<l&&BigInt(a[l].ttd)<=s)throw Error("HF determined by block number is lower than the minimum total difficulty HF");}let d=u;for(;u<a.length-1&&!(a[u].block!==a[u+1].block||a[u].timestamp!==a[u+1].timestamp);u+=1);if(o){if(a.slice(0,d).reduce((m,y)=>{var b;return Math.max(Number((b=y.timestamp)!==null&&b!==void 0?b:"0"),m);},0)>o)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(u+1).reduce((m,y)=>{var b;return Math.min(Number((b=y.timestamp)!==null&&b!==void 0?b:o),m);},o)<o)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF");}return a[u].name;}setHardforkByBlockNumber(t,n,i){let r=this.getHardforkByBlockNumber(t,n,i);return this.setHardfork(r),r;}_getHardfork(t){let n=this.hardforks();for(let i of n)if(i.name===t)return i;return null;}setEIPs(t=[]){for(let n of t){if(!(n in Dv))throw new Error(`${n} not supported`);let i=this.gteHardfork(Dv[n].minimumHardfork);if(!i)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${i}`);if(Dv[n].requiredEIPs!==void 0){for(let r of Dv[n].requiredEIPs)if(!(t.includes(r)||this.isActivatedEIP(r)))throw new Error(`${n} requires EIP ${r}, but is not included in the EIP list`);}}this._eips=t;}param(t,n){let i;for(let r of this._eips)if(i=this.paramByEIP(t,n,r),i!==void 0)return i;return this.paramByHardfork(t,n,this._hardfork);}paramByHardfork(t,n,i){let r=null;for(let s of this.HARDFORK_CHANGES){if("eips"in s[1]){let o=s[1].eips;for(let a of o){let l=this.paramByEIP(t,n,a);r=typeof l=="bigint"?l:r;}}else{if(s[1][t]===void 0)throw new Error(`Topic ${t} not defined`);s[1][t][n]!==void 0&&(r=s[1][t][n].v);}if(s[0]===i)break;}return BigInt(r??0);}paramByEIP(t,n,i){if(!(i in Dv))throw new Error(`${i} not supported`);let r=Dv[i];if(!(t in r))throw new Error(`Topic ${t} not defined`);if(r[t][n]===void 0)return;let s=r[t][n].v;return BigInt(s);}paramByBlock(t,n,i,r,s){let o=this.getHardforkByBlockNumber(i,r,s);return this.paramByHardfork(t,n,o);}isActivatedEIP(t){if(this.eips().includes(t))return!0;for(let n of this.HARDFORK_CHANGES){let i=n[1];if(this.gteHardfork(i.name)&&"eips"in i&&i.eips.includes(t))return!0;}return!1;}hardforkIsActiveOnBlock(t,n){let i=Av(n,ul.BigInt),r=t??this._hardfork,s=this.hardforkBlock(r);return typeof s=="bigint"&&s!==BigInt(0)&&i>=s;}activeOnBlock(t){return this.hardforkIsActiveOnBlock(null,t);}hardforkGteHardfork(t,n){let i=t??this._hardfork,r=this.hardforks(),s=-1,o=-1,a=0;for(let l of r)l.name===i&&(s=a),l.name===n&&(o=a),a+=1;return s>=o&&o!==-1;}gteHardfork(t){return this.hardforkGteHardfork(null,t);}hardforkBlock(t){var n;let i=t??this._hardfork,r=(n=this._getHardfork(i))===null||n===void 0?void 0:n.block;return r==null?null:BigInt(r);}hardforkTimestamp(t){var n;let i=t??this._hardfork,r=(n=this._getHardfork(i))===null||n===void 0?void 0:n.timestamp;return r==null?null:BigInt(r);}eipBlock(t){for(let n of this.HARDFORK_CHANGES){let i=n[1];if("eips"in i&&i.eips.includes(t))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0]);}return null;}hardforkTTD(t){var n;let i=t??this._hardfork,r=(n=this._getHardfork(i))===null||n===void 0?void 0:n.ttd;return r==null?null:BigInt(r);}isHardforkBlock(t,n){let i=Av(t,ul.BigInt),r=n??this._hardfork,s=this.hardforkBlock(r);return typeof s=="bigint"&&s!==BigInt(0)?s===i:!1;}nextHardforkBlockOrTimestamp(t){var n,i,r;let s=(n=t)!==null&&n!==void 0?n:this._hardfork,o=this.hardforks(),a=o.findIndex(d=>d.name===s);if(s===Oi.Merge&&(a-=1),a<0)return null;let l=(i=o[a].timestamp)!==null&&i!==void 0?i:o[a].block;l=l!=null?Number(l):null;let c=o.slice(a+1).find(d=>{var h;let f=(h=d.timestamp)!==null&&h!==void 0?h:d.block;return f=f!=null?Number(f):null,d.name!==Oi.Merge&&f!==null&&f!==void 0&&f!==l;});if(c===void 0)return null;let u=(r=c.timestamp)!==null&&r!==void 0?r:c.block;return u==null?null:BigInt(u);}nextHardforkBlock(t){var n;let i=(n=t)!==null&&n!==void 0?n:this._hardfork,r=this.hardforkBlock(i);if(r===null&&i===Oi.Merge){let o=this.hardforks(),a=o.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(a<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(o[a-1].name);}return r===null?null:this.hardforks().reduce((o,a)=>{let l=BigInt(a.block===null||a.ttd!==void 0&&a.ttd!==null?0:a.block);return l>r&&o===null?l:o;},null);}isNextHardforkBlock(t,n){let i=Av(t,ul.BigInt),r=n??this._hardfork,s=this.nextHardforkBlock(r);return s===null?!1:s===i;}_calcForkHash(t,n){let i=new Uint8Array(),r=0;for(let a of this.hardforks()){let{block:l,timestamp:c,name:u}=a,d=c??l;if(d=d!==null?Number(d):null,typeof d=="number"&&d!==0&&d!==r&&u!==Oi.Merge){let h=Zn(d.toString(16).padStart(16,"0"));i=Cr(i,h),r=d;}if(a.name===t)break;}let s=Cr(n,i);return Ht(Zce(yqe(s)>>>0));}forkHash(t,n){let i=t??this._hardfork,r=this._getHardfork(i);if(r===null||r?.block===null&&r?.timestamp===void 0&&r?.ttd===void 0){let s="No fork hash calculation possible for future hardfork";throw new Error(s);}if(r?.forkHash!==null&&r?.forkHash!==void 0)return r.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(i,n);}hardforkForForkHash(t){let n=this.hardforks().filter(i=>i.forkHash===t);return n.length>=1?n[n.length-1]:null;}setForkHashes(t){var n;for(let i of this.hardforks()){let r=(n=i.timestamp)!==null&&n!==void 0?n:i.block;(i.forkHash===null||i.forkHash===void 0)&&(r!=null||typeof i.ttd<"u")&&(i.forkHash=this.forkHash(i.name,t));}}genesis(){return this._chainParams.genesis;}hardforks(){return this._chainParams.hardforks;}bootstrapNodes(){return this._chainParams.bootstrapNodes;}dnsNetworks(){return this._chainParams.dnsNetworks;}hardfork(){return this._hardfork;}chainId(){return BigInt(this._chainParams.chainId);}chainName(){return this._chainParams.name;}networkId(){return BigInt(this._chainParams.networkId);}eips(){return this._eips;}consensusType(){let t=this.hardfork(),n;for(let i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(n=i[1].consensus.type),i[0]===t)break;return n??this._chainParams.consensus.type;}consensusAlgorithm(){let t=this.hardfork(),n;for(let i of this.HARDFORK_CHANGES)if("consensus"in i[1]&&(n=i[1].consensus.algorithm),i[0]===t)break;return n??this._chainParams.consensus.algorithm;}consensusConfig(){var t;let n=this.hardfork(),i;for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(i=r[1].consensus[r[1].consensus.algorithm]),r[0]===n)break;return(t=i??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&t!==void 0?t:{};}copy(){let t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.removeAllListeners(),t;}static _getInitializedChains(t){let n={};for(let[r,s]of Object.entries(VE))n[s]=r.toLowerCase();let i={mainnet:uue,goerli:cue,sepolia:due};if(t)for(let r of t){let{name:s}=r;n[r.chainId.toString()]=s,i[s]=r;}return i.names=n,i;}};var hu=function(e){return e[e.EIP155ReplayProtection=155]="EIP155ReplayProtection",e[e.EIP1559FeeMarket=1559]="EIP1559FeeMarket",e[e.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",e[e.EIP2930AccessLists=2930]="EIP2930AccessLists",e;}(hu||{});function bqe(e){if(e.length===0)return!0;let t=e[0];return!!Array.isArray(t);}function Jue(e){return!bqe(e);}var Xw=class e{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t;}static zero(){return new e(jG(20));}equals(t){return gv(this.buf,t.buf);}isZero(){return this.equals(e.zero());}toString(){return Ht(this.buf);}toArray(){return this.buf;}static publicToAddress(t,n=!1){let i=t;if(pM(i),n&&i.length!==64&&(i=cl.ProjectivePoint.fromHex(i).toRawBytes(!1).slice(1)),i.length!==64)throw new Error("Expected pubKey to be of length 64");return wr(i).slice(-20);}};var ede=(e,t)=>{let n=e.param("vm","maxInitCodeSize");if(n&&BigInt(t)>n)throw new Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`);},vM=e=>{let t,n;if(Jue(e)){t=e;let i=[];for(let r=0;r<e.length;r+=1){let s=e[r],o=Ai(s.address),a=[];for(let l=0;l<s.storageKeys.length;l+=1)a.push(Ai(s.storageKeys[l]));i.push([o,a]);}n=i;}else{n=e??[];let i=[];for(let r=0;r<n.length;r+=1){let s=n[r],o=Ht(s[0]),a=[];for(let c=0;c<s[1].length;c+=1)a.push(Ht(s[1][c]));let l={address:o,storageKeys:a};i.push(l);}t=i;}return{AccessListJSON:t,accessList:n};},yM=e=>{for(let t=0;t<e.length;t+=1){let n=e[t],i=n[0],r=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let s=0;s<r.length;s+=1)if(r[s].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes");}},bM=e=>{let t=[];for(let n=0;n<e.length;n+=1){let i=e[n],r={address:Ht($G(i[0],20)),storageKeys:[]},s=i&&i[1];for(let o=0;o<s.length;o+=1){let a=s[o];r.storageKeys.push(Ht($G(a,32)));}t.push(r);}return t;},xM=(e,t)=>{let n=t.param("gasPrices","accessListStorageKeyCost"),i=t.param("gasPrices","accessListAddressCost"),r=0;for(let o=0;o<e.length;o+=1){let l=e[o][1];r+=l.length;}return e.length*Number(i)+r*Number(n);};var ic=class{constructor(t,n){var i,r;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=VE.Mainnet,this.DEFAULT_HARDFORK=Oi.Merge;let{nonce:s,gasLimit:o,to:a,value:l,data:c,v:u,r:d,s:h,type:f}=t;this._type=Number(di(Ai(f))),this.txOptions=n;let g=Ai(a===""?"0x":a),m=Ai(u===""?"0x":u),y=Ai(d===""?"0x":d),b=Ai(h===""?"0x":h);this.nonce=di(Ai(s===""?"0x":s)),this.gasLimit=di(Ai(o===""?"0x":o)),this.to=g.length>0?new Xw(g):void 0,this.value=di(Ai(l===""?"0x":l)),this.data=Ai(c===""?"0x":c),this.v=m.length>0?di(m):void 0,this.r=y.length>0?di(y):void 0,this.s=b.length>0?di(b):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);let C=this.to===void 0||this.to===null,_=(i=n.allowUnlimitedInitCodeSize)!==null&&i!==void 0?i:!1,A=(r=n.common)!==null&&r!==void 0?r:this._getCommon();C&&A.isActivatedEIP(3860)&&!_&&ede(A,this.data.length);}get type(){return this._type;}supports(t){return this.activeCapabilities.includes(t);}validate(t=!1){let n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),t?n:n.length===0;}_validateYParity(){let{v:t}=this;if(t!==void 0&&t!==BigInt(0)&&t!==BigInt(1)){let n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n);}}_validateHighS(){let{s:t}=this;if(this.common.gteHardfork("homestead")&&t!==void 0&&t>Wce){let n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n);}}getBaseFee(){let t=this.common.param("gasPrices","tx"),n=this.getDataFee();if(t&&(n+=t),this.common.gteHardfork("homestead")&&this.toCreationAddress()){let i=this.common.param("gasPrices","txCreation");i&&(n+=i);}return n;}getDataFee(){let t=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero"),i=BigInt(0);for(let r=0;r<this.data.length;r+=1)this.data[r]===0?i+=t:i+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){let r=BigInt(Math.ceil(this.data.length/32)),s=this.common.param("gasPrices","initCodeWordCost")*r;i+=s;}return i;}toCreationAddress(){return this.to===void 0||this.to.buf.length===0;}isSigned(){let{v:t,r:n,s:i}=this;return!(t===void 0||n===void 0||i===void 0);}verifySignature(){try{let t=this.getSenderPublicKey();return qw(t).length!==0;}catch{return!1;}}getSenderAddress(){return new Xw(Xw.publicToAddress(this.getSenderPublicKey()));}sign(t){if(t.length!==32){let l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l);}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(hu.EIP155ReplayProtection)&&(this.activeCapabilities.push(hu.EIP155ReplayProtection),n=!0);let i=this.getMessageToSign(!0),{v:r,r:s,s:o}=this._ecsign(i,t),a=this._processSignature(r,s,o);if(n){let l=this.activeCapabilities.indexOf(hu.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1);}return a;}_getCommon(t,n){var i,r,s,o;if(n!==void 0){let a=di(Ai(n));if(t){if(t.chainId()!==a){let l=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(l);}return t.copy();}return du.isSupportedChainId(a)?new du({chain:a,hardfork:this.DEFAULT_HARDFORK}):du.custom({name:"custom-chain",networkId:a,chainId:a},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK});}if(t?.copy&&typeof t?.copy=="function")return t.copy();if(t){let a=typeof t.hardfork=="function"?t.hardfork():t.hardfork;return du.custom({name:"custom-chain",networkId:t.networkId?t.networkId():(r=BigInt((i=t.customChain)===null||i===void 0?void 0:i.networkId))!==null&&r!==void 0?r:void 0,chainId:t.chainId?t.chainId():(o=BigInt((s=t.customChain)===null||s===void 0?void 0:s.chainId))!==null&&o!==void 0?o:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:a||this.DEFAULT_HARDFORK});}return new du({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK});}_validateCannotExceedMaxInteger(t,n=256,i=!1){for(let[r,s]of Object.entries(t))switch(n){case 64:if(i){if(s!==void 0&&s>=UG){let o=this._errorMsg(`${r} cannot equal or exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o);}}else if(s!==void 0&&s>UG){let o=this._errorMsg(`${r} cannot exceed MAX_UINT64 (2^64-1), given ${s}`);throw new Error(o);}break;case 256:if(i){if(s!==void 0&&s>=Cf){let o=this._errorMsg(`${r} cannot equal or exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o);}}else if(s!==void 0&&s>Cf){let o=this._errorMsg(`${r} cannot exceed MAX_INTEGER (2^256-1), given ${s}`);throw new Error(o);}break;default:{let o=this._errorMsg("unimplemented bits value");throw new Error(o);}}}static _validateNotArray(t){let n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(let[i,r]of Object.entries(t))if(n.includes(i)&&Array.isArray(r))throw new Error(`${i} cannot be an array`);}_getSharedErrorPostfix(){let t="";try{t=this.isSigned()?Ht(this.hash()):"not available (unsigned)";}catch{t="error";}let n="";try{n=this.isSigned().toString();}catch{t="error";}let i="";try{i=this.common.hardfork();}catch{i="error";}let r=`tx type=${this.type} hash=${t} nonce=${this.nonce} value=${this.value} `;return r+=`signed=${n} hf=${i}`,r;}_ecsign(t,n,i){let r=cl.sign(t,n),s=r.toCompactRawBytes(),o=s.subarray(0,32),a=s.subarray(32,64),l=i===void 0?BigInt(r.recovery+27):BigInt(r.recovery+35)+BigInt(i)*BigInt(2);return{r:o,s:a,v:l};}static fromSerializedTx(t,n={}){}static fromTxData(t,n={}){}};var ZG=2,QG=Zn(ZG.toString(16).padStart(2,"0")),Qw=class e extends ic{static fromTxData(t,n={}){return new e(t,n);}static fromSerializedTx(t,n={}){if(!gv(t.subarray(0,1),QG))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${ZG}, received: ${Ht(t.subarray(0,1))}`);let i=wM.RLP.decode(t.subarray(1));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return e.fromValuesArray(i,n);}static fromValuesArray(t,n={}){if(t.length!==9&&t.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");let[i,r,s,o,a,l,c,u,d,h,f,g]=t;return this._validateNotArray({chainId:i,v:h}),kw({nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,value:c,v:h,r:f,s:g}),new e({chainId:di(i),nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:o,gasLimit:a,to:l,value:c,data:u,accessList:d??[],v:h!==void 0?di(h):void 0,r:f,s:g},n);}constructor(t,n={}){var i;super(Object.assign(Object.assign({},t),{type:ZG}),n),this.DEFAULT_HARDFORK="london";let{chainId:r,accessList:s,maxFeePerGas:o,maxPriorityFeePerGas:a}=t;if(this.common=this._getCommon(n.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);let l=vM(s??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,yM(this.accessList),this.maxFeePerGas=di(Ai(o===""?"0x":o)),this.maxPriorityFeePerGas=di(Ai(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),ic._validateNotArray(t),this.gasLimit*this.maxFeePerGas>Cf){let u=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(u);}if(this.maxFeePerGas<this.maxPriorityFeePerGas){let u=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(u);}this._validateYParity(),this._validateHighS(),((i=n?.freeze)!==null&&i!==void 0?i:!0)&&Object.freeze(this);}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(xM(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t;}getUpfrontCost(t=BigInt(0)){let n=this.maxPriorityFeePerGas,i=this.maxFeePerGas-t,s=(n<i?n:i)+t;return this.gasLimit*s+this.value;}raw(){return[Gn(this.chainId),Gn(this.nonce),Gn(this.maxPriorityFeePerGas),Gn(this.maxFeePerGas),Gn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Gn(this.value),this.data,this.accessList,this.v!==void 0?Gn(this.v):Uint8Array.from([]),this.r!==void 0?Gn(this.r):Uint8Array.from([]),this.s!==void 0?Gn(this.s):Uint8Array.from([])];}serialize(){let t=this.raw();return Cr(QG,wM.RLP.encode(t));}getMessageToSign(t=!0){let n=this.raw().slice(0,9),i=Cr(QG,wM.RLP.encode(n));return t?wr(i):i;}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t);}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=wr(this.serialize())),this.cache.hash):wr(this.serialize());}getMessageToVerifySignature(){return this.getMessageToSign();}getSenderPublicKey(){if(!this.isSigned()){let s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s);}let t=this.getMessageToVerifySignature(),{v:n,r:i,s:r}=this;this._validateHighS();try{return Kw(t,n+BigInt(27),Gn(i),Gn(r));}catch{let o=this._errorMsg("Invalid Signature");throw new Error(o);}}_processSignature(t,n,i){let r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return e.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:di(n),s:di(i)},r);}toJSON(){let t=bM(this.accessList);return{chainId:Yi(this.chainId),nonce:Yi(this.nonce),maxPriorityFeePerGas:Yi(this.maxPriorityFeePerGas),maxFeePerGas:Yi(this.maxFeePerGas),gasLimit:Yi(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Yi(this.value),data:Ht(this.data),accessList:t,v:this.v!==void 0?Yi(this.v):void 0,r:this.r!==void 0?Yi(this.r):void 0,s:this.s!==void 0?Yi(this.s):void 0};}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t;}_errorMsg(t){return`${t} (${this.errorStr()})`;}};var CM=Wf(mM(),1);var ez=1,JG=Zn(ez.toString(16).padStart(2,"0")),Zw=class e extends ic{static fromTxData(t,n={}){return new e(t,n);}static fromSerializedTx(t,n={}){if(!gv(t.subarray(0,1),JG))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${ez}, received: ${Ht(t.subarray(0,1))}`);let i=CM.RLP.decode(Uint8Array.from(t.subarray(1)));if(!Array.isArray(i))throw new Error("Invalid serialized tx input: must be array");return e.fromValuesArray(i,n);}static fromValuesArray(t,n={}){if(t.length!==8&&t.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");let[i,r,s,o,a,l,c,u,d,h,f]=t;this._validateNotArray({chainId:i,v:d}),kw({nonce:r,gasPrice:s,gasLimit:o,value:l,v:d,r:h,s:f});let g=[];return new e({chainId:di(i),nonce:r,gasPrice:s,gasLimit:o,to:a,value:l,data:c,accessList:u??g,v:d!==void 0?di(d):void 0,r:h,s:f},n);}constructor(t,n={}){var i;super(Object.assign(Object.assign({},t),{type:ez}),n),this.DEFAULT_HARDFORK="berlin";let{chainId:r,accessList:s,gasPrice:o}=t;if(this.common=this._getCommon(n.common,r),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);let a=vM(s??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,yM(this.accessList),this.gasPrice=di(Ai(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),ic._validateNotArray(t),this.gasPrice*this.gasLimit>Cf){let c=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(c);}this._validateYParity(),this._validateHighS(),((i=n?.freeze)!==null&&i!==void 0?i:!0)&&Object.freeze(this);}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let t=super.getDataFee();return t+=BigInt(xM(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:t,hardfork:this.common.hardfork()}),t;}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value;}raw(){return[Gn(this.chainId),Gn(this.nonce),Gn(this.gasPrice),Gn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Gn(this.value),this.data,this.accessList,this.v!==void 0?Gn(this.v):Uint8Array.from([]),this.r!==void 0?Gn(this.r):Uint8Array.from([]),this.s!==void 0?Gn(this.s):Uint8Array.from([])];}serialize(){let t=this.raw();return Cr(JG,CM.RLP.encode(t));}getMessageToSign(t=!0){let n=this.raw().slice(0,8),i=Cr(JG,CM.RLP.encode(n));return t?wr(i):i;}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t);}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=wr(this.serialize())),this.cache.hash):wr(this.serialize());}getMessageToVerifySignature(){return this.getMessageToSign();}getSenderPublicKey(){if(!this.isSigned()){let s=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(s);}let t=this.getMessageToVerifySignature(),{v:n,r:i,s:r}=this;this._validateHighS();try{return Kw(t,n+BigInt(27),Gn(i),Gn(r));}catch{let o=this._errorMsg("Invalid Signature");throw new Error(o);}}_processSignature(t,n,i){let r=Object.assign(Object.assign({},this.txOptions),{common:this.common});return e.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:t-BigInt(27),r:di(n),s:di(i)},r);}toJSON(){let t=bM(this.accessList);return{chainId:Yi(this.chainId),nonce:Yi(this.nonce),gasPrice:Yi(this.gasPrice),gasLimit:Yi(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Yi(this.value),data:Ht(this.data),accessList:t,v:this.v!==void 0?Yi(this.v):void 0,r:this.r!==void 0?Yi(this.r):void 0,s:this.s!==void 0?Yi(this.s):void 0};}errorStr(){var t,n;let i=this._getSharedErrorPostfix();return i+=` gasPrice=${this.gasPrice} accessListCount=${(n=(t=this.accessList)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}`,i;}_errorMsg(t){return`${t} (${this.errorStr()})`;}};var Rv=Wf(mM(),1);var wqe=0;function tde(e,t){let n=Number(e),i=Number(t)*2;return n===i+35||n===i+36;}var Fg=class e extends ic{static fromTxData(t,n={}){return new e(t,n);}static fromSerializedTx(t,n={}){let i=Rv.RLP.decode(t);if(!Array.isArray(i))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(i,n);}static fromValuesArray(t,n={}){if(t.length!==6&&t.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");let[i,r,s,o,a,l,c,u,d]=t;return kw({nonce:i,gasPrice:r,gasLimit:s,value:a,v:c,r:u,s:d}),new e({nonce:i,gasPrice:r,gasLimit:s,to:o,value:a,data:l,v:c,r:u,s:d},n);}constructor(t,n={}){var i;if(super(Object.assign(Object.assign({},t),{type:wqe}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=di(Ai(t.gasPrice===""?"0x":t.gasPrice)),this.gasPrice*this.gasLimit>Cf){let s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s);}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),ic._validateNotArray(t),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?tde(this.v,this.common.chainId())&&this.activeCapabilities.push(hu.EIP155ReplayProtection):this.activeCapabilities.push(hu.EIP155ReplayProtection)),((i=n?.freeze)!==null&&i!==void 0?i:!0)&&Object.freeze(this);}raw(){return[Gn(this.nonce),Gn(this.gasPrice),Gn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Gn(this.value),this.data,this.v!==void 0?Gn(this.v):Uint8Array.from([]),this.r!==void 0?Gn(this.r):Uint8Array.from([]),this.s!==void 0?Gn(this.s):Uint8Array.from([])];}serialize(){return Rv.RLP.encode(this.raw());}_getMessageToSign(){let t=[Gn(this.nonce),Gn(this.gasPrice),Gn(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),Gn(this.value),this.data];return this.supports(hu.EIP155ReplayProtection)&&(t.push(Ai(this.common.chainId())),t.push(qw(Ai(0))),t.push(qw(Ai(0)))),t;}getMessageToSign(t=!0){let n=this._getMessageToSign();return t?wr(Rv.RLP.encode(n)):n;}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee());}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value;}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t);}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=wr(Rv.RLP.encode(this.raw()))),this.cache.hash):wr(Rv.RLP.encode(this.raw()));}getMessageToVerifySignature(){if(!this.isSigned()){let n=this._errorMsg("This transaction is not signed");throw new Error(n);}let t=this._getMessageToSign();return wr(Rv.RLP.encode(t));}getSenderPublicKey(){let t=this.getMessageToVerifySignature(),{v:n,r:i,s:r}=this;this._validateHighS();try{return Kw(t,n,Gn(i),Gn(r),this.supports(hu.EIP155ReplayProtection)?this.common.chainId():void 0);}catch{let o=this._errorMsg("Invalid Signature");throw new Error(o);}}_processSignature(t,n,i){let r=t;this.supports(hu.EIP155ReplayProtection)&&(r+=this.common.chainId()*BigInt(2)+BigInt(8));let s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return e.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:r,r:di(n),s:di(i)},s);}toJSON(){return{nonce:Yi(this.nonce),gasPrice:Yi(this.gasPrice),gasLimit:Yi(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:Yi(this.value),data:Ht(this.data),v:this.v!==void 0?Yi(this.v):void 0,r:this.r!==void 0?Yi(this.r):void 0,s:this.s!==void 0?Yi(this.s):void 0};}_validateTxV(t,n){let i,r=t!==void 0?Number(t):void 0;if(r!==void 0&&r<37&&r!==27&&r!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${r}`);if(r!==void 0&&r!==0&&(!n||n.gteHardfork("spuriousDragon"))&&r!==27&&r!==28)if(n){if(!tde(BigInt(r),n.chainId()))throw new Error(`Incompatible EIP155-based V ${r} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`);}else{let s;(r-35)%2===0?s=35:s=36,i=BigInt(r-s)/BigInt(2);}return this._getCommon(n,i);}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t;}_errorMsg(t){return`${t} (${this.errorStr()})`;}};var tz=new Map(),rc=class e{constructor(){}static typeToInt(t){return Number(di(Ai(t)));}static registerTransactionType(t,n){let i=e.typeToInt(t);tz.set(i,n);}static fromTxData(t,n={}){if(!("type"in t)||t.type===void 0)return Fg.fromTxData(t,n);let i=e.typeToInt(t.type);if(i===0)return Fg.fromTxData(t,n);if(i===1)return Zw.fromTxData(t,n);if(i===2)return Qw.fromTxData(t,n);let r=tz.get(i);if(r?.fromTxData)return r.fromTxData(t,n);throw new Error(`Tx instantiation with type ${i} not supported`);}static fromSerializedData(t,n={}){if(t[0]<=127)switch(t[0]){case 1:return Zw.fromSerializedTx(t,n);case 2:return Qw.fromSerializedTx(t,n);default:{let i=tz.get(Number(t[0]));if(i?.fromSerializedTx)return i.fromSerializedTx(t,n);throw new Error(`TypedTransaction with ID ${t[0]} unknown`);}}else return Fg.fromSerializedTx(t,n);}static fromBlockBodyData(t,n={}){if(Ia(t))return this.fromSerializedData(t,n);if(Array.isArray(t))return Fg.fromValuesArray(t,n);throw new Error("Cannot decode transaction: unknown type input");}};var SM=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Iv=(e,t)=>{let n;if(!t&&typeof e=="string"&&on(e)&&e.length!==66)throw new P2();try{n=Ia(e)?e:ea(e);}catch{throw new kk();}if(!t&&n.byteLength!==32)throw new P2();return n;},EM=(e,t=!1)=>{let n=on(e)?e:ta(e),i=Zn(n),r=Zn($5(`Ethereum Signed Message:
${i.byteLength}`)),s=t?i:Cr(r,i);return ys(s);},Cqe=(e,t)=>{let n=Iv(t),i=cl.sign(e.substring(2),n),r=i.toCompactRawBytes(),s=i.r.toString(16).padStart(64,"0"),o=i.s.toString(16).padStart(64,"0"),a=i.recovery+27;return{messageHash:e,v:qi(a),r:`0x${s}`,s:`0x${o}`,signature:`${Ht(r)}${a.toString(16)}`};},nz=(e,t)=>{let n=EM(e),{messageHash:i,v:r,r:s,s:o,signature:a}=Cqe(n,t);return{message:e,messageHash:i,v:r,r:s,s:o,signature:a};};var nde=(e,t)=>SM(void 0,void 0,void 0,function*(){let n=e.sign(Zn(t));if(we(n.v)||we(n.r)||we(n.s))throw new yw("Signer Error");let i=n.validate(!0);if(i.length>0){let o="Signer Error ";for(let a of i)o+=`${o} ${a}.`;throw new yw(o);}let r=Ht(n.serialize()),s=ys(r);return{messageHash:Ht(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:r,transactionHash:Ht(s)};}),ide=e=>{if(we(e))throw new Yk();let t=rc.fromSerializedData(Zn(e));return Ps(t.getSenderAddress().toString());},_M=(e,t,n,i,r)=>{if(typeof e=="object"){let d=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return _M(e.messageHash,d,n);}if(typeof t=="string"&&typeof n=="string"&&!we(i)){let d=`${n}${i.slice(2)}${t.slice(2)}`;return _M(e,d,r);}if(we(t))throw new Mk("signature string undefined");let s=130,o=n?e:EM(e),a=parseInt(t.substring(s),16);a>26&&(a-=27);let l=cl.Signature.fromCompact(t.slice(2,s)).addRecoveryBit(a).recoverPublicKey(o.replace("0x","")).toRawBytes(!1),c=ys(l.subarray(1));return Ps(`0x${c.slice(-40)}`);},Jw=e=>{let t=Iv(e),n=cl.getPublicKey(t,!1),r=ys(n.slice(1)).slice(-40);return Ps(`0x${r}`);},rde=(e,t)=>{let n=Iv(e);return`0x${Ht(cl.getPublicKey(n,t)).slice(4)}`;},iz=(e,t,n)=>SM(void 0,void 0,void 0,function*(){var i,r,s,o,a,l,c;let u=Iv(e),d;if(n?.salt?d=typeof n.salt=="string"?Zn(n.salt):n.salt:d=vv(32),!(Pw(t)||Ia(t)))throw new Lk();let h=typeof t=="string"?Zn(ta(t)):t,f;if(n?.iv){if(f=typeof n.iv=="string"?Zn(n.iv):n.iv,f.length!==16)throw new Ok();}else f=vv(16);let g=(i=n?.kdf)!==null&&i!==void 0?i:"scrypt",m,y;if(g==="pbkdf2"){if(y={dklen:(r=n?.dklen)!==null&&r!==void 0?r:32,salt:Ht(d).replace("0x",""),c:(s=n?.c)!==null&&s!==void 0?s:262144,prf:"hmac-sha256"},y.c<1e3)throw new Bk();m=TG(h,d,y.c,y.dklen,"sha256");}else if(g==="scrypt")y={n:(o=n?.n)!==null&&o!==void 0?o:8192,r:(a=n?.r)!==null&&a!==void 0?a:8,p:(l=n?.p)!==null&&l!==void 0?l:1,dklen:(c=n?.dklen)!==null&&c!==void 0?c:32,salt:Ht(d).replace("0x","")},m=DG(h,d,y.n,y.p,y.r,y.dklen);else throw new k2();let b=yield lM(u,m.slice(0,16),f,"aes-128-ctr"),C=Ht(b).slice(2),_=ys(Cr(m.slice(16,32),b)).replace("0x","");return{version:3,id:AE(),address:Jw(u).toLowerCase().replace("0x",""),crypto:{ciphertext:C,cipherparams:{iv:Ht(f).replace("0x","")},cipher:"aes-128-ctr",kdf:g,kdfparams:y,mac:_}};}),TM=(e,t)=>{let n=Iv(e,t);return{address:Jw(n),privateKey:Ht(n),signTransaction:i=>{throw new yw("Do not have network access to sign the transaction");},sign:i=>nz(typeof i=="string"?i:JSON.stringify(i),n),encrypt:(i,r)=>SM(void 0,void 0,void 0,function*(){return iz(n,i,r);})};},sde=()=>{let e=cl.utils.randomPrivateKey();return TM(`${Ht(e)}`);},ode=(e,t,n)=>SM(void 0,void 0,void 0,function*(){let i=typeof e=="object"?e:JSON.parse(n?e.toLowerCase():e);if(Dt.validateJSONSchema(qce,i),i.version!==3)throw new Nk();let r=typeof t=="string"?Zn(ta(t)):t;Dt.validate(["bytes"],[r]);let s;if(i.crypto.kdf==="scrypt"){let c=i.crypto.kdfparams,u=typeof c.salt=="string"?Zn(c.salt):c.salt;s=DG(r,u,c.n,c.p,c.r,c.dklen);}else if(i.crypto.kdf==="pbkdf2"){let c=i.crypto.kdfparams,u=typeof c.salt=="string"?Zn(c.salt):c.salt;s=TG(r,u,c.c,c.dklen,"sha256");}else throw new k2();let o=Zn(i.crypto.ciphertext);if(ys(Cr(s.slice(16,32),o)).replace("0x","")!==i.crypto.mac)throw new Fk();let l=yield Sce(Zn(i.crypto.ciphertext),s.slice(0,16),Zn(i.crypto.cipherparams.iv));return TM(l);});var ade=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Sqe=1e3,AM=class{constructor(t){this._requestManager=t,this._requests=new Map();}get requests(){return[...this._requests.values()].map(t=>t.payload);}add(t){let n=Ki.toPayload(t),i=new _g();return this._requests.set(n.id,{payload:n,promise:i}),i;}execute(t){return ade(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);let i=new _g({timeout:(n=t?.timeout)!==null&&n!==void 0?n:Sqe,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(i).catch(r=>i.reject(r)),i.catch(r=>{r instanceof fw&&this._abortAllRequests("Batch request timeout"),i.reject(r);}),i;});}_processBatchRequest(t){return ade(this,void 0,void 0,function*(){var n,i;let r=yield this._requestManager.sendBatch([...this._requests.values()].map(a=>a.payload));if(r.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new vo(r,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${r.length}`);let s=this.requests.map(a=>a.id).map(Number).sort((a,l)=>a-l),o=r.map(a=>a.id).map(Number).sort((a,l)=>a-l);if(JSON.stringify(s)!==JSON.stringify(o))throw this._abortAllRequests("Invalid batch response"),new vo(r,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${o.join()}]`);for(let a of r)Ki.isResponseWithResult(a)?(n=this._requests.get(a.id))===null||n===void 0||n.promise.resolve(a.result):Ki.isResponseWithError(a)&&((i=this._requests.get(a.id))===null||i===void 0||i.promise.reject(a.error));t.resolve(r);});}_abortAllRequests(t){for(let{promise:n}of this._requests.values())n.reject(new $k(t));}};var Eqe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Yr=class e extends rM{constructor(t){var n;if(super(),this.providers=wv.providers,Rt(t)||typeof t=="string"&&t.trim()!==""||xv(t)){this._requestManager=new wv(t),this._subscriptionManager=new vf(this._requestManager,{});return;}let{config:i,provider:r,requestManager:s,subscriptionManager:o,registeredSubscriptions:a,accountProvider:l,wallet:c,requestManagerMiddleware:u}=t;this.setConfig(i??{}),this._requestManager=s??new wv(r,(n=i?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,u),o?this._subscriptionManager=o:this._subscriptionManager=new vf(this.requestManager,a??{}),l&&(this._accountProvider=l),c&&(this._wallet=c);}get requestManager(){return this._requestManager;}get subscriptionManager(){return this._subscriptionManager;}get wallet(){return this._wallet;}get accountProvider(){return this._accountProvider;}static fromContextObject(...t){return new this(...t.reverse());}getContextObject(){var t;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(t=this.subscriptionManager)===null||t===void 0?void 0:t.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider};}use(t,...n){let i=new t(...n,this.getContextObject());return this.on(Eg.CONFIG_CHANGE,r=>{i.setConfig({[r.name]:r.newValue});}),this[t.name]=i,i;}link(t){this.setConfig(t.config),this._requestManager=t.requestManager,this.provider=t.provider,this._subscriptionManager=t.subscriptionManager,this._wallet=t.wallet,this._accountProvider=t._accountProvider,t.on(Eg.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue});});}registerPlugin(t){if(this[t.pluginNamespace]!==void 0)throw new Wk(t.pluginNamespace);let n={[t.pluginNamespace]:t};n[t.pluginNamespace].link(this),Object.assign(this,n);}get provider(){return this.currentProvider;}set provider(t){this.requestManager.setProvider(t);}get currentProvider(){return this.requestManager.provider;}set currentProvider(t){this.requestManager.setProvider(t);}get givenProvider(){return e.givenProvider;}setProvider(t){return this.provider=t,!0;}setRequestManagerMiddleware(t){this.requestManager.setMiddleware(t);}get BatchRequest(){return AM.bind(void 0,this._requestManager);}extend(t){var n;return t.property&&!this[t.property]&&(this[t.property]={}),(n=t.methods)===null||n===void 0||n.forEach(i=>{let r=(...s)=>Eqe(this,void 0,void 0,function*(){return this.requestManager.send({method:i.call,params:s});});t.property?this[t.property][i.name]=r:this[i.name]=r;}),this;}};Yr.providers=wv.providers;var eC=(()=>{class e{constructor(n){if(this.toAddress=()=>{if(this.isDirect()){let i=this._iban.slice(4),r=e._parseInt(i,36),s=Cg(r,40);return Ps(s);}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35");},e.isIndirect(n)||e.isDirect(n))this._iban=n;else throw new Error("Invalid IBAN was provided");}static isDirect(n){return n.length===34||n.length===35;}isDirect(){return e.isDirect(this._iban);}static isIndirect(n){return n.length===20;}isIndirect(){return e.isIndirect(this._iban);}static isValid(n){return /^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(n)&&e._mod9710(e._iso13616Prepare(n))===1;}isValid(){return e.isValid(this._iban);}static fromBban(n){let i="XE",s=`0${(98-this._mod9710(this._iso13616Prepare(`${i}00${n}`))).toString()}`.slice(-2);return new e(`${i}${s}${n}`);}static createIndirect(n){return e.fromBban(`ETH${n.institution}${n.identifier}`);}static fromAddress(n){if(!cr(n))throw new cf(n);let r=BigInt(xg(n)).toString(36),s=Cg(r,15);return e.fromBban(s.toUpperCase());}static toIban(n){return e.fromAddress(n).toString();}client(){return this.isIndirect()?this._iban.slice(11):"";}checksum(){return this._iban.slice(2,4);}institution(){return this.isIndirect()?this._iban.slice(7,11):"";}toString(){return this._iban;}}return e._iso13616Prepare=t=>{let r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(o=>{let a=o.charCodeAt(0);return a>=65&&a<=90?a-65+10:o;}).join("");},e._parseInt=(t,n)=>[...t].reduce((i,r)=>BigInt(parseInt(r,n))+BigInt(n)*i,BigInt(0)),e._mod9710=t=>{let n=t,i;for(;n.length>2;)i=n.slice(0,9),n=`${(parseInt(i,10)%97).toString()}${n.slice(i.length)}`;return parseInt(n,10)%97;},e.toAddress=t=>new e(t).toAddress(),e;})();var rz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},lde,tC=class extends Rd{constructor(t){super(),this[lde]="Promise",this._promise=new Promise(t);}then(t,n){return rz(this,void 0,void 0,function*(){return this._promise.then(t,n);});}catch(t){return rz(this,void 0,void 0,function*(){return this._promise.catch(t);});}finally(t){return rz(this,void 0,void 0,function*(){return this._promise.finally(t);});}on(t,n){return super.on(t,n),this;}once(t,n){return super.once(t,n),this;}};lde=Symbol.toStringTag;var IUt=Wf(ude(),1);var Nt={};Iu(Nt,{call:()=>Xqe,compileLLL:()=>lKe,compileSerpent:()=>cKe,compileSolidity:()=>aKe,createAccessList:()=>TKe,estimateGas:()=>Qqe,getAccounts:()=>Lqe,getBalance:()=>Bqe,getBlockByHash:()=>Zqe,getBlockByNumber:()=>Jqe,getBlockNumber:()=>Oqe,getBlockTransactionCountByHash:()=>Gqe,getBlockTransactionCountByNumber:()=>zqe,getChainId:()=>_Ke,getCode:()=>$qe,getCoinbase:()=>Pqe,getCompilers:()=>oKe,getFeeHistory:()=>xKe,getFilterChanges:()=>pKe,getFilterLogs:()=>gKe,getGasPrice:()=>Fqe,getHashRate:()=>Mqe,getLogs:()=>mKe,getMaxPriorityFeePerGas:()=>Nqe,getMining:()=>kqe,getNodeInfo:()=>EKe,getPendingTransactions:()=>wKe,getProof:()=>SKe,getProtocolVersion:()=>Rqe,getStorageAt:()=>Vqe,getSyncing:()=>Iqe,getTransactionByBlockHashAndIndex:()=>tKe,getTransactionByBlockNumberAndIndex:()=>nKe,getTransactionByHash:()=>eKe,getTransactionCount:()=>Hqe,getTransactionReceipt:()=>iKe,getUncleByBlockHashAndIndex:()=>rKe,getUncleByBlockNumberAndIndex:()=>sKe,getUncleCountByBlockHash:()=>Uqe,getUncleCountByBlockNumber:()=>jqe,getWork:()=>vKe,newBlockFilter:()=>dKe,newFilter:()=>uKe,newPendingTransactionFilter:()=>hKe,requestAccounts:()=>CKe,sendRawTransaction:()=>Yqe,sendTransaction:()=>Kqe,sign:()=>Wqe,signTransaction:()=>qqe,signTypedData:()=>AKe,submitHashrate:()=>bKe,submitWork:()=>yKe,uninstallFilter:()=>fKe});var $t=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function Rqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_protocolVersion",params:[]});});}function Iqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_syncing",params:[]});});}function Pqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_coinbase",params:[]});});}function kqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_mining",params:[]});});}function Mqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_hashrate",params:[]});});}function Fqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_gasPrice",params:[]});});}function Nqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]});});}function Lqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_accounts",params:[]});});}function Oqe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_blockNumber",params:[]});});}function Bqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getBalance",params:[t,n]});});}function Vqe(e,t,n,i){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","hex","blockNumberOrTag"],[t,n,i]),e.send({method:"eth_getStorageAt",params:[t,n,i]});});}function Hqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getTransactionCount",params:[t,n]});});}function Gqe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]});});}function zqe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]});});}function Uqe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]});});}function jqe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]});});}function $qe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","blockNumberOrTag"],[t,n]),e.send({method:"eth_getCode",params:[t,n]});});}function Wqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","hex"],[t,n]),e.send({method:"eth_sign",params:[t,n]});});}function qqe(e,t){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_signTransaction",params:[t]});});}function Kqe(e,t){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_sendTransaction",params:[t]});});}function Yqe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]});});}function Xqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_call",params:[t,n]});});}function Qqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_estimateGas",params:[t,n]});});}function Zqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32","bool"],[t,n]),e.send({method:"eth_getBlockByHash",params:[t,n]});});}function Jqe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag","bool"],[t,n]),e.send({method:"eth_getBlockByNumber",params:[t,n]});});}function eKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]});});}function tKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,n]});});}function nKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,n]});});}function iKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]});});}function rKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32","hex"],[t,n]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,n]});});}function sKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag","hex"],[t,n]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,n]});});}function oKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_getCompilers",params:[]});});}function aKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["string"],[t]),e.send({method:"eth_compileSolidity",params:[t]});});}function lKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["string"],[t]),e.send({method:"eth_compileLLL",params:[t]});});}function cKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["string"],[t]),e.send({method:"eth_compileSerpent",params:[t]});});}function uKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["filter"],[t]),e.send({method:"eth_newFilter",params:[t]});});}function dKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_newBlockFilter",params:[]});});}function hKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_newPendingTransactionFilter",params:[]});});}function fKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["hex"],[t]),e.send({method:"eth_uninstallFilter",params:[t]});});}function pKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["hex"],[t]),e.send({method:"eth_getFilterChanges",params:[t]});});}function gKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["hex"],[t]),e.send({method:"eth_getFilterLogs",params:[t]});});}function mKe(e,t){return $t(this,void 0,void 0,function*(){return Dt.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]});});}function vKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_getWork",params:[]});});}function yKe(e,t,n,i){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes8","bytes32","bytes32"],[t,n,i]),e.send({method:"eth_submitWork",params:[t,n,i]});});}function bKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["bytes32","bytes32"],[t,n]),e.send({method:"eth_submitHashrate",params:[t,n]});});}function xKe(e,t,n,i){return $t(this,void 0,void 0,function*(){Dt.validate(["hex","blockNumberOrTag"],[t,n]);for(let r of i)Dt.validate(["number"],[r]);return e.send({method:"eth_feeHistory",params:[t,n,i]});});}function wKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_pendingTransactions",params:[]});});}function CKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_requestAccounts",params:[]});});}function _Ke(e){return $t(this,void 0,void 0,function*(){return e.send({method:"eth_chainId",params:[]});});}function SKe(e,t,n,i){return $t(this,void 0,void 0,function*(){return Dt.validate(["address","bytes32[]","blockNumberOrTag"],[t,n,i]),e.send({method:"eth_getProof",params:[t,n,i]});});}function EKe(e){return $t(this,void 0,void 0,function*(){return e.send({method:"web3_clientVersion",params:[]});});}function TKe(e,t,n){return $t(this,void 0,void 0,function*(){return Dt.validate(["blockNumberOrTag"],[n]),e.send({method:"eth_createAccessList",params:[t,n]});});}function AKe(e,t,n,i=!1){return $t(this,void 0,void 0,function*(){return Dt.validate(["address"],[t]),e.send({method:`eth_signTypedData${i?"":"_v4"}`,params:[t,n]});});}var nC={};Iu(nC,{getId:()=>DKe,getPeerCount:()=>RKe,isListening:()=>IKe});var sz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function DKe(e){return sz(this,void 0,void 0,function*(){return e.send({method:"net_version",params:[]});});}function RKe(e){return sz(this,void 0,void 0,function*(){return e.send({method:"net_peerCount",params:[]});});}function IKe(e){return sz(this,void 0,void 0,function*(){return e.send({method:"net_listening",params:[]});});}var sc={};Iu(sc,{ecRecover:()=>VKe,getAccounts:()=>PKe,importRawKey:()=>NKe,lockAccount:()=>FKe,newAccount:()=>kKe,sendTransaction:()=>LKe,sign:()=>BKe,signTransaction:()=>OKe,unlockAccount:()=>MKe});var _f=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},PKe=e=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_listAccounts",params:[]});}),kKe=(e,t)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_newAccount",params:[t]});}),MKe=(e,t,n,i)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_unlockAccount",params:[t,n,i]});}),FKe=(e,t)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_lockAccount",params:[t]});}),NKe=(e,t,n)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_importRawKey",params:[t,n]});}),LKe=(e,t,n)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_sendTransaction",params:[t,n]});}),OKe=(e,t,n)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_signTransaction",params:[t,n]});}),BKe=(e,t,n,i)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_sign",params:[t,n,i]});}),VKe=(e,t,n)=>_f(void 0,void 0,void 0,function*(){return e.send({method:"personal_ecRecover",params:[t,n]});});var dde={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},hde={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},fde={type:"object",properties:{gasPrice:{type:"null"}}},DM=(e,t,n)=>{try{Dt.validateJSONSchema(e,t);}catch(i){throw i instanceof sl?new m5(i.errors,n):i;}},GKe=e=>{var t,n;let i=e;if(!we(i.type)){let s;switch(i.type){case"0x0":s=dde;break;case"0x1":s=hde;break;case"0x2":s=fde;break;default:return Ve({format:"uint"},i.type,Vt);}return DM(s,i,i.type),Ve({format:"uint"},i.type,Vt);}if(!we(i.maxFeePerGas)||!we(i.maxPriorityFeePerGas))return DM(fde,i,"0x2"),"0x2";if(!we(i.accessList))return DM(hde,i,"0x1"),"0x1";let r=(t=i.hardfork)!==null&&t!==void 0?t:(n=i.common)===null||n===void 0?void 0:n.hardfork;if(!we(r)){let s=Object.keys(R2).indexOf(r);if(s>=Object.keys(R2).indexOf("london"))return we(i.gasPrice)?"0x2":"0x0";if(s===Object.keys(R2).indexOf("berlin"))return"0x0";}if(!we(i.gasPrice))return DM(dde,i,"0x0"),"0x0";},oz=(e,t)=>{var n;return((n=t?.transactionTypeParser)!==null&&n!==void 0?n:GKe)(e);},pde=e=>e[0]>127?"0x0":xo(e[0]);var zKe={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},az={type:"array",items:Object.assign({},zKe)},vde={type:"object",properties:{accessList:Object.assign({},az),gasUsed:{type:"string"}}},gde={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},mde={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},UKe={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},lz={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},az),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},gde),hardfork:Object.assign({},mde),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},UKe),baseChain:Object.assign({},gde),hardfork:Object.assign({},mde)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},RM={type:"object",properties:Object.assign(Object.assign({},lz.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},az),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},yde={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},iC={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},RM)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},yde)},withdrawalsRoot:{format:"bytes32"}}},bde={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},yde)},withdrawalsRoot:{format:"bytes32"}}},kd={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},xde={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Md={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},kd)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},wde={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},Cde={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},jKe={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},_de={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},jKe)}}};function xs(e,t=lr,n={transactionSchema:RM,fillInputAndData:!1}){var i,r;let s=tc({},e);if(we(e?.common)||(s.common=Object.assign({},e.common),we((i=e.common)===null||i===void 0?void 0:i.customChain)||(s.common.customChain=Object.assign({},e.common.customChain))),s=Ve((r=n.transactionSchema)!==null&&r!==void 0?r:RM,s,t),!we(s.data)&&!we(s.input)&&xo(s.data)!==xo(s.input))throw new mw({data:Ht(s.data),input:Ht(s.input)});return n.fillInputAndData&&(we(s.data)?we(s.input)||(s.data=s.input):s.input=s.data),we(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s;}function Sde(e,t,n={fillInputAndData:!1}){return{raw:Ve({format:"bytes"},e,t),tx:xs(Object.assign(Object.assign({},rc.fromSerializedData(Zn(e)).toJSON()),{hash:Ht(Dd(Zn(e))),type:pde(Zn(e))}),t,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})};}var cz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function rC(e,t){return cz(this,void 0,void 0,function*(){let n=yield nC.getId(e.requestManager);return Ve({format:"uint"},n,t);});}function Ede(e,t){return cz(this,void 0,void 0,function*(){let n=yield nC.getPeerCount(e.requestManager);return Ve({format:"uint"},n,t);});}var Tde=e=>cz(void 0,void 0,void 0,function*(){return nC.isListening(e.requestManager);});var uz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Pv=class extends Yr{getId(t=this.defaultReturnFormat){return uz(this,void 0,void 0,function*(){return rC(this,t);});}getPeerCount(t=this.defaultReturnFormat){return uz(this,void 0,void 0,function*(){return Ede(this,t);});}isListening(){return uz(this,void 0,void 0,function*(){return Tde(this);});}};var Sf="ALLEVENTS",HE={name:Sf,signature:"",type:"event",inputs:[]},kv={bytes:iu.HEX,number:Zo.NUMBER};var Ade=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function qKe(e,t,n){return Ade(this,void 0,void 0,function*(){var i,r,s,o;let a=yield PM(t,t.defaultBlock,!1,Vt);if(we(a.baseFeePerGas))throw new h5();let l;if(we(e.gasPrice)&&BigInt(a.baseFeePerGas)===BigInt(0)&&(l=yield GE(t,n)),!we(e.gasPrice)||!we(l)){let c=Ve({format:"uint"},(i=e.gasPrice)!==null&&i!==void 0?i:l,n);return{maxPriorityFeePerGas:c,maxFeePerGas:c};}return{maxPriorityFeePerGas:Ve({format:"uint"},(r=e.maxPriorityFeePerGas)!==null&&r!==void 0?r:t.defaultMaxPriorityFeePerGas,n),maxFeePerGas:Ve({format:"uint"},(s=e.maxFeePerGas)!==null&&s!==void 0?s:BigInt(a.baseFeePerGas)*BigInt(2)+BigInt((o=e.maxPriorityFeePerGas)!==null&&o!==void 0?o:t.defaultMaxPriorityFeePerGas),n)};});}function IM(e,t,n){return Ade(this,void 0,void 0,function*(){let i=dz(e,t);if(!we(i)){if(i.startsWith("-"))throw new V2(i);if(Number(i)<0||Number(i)>127)throw new V2(i);if(we(e.gasPrice)&&(i==="0x0"||i==="0x1"))return{gasPrice:yield GE(t,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(i==="0x2")return Object.assign({gasPrice:void 0},yield qKe(e,t,n));}});}var hz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},zE=(e,t,n,i)=>{if(n!==void 0&&e in n&&n[e]!==void 0){if(typeof n[e]=="string"&&cr(n[e]))return n[e];if(!on(n[e])&&U5(n[e])){if(t.wallet){let r=t.wallet.get(Ve({format:"uint"},n[e],kv));if(!we(r))return r.address;throw new G2();}throw new G2();}else throw e==="from"?new O2(n.from):new Xk(n.to);}if(e==="from"){if(!we(i))return Jw(i);if(!we(t.defaultAccount))return t.defaultAccount;}},KKe=(e,t,...n)=>hz(void 0,[e,t,...n],void 0,function*(i,r,s=i.defaultReturnFormat){if(we(r))throw new d5();return kM(i,r,i.defaultBlock,s);}),dz=(e,t)=>{let n=oz(e,t);if(!we(n))return n;if(!we(t.defaultTransactionType))return Ve({format:"uint"},t.defaultTransactionType,Vt);};function YKe(e){return hz(this,void 0,void 0,function*(){var t,n;let i=Ve(lz,e.transaction,e.web3Context.defaultReturnFormat);if(we(i.from)&&(i.from=zE("from",e.web3Context,void 0,e.privateKey)),we(i.nonce)&&(i.nonce=yield KKe(e.web3Context,i.from,Vt)),we(i.value)&&(i.value="0x0"),we(i.data))we(i.input)?i.input="0x":i.input.startsWith("0x")||(i.input=`0x${i.input}`);else{if(!we(i.input)&&i.data!==i.input)throw new mw({data:Ht(i.data),input:Ht(i.input)});i.data.startsWith("0x")||(i.data=`0x${i.data}`);}if(we(i.common)){if(e.web3Context.defaultCommon){let r=e.web3Context.defaultCommon,s=r.customChain.chainId,o=r.customChain.networkId,a=r.customChain.name;i.common=Object.assign(Object.assign({},r),{customChain:{chainId:s,networkId:o,name:a}});}we(i.chain)&&(i.chain=e.web3Context.defaultChain),we(i.hardfork)&&(i.hardfork=e.web3Context.defaultHardfork);}if(we(i.chainId)&&we((t=i.common)===null||t===void 0?void 0:t.customChain.chainId)&&(i.chainId=yield MM(e.web3Context,Vt)),we(i.networkId)&&(i.networkId=(n=e.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield rC(e.web3Context,Vt)),we(i.gasLimit)&&!we(i.gas)&&(i.gasLimit=i.gas),i.type=dz(i,e.web3Context),we(i.accessList)&&(i.type==="0x1"||i.type==="0x2")&&(i.accessList=[]),e.fillGasPrice&&(i=Object.assign(Object.assign({},i),yield IM(i,e.web3Context,Vt))),we(i.gas)&&we(i.gasLimit)&&e.fillGasLimit){let r=yield sC(e.web3Context,i,"latest",Vt);i=Object.assign(Object.assign({},i),{gas:Ve({format:"uint"},r,Vt)});}return i;});}var fz=e=>hz(void 0,void 0,void 0,function*(){var t;return((t=e.web3Context.transactionBuilder)!==null&&t!==void 0?t:YKe)(Object.assign(Object.assign({},e),{transaction:e.transaction}));});var gz=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function pz(e,t,n){let i=e.transactionPollingInterval,[r,s]=pG(()=>gz(this,void 0,void 0,function*(){let a;try{a=yield UE(e,kv);}catch(c){console.warn("An error happen while trying to get the block number",c);return;}let l=a-t;if(l>=e.transactionBlockTimeout)return new H2({starterBlockNumber:t,numberOfBlocks:l,transactionHash:n});}),i);return[s,{clean:()=>{clearInterval(r);}}];}function XKe(e,t,n){return gz(this,void 0,void 0,function*(){var i;let r=!0,s,o;function a(c,u){u&&console.warn("error happened at subscription. So revert to polling...",u),o.clean(),r=!1;let[d,h]=pz(e,t,n);o.clean=h.clean,d.catch(f=>c(f));}try{s=yield(i=e.subscriptionManager)===null||i===void 0?void 0:i.subscribe("newHeads"),o={clean:()=>{var c;s.id&&((c=e.subscriptionManager)===null||c===void 0||c.removeSubscription(s).then(()=>{}).catch(()=>{}));}};}catch{return pz(e,t,n);}return[new Promise((c,u)=>{try{s.on("data",d=>{if(r=!1,!d?.number)return;let h=Number(BigInt(d.number)-BigInt(t));h>=e.transactionBlockTimeout&&u(new H2({starterBlockNumber:t,numberOfBlocks:h,transactionHash:n}));}),s.on("error",d=>{a(u,d);});}catch(d){a(u,d);}setTimeout(()=>{r&&a(u);},e.blockHeaderTimeout*1e3);}),o];});}function FM(e,t){return gz(this,void 0,void 0,function*(){var n,i;let{provider:r}=e.requestManager,s,o=yield UE(e,kv);return!((i=(n=r).supportsSubscriptions)===null||i===void 0)&&i.call(n)&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?s=yield XKe(e,o,t):s=pz(e,o,t),s;});}var QKe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function oC(e,t,n){return QKe(this,void 0,void 0,function*(){let[i,r]=TE(e.transactionSendTimeout,new f5({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:n})),[s,o]=yield FM(e,n);try{return yield Promise.race([t(),r,s]);}finally{clearTimeout(i),o.clean();}});}var Dde=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function NM(e,t,n,i){return Dde(this,void 0,void 0,function*(){var r;let s=(r=e.transactionReceiptPollingInterval)!==null&&r!==void 0?r:e.transactionPollingInterval,[o,a]=Z5(()=>Dde(this,void 0,void 0,function*(){try{return(i??LM)(e,t,n);}catch(h){console.warn("An error happen while trying to get the transaction receipt",h);return;}}),s),[l,c]=TE(e.transactionPollingTimeout,new vw({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[u,d]=yield FM(e,t);try{return yield Promise.race([o,c,u]);}finally{l&&clearTimeout(l),a&&clearInterval(a),d.clean();}});}var ZKe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},aC=({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:i,returnFormat:r})=>{var s;let o=1,a=setInterval(()=>{ZKe(void 0,void 0,void 0,function*(){if(o>=e.transactionConfirmationBlocks){clearInterval(a);return;}let l=yield Nt.getBlockByNumber(e.requestManager,qi(BigInt(t.blockNumber)+BigInt(o)),!1);l?.hash&&(o+=1,n.emit("confirmation",{confirmations:Ve({format:"uint"},o,r),receipt:Ve(i??Md,t,r),latestBlockHash:Ve({format:"bytes32"},l.hash,r)}));});},(s=e.transactionReceiptPollingInterval)!==null&&s!==void 0?s:e.transactionPollingInterval);};var Rde=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Ide=({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:i,returnFormat:r})=>{let s=!0,o;setImmediate(()=>{var a;(a=e.subscriptionManager)===null||a===void 0||a.subscribe("newHeads").then(l=>{l.on("data",c=>Rde(void 0,void 0,void 0,function*(){var u;if(s=!1,!c?.number||o===c?.parentHash)return;o=c?.parentHash;let d=BigInt(c.number)-BigInt(t.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:Ve({format:"uint"},d,r),receipt:Ve(i??Md,t,r),latestBlockHash:Ve({format:"bytes32"},c.parentHash,r)}),d>=e.transactionConfirmationBlocks&&(yield(u=e.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(l));})),l.on("error",()=>Rde(void 0,void 0,void 0,function*(){var c;yield(c=e.subscriptionManager)===null||c===void 0?void 0:c.removeSubscription(l),s=!1,aC({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,customTransactionReceiptSchema:i,returnFormat:r});}));}).catch(()=>{s=!1,aC({web3Context:e,transactionReceipt:t,customTransactionReceiptSchema:i,transactionPromiEvent:n,returnFormat:r});});}),setTimeout(()=>{s&&aC({web3Context:e,transactionReceipt:t,transactionPromiEvent:n,returnFormat:r});},e.blockHeaderTimeout*1e3);};function Pde(e,t,n,i,r,s){if(we(n)||we(n.blockHash))throw new p5({receipt:n,blockHash:Ve({format:"bytes32"},n?.blockHash,r),transactionHash:Ve({format:"bytes32"},i,r)});if(!n.blockNumber)throw new g5({receipt:n});t.emit("confirmation",{confirmations:Ve({format:"uint"},1,r),receipt:Ve(s??Md,n,r),latestBlockHash:Ve({format:"bytes32"},n.blockHash,r)});let o=e.requestManager.provider;o&&"supportsSubscriptions"in o&&o.supportsSubscriptions()?Ide({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:r}):aC({web3Context:e,transactionReceipt:n,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:r});}var Mv=e=>!Rt(e)&&typeof e=="object"&&!Rt(e.type)&&e.type==="error",jE=e=>!Rt(e)&&typeof e=="object"&&!Rt(e.type)&&e.type==="event",lC=e=>!Rt(e)&&typeof e=="object"&&!Rt(e.type)&&e.type==="function",kde=e=>!Rt(e)&&typeof e=="object"&&!Rt(e.type)&&e.type==="constructor",Mde=e=>typeof e=="object"&&typeof e.components>"u"&&typeof e.name>"u",vz=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},yz=e=>{let t=[];for(let n of Object.keys(e)){let i=e[n];typeof i=="object"?t.push(Object.assign(Object.assign({},vz(n)),{components:yz(i)})):t.push({name:n,type:e[n]});}return t;};var mz=(e,t)=>{let n=[];return t.forEach(i=>{if(typeof i.components=="object"){if(!i.type.startsWith("tuple"))throw new Ut(`Invalid value given "${i.type}". Error: components found but type is not tuple.`);let r=i.type.indexOf("["),s=r>=0?i.type.substring(r):"",o=mz(e,i.components);Array.isArray(o)&&e?n.push(`tuple(${o.join(",")})${s}`):e?n.push(`(${o.join()})`):n.push(`(${o.join(",")})${s}`);}else n.push(i.type);}),n;},ia=e=>{var t,n,i,r;return Mv(e)||jE(e)||lC(e)?!((t=e.name)===null||t===void 0)&&t.includes("(")?e.name:`${(n=e.name)!==null&&n!==void 0?n:""}(${mz(!1,(i=e.inputs)!==null&&i!==void 0?i:[]).join(",")})`:`(${mz(!1,(r=e.inputs)!==null&&r!==void 0?r:[]).join(",")})`;};var Fde=e=>{if(typeof e!="string"&&!Mv(e))throw new Ut("Invalid parameter value in encodeErrorSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=ia(e):t=e,ys(t);};var cC=e=>{if(typeof e!="string"&&!jE(e))throw new Ut("Invalid parameter value in encodeEventSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=ia(e):t=e,ys(t);};function OM(e,t){return e.exec(t)?.groups;}var bz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xz=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,wz=/^\(.+?\).*?$/;var JKe=Object.defineProperty,eYe=(e,t,n)=>t in e?JKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uC=(e,t,n)=>(eYe(e,typeof t!="symbol"?t+"":t,n),n);var tYe="abitype",nYe="0.7.1",Pa=class extends Error{constructor(e,t={}){let n=t.cause instanceof Pa?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof Pa&&t.cause.docsPath||t.docsPath,r=[e||"An error occurred.","",...(t.metaMessages?[...t.metaMessages,""]:[]),...(i?[`Docs: https://abitype.dev${i}`]:[]),...(n?[`Details: ${n}`]:[]),`Version: ${tYe}@${nYe}`].join(`
`);super(r),uC(this,"details"),uC(this,"docsPath"),uC(this,"metaMessages"),uC(this,"shortMessage"),uC(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e;}};var Lde=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function Ode(e){return Lde.test(e);}function iYe(e){return OM(Lde,e);}var Nde=new Set(["memory","indexed","storage","calldata"]);var rYe=new Set(["calldata","memory","storage"]);function sYe(e,t){return t?`${t}:${e}`:e;}var Cz=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var oYe=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,aYe=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,lYe=/^u?int$/;function BM(e,t){let n=sYe(e,t?.type);if(Cz.has(n))return Cz.get(n);let i=wz.test(e),r=OM(i?aYe:oYe,e);if(!r)throw new Pa("Invalid ABI parameter.",{details:e});if(r.name&&uYe(r.name))throw new Pa("Invalid ABI parameter.",{details:e,metaMessages:[`"${r.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});let s=r.name?{name:r.name}:{},o=r.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{},l,c={};if(i){l="tuple";let d=dC(r.type),h=[],f=d.length;for(let g=0;g<f;g++)h.push(BM(d[g],{structs:a}));c={components:h};}else if(r.type in a)l="tuple",c={components:a[r.type]};else if(lYe.test(r.type))l=`${r.type}256`;else if(l=r.type,t?.type!=="struct"&&!Bde(l))throw new Pa("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(r.modifier){if(!t?.modifiers?.has?.(r.modifier))throw new Pa("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(rYe.has(r.modifier)&&!dYe(l,!!r.array))throw new Pa("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r.modifier}" was given.`]});}let u=O(O(O({type:`${l}${r.array??""}`},s),o),c);return Cz.set(n,u),u;}function dC(e,t=[],n="",i=0){if(e===""){if(n==="")return t;if(i!==0)throw new Pa("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${i>0?"opening":"closing"} parentheses.`],details:`Depth "${i}"`});return[...t,n.trim()];}let r=e.length;for(let s=0;s<r;s++){let o=e[s],a=e.slice(s+1);switch(o){case",":return i===0?dC(a,[...t,n.trim()]):dC(a,t,`${n}${o}`,i);case"(":return dC(a,t,`${n}${o}`,i+1);case")":return dC(a,t,`${n}${o}`,i-1);default:return dC(a,t,`${n}${o}`,i);}}return[];}function Bde(e){return e==="address"||e==="bool"||e==="function"||e==="string"||bz.test(e)||xz.test(e);}var cYe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function uYe(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||bz.test(e)||xz.test(e)||cYe.test(e);}function dYe(e,t){return t||e==="bytes"||e==="string"||e==="tuple";}function hYe(e){let t={},n=e.length;for(let o=0;o<n;o++){let a=e[o];if(!Ode(a))continue;let l=iYe(a);if(!l)throw new Pa("Invalid struct signature.",{details:a});let c=l.properties.split(";"),u=[],d=c.length;for(let h=0;h<d;h++){let g=c[h].trim();if(!g)continue;let m=BM(g,{type:"struct"});u.push(m);}if(!u.length)throw new Pa("Invalid struct signature.",{details:a,metaMessages:["No properties exist."]});t[l.name]=u;}let i={},r=Object.entries(t),s=r.length;for(let o=0;o<s;o++){let[a,l]=r[o];i[a]=Vde(l,t);}return i;}var fYe=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function Vde(e,t,n=new Set()){let i=[],r=e.length;for(let s=0;s<r;s++){let o=e[s];if(wz.test(o.type))i.push(o);else{let l=OM(fYe,o.type);if(!l?.type)throw new Pa("Invalid ABI parameter.",{details:JSON.stringify(o,null,2),metaMessages:["ABI parameter type is invalid."]});let{array:c,type:u}=l;if(u in t){if(n.has(u))throw new Pa("Circular reference detected.",{metaMessages:[`Struct "${u}" is a circular reference.`]});i.push(Re(O({},o),{type:`tuple${c??""}`,components:Vde(t[u]??[],t,new Set([...n,u]))}));}else if(Bde(u))i.push(o);else throw new Pa("Unknown type.",{metaMessages:[`Type "${u}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]});}}return i;}function Hde(e){let t;if(typeof e=="string")t=BM(e,{modifiers:Nde});else{let n=hYe(e),i=e.length;for(let r=0;r<i;r++){let s=e[r];if(!Ode(s)){t=BM(s,{modifiers:Nde,structs:n});break;}}}if(!t)throw new Pa("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t;}var Bi=32;function $E(e=0){var t;if(((t=globalThis.Buffer)===null||t===void 0?void 0:t.alloc)!==void 0){let n=globalThis.Buffer.alloc(e);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);}return new Uint8Array(e);}function Gde(e){var t,n;return Object.assign(Object.assign({},e),{name:(t=e.name)!==null&&t!==void 0?t:"",components:(n=e.components)===null||n===void 0?void 0:n.map(i=>Gde(i))});}function pYe(e){return!Rt(e)&&typeof e=="object"&&!Rt(e.type)&&typeof e.type=="string";}function VM(e){return e.map(t=>{var n;if(pYe(t))return t;if(typeof t=="string")return Gde(Hde(t.replace(/tuple/,"")));if(Mde(t)){let i=Object.keys(t)[0],r=vz(i);return r.name=(n=r.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},r),{components:yz(t[i])});}throw new Ut("Invalid abi");});}function HM(e){let t=e.type.lastIndexOf("["),n=e.type.substring(0,t),i=e.type.substring(t),r=-1;if(i!=="[]"&&(r=Number(i.slice(1,-1)),isNaN(r)))throw new Ut("Invalid fixed array size",{size:i});return{param:{type:n,name:"",components:e.components},size:r};}function hC(e){var t,n;return e.type==="string"||e.type==="bytes"||e.type.endsWith("[]")?!0:e.type==="tuple"?(n=(t=e.components)===null||t===void 0?void 0:t.some(hC))!==null&&n!==void 0?n:!1:e.type.endsWith("]")?hC(HM(e).param):!1;}var zde=20,Ude=Bi-zde;function _z(e,t){if(typeof t!="string")throw new Ut("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!cr(n))throw new Ut("provided input is not valid address",{value:t,name:e.name,type:e.type});let i=xi.hexToUint8Array(n),r=$E(Bi);return r.set(i,Ude),{dynamic:!1,encoded:r};}function Sz(e,t){let n=t.subarray(Ude,Bi);if(n.length!==zde)throw new Ut("Invalid decoding input, not enough bytes to decode address",{bytes:t});let i=xi.uint8ArrayToHexString(n);return{result:Ps(i),encoded:t.subarray(Bi),consumed:Bi};}var Ef=new Map(),GM=BigInt(256);for(let e=8;e<=256;e+=8)Ef.set(`uint${e}`,{min:BigInt(0),max:GM-BigInt(1)}),Ef.set(`int${e}`,{min:-GM/BigInt(2),max:GM/BigInt(2)-BigInt(1)}),GM*=BigInt(256);Ef.set("int",Ef.get("int256"));Ef.set("uint",Ef.get("uint256"));var jde=BigInt(1)<<BigInt(256);function gYe(e,t=Bi){let n;return e<0?n=(jde+e).toString(16):n=e.toString(16),n=wg(n,t*2),xi.hexToUint8Array(n);}function mYe(e,t){let n=xi.uint8ArrayToHexString(e),i=BigInt(n);return i<=t?i:i-jde;}function fu(e,t){let n;try{n=Ad(t);}catch{throw new Ut("provided input is not number value",{type:e.type,value:t,name:e.name});}let i=Ef.get(e.type);if(!i)throw new Ut("provided abi contains invalid number datatype",{type:e.type});if(n<i.min)throw new Ut("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:i.min.toString()});if(n>i.max)throw new Ut("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:i.max.toString()});return{dynamic:!1,encoded:gYe(n)};}function oc(e,t){if(t.length<Bi)throw new Ut("Not enough bytes left to decode",{param:e,bytesLeft:t.length});let n=t.subarray(0,Bi),i=Ef.get(e.type);if(!i)throw new Ut("provided abi contains invalid number datatype",{type:e.type});let r=mYe(n,i.max);if(r<i.min)throw new Ut("decoded value is less then minimum for given type",{type:e.type,value:r,name:e.name,minimum:i.min.toString()});if(r>i.max)throw new Ut("decoded value is greater then maximum for given type",{type:e.type,value:r,name:e.name,maximum:i.max.toString()});return{result:r,encoded:t.subarray(Bi),consumed:Bi};}function Ez(e,t){let n;try{n=lG(t);}catch(i){if(i instanceof mg)throw new Ut("provided input is not valid boolean value",{type:e.type,value:t,name:e.name});}return fu({type:"uint8",name:""},Number(n));}function Tz(e,t){let n=oc({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new Ut("Invalid boolean value encoded",{boolBytes:t.subarray(0,Bi),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Bi};}var vYe=32;function WE(e,t){if(typeof t=="string"&&t.length%2!==0&&(t+="0"),!lu(t))throw new Ut("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});let n=ea(t),[,i]=e.type.split("bytes");if(i){if(Number(i)>vYe||Number(i)<1)throw new Ut("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(i)<n.length)throw new Ut("provided input size is different than type size",{type:e.type,value:t,name:e.name});let o=$E(Bi);return o.set(n),{dynamic:!1,encoded:o};}let r=Math.ceil(n.length/Bi),s=$E(Bi+r*Bi);return s.set(fu({type:"uint32",name:""},n.length).encoded),s.set(n,Bi),{dynamic:!0,encoded:s};}function qE(e,t){let[,n]=e.type.split("bytes"),i=Number(n),r=t,s=1,o=0;if(!i){let a=oc({type:"uint32",name:""},r);i=Number(a.result),o+=a.consumed,r=a.encoded,s=Math.ceil(i/Bi);}if(i>t.length)throw new Ut("there is not enough data to decode",{type:e.type,encoded:t,size:i});return{result:Ht(r.subarray(0,i)),encoded:r.subarray(s*Bi),consumed:o+s*Bi};}function Az(e,t){if(typeof t!="string")throw new Ut("invalid input, should be string",{input:t});let n=W5(t);return WE({type:"bytes",name:""},n);}function Dz(e,t){let n=qE({type:"bytes",name:""},t);return{result:_E(n.result),encoded:n.encoded,consumed:n.consumed};}function zM(e){let t=0,n=0,i=[],r=[];for(let s of e)s.dynamic?t+=Bi:t+=s.encoded.length;for(let s of e)s.dynamic?(i.push(fu({type:"uint256",name:""},t+n)),r.push(s),n+=s.encoded.length):i.push(s);return Cr(...i.map(s=>s.encoded),...r.map(s=>s.encoded));}function Rz(e,t){if(!Array.isArray(t))throw new Ut("Expected value to be array",{abi:e,values:t});let{size:n,param:i}=HM(e),r=t.map(a=>KE(i,a)),s=n===-1,o=r.length>0&&r[0].dynamic;if(!s&&t.length!==n)throw new Ut("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(s||o){let a=zM(r);if(s){let l=fu({type:"uint256",name:""},r.length).encoded;return{dynamic:!0,encoded:r.length>0?Cr(l,a):l};}return{dynamic:!0,encoded:a};}return{dynamic:!1,encoded:Cr(...r.map(a=>a.encoded))};}function Iz(e,t){let{size:n,param:i}=HM(e),r=n===-1,s=0,o=[],a=t;if(r){let c=oc({type:"uint32",name:""},t);n=Number(c.result),s=c.consumed,a=c.encoded;}if(hC(i)){for(let c=0;c<n;c+=1){let u=oc({type:"uint32",name:""},a.subarray(c*Bi));s+=u.consumed;let d=fC(i,a.subarray(Number(u.result)));s+=d.consumed,o.push(d.result);}return{result:o,encoded:a.subarray(s),consumed:s};}for(let c=0;c<n;c+=1){let u=fC(i,t.subarray(s));s+=u.consumed,o.push(u.result);}return{result:o,encoded:t.subarray(s),consumed:s};}function KE(e,t){if(e.type==="string")return Az(e,t);if(e.type==="bool")return Ez(e,t);if(e.type==="address")return _z(e,t);if(e.type==="tuple")return pC(e,t);if(e.type.endsWith("]"))return Rz(e,t);if(e.type.startsWith("bytes"))return WE(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return fu(e,t);throw new Ut("Unsupported",{param:e,value:t});}function fC(e,t){if(e.type==="string")return Dz(e,t);if(e.type==="bool")return Tz(e,t);if(e.type==="address")return Sz(e,t);if(e.type==="tuple")return YE(e,t);if(e.type.endsWith("]"))return Iz(e,t);if(e.type.startsWith("bytes"))return qE(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return oc(e,t);throw new Ut("Unsupported",{param:e,bytes:t});}function pC(e,t){var n,i,r;let s=!1;if(!Array.isArray(t)&&typeof t!="object")throw new Ut("param must be either Array or Object",{param:e,input:t});let o=t,a=[];for(let l=0;l<((i=(n=e.components)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0);l+=1){let c=e.components[l],u;if(Array.isArray(o)){if(l>=o.length)throw new Ut("input param length missmatch",{param:e,input:t});u=KE(c,o[l]);}else{let d=o[(r=c.name)!==null&&r!==void 0?r:""];if(d==null)throw new Ut("missing input defined in abi",{param:e,input:t,paramName:c.name});u=KE(c,d);}u.dynamic&&(s=!0),a.push(u);}return s?{dynamic:!0,encoded:zM(a)}:{dynamic:!1,encoded:Cr(...a.map(l=>l.encoded))};}function YE(e,t){let n={__length__:0},i=0;if(!e.components)return{result:n,encoded:t,consumed:i};let r=0;for(let[s,o]of e.components.entries()){let a;if(hC(o)){let l=oc({type:"uint32",name:""},t.subarray(i));a=fC(o,t.subarray(Number(l.result))),i+=l.consumed,r+=a.consumed;}else a=fC(o,t.subarray(i)),i+=a.consumed;n.__length__+=1,n[s]=a.result,o.name&&o.name!==""&&(n[o.name]=a.result);}return{encoded:t.subarray(i+r),result:n,consumed:i+r};}function $de(e,t,n){let i=VM(e),r=xi.hexToUint8Array(t);return YE({type:"tuple",name:"",components:i},r).result;}function Wde(e){let t=[];return e.forEach(n=>{if(Array.isArray(n)){let i=Wde(n);t.push({type:"tuple",components:i,name:""});}else t.push({type:xo(n,!0)});}),t;}function Fd(e,t){if(e?.length!==t.length)throw new Ut("Invalid number of values received for given ABI",{expected:e?.length,received:t.length});let n=VM(e);return xi.uint8ArrayToHexString(pC({type:"tuple",name:"",components:n},t).encoded);}function Pz(e){try{let t=Wde(e);return xi.uint8ArrayToHexString(pC({type:"tuple",name:"",components:t},e).encoded);}catch{throw new Ut("Could not infer types from given params",{params:e});}}var XE=(e,t)=>Fd([e],[t]),kz=(e,t,n)=>{try{if(e.length>0&&(!t||t==="0x"||t==="0X"))throw new Ut("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return $de(e,`0x${t.replace(/0x/i,"")}`,n);}catch(i){throw new Ut(`Parameter decoding error: ${i.message}`,{internalErr:i});}},Nd=(e,t)=>kz(e,t,!1),UM=(e,t)=>Nd([e],t)[0];var Ng=e=>{if(typeof e!="string"&&!lC(e))throw new Ut("Invalid parameter value in encodeFunctionSignature");let t;return e&&(typeof e=="function"||typeof e=="object")?t=ia(e):t=e,ys(t).slice(0,10);},qde=(e,t)=>{var n;if(!lC(e))throw new Ut("Invalid parameter value in encodeFunctionCall");return`${Ng(e)}${Fd((n=e.inputs)!==null&&n!==void 0?n:[],t??[]).replace("0x","")}`;},gC=(e,t,n=!0)=>{let i=n&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new Br("No inputs found in the ABI");let r=Nd([...e.inputs],i);return Object.assign(Object.assign({},r),{__method__:ia(e)});},Mz=(e,t)=>{if(e.type==="constructor")return t;if(!t)return null;let n=t.length>=2?t.slice(2):t;if(!e.outputs)return null;let i=Nd([...e.outputs],n);return i.__length__===1?i[0]:i;};var yYe=["bool","string","int","uint","address","fixed","ufixed"],bYe=(e,t)=>e==="string"?t:UM(e,t),jM=(e,t,n)=>{let i=Array.isArray(n)?n:[n],r={},s={};for(let[h,f]of e.entries())f.indexed?r[h]=f:s[h]=f;let o=t?kz(Object.values(s),t,!0):{__length__:0},a=i.length-Object.keys(r).length,l=Object.values(r).map((h,f)=>yYe.some(g=>h.type.startsWith(g))?bYe(h.type,i[f+a]):i[f+a]),c={__length__:0},u=0,d=0;for(let[h,f]of e.entries())c[h]=f.type==="string"?"":void 0,r[h]&&(c[h]=l[u],u+=1),s[h]&&(c[h]=o[String(d)],d+=1),f.name&&(c[f.name]=c[h]),c.__length__+=1;return c;};var mC=(e,t)=>{if(t?.data){let n,i,r;try{let s=t.data.slice(0,10),o=e.find(a=>Fde(a).startsWith(s));o?.inputs?(n=o.name,i=ia(o),r=Nd([...o.inputs],t.data.substring(10))):t.data.startsWith("0x08c379a0")?(n="Error",i="Error(string)",r=Nd([{name:"message",type:"string"}],t.data.substring(10))):t.data.startsWith("0x4e487b71")?(n="Panic",i="Panic(uint256)",r=Nd([{name:"code",type:"uint256"}],t.data.substring(10))):console.error("No matching error abi found for error data",t.data);}catch(s){console.error(s);}n&&t.setDecodedProperties(n,i,r);}};var wYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Fz=(e,t)=>{var n,i,r,s,o;if(e instanceof il&&e.cause instanceof F2){if(t!==void 0){let a=t.filter(l=>Mv(l));return mC(a,e.cause),{reason:e.cause.message,signature:(n=e.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(i=e.cause.data)===null||i===void 0?void 0:i.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs};}return{reason:e.cause.message,signature:(r=e.cause.data)===null||r===void 0?void 0:r.slice(0,10),data:(s=e.cause.data)===null||s===void 0?void 0:s.substring(10)};}if(e instanceof _d&&!Array.isArray((o=e.cause)===null||o===void 0?void 0:o.errors)&&e.cause!==void 0)return e.cause.message;throw e;};function $M(e,t,n){return wYe(this,arguments,void 0,function*(i,r,s,o=i.defaultReturnFormat){try{yield vC(i,r,i.defaultBlock,o);return;}catch(a){return Fz(a,s);}});}var CYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function WM(e,t,n,i,r,s){return CYe(this,void 0,void 0,function*(){let o=s;o===void 0&&(i!==void 0?o=Fz(i):e.handleRevert&&t!==void 0&&(o=yield $M(e,t,r)));let a;if(o===void 0)a=new gw(n);else if(typeof o=="string")a=new pg(o,void 0,n);else if(o.customErrorName!==void 0&&o.customErrorDecodedSignature!==void 0&&o.customErrorArguments!==void 0){let l=o;a=new pw(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,n,l.data);}else a=new pg(o.reason,o.signature,n,o.data);return a;});}var Fv=(e,t,n,i=lr)=>{var r,s,o,a,l,c;let u=Object.assign({},e),d=Ve(kd,t,i);if([Sf,"allEvents"].includes(u.name)){let f=n.find(g=>g.signature===t.topics[0]);f?u=f:u={anonymous:!0};}if(u.inputs=(s=(r=u.inputs)!==null&&r!==void 0?r:e.inputs)!==null&&s!==void 0?s:[],!u.anonymous){let f=0;((o=u.inputs)!==null&&o!==void 0?o:[]).forEach(g=>{g.indexed&&(f+=1);}),f>0&&t?.topics&&t?.topics.length!==f+1&&(u=Object.assign(Object.assign({},u),{anonymous:!0,inputs:[]}));}let h=u.anonymous?t.topics:((a=t.topics)!==null&&a!==void 0?a:[]).slice(1);return Object.assign(Object.assign({},d),{returnValues:jM([...((l=u.inputs)!==null&&l!==void 0?l:[])],t.data,h),event:u.name,signature:!u.anonymous&&((c=t.topics)===null||c===void 0?void 0:c.length)>0&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}});};var Nv=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},yC=class{constructor({options:t,web3Context:n,promiEvent:i,returnFormat:r}){this.options={checkRevertBeforeSending:!0},this.options=t,this.web3Context=n,this.promiEvent=i,this.returnFormat=r;}getReceiptWithEvents(t){var n,i;let r=Object.assign({},t??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&r.logs&&r.logs.length>0){r.events={};for(let s of r.logs){let o=Fv(HE,s,(i=this.options)===null||i===void 0?void 0:i.contractAbi,this.returnFormat);o.event&&(r.events[o.event]=o);}}return r;}checkRevertBeforeSending(t){return Nv(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=t;we(t.data)&&we(t.input)&&we(t.gas)&&(n=Object.assign(Object.assign({},t),{gas:21e3}));let i=yield $M(this.web3Context,n,this.options.contractAbi);if(i!==void 0)throw yield WM(this.web3Context,t,void 0,void 0,this.options.contractAbi,i);}});}emitSending(t){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",t);}populateGasPrice(t){return Nv(this,arguments,void 0,function*({transactionFormatted:n,transaction:i}){var r;let s=n;return!this.web3Context.config.ignoreGasPricing&&!(!((r=this.options)===null||r===void 0)&&r.ignoreGasPricing)&&we(n.gasPrice)&&(we(i.maxPriorityFeePerGas)||we(i.maxFeePerGas))&&(s=Object.assign(Object.assign({},n),yield IM(n,this.web3Context,Vt))),s;});}signAndSend(t){return Nv(this,arguments,void 0,function*({wallet:n,tx:i}){if(n){let r=yield n.signTransaction(i);return oC(this.web3Context,()=>Nv(this,void 0,void 0,function*(){return Nt.sendRawTransaction(this.web3Context.requestManager,r.rawTransaction);}),r.transactionHash);}return oC(this.web3Context,()=>Nv(this,void 0,void 0,function*(){return Nt.sendTransaction(this.web3Context.requestManager,i);}));});}emitSent(t){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",t);}emitTransactionHash(t){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",t);}emitReceipt(t){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",t);}handleError(t){return Nv(this,arguments,void 0,function*({error:n,tx:i}){var r;let s=n;return s instanceof il&&this.web3Context.handleRevert&&(s=yield WM(this.web3Context,i,void 0,void 0,(r=this.options)===null||r===void 0?void 0:r.contractAbi)),(s instanceof _d||s instanceof il||s instanceof pw||s instanceof gw||s instanceof pg||s instanceof vw)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",s),s;});}emitConfirmation({receipt:t,transactionHash:n,customTransactionReceiptSchema:i}){this.promiEvent.listenerCount("confirmation")>0&&Pde(this.web3Context,this.promiEvent,t,n,this.returnFormat,i);}handleResolve(t){return Nv(this,arguments,void 0,function*({receipt:n,tx:i}){var r,s,o;if(!((r=this.options)===null||r===void 0)&&r.transactionResolver)return(s=this.options)===null||s===void 0?void 0:s.transactionResolver(n);if(n.status===BigInt(0)){let a=yield WM(this.web3Context,i,n,void 0,(o=this.options)===null||o===void 0?void 0:o.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",a),a;}else return n;});}};var Di=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},_Ye=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n;};var Kde=e=>Di(void 0,void 0,void 0,function*(){return Nt.getSyncing(e.requestManager);});function Yde(e,t){return Di(this,void 0,void 0,function*(){let n=yield Nt.getHashRate(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function GE(e,t){return Di(this,void 0,void 0,function*(){let n=yield Nt.getGasPrice(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function Xde(e,t){return Di(this,void 0,void 0,function*(){let n=yield Nt.getMaxPriorityFeePerGas(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function UE(e,t){return Di(this,void 0,void 0,function*(){let n=yield Nt.getBlockNumber(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function Qde(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s){let o=Vr(r)?r:Ve({format:"uint"},r,Vt),a=yield Nt.getBalance(n.requestManager,i,o);return Ve({format:"uint"},a,s??n.defaultReturnFormat);});}function Zde(e,t,n){return Di(this,arguments,void 0,function*(i,r,s,o=i.defaultBlock,a){let l=Ve({format:"uint"},s,Vt),c=Vr(o)?o:Ve({format:"uint"},o,Vt),u=yield Nt.getStorageAt(i.requestManager,r,l,c);return Ve({format:"bytes"},u,a??i.defaultReturnFormat);});}function Jde(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s){let o=Vr(r)?r:Ve({format:"uint"},r,Vt),a=yield Nt.getCode(n.requestManager,i,o);return Ve({format:"bytes"},a,s??n.defaultReturnFormat);});}function PM(e){return Di(this,arguments,void 0,function*(t,n=t.defaultBlock,i=!1,r){var s;let o;if(lu(n)){let l=Ve({format:"bytes32"},n,Vt);o=yield Nt.getBlockByHash(t.requestManager,l,i);}else{let l=Vr(n)?n:Ve({format:"uint"},n,Vt);o=yield Nt.getBlockByNumber(t.requestManager,l,i);}let a=Ve(iC,o,r??t.defaultReturnFormat);return we(a)?a:Object.assign(Object.assign({},a),{transactions:(s=a.transactions)!==null&&s!==void 0?s:[]});});}function ehe(e){return Di(this,arguments,void 0,function*(t,n=t.defaultBlock,i){let r;if(lu(n)){let s=Ve({format:"bytes32"},n,Vt);r=yield Nt.getBlockTransactionCountByHash(t.requestManager,s);}else{let s=Vr(n)?n:Ve({format:"uint"},n,Vt);r=yield Nt.getBlockTransactionCountByNumber(t.requestManager,s);}return Ve({format:"uint"},r,i??t.defaultReturnFormat);});}function the(e){return Di(this,arguments,void 0,function*(t,n=t.defaultBlock,i){let r;if(lu(n)){let s=Ve({format:"bytes32"},n,Vt);r=yield Nt.getUncleCountByBlockHash(t.requestManager,s);}else{let s=Vr(n)?n:Ve({format:"uint"},n,Vt);r=yield Nt.getUncleCountByBlockNumber(t.requestManager,s);}return Ve({format:"uint"},r,i??t.defaultReturnFormat);});}function nhe(e){return Di(this,arguments,void 0,function*(t,n=t.defaultBlock,i,r){let s=Ve({format:"uint"},i,Vt),o;if(lu(n)){let a=Ve({format:"bytes32"},n,Vt);o=yield Nt.getUncleByBlockHashAndIndex(t.requestManager,a,s);}else{let a=Vr(n)?n:Ve({format:"uint"},n,Vt);o=yield Nt.getUncleByBlockNumberAndIndex(t.requestManager,a,s);}return Ve(iC,o,r??t.defaultReturnFormat);});}function ihe(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultReturnFormat){let s=Ve({format:"bytes32"},i,lr),o=yield Nt.getTransactionByHash(n.requestManager,s);return we(o)?o:xs(o,r,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0});});}function rhe(e,t){return Di(this,void 0,void 0,function*(){return(yield Nt.getPendingTransactions(e.requestManager)).map(i=>xs(i,t??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0}));});}function she(e){return Di(this,arguments,void 0,function*(t,n=t.defaultBlock,i,r){let s=Ve({format:"uint"},i,Vt),o;if(lu(n)){let a=Ve({format:"bytes32"},n,Vt);o=yield Nt.getTransactionByBlockHashAndIndex(t.requestManager,a,s);}else{let a=Vr(n)?n:Ve({format:"uint"},n,Vt);o=yield Nt.getTransactionByBlockNumberAndIndex(t.requestManager,a,s);}return we(o)?o:xs(o,r??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0});});}function LM(e,t,n){return Di(this,void 0,void 0,function*(){let i=Ve({format:"bytes32"},t,lr),r;try{r=yield Nt.getTransactionReceipt(e.requestManager,i);}catch(s){if(typeof s=="object"&&!we(s)&&"message"in s&&s.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw s;}return we(r)?r:Ve(Md,r,n??e.defaultReturnFormat);});}function kM(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s){let o=Vr(r)?r:Ve({format:"uint"},r,Vt),a=yield Nt.getTransactionCount(n.requestManager,i,o);return Ve({format:"uint"},a,s??n.defaultReturnFormat);});}function Lg(e,t,n,i={checkRevertBeforeSending:!0},r){let s=new tC((o,a)=>{setImmediate(()=>{Di(this,void 0,void 0,function*(){let l=new yC({web3Context:e,promiEvent:s,options:i,returnFormat:n}),c=Object.assign({},t);we(r)||(c=yield r.processTransaction(c));let u=xs(Object.assign(Object.assign({},c),{from:zE("from",e,c),to:zE("to",e,c)}),Vt,{transactionSchema:e.config.customTransactionSchema});try{u=yield l.populateGasPrice({transaction:c,transactionFormatted:u}),yield l.checkRevertBeforeSending(u),l.emitSending(u);let d;e.wallet&&!we(u.from)&&(d=e.wallet.get(u.from));let h=yield l.signAndSend({wallet:d,tx:u}),f=Ve({format:"bytes32"},h,n??e.defaultReturnFormat);l.emitSent(u),l.emitTransactionHash(f);let g=yield NM(e,h,n??e.defaultReturnFormat),m=l.getReceiptWithEvents(Ve(Md,g,n??e.defaultReturnFormat));l.emitReceipt(m),o(yield l.handleResolve({receipt:m,tx:u})),l.emitConfirmation({receipt:m,transactionHash:h});}catch(d){a(yield l.handleError({error:d,tx:u}));}});});});return s;}function ohe(e,t,n,i={checkRevertBeforeSending:!0}){let r=new tC((s,o)=>{setImmediate(()=>{Di(this,void 0,void 0,function*(){let a=new yC({web3Context:e,promiEvent:r,options:i,returnFormat:n}),l=Ve({format:"bytes"},t,Vt),c=rc.fromSerializedData(ea(Zn(l))),u=Object.assign(Object.assign({},c.toJSON()),{from:c.getSenderAddress().toString()});try{let{v:d,r:h,s:f}=u,g=_Ye(u,["v","r","s"]);yield a.checkRevertBeforeSending(g),a.emitSending(l);let m=yield oC(e,()=>Di(this,void 0,void 0,function*(){return Nt.sendRawTransaction(e.requestManager,l);}));a.emitSent(l);let y=Ve({format:"bytes32"},m,n??e.defaultReturnFormat);a.emitTransactionHash(y);let b=yield NM(e,m,n??e.defaultReturnFormat),C=a.getReceiptWithEvents(Ve(Md,b,n??e.defaultReturnFormat));a.emitReceipt(C),s(yield a.handleResolve({receipt:C,tx:u})),a.emitConfirmation({receipt:C,transactionHash:m});}catch(d){o(yield a.handleError({error:d,tx:u}));}});});});return r;}function ahe(e,t,n){return Di(this,arguments,void 0,function*(i,r,s,o=i.defaultReturnFormat){var a;let l=Ve({format:"bytes"},r,lr);if(!((a=i.wallet)===null||a===void 0)&&a.get(s)){let d=i.wallet.get(s).sign(l);return Ve(wde,d,o);}if(typeof s=="number")throw new Kk(r,'RPC method "eth_sign" does not support index signatures');let c=yield Nt.sign(i.requestManager,s,l);return Ve({format:"bytes"},c,o);});}function lhe(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultReturnFormat){let s=yield Nt.signTransaction(n.requestManager,xs(i,Vt,{transactionSchema:n.config.customTransactionSchema}));return Pw(s)?Sde(s,r,{fillInputAndData:!0}):{raw:Ve({format:"bytes"},s.raw,r),tx:xs(s.tx,r,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})};});}function vC(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s=n.defaultReturnFormat){let o=Vr(r)?r:Ve({format:"uint"},r,Vt),a=yield Nt.call(n.requestManager,xs(i,Vt,{transactionSchema:n.config.customTransactionSchema}),o);return Ve({format:"bytes"},a,s);});}function sC(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s){let o=xs(i,Vt,{transactionSchema:n.config.customTransactionSchema}),a=Vr(r)?r:Ve({format:"uint"},r,Vt),l=yield Nt.estimateGas(n.requestManager,o,a);return Ve({format:"uint"},l,s??n.defaultReturnFormat);});}function qM(e,t,n){return Di(this,void 0,void 0,function*(){let{toBlock:i,fromBlock:r}=t;we(i)||(typeof i=="number"||typeof i=="bigint")&&(i=qi(i)),we(r)||(typeof r=="number"||typeof r=="bigint")&&(r=qi(r));let s=Object.assign(Object.assign({},t),{fromBlock:r,toBlock:i});return(yield Nt.getLogs(e.requestManager,s)).map(l=>typeof l=="string"?l:Ve(kd,l,n??e.defaultReturnFormat));});}function MM(e,t){return Di(this,void 0,void 0,function*(){let n=yield Nt.getChainId(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function che(e,t,n){return Di(this,arguments,void 0,function*(i,r,s,o=i.defaultBlock,a){let l=s.map(d=>Ve({format:"bytes"},d,Vt)),c=Vr(o)?o:Ve({format:"uint"},o,Vt),u=yield Nt.getProof(i.requestManager,r,l,c);return Ve(_de,u,a??i.defaultReturnFormat);});}function uhe(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s,o){let a=Ve({format:"uint"},i,Vt),l=Vr(r)?r:Ve({format:"uint"},r,Vt),c=Ve({type:"array",items:{format:"uint"}},s,kv),u=yield Nt.getFeeHistory(n.requestManager,a,l,c);return Ve(Cde,u,o??n.defaultReturnFormat);});}function KM(e,t){return Di(this,arguments,void 0,function*(n,i,r=n.defaultBlock,s){let o=Vr(r)?r:Ve({format:"uint"},r,Vt),a=yield Nt.createAccessList(n.requestManager,xs(i,Vt,{transactionSchema:n.config.customTransactionSchema}),o);return Ve(vde,a,s??n.defaultReturnFormat);});}function dhe(e,t,n,i,r){return Di(this,void 0,void 0,function*(){let s=yield Nt.signTypedData(e.requestManager,t,n,i);return Ve({format:"bytes"},s,r??e.defaultReturnFormat);});}var bC=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});};function hhe(e,t){return bC(this,void 0,void 0,function*(){let n=yield Nt.newPendingTransactionFilter(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function fhe(e,t,n){return bC(this,void 0,void 0,function*(){let{toBlock:i,fromBlock:r}=t;we(i)||(typeof i=="number"||typeof i=="bigint")&&(i=qi(i)),we(r)||(typeof r=="number"||typeof r=="bigint")&&(r=qi(r));let s=Object.assign(Object.assign({},t),{fromBlock:r,toBlock:i}),o=yield Nt.newFilter(e.requestManager,s);return Ve({format:"uint"},o,n??e.defaultReturnFormat);});}function phe(e,t){return bC(this,void 0,void 0,function*(){let n=yield Nt.newBlockFilter(e.requestManager);return Ve({format:"uint"},n,t??e.defaultReturnFormat);});}function ghe(e,t){return bC(this,void 0,void 0,function*(){return yield Nt.uninstallFilter(e.requestManager,qi(t));});}function mhe(e,t,n){return bC(this,void 0,void 0,function*(){return(yield Nt.getFilterChanges(e.requestManager,qi(t))).map(s=>typeof s=="string"?s:Ve(kd,s,n??e.defaultReturnFormat));});}function vhe(e,t,n){return bC(this,void 0,void 0,function*(){return(yield Nt.getFilterLogs(e.requestManager,qi(t))).map(s=>typeof s=="string"?s:Ve(kd,s,n??e.defaultReturnFormat));});}var QE=class extends yf{_buildSubscriptionParams(){return["logs",this.args];}formatSubscriptionResult(t){return Ve(kd,t,super.returnFormat);}},ZE=class extends yf{_buildSubscriptionParams(){return["newPendingTransactions"];}formatSubscriptionResult(t){return Ve({format:"string"},t,super.returnFormat);}},Og=class extends yf{_buildSubscriptionParams(){return["newHeads"];}formatSubscriptionResult(t){return Ve(bde,t,super.returnFormat);}},JE=class extends yf{_buildSubscriptionParams(){return["syncing"];}_processSubscriptionResult(t){if(typeof t=="boolean")this.emit("changed",t);else{let n=Object.fromEntries(Object.entries(t?.status||t).map(([i,r])=>[i.charAt(0).toLowerCase()+i.substring(1),r]));this.emit("changed",t.syncing),this.emit("data",Ve(xde,n,super.returnFormat));}}};var mn=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},YM={logs:QE,newPendingTransactions:ZE,newHeads:Og,syncing:JE,pendingTransactions:ZE,newBlockHeaders:Og},Lv=class e extends Yr{constructor(t){if(typeof t=="string"||xv(t)){super({provider:t,registeredSubscriptions:YM});return;}if(t.registeredSubscriptions){super(t);return;}super(Object.assign(Object.assign({},t),{registeredSubscriptions:YM})),this.getFeeData=this.calculateFeeData;}setTransactionMiddleware(t){this.transactionMiddleware=t;}getTransactionMiddleware(){return this.transactionMiddleware;}getProtocolVersion(){return mn(this,void 0,void 0,function*(){return Nt.getProtocolVersion(this.requestManager);});}isSyncing(){return mn(this,void 0,void 0,function*(){return Nt.getSyncing(this.requestManager);});}getCoinbase(){return mn(this,void 0,void 0,function*(){return Nt.getCoinbase(this.requestManager);});}isMining(){return mn(this,void 0,void 0,function*(){return Nt.getMining(this.requestManager);});}getHashrate(t){return mn(this,void 0,void 0,function*(){var n;return t===void 0&&(t=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:lr),this.getHashRate(t);});}getHashRate(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return Yde(this,t);});}getGasPrice(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return GE(this,t);});}getMaxPriorityFeePerGas(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return Xde(this,t);});}calculateFeeData(){return mn(this,arguments,void 0,function*(t=BigInt(2),n=CE.Gwei){var i;let r=yield this.getBlock(void 0,!1),s=(i=r?.baseFeePerGas)!==null&&i!==void 0?i:void 0,o;try{o=yield this.getGasPrice();}catch{}let a;try{a=yield this.getMaxPriorityFeePerGas();}catch{}let l;if(s){a=a??n;let c;typeof t=="number"?c=BigInt(Math.floor(t*1e3))/BigInt(1e3):c=t,l=s*c+a;}return{gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:a,baseFeePerGas:s};});}getAccounts(){return mn(this,void 0,void 0,function*(){var t;return((t=yield Nt.getAccounts(this.requestManager))!==null&&t!==void 0?t:[]).map(i=>Ps(i));});}getBlockNumber(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return UE(this,t);});}getBalance(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return Qde(this,n,i,r);});}getStorageAt(t,n){return mn(this,arguments,void 0,function*(i,r,s=this.defaultBlock,o=this.defaultReturnFormat){return Zde(this,i,r,s,o);});}getCode(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return Jde(this,n,i,r);});}getBlock(){return mn(this,arguments,void 0,function*(t=this.defaultBlock,n=!1,i=this.defaultReturnFormat){return PM(this,t,n,i);});}getBlockTransactionCount(){return mn(this,arguments,void 0,function*(t=this.defaultBlock,n=this.defaultReturnFormat){return ehe(this,t,n);});}getBlockUncleCount(){return mn(this,arguments,void 0,function*(t=this.defaultBlock,n=this.defaultReturnFormat){return the(this,t,n);});}getUncle(){return mn(this,arguments,void 0,function*(t=this.defaultBlock,n,i=this.defaultReturnFormat){return nhe(this,t,n,i);});}getTransaction(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){let r=yield ihe(this,n,i);if(!r)throw new L2();return r;});}getPendingTransactions(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return rhe(this,t);});}getTransactionFromBlock(){return mn(this,arguments,void 0,function*(t=this.defaultBlock,n,i=this.defaultReturnFormat){return she(this,t,n,i);});}getTransactionReceipt(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){let r=yield LM(this,n,i);if(!r)throw new L2();return r;});}getTransactionCount(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return kM(this,n,i,r);});}sendTransaction(t,n=this.defaultReturnFormat,i){return Lg(this,t,n,i,this.transactionMiddleware);}sendSignedTransaction(t,n=this.defaultReturnFormat,i){return ohe(this,t,n,i);}sign(t,n){return mn(this,arguments,void 0,function*(i,r,s=this.defaultReturnFormat){return ahe(this,i,r,s);});}signTransaction(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){return lhe(this,n,i);});}call(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return vC(this,n,i,r);});}estimateGas(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return sC(this,n,i,r);});}getPastLogs(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){return qM(this,n,i);});}getWork(){return mn(this,void 0,void 0,function*(){return Nt.getWork(this.requestManager);});}submitWork(t,n,i){return mn(this,void 0,void 0,function*(){return Nt.submitWork(this.requestManager,t,n,i);});}requestAccounts(){return mn(this,void 0,void 0,function*(){return Nt.requestAccounts(this.requestManager);});}getChainId(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return MM(this,t);});}getNodeInfo(){return mn(this,void 0,void 0,function*(){return Nt.getNodeInfo(this.requestManager);});}getProof(t,n){return mn(this,arguments,void 0,function*(i,r,s=this.defaultBlock,o=this.defaultReturnFormat){return che(this,i,r,s,o);});}getFeeHistory(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r,s=this.defaultReturnFormat){return uhe(this,n,i,r,s);});}createAccessList(t){return mn(this,arguments,void 0,function*(n,i=this.defaultBlock,r=this.defaultReturnFormat){return KM(this,n,i,r);});}signTypedData(t,n,i,r){return mn(this,void 0,void 0,function*(){var s;return i===void 0&&(i=!1),r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:lr),dhe(this,t,n,i,r);});}subscribe(t,n,i){return mn(this,void 0,void 0,function*(){var r,s;i===void 0&&(i=(r=this.defaultReturnFormat)!==null&&r!==void 0?r:lr);let o=yield(s=this.subscriptionManager)===null||s===void 0?void 0:s.subscribe(t,n,i);return o instanceof QE&&t==="logs"&&typeof n=="object"&&!Rt(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(a=>{for(let l of a)o._processSubscriptionResult(l);}).catch(a=>{o._processSubscriptionError(a);});}),o;});}static shouldClearSubscription({sub:t}){return!(t instanceof JE);}clearSubscriptions(t=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(t?e.shouldClearSubscription:void 0);}createNewPendingTransactionFilter(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return hhe(this,t);});}createNewFilter(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){return fhe(this,n,i);});}createNewBlockFilter(){return mn(this,arguments,void 0,function*(t=this.defaultReturnFormat){return phe(this,t);});}uninstallFilter(t){return mn(this,void 0,void 0,function*(){return ghe(this,t);});}getFilterChanges(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){return mhe(this,n,i);});}getFilterLogs(t){return mn(this,arguments,void 0,function*(n,i=this.defaultReturnFormat){return vhe(this,n,i);});}};var TYe=e=>{if(!we(e.common)){if(we(e.common.customChain))throw new Qk();if(we(e.common.customChain.chainId))throw new Zk();if(!we(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new Jk({txChainId:e.chainId,customChainId:e.common.customChain.chainId});}},AYe=e=>{if(!we(e.common)&&!we(e.chain)&&!we(e.hardfork))throw new n5();if(!we(e.chain)&&we(e.hardfork)||!we(e.hardfork)&&we(e.chain))throw new i5({chain:e.chain,hardfork:e.hardfork});},DYe=e=>{if(!we(e.common)&&!we(e.common.baseChain)&&!we(e.chain)&&e.chain!==e.common.baseChain)throw new e5({txChain:e.chain,baseChain:e.common.baseChain});},RYe=e=>{if(!we(e.common)&&!we(e.common.hardfork)&&!we(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new t5({txHardfork:e.hardfork,commonHardfork:e.common.hardfork});},yhe=e=>{if(we(e.gas)||!ol(e.gas)||we(e.gasPrice)||!ol(e.gasPrice))throw new o5({gas:e.gas,gasPrice:e.gasPrice});if(!we(e.maxFeePerGas)||!we(e.maxPriorityFeePerGas))throw new B2({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});},bhe=e=>{if(!we(e.gasPrice)&&e.type==="0x2")throw new l5(e.gasPrice);if(e.type==="0x0"||e.type==="0x1")throw new B2({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(we(e.maxFeePerGas)||!ol(e.maxFeePerGas)||we(e.maxPriorityFeePerGas)||!ol(e.maxPriorityFeePerGas))throw new a5({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});},IYe=e=>{let t=!we(e.gas)||!we(e.gasLimit),n=t&&!we(e.gasPrice),i=t&&!we(e.maxPriorityFeePerGas)&&!we(e.maxFeePerGas);if(!n&&!i)throw new r5({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(n&&i)throw new s5({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(n?yhe:bhe)(e),(!we(e.type)&&e.type>"0x1"?bhe:yhe)(e);},xhe=(e,t,n={transactionSchema:void 0})=>{if(!we(t)){t(e);return;}if(typeof e!="object"||we(e))throw new c5(e);TYe(e),AYe(e),DYe(e),RYe(e);let i=xs(e,Vt,{transactionSchema:n.transactionSchema});if(IYe(i),we(i.nonce)||we(i.chainId)||i.nonce.startsWith("-")||i.chainId.startsWith("-"))throw new u5({nonce:e.nonce,chainId:e.chainId});};var PYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},kYe=e=>{var t,n;return Object.assign(Object.assign({},e),{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:(t=e.gasLimit)!==null&&t!==void 0?t:e.gas,to:e.to,value:e.value,data:(n=e.data)!==null&&n!==void 0?n:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});},MYe=(e,t)=>{var n,i,r,s,o,a,l,c,u,d,h,f,g,m,y,b,C,_;let A=!we(e.chain)&&!we(e.hardfork)||!we(e.common),I;if(!A)t.defaultCommon?(I=Object.assign({},t.defaultCommon),we(I.hardfork)&&(I.hardfork=(n=e.hardfork)!==null&&n!==void 0?n:t.defaultHardfork),we(I.baseChain)&&(I.baseChain=t.defaultChain)):I=du.custom({name:"custom-network",chainId:Is(e.chainId),networkId:we(e.networkId)?void 0:Is(e.networkId),defaultHardfork:(i=e.hardfork)!==null&&i!==void 0?i:t.defaultHardfork},{baseChain:t.defaultChain});else{let N=(a=(o=(s=(r=e?.common)===null||r===void 0?void 0:r.customChain)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:e.chain)!==null&&a!==void 0?a:"custom-network",R=Is((u=(c=(l=e?.common)===null||l===void 0?void 0:l.customChain)===null||c===void 0?void 0:c.chainId)!==null&&u!==void 0?u:e?.chainId),D=Is((f=(h=(d=e?.common)===null||d===void 0?void 0:d.customChain)===null||h===void 0?void 0:h.networkId)!==null&&f!==void 0?f:e?.networkId),V=(y=(m=(g=e?.common)===null||g===void 0?void 0:g.hardfork)!==null&&m!==void 0?m:e?.hardfork)!==null&&y!==void 0?y:t.defaultHardfork,X=(_=(C=(b=e.common)===null||b===void 0?void 0:b.baseChain)!==null&&C!==void 0?C:e.chain)!==null&&_!==void 0?_:t.defaultChain;R&&D&&N&&(I=du.custom({name:N,chainId:R,networkId:D,defaultHardfork:V},{baseChain:X}));}return{common:I};},whe=(e,t,n,...i)=>PYe(void 0,[e,t,n,...i],void 0,function*(r,s,o,a=!1,l=!0){let c=yield fz({transaction:r,web3Context:s,privateKey:o,fillGasPrice:a,fillGasLimit:l}),u=xs(c,Vt,{transactionSchema:s.config.customTransactionSchema});return xhe(u,void 0,{transactionSchema:s.config.customTransactionSchema}),rc.fromTxData(kYe(u),MYe(u,s));});var Nz=({address:e},t,n)=>{var i,r;let s=n?.topics,o=(i=n?.filter)!==null&&i!==void 0?i:{},a={};if(Rt(n?.fromBlock)||(a.fromBlock=Ve(iC.properties.number,n?.fromBlock,{number:Zo.HEX,bytes:iu.HEX})),Rt(n?.toBlock)||(a.toBlock=Ve(iC.properties.number,n?.toBlock,{number:Zo.HEX,bytes:iu.HEX})),s&&Array.isArray(s))a.topics=[...s];else if(a.topics=[],t&&!t.anonymous&&![Sf,"allEvents"].includes(t.name)&&a.topics.push((r=t.signature)!==null&&r!==void 0?r:cC(ia(t))),![Sf,"allEvents"].includes(t.name)&&t.inputs)for(let l of t.inputs){if(!l.indexed)continue;let c=o[l.name];if(!c){a.topics.push(null);continue;}Array.isArray(c)?a.topics.push(c.map(u=>XE(l.type,u))):l.type==="string"?a.topics.push(Dd(c)):a.topics.push(XE(l.type,c));}return a.topics.length||delete a.topics,e&&(a.address=e.toLowerCase()),a;},Bg=(e,t,n)=>{let i=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&i!==t.length)throw new Br(`The number of arguments is not matching the methods required number. You need to pass ${i} arguments.`);let r;if(e.inputs?r=Fd(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):r=Pz(t).replace("0x",""),kde(e)){if(!n)throw new Br("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${r}`:`0x${n}${r}`;}return`${Ng(e)}${r}`;};var eT=class extends yf{constructor(t,n){super(t,n),this.address=t.address,this.topics=t.topics,this.abi=t.abi,this.jsonInterface=t.jsonInterface;}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}];}formatSubscriptionResult(t){return Fv(this.abi,t,this.jsonInterface,super.returnFormat);}};var rjt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));var XM=(e,t,n,i)=>{var r,s;let o={};return(!Rt(e.data)||i==="both")&&(o.data=Bg(t,n,(r=e.data)!==null&&r!==void 0?r:e.input)),(!Rt(e.input)||i==="both")&&(o.input=Bg(t,n,(s=e.input)!==null&&s!==void 0?s:e.data)),Rt(o.input)&&Rt(o.data)&&(o[i]=Bg(t,n)),{data:o.data,input:o.input};},tT=({abi:e,params:t,options:n,contractOptions:i})=>{var r,s,o;if(!((o=(s=(r=n?.input)!==null&&r!==void 0?r:n?.data)!==null&&s!==void 0?s:i.input)!==null&&o!==void 0?o:i.data)&&!n?.to&&!i.address)throw new Br("Contract address not specified");if(!n?.from&&!i.from)throw new Br('Contract "from" address not specified');let l=tc({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n),c=XM(l,e,t,n?.dataInputFill);return l=Object.assign(Object.assign({},l),{data:c.data,input:c.input}),l;},Che=({abi:e,params:t,options:n,contractOptions:i})=>{if(!n?.to&&!i.address)throw new Br("Contract address not specified");let r=tc({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n),s=XM(r,e,t,n?.dataInputFill);return r=Object.assign(Object.assign({},r),{data:s.data,input:s.input}),r;},_he=({abi:e,params:t,options:n,contractOptions:i})=>{let r=tc({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,data:i.data},n),s=XM(r,e,t,n?.dataInputFill);return r=Object.assign(Object.assign({},r),{data:s.data,input:s.input}),r;},Lz=e=>typeof e=="object"&&!Rt(e)&&Object.keys(e).length!==0&&!cu(e),She=({abi:e,params:t,options:n,contractOptions:i})=>{if(!n?.to&&!i.address)throw new Br("Contract address not specified");if(!n?.from&&!i.from)throw new Br('Contract "from" address not specified');let r=tc({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n),s=XM(r,e,t,n?.dataInputFill);return r=Object.assign(Object.assign({},r),{data:s.data,input:s.input}),r;};var FYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},QM=class{_contractMethodDeploySend(t){let n={transactionResolver:i=>{if(i.status===BigInt(0))throw new Br("code couldn't be stored",i);let r=this.parent.clone();return r.options.address=i.contractAddress,r;},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return we(this.parent.getTransactionMiddleware())?Lg(this.parent,t,this.parent.defaultReturnFormat,n):Lg(this.parent,t,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware());}constructor(t,n){this.parent=t,this.deployOptions=n;let{args:i,abi:r,contractOptions:s,deployData:o}=this.calculateDeployParams();this.args=i,this.constructorAbi=r,this.contractOptions=s,this.deployData=o;}send(t){let n=Object.assign({},t),i=this.populateTransaction(n);return this._contractMethodDeploySend(i);}populateTransaction(t){var n,i;let r=Object.assign(Object.assign({},this.contractOptions),{from:(i=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&i!==void 0?i:void 0}),s=tT({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},t),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:r});return s.dataInputFill&&delete s.dataInputFill,s;}calculateDeployParams(){var t,n,i,r,s,o;let a=this.parent.options.jsonInterface.find(f=>f.type==="constructor");a||(a={type:"constructor",stateMutability:""});let l=Ve({format:"bytes"},(n=(t=this.deployOptions)===null||t===void 0?void 0:t.input)!==null&&n!==void 0?n:this.parent.options.input,lr),c=Ve({format:"bytes"},(r=(i=this.deployOptions)===null||i===void 0?void 0:i.data)!==null&&r!==void 0?r:this.parent.options.data,lr);if((!l||l.trim()==="0x")&&(!c||c.trim()==="0x"))throw new Br("contract creation without any data provided.");let u=(o=(s=this.deployOptions)===null||s===void 0?void 0:s.arguments)!==null&&o!==void 0?o:[],d=Object.assign(Object.assign({},this.parent.options),{input:l,data:c});return{args:u,abi:a,contractOptions:d,deployData:l??c};}estimateGas(t){return FYe(this,arguments,void 0,function*(n,i=this.parent.defaultReturnFormat){let r=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:i,options:r,contractOptions:this.contractOptions});});}encodeABI(){return Bg(this.constructorAbi,this.args,Ve({format:"bytes"},this.deployData,this.parent.defaultReturnFormat));}decodeData(t){return Object.assign(Object.assign({},gC(this.constructorAbi,t.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type});}};var NYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},ZM=class extends vf{constructor(t,n){super(t.requestManager,t.registeredSubscriptions),this.parentContract=n;}subscribe(t,n){let i=Object.create(null,{subscribe:{get:()=>super.subscribe}});return NYe(this,arguments,void 0,function*(r,s,o=lr){return i.subscribe.call(this,r,s??this.parentContract.options,o);});}};var Ov=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},LYe={logs:eT,newHeads:Og,newBlockHeaders:Og},Vg=class e extends Yr{get subscriptionManager(){return this._subscriptionManager;}constructor(t,n,i,r,s){var o,a,l;let c=cu(n)?n:cu(i)?i:void 0,u;Lz(n)?u=n:Lz(i)?u=i:u=r;let d;if(typeof n=="object"&&"provider"in n?d=n.provider:typeof i=="object"&&"provider"in i?d=i.provider:typeof r=="object"&&"provider"in r?d=r.provider:d=e.givenProvider,super(Object.assign(Object.assign({},u),{provider:d,registeredSubscriptions:LYe})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new ZM(super.subscriptionManager,this),u?.wallet&&(this._wallet=u.wallet),u?.accountProvider&&(this._accountProvider=u.accountProvider),!we(c)&&!we(c.data)&&!we(c.input)&&this.config.contractDataInputFill!=="both")throw new zk({data:c.data,input:c.input});this._overloadedMethodAbis=new Map();let h=uu(r)?r:uu(i)?i:s??this.defaultReturnFormat,f=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(o=c?.dataInputFill)!==null&&o!==void 0?o:this.config.contractDataInputFill,this._parseAndSetJsonInterface(t,h),this.defaultReturnFormat!==h&&(this.defaultReturnFormat=h),we(f)||this._parseAndSetAddress(f,h),this.options={address:f,jsonInterface:this._jsonInterface,gas:(a=c?.gas)!==null&&a!==void 0?a:c?.gasLimit,gasPrice:c?.gasPrice,from:c?.from,input:c?.input,data:c?.data},this.syncWithContext=(l=c?.syncWithContext)!==null&&l!==void 0?l:!1,u instanceof Yr&&this.subscribeToContextEvents(u),Object.defineProperty(this.options,"address",{set:g=>this._parseAndSetAddress(g,h),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:g=>this._parseAndSetJsonInterface(g,h),get:()=>this._jsonInterface}),u instanceof Yr&&u.on(Eg.CONFIG_CHANGE,g=>{this.setConfig({[g.name]:g.newValue});});}setTransactionMiddleware(t){this.transactionMiddleware=t;}getTransactionMiddleware(){return this.transactionMiddleware;}get events(){return this._events;}get methods(){return this._methods;}clone(){let t;return this.options.address?t=new e([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):t=new e([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&t.subscribeToContextEvents(this.context),t;}deploy(t){return new QM(this,t);}getPastEvents(t,n,i){return Ov(this,void 0,void 0,function*(){var r;let s=typeof t=="string"?t:Sf,o=typeof t!="string"&&!uu(t)?t:uu(n)?{}:n,a=uu(t)?t:uu(n)?n:i??this.defaultReturnFormat,l=s==="allEvents"||s===Sf?HE:this._jsonInterface.find(b=>"name"in b&&b.name===s);if(!l)throw new Br(`Event ${String(s)} not found.`);let{fromBlock:c,toBlock:u,topics:d,address:h}=Nz(this.options,l,o??{}),f=yield qM(this,{fromBlock:c,toBlock:u,topics:d,address:h},a),g=f?f.map(b=>typeof b=="string"?b:Fv(l,b,this._jsonInterface,a)):[],m=(r=o?.filter)!==null&&r!==void 0?r:{},y=Object.keys(m);return y.length>0?g.filter(b=>typeof b=="string"?!0:y.every(C=>{var _;if(Array.isArray(m[C]))return m[C].some(I=>String(b.returnValues[C]).toUpperCase()===String(I).toUpperCase());let A=(_=l.inputs)===null||_===void 0?void 0:_.filter(I=>I.name===C)[0];return A?.indexed&&A.type==="string"&&Dd(m[C])===String(b.returnValues[C])?!0:String(b.returnValues[C]).toUpperCase()===String(m[C]).toUpperCase();})):g;});}_parseAndSetAddress(t,n=this.defaultReturnFormat){this._address=t&&Ps(Ve({format:"address"},t,n));}decodeMethodData(t){let n=t.slice(0,10),r=this._jsonInterface.filter(s=>s.type!=="error").find(s=>n===Ng(ia(s)));if(!r)throw new Br(`The ABI for the provided method signature ${n} was not found.`);return gC(r,t);}_parseAndSetJsonInterface(t,n=this.defaultReturnFormat){var i,r;this._functions={},this._methods={},this._events={};let s=[],o=t.filter(l=>l.type!=="error"),a=t.filter(l=>Mv(l));for(let l of o){let c=Object.assign(Object.assign({},l),{signature:""});if(lC(c)){let u=ia(c),d=Ng(u);c.methodNameWithInputs=u,c.signature=d,c.constant=c.stateMutability==="view"||c.stateMutability==="pure"||c.constant,c.payable=c.stateMutability==="payable"||c.payable,this._overloadedMethodAbis.set(c.name,[...((i=this._overloadedMethodAbis.get(c.name))!==null&&i!==void 0?i:[]),c]);let h=(r=this._overloadedMethodAbis.get(c.name))!==null&&r!==void 0?r:[],f=this._createContractMethod(h,a),g=this._createContractMethod(h,a,!0);this._functions[u]={signature:d,method:g},this._methods[c.name]=f,this._methods[u]=g,this._methods[d]=g;}else if(jE(c)){let u=ia(c),d=cC(u),h=this._createContractEvent(c,n);c.signature=d,(!(u in this._events)||c.name==="bound")&&(this._events[u]=h),this._events[c.name]=h,this._events[d]=h;}s=[...s,c];}this._events.allEvents=this._createContractEvent(HE,n),this._jsonInterface=[...s],this._errorsInterface=a;}_getAbiParams(t,n){var i;try{return xi.transformJsonDataToAbiFormat((i=t.inputs)!==null&&i!==void 0?i:[],n);}catch(r){throw new Br(`Invalid parameters for method ${t.name}: ${r.message}`);}}_createContractMethod(t,n,i=!1){let r=t[t.length-1];return(...s)=>{var o,a,l;let c,u=(a=i?(o=this._overloadedMethodAbis.get(r.name))===null||o===void 0?void 0:o.filter(m=>m.signature===r.signature):this._overloadedMethodAbis.get(r.name))!==null&&a!==void 0?a:[],d=u[0],h=n,f=u.filter(m=>{var y;return((y=m.inputs)!==null&&y!==void 0?y:[]).length===s.length;});if(u.length===1||f.length===0)c=this._getAbiParams(d,s),Dt.validate((l=r.inputs)!==null&&l!==void 0?l:[],c);else{let m=[],y=[];for(let b of f)try{c=this._getAbiParams(b,s),Dt.validate(b.inputs,c),y.push(b);}catch(C){m.push(C);}if(y.length===1?[d]=y:y.length>1&&([d]=y,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${y.length} compatible methods: ${JSON.stringify(y.map(b=>`${b.methodNameWithInputs} (signature: ${b.signature})`))} 
	The first one will be used: ${d.methodNameWithInputs}`)),m.length===f.length)throw new sl(m);}let g={arguments:c,call:(m,y)=>Ov(this,void 0,void 0,function*(){return this._contractMethodCall(d,c,h,m,y);}),send:m=>this._contractMethodSend(d,c,h,m),populateTransaction:(m,y)=>{var b,C;let _=y??this.options;_=Object.assign(Object.assign({},_),{input:void 0,from:(C=(b=_?.from)!==null&&b!==void 0?b:this.defaultAccount)!==null&&C!==void 0?C:void 0});let A=tT({abi:r,params:s,options:Object.assign(Object.assign({},m),{dataInputFill:this.config.contractDataInputFill}),contractOptions:_});return A.dataInputFill&&delete A.dataInputFill,A;},estimateGas:(m,...y)=>Ov(this,[m,...y],void 0,function*(b,C=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:d,params:c,returnFormat:C,options:b});}),encodeABI:()=>Bg(d,c),decodeData:m=>gC(d,m),createAccessList:(m,y)=>Ov(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(d,c,h,m,y);})};return d.stateMutability==="payable",g;};}_contractMethodCall(t,n,i,r,s){return Ov(this,void 0,void 0,function*(){var o;let a=Che({abi:t,params:n,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{let l=yield vC(this,a,s,this.defaultReturnFormat);return Mz(t,l);}catch(l){throw l instanceof il&&mC(i,l.cause),l;}});}_contractMethodCreateAccessList(t,n,i,r,s){return Ov(this,void 0,void 0,function*(){var o;let a=She({abi:t,params:n,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(o=this.options.from)!==null&&o!==void 0?o:this.config.defaultAccount})});try{return KM(this,a,s,this.defaultReturnFormat);}catch(l){throw l instanceof il&&mC(i,l.cause),l;}});}_contractMethodSend(t,n,i,r,s){var o,a;let l=s??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(a=(o=l.from)!==null&&o!==void 0?o:this.defaultAccount)!==null&&a!==void 0?a:void 0});let c=tT({abi:t,params:n,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:l}),u=we(this.transactionMiddleware)?Lg(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Lg(this,c,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return u.on("error",d=>{d instanceof il&&mC(i,d.cause);}),u;}contractMethodEstimateGas(t){return Ov(this,arguments,void 0,function*({abi:n,params:i,returnFormat:r,options:s,contractOptions:o}){let a=_he({abi:n,params:i,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o??this.options});return sC(this,a,Zl.LATEST,r??this.defaultReturnFormat);});}_createContractEvent(t,n=this.defaultReturnFormat){return(...i)=>{var r;let{topics:s,fromBlock:o}=Nz(this.options,t,i[0]),a=new eT({address:this.options.address,topics:s,abi:t,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return we(o)||this.getPastEvents(t.name,{fromBlock:o,topics:s},n).then(l=>{l&&l.forEach(c=>a.emit("data",c));}).catch(l=>{a.emit("error",new rl("Failed to get past events.",l));}),(r=this.subscriptionManager)===null||r===void 0||r.addSubscription(a).catch(l=>{a.emit("error",new rl("Failed to subscribe.",l));}),a;};}subscribeToContextEvents(t){let n=this;this.context=t,n.syncWithContext&&t.on(Eg.CONFIG_CHANGE,i=>{n.setConfig({[i.name]:i.newValue});});}};var Ehe=Vg;var Oz={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},Bv={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},Hg={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},The={"0x1":"main","0x5":"goerli"};var Ahe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}];var Dhe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var BYe=e=>QP(e),ac=e=>{let t="";for(let n=0;n<32;n+=1)t+="00";if(e){let i=BYe(e).split(".");for(let r=i.length-1;r>=0;r-=1){let s=ys(i[r]).slice(2);t=ys(`0x${t}${s}`).slice(2);}}return`0x${t}`;};var JM=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},eF=class{constructor(t,n){this.contract=new Vg(Ahe,n??Hg.main,t),this.context=t;}getOwner(t){return JM(this,void 0,void 0,function*(){try{return this.contract.methods.owner(ac(t)).call();}catch{throw new Error();}});}getTTL(t){return JM(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(ac(t)).call();}catch{throw new Error();}});}recordExists(t){return JM(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(ac(t)).call();}catch{throw new Error();}});}getResolver(t){return JM(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(ac(t)).call().then(n=>{if(typeof n=="string")return new Vg(Dhe,n,this.context);throw new Error();});}catch{throw new Error();}});}get events(){return this.contract.events;}};var Tf=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},tF=class{constructor(t){this.registry=t;}getResolverContractAdapter(t){return Tf(this,void 0,void 0,function*(){return this.registry.getResolver(t);});}checkInterfaceSupport(t,n){var i,r;return Tf(this,void 0,void 0,function*(){if(Rt(Oz[n]))throw new M2((i=t.options.address)!==null&&i!==void 0?i:"",n);if(!(yield t.methods.supportsInterface(Oz[n]).call()))throw new M2((r=t.options.address)!==null&&r!==void 0?r:"",n);});}supportsInterface(t,n){var i;return Tf(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(t),s=n;if(!on(s)){if(s=(i=Ow(n))!==null&&i!==void 0?i:"",n==="")throw new Error("Invalid interface Id");s=s.slice(0,10);}return r.methods.supportsInterface(s).call();});}getAddress(t,n=60){return Tf(this,void 0,void 0,function*(){let i=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(i,Bv.addr),i.methods.addr(ac(t),n).call();});}getPubkey(t){return Tf(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(n,Bv.pubkey),n.methods.pubkey(ac(t)).call();});}getContenthash(t){return Tf(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(n,Bv.contenthash),n.methods.contenthash(ac(t)).call();});}setAddress(t,n,i){return Tf(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(r,Bv.setAddr),r.methods.setAddr(ac(t),n).send(i);});}getText(t,n){return Tf(this,void 0,void 0,function*(){let i=yield this.getResolverContractAdapter(t);return yield this.checkInterfaceSupport(i,Bv.text),i.methods.text(ac(t),n).call();});}getName(t,n=!0){return Tf(this,void 0,void 0,function*(){let i=`${t.toLowerCase().substring(2)}.addr.reverse`,r=yield this.getResolverContractAdapter(i);return n&&(yield this.checkInterfaceSupport(r,Bv.name)),r.methods.name(ac(i)).call();});}};var lc=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},nT=class extends Yr{constructor(t,n){super(n??""),this.registryAddress=t??Hg.main,this._registry=new eF(this.getContextObject(),t),this._resolver=new tF(this._registry);}getResolver(t){return lc(this,void 0,void 0,function*(){return this._registry.getResolver(t);});}recordExists(t){return lc(this,void 0,void 0,function*(){return this._registry.recordExists(t);});}getTTL(t){return lc(this,void 0,void 0,function*(){return this._registry.getTTL(t);});}getOwner(t){return lc(this,void 0,void 0,function*(){return this._registry.getOwner(t);});}getAddress(t,n=60){return lc(this,void 0,void 0,function*(){return this._resolver.getAddress(t,n);});}getText(t,n){return lc(this,void 0,void 0,function*(){return cr(t)?this._resolver.getText(yield this._resolver.getName(t,!1),n):this._resolver.getText(t,n);});}getName(t,n=!0){return lc(this,void 0,void 0,function*(){return this._resolver.getName(t,n);});}getPubkey(t){return lc(this,void 0,void 0,function*(){return this._resolver.getPubkey(t);});}getContenthash(t){return lc(this,void 0,void 0,function*(){return this._resolver.getContenthash(t);});}checkNetwork(){return lc(this,void 0,void 0,function*(){let t=Date.now()/1e3;if(!this._lastSyncCheck||t-this._lastSyncCheck>3600){let r=yield Kde(this);if(!(typeof r=="boolean"&&!r))throw new jk();this._lastSyncCheck=t;}if(this._detectedAddress)return this._detectedAddress;let n=yield rC(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Zo.HEX})),i=Hg[The[n]];if(typeof i>"u")throw new Uk(n);return this._detectedAddress=i,this._detectedAddress;});}supportsInterface(t,n){return lc(this,void 0,void 0,function*(){return this._resolver.supportsInterface(t,n);});}get events(){return this._registry.events;}setAddress(t,n,i){return lc(this,void 0,void 0,function*(){return this._resolver.setAddress(t,n,i);});}};var Af=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Rhe=e=>Af(void 0,void 0,void 0,function*(){return(yield sc.getAccounts(e)).map(Ps);}),Ihe=(e,t)=>Af(void 0,void 0,void 0,function*(){Dt.validate(["string"],[t]);let n=yield sc.newAccount(e,t);return Ps(n);}),Phe=(e,t,n,i)=>Af(void 0,void 0,void 0,function*(){return Dt.validate(["address","string","uint"],[t,n,i]),sc.unlockAccount(e,t,n,i);}),khe=(e,t)=>Af(void 0,void 0,void 0,function*(){return Dt.validate(["address"],[t]),sc.lockAccount(e,t);}),Mhe=(e,t,n)=>Af(void 0,void 0,void 0,function*(){return Dt.validate(["string","string"],[t,n]),sc.importRawKey(e,t,n);}),Fhe=(e,t,n,i)=>Af(void 0,void 0,void 0,function*(){let r=xs(t,Vt,{transactionSchema:i?.customTransactionSchema});return sc.sendTransaction(e,r,n);}),Nhe=(e,t,n,i)=>Af(void 0,void 0,void 0,function*(){let r=xs(t,Vt,{transactionSchema:i?.customTransactionSchema});return sc.signTransaction(e,r,n);}),Lhe=(e,t,n,i)=>Af(void 0,void 0,void 0,function*(){Dt.validate(["string","address","string"],[t,n,i]);let r=on(t)?t:ta(t);return sc.sign(e,r,n,i);}),Ohe=(e,t,n)=>Af(void 0,void 0,void 0,function*(){Dt.validate(["string","string"],[t,n]);let i=on(t)?t:ta(t);return sc.ecRecover(e,i,n);});var Df=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Vv=class extends Yr{getAccounts(){return Df(this,void 0,void 0,function*(){return Rhe(this.requestManager);});}newAccount(t){return Df(this,void 0,void 0,function*(){return Ihe(this.requestManager,t);});}unlockAccount(t,n,i){return Df(this,void 0,void 0,function*(){return Phe(this.requestManager,t,n,i);});}lockAccount(t){return Df(this,void 0,void 0,function*(){return khe(this.requestManager,t);});}importRawKey(t,n){return Df(this,void 0,void 0,function*(){return Mhe(this.requestManager,t,n);});}sendTransaction(t,n){return Df(this,void 0,void 0,function*(){return Fhe(this.requestManager,t,n,this.config);});}signTransaction(t,n){return Df(this,void 0,void 0,function*(){return Nhe(this.requestManager,t,n,this.config);});}sign(t,n,i){return Df(this,void 0,void 0,function*(){return Lhe(this.requestManager,t,n,i);});}ecRecover(t,n){return Df(this,void 0,void 0,function*(){return Ohe(this.requestManager,t,n);});}};var cc=function(e){return e.HTTPS="https",e.WebSocket="wss",e;}(cc||{}),Ct=function(e){return e.ETH_MAINNET="eth_mainnet",e.ETH_SEPOLIA="eth_sepolia",e.ETH_HOLESKY="eth_holesky",e.POLYGON_MAINNET="polygon_mainnet",e.POLYGON_AMOY="polygon_amoy",e.AVALANCHE_C_MAINNET="avalanche_c_mainnet",e.AVALANCHE_P_MAINNET="avalanche_p_mainnet",e.AVALANCHE_X_MAINNET="avalanche_x_mainnet",e.ARBITRUM_MAINNET="arbitrum_mainnet",e.ARBITRUM_SEPOLIA="arbitrum_sepolia",e.BASE_MAINNET="base_mainnet",e.BASE_SEPOLIA="base_sepolia",e.OPTIMISM_MAINNET="optimism_mainnet",e.OPTIMISM_SEPOLIA="optimism_sepolia",e.FANTOM_MAINNET="fantom_mainnet",e.FANTOM_TESTNET="fantom_testnet",e.DYMENSION_MAINNET="dymension_mainnet",e.DYMENSION_TESTNET="dymension_testnet",e.BNB_MAINNET="bnb_mainnet",e.BNB_TESTNET="bnb_testnet",e.BSC_MAINNET="bsc_mainnet",e.BSC_TESTNET="bsc_testnet",e.ARBITRUM_ONE="arbitrum_one",e.ARBITRUM_NOVA="arbitrum_nova",e.AVALANCHE_FUJI_C="avalanche_fuji_c",e.AVALANCHE_FUJI_P="avalanche_fuji_p",e.AVALANCHE_FUJI_X="avalanche_fuji_x",e.BLAST_MAINNET="blast_mainnet",e.OPBNB_MAINNET="opbnb_mainnet",e.OPBNB_TESTNET="opbnb_testnet",e.GNOSIS_MAINNET="gnosis_mainnet",e.GNOSIS_CHIADO="gnosis_chiado",e.PULSECHAIN_MAINNET="pulsechain_mainnet",e.PULSECHAIN_TESTNET="pulsechain_testnet",e.KAVA_MAINNET="kava_mainnet",e.CRONOS_MAINNET="cronos_mainnet",e.MANTLE_MAINNET="mantle_mainnet",e.CHILIZ_MAINNET="chiliz_mainnet",e.CHILIZ_SPICY="chiliz_spicy",e.MOONBEAM_MAINNET="moonbeam_mainnet",e.TAIKO_MAINNET="taiko_mainnet",e.TAIKO_HEKLA="taiko_hekla",e.LINEA_MAINNET="linea_mainnet",e.LINEA_SEPOLIA="linea_sepolia",e.BAHAMUT_MAINNET="bahamut_mainnet",e.SCROLL_MAINNET="scroll_mainnet",e.SCROLL_SEPOLIA="scroll_sepolia",e.TRON_MAINNET="tron_mainnet",e.SYSCOIN_MAINNET="syscoin_mainnet",e.SYSCOIN_TANENBAUM="syscoin_tanenbaum",e.MOONRIVER_MAINNET="moonriver_mainnet",e.HAQQ_MAINNET="haqq_mainnet",e.EVMOS_MAINNET="evmos_mainnet",e.EVMOS_TESTNET="evmos_testnet",e.BERACHAIN_TESTNET="berachain_testnet",e;}(Ct||{});var zYe=1300,nF=class extends kt{constructor(t){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",t),this.code=zYe;}},UYe=1301,iT=class extends kt{constructor(t){super(`Invalid provider config options given for ${t}`),this.code=UYe;}};var jYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},xC=class extends Sg{constructor(t,n,i,r,s){if(super(),s!==void 0&&n===cc.HTTPS&&!("providerOptions"in s))throw new iT("HTTP Provider");if(s!==void 0&&n===cc.WebSocket&&!("socketOptions"in s||"reconnectOptions"in s))throw new iT("Websocket Provider");this.transport=n,n===cc.HTTPS?this.provider=new yv(this.getRPCURL(t,n,i,r),s):n===cc.WebSocket&&(this.provider=new bv(this.getRPCURL(t,n,i,r),s?.socketOptions,s?.reconnectOptions));}request(t,n){return jYe(this,void 0,void 0,function*(){return this.transport===cc.HTTPS?yield this.provider.request(t,n):this.provider.request(t);});}getStatus(){return this.provider.getStatus();}supportsSubscriptions(){return this.provider.supportsSubscriptions();}once(t,n){var i;!((i=this.provider)===null||i===void 0)&&i.once&&this.provider.once(t,n);}removeAllListeners(t){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(t);}connect(){var t;!((t=this.provider)===null||t===void 0)&&t.connect&&this.provider.connect();}disconnect(t,n){var i;!((i=this.provider)===null||i===void 0)&&i.disconnect&&this.provider.disconnect(t,n);}reset(){var t;!((t=this.provider)===null||t===void 0)&&t.reset&&this.provider.reset();}on(t,n){this.provider&&this.provider.on(t,n);}removeListener(t,n){this.provider&&this.provider.removeListener(t,n);}};var $Ye=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},ks=e=>e!==void 0&&e.trim().length>0,iF=class extends xC{constructor(t=Ct.ETH_MAINNET,n=cc.HTTPS,i="",r="",s){super(t,n,i,r,s);}request(t,n){let i=Object.create(null,{request:{get:()=>super.request}});return $Ye(this,void 0,void 0,function*(){try{return yield i.request.call(this,t,n);}catch(r){throw r instanceof vo&&r.statusCode===429?new nF(r):r;}});}getRPCURL(t,n,i,r){let s="",o="";switch(t){case Ct.ETH_MAINNET:s=ks(r)?r:"powerful-holy-bush.quiknode.pro",o=ks(i)?i:"3240624a343867035925ff7561eb60dfdba2a668";break;case Ct.ETH_SEPOLIA:s=ks(r)?r:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",o=ks(i)?i:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case Ct.ETH_HOLESKY:s=ks(r)?r:"yolo-morning-card.ethereum-holesky.quiknode.pro",o=ks(i)?i:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case Ct.ARBITRUM_MAINNET:s=ks(r)?r:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",o=ks(i)?i:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case Ct.ARBITRUM_SEPOLIA:s=ks(r)?r:"few-patient-pond.arbitrum-sepolia.quiknode.pro",o=ks(i)?i:"3be985450970628c860b959c65cd2642dcafe53c";break;case Ct.BNB_MAINNET:s=ks(r)?r:"purple-empty-reel.bsc.quiknode.pro",o=ks(i)?i:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case Ct.BNB_TESTNET:s=ks(r)?r:"floral-rough-scion.bsc-testnet.quiknode.pro",o=ks(i)?i:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case Ct.POLYGON_MAINNET:s=ks(r)?r:"small-chaotic-moon.matic.quiknode.pro",o=ks(i)?i:"847569f8a017e84d985e10d0f44365d965a951f1";break;case Ct.POLYGON_AMOY:s=ks(r)?r:"prettiest-side-shape.matic-amoy.quiknode.pro",o=ks(i)?i:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.");}return`${n}://${s}/${o}`;}};var WYe=e=>e!==void 0&&e.trim().length>0,qYe=[Ct.DYMENSION_MAINNET,Ct.DYMENSION_TESTNET,Ct.KAVA_MAINNET,Ct.CRONOS_MAINNET,Ct.POLYGON_MAINNET],Bz=class e extends xC{constructor(t=Ct.ETH_MAINNET,n=cc.HTTPS,i="",r){super(t,n,"",i,r);}getRPCURL(t,n,i,r){if(!e.networkHostMap[t])throw new Error("Network info not avalible.");let s=`${e.networkHostMap[t]}.publicnode.com`,o=WYe(r)?r:s;return qYe.includes(t)&&n===cc.WebSocket?`${n}://${o}/websocket`:`${n}://${o}`;}};Bz.networkHostMap={[Ct.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[Ct.DYMENSION_MAINNET]:"dymension-evm-rpc",[Ct.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[Ct.BLAST_MAINNET]:"blast-rpc",[Ct.GNOSIS_MAINNET]:"gnosis-rpc",[Ct.PULSECHAIN_MAINNET]:"pulsechain-rpc",[Ct.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[Ct.KAVA_MAINNET]:"kava-evm-rpc",[Ct.CRONOS_MAINNET]:"cronos-evm-rpc",[Ct.MANTLE_MAINNET]:"mantle-rpc",[Ct.TAIKO_MAINNET]:"taiko-rpc",[Ct.TAIKO_HEKLA]:"taiko-hekla-rpc",[Ct.LINEA_MAINNET]:"linea-rpc",[Ct.LINEA_SEPOLIA]:"linea-sepolia-rpc",[Ct.SCROLL_MAINNET]:"scroll-rpc",[Ct.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[Ct.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[Ct.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[Ct.HAQQ_MAINNET]:"haqq-evm-rpc",[Ct.EVMOS_MAINNET]:"evmos-evm-rpc",[Ct.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[Ct.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[Ct.ETH_MAINNET]:"ethereum-rpc",[Ct.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[Ct.ETH_HOLESKY]:"ethereum-holesky-rpc",[Ct.BSC_MAINNET]:"bsc-rpc",[Ct.BSC_TESTNET]:"bsc-testnet-rpc",[Ct.POLYGON_MAINNET]:"polygon-bor-rpc",[Ct.BASE_MAINNET]:"base-rpc",[Ct.BASE_SEPOLIA]:"base-sepolia-rpc",[Ct.ARBITRUM_ONE]:"arbitrum-one-rpc",[Ct.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[Ct.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[Ct.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[Ct.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[Ct.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[Ct.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[Ct.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[Ct.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[Ct.OPTIMISM_MAINNET]:"optimism-rpc",[Ct.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[Ct.FANTOM_MAINNET]:"fantom-rpc",[Ct.FANTOM_TESTNET]:"fantom-testnet-rpc",[Ct.OPBNB_MAINNET]:"opbnb-rpc",[Ct.OPBNB_TESTNET]:"opbnb-testnet-rpc",[Ct.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[Ct.CHILIZ_MAINNET]:"chiliz-rpc",[Ct.CHILIZ_SPICY]:"chiliz-spicy-rpc",[Ct.MOONBEAM_MAINNET]:"moonbeam-rpc",[Ct.BAHAMUT_MAINNET]:"bahamut-rpc",[Ct.TRON_MAINNET]:"tron-evm-rpc",[Ct.MOONRIVER_MAINNET]:"moonriver-rpc"};var Bhe=new iF();var Vhe={encodeEventSignature:cC,encodeFunctionCall:qde,encodeFunctionSignature:Ng,encodeParameter:XE,encodeParameters:Fd,decodeParameter:UM,decodeParameters:Nd,decodeLog:jM};var rT=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Hhe=e=>{let t=(o,a)=>rT(void 0,void 0,void 0,function*(){let l=yield whe(o,e),c=Ve({format:"bytes"},a,Vt);return nde(l,c);}),n=o=>{let a=TM(o);return Object.assign(Object.assign({},a),{signTransaction:l=>rT(void 0,void 0,void 0,function*(){return t(l,a.privateKey);})});},i=(o,a,l)=>rT(void 0,void 0,void 0,function*(){var c;let u=yield ode(o,a,(c=l?.nonStrict)!==null&&c!==void 0?c:!0);return Object.assign(Object.assign({},u),{signTransaction:d=>rT(void 0,void 0,void 0,function*(){return t(d,u.privateKey);})});}),r=()=>{let o=sde();return Object.assign(Object.assign({},o),{signTransaction:a=>rT(void 0,void 0,void 0,function*(){return t(a,o.privateKey);})});},s=new aM({create:r,privateKeyToAccount:n,decrypt:i});return{signTransaction:t,create:r,privateKeyToAccount:n,decrypt:i,recoverTransaction:ide,hashMessage:EM,sign:nz,recover:_M,encrypt:iz,wallet:s,privateKeyToAddress:Jw,parseAndValidatePrivateKey:Iv,privateKeyToPublicKey:rde};};var Ghe={version:"4.16.0"};var KYe=function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s);});}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u));}catch(d){o(d);}}function l(u){try{c(i.throw(u));}catch(d){o(d);}}function c(u){u.done?s(u.value):r(u.value).then(a,l);}c((i=i.apply(e,t||[])).next());});},Hz=function(e){return e.eip6963announceProvider="eip6963:announceProvider",e.eip6963requestProvider="eip6963:requestProvider",e;}(Hz||{}),Vz=new Map(),zhe="web3:providersMapUpdated",Uhe=()=>KYe(void 0,void 0,void 0,function*(){return new Promise((e,t)=>{typeof window>"u"&&t(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Hz.eip6963announceProvider,n=>{Vz.set(n.detail.info.uuid,n.detail);let i=new CustomEvent(zhe,{detail:Vz});window.dispatchEvent(i),e(Vz);}),window.dispatchEvent(new Event(Hz.eip6963requestProvider));});}),jhe=e=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(zhe,e);};var Gg=class extends Yr{constructor(t=Bhe){var n;(Rt(t)||typeof t=="string"&&t.trim()===""||typeof t!="string"&&!xv(t)&&!t.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let i={};typeof t=="string"||xv(t)?i.provider=t:t?i=t:i={},i.registeredSubscriptions=Object.assign(Object.assign({},YM),(n=i.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(i);let r=Hhe(this);this._wallet=r.wallet,this._accountProvider=r,this.utils=kE;let s=this;class o extends Ehe{constructor(c,u,d,h,f){if(cu(u)&&cu(d))throw new hw("Should not provide options at both 2nd and 3rd parameters");let g,m={},y,b;if(!Rt(u)&&typeof u!="object"&&typeof u!="string")throw new hw();if(typeof u=="string"&&(g=u),cu(u)?m=u:cu(d)?m=d:m={},u instanceof Yr?y=u:d instanceof Yr?y=d:h instanceof Yr?y=h:y=s.getContextObject(),f?b=f:uu(d)?b=d:uu(h)&&(b=h),super(c,g,m,y,b),super.subscribeToContextEvents(s),!Rt(a)){let C=a.getTransactionMiddleware();Rt(C)||super.setTransactionMiddleware(C);}}}let a=s.use(Lv);this.eth=Object.assign(a,{ens:s.use(nT,Hg.main),Iban:eC,net:s.use(Pv),personal:s.use(Vv),Contract:o,abi:Vhe,accounts:r});}};Gg.version=Ghe.version;Gg.utils=kE;Gg.requestEIP6963Providers=Uhe;Gg.onNewProviderDiscovered=jhe;Gg.modules={Web3Eth:Lv,Iban:eC,Net:Pv,ENS:nT,Personal:Vv};var $he=Gg;var Whe=$he;var wC=class e{constructor(t,n){this.ngZone=t;this.router=n;this.listenToEvents();}provider;userAddress;contract;errorMessage="";listeningToContractEvents=!1;reloadCurrentRoute(t=this.router.url){let n=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t]);});}listenToEvents(){["chainChanged","accountsChanged"].forEach(t=>{window.ethereum.on(t,()=>{this.ngZone.run(()=>this.connectToBC());});});}listenToContractEvents(){return $(this,null,function*(){if(this.listeningToContractEvents)return;this.listeningToContractEvents=!0;let t=yield this.provider?.getBlockNumber();["SalaryTransferred","EmployeeAdded","ContractFunded"].forEach(n=>{this.contract?.on(n,(...i)=>{let r=i[i.length-1];t&&r.log.blockNumber<=t||this.ngZone.run(()=>this.reloadCurrentRoute("/salaries"));});});});}connectToBC(){return $(this,null,function*(){this.provider=void 0,this.userAddress=void 0,this.contract=void 0,this.errorMessage="";try{if(window.ethereum==null)throw new Error("Please install MetaMask wallet!");{this.provider=new dw.BrowserProvider(window.ethereum);let t=yield this.provider.getNetwork();if(Number(t.chainId)!==bp.allowedChainId)throw new Error(`Chain ID is not ${bp.allowedChainId}, please reconnect MetaMask wallet!`);let n=yield this.provider.getSigner();if(this.userAddress=yield n.getAddress(),this.contract=new dw.Contract(bp.contractAddress,(yield(yield fetch(bp.contractUrl)).json()).abi,n),(yield this.provider.getCode(bp.contractAddress))=="0x")throw new Error("Contract not deployed!");this.listenToContractEvents();}}catch(t){this.errorMessage=t.reason||t.message;}finally{this.errorMessage&&console.log(this.errorMessage);}});}getBalance(){return $(this,null,function*(){try{if(!this.contract)throw new Error("Contract not initialized");let t=yield this.contract.getBalance();return Whe.utils.fromWei(t,"ether");}catch(t){return console.error("Error fetching balance:",t),"0";}});}isAdmin(){return $(this,null,function*(){return this.contract?yield this.contract.isAdmin():!1;});}addEmployee(t,n,i,r){return $(this,null,function*(){if(this.contract)try{yield this.contract.addEmployeeWallet(t,n,i,r);return;}catch(s){console.error("Error calling addEmployee:",s);return;}});}getEmployees(){return $(this,null,function*(){if(this.contract)return yield this.contract.getAllEmployees();});}transferSalary(t){return $(this,null,function*(){if(this.contract)try{return yield(yield this.contract.transferSalary(t)).wait(),!0;}catch(n){return console.error("Error transferring salary:",n.reason||n.message),!1;}});}fundContract(){return $(this,null,function*(){if(this.contract)return yield this.contract.fundContract({value:dw.parseEther("10")});});}static ɵfac=function(n){return new(n||e)(rt(Tn),rt(Fn));};static ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});};function ZYe(e,t){if(e&1&&(j(0,"div",2)(1,"div",3)(2,"div",4),Ke(3,"i",5),nt(4),q()()()),e&2){let n=ve();J(4),jn("",n.ethereumService.errorMessage," ");}}function JYe(e,t){if(e&1){let n=zt();j(0,"app-nice-form",15),Ze("result",function(r){vt(n);let s=ve(3);return yt(s.transfer(r));}),q();}if(e&2){let n=ve(3);se("formcontrol",n.transferForm);}}function eXe(e,t){if(e&1){let n=zt();j(0,"div",13)(1,"button",14),Ze("click",function(){vt(n);let r=ve(2);return yt(r.fundContract());}),nt(2," Fund contract 10 ETH "),q(),j(3,"h3"),nt(4,"Add Employee"),q(),j(5,"app-nice-form",15),Ze("result",function(r){vt(n);let s=ve(2);return yt(s.addEmployee(r));}),q(),j(6,"h3"),nt(7,"Transfer"),q(),Le(8,JYe,1,1,"app-nice-form",16),q();}if(e&2){let n=ve(2);J(5),se("formcontrol",n.addEmployeeForm),J(3),se("ngIf",n.wallets.length>0);}}function tXe(e,t){if(e&1&&Ke(0,"ag-grid-angular",17),e&2){let n=ve(2);se("rowData",n.employees)("columnDefs",n.employeeColDef);}}function nXe(e,t){if(e&1&&(j(0,"div",6)(1,"div",7),nt(2,"CONTRACT BALANCE"),q(),j(3,"div",8),nt(4),q(),j(5,"div",9),nt(6),q(),Le(7,eXe,9,2,"div",10),j(8,"div",11),Le(9,tXe,1,2,"ag-grid-angular",12),q()()),e&2){let n=ve();J(4),jn("",n.ethData.balance," ETH"),J(2),Mn(n.ethereumService.userAddress),J(),se("ngIf",n.ethData.isAdmin),J(2),se("ngIf",n.employees.length>0);}}var rF=class e{constructor(t){this.ethereumService=t;}ngOnInit(){return $(this,null,function*(){yield this.ethereumService.connectToBC(),this.ethData.balance=yield this.ethereumService.getBalance(),this.ethData.isAdmin=yield this.ethereumService.isAdmin(),this.ethData.isAdmin&&(yield this.loadEmployees(),this.wallets=this.employees.map(t=>({label:t.wallet,value:t.wallet})),this.transferForm=[{name:"wallet",type:"select",title:"Wallet:",default:"",validators:[ft.required],options:this.wallets}]);});}ethData={balance:"",isAdmin:!1};employees=[];wallets=[];employeeColDef=[{field:"wallet"},{field:"basicSalary"},{field:"allowances"},{field:"deductions"}];addEmployee(t){return $(this,null,function*(){yield this.ethereumService.addEmployee(t.wallet,t.basicSalary,t.allowances,t.deductions),yield this.loadEmployees();});}addEmployeeForm=[{name:"wallet",type:"text",title:"Wallet:",placeholder:"0x...",default:"",validators:[ft.required,ft.pattern(/^0x[a-fA-F0-9]{40}$/)]},{name:"basicSalary",type:"text",title:"Basic Salary",placeholder:"Basic Salary",default:"",validators:[ft.required,ft.pattern("[0-9]*")]},{name:"allowances",type:"text",title:"Allowances",placeholder:"Allowances",default:"",validators:[ft.required,ft.pattern("[0-9]*")]},{name:"deductions",type:"text",title:"Deductions",placeholder:"Deductions",default:"",validators:[ft.required,ft.pattern("[0-9]*")]}];loadEmployees(){return $(this,null,function*(){let n=(yield this.ethereumService.getEmployees()).map(i=>({wallet:i[0],basicSalary:i[1],allowances:i[2],deductions:i[3],exists:i[4]}));this.employees=[...n];});}transferForm=[];transfer(t){return $(this,null,function*(){yield this.ethereumService.transferSalary(t.wallet);});}fundContract(){return $(this,null,function*(){yield this.ethereumService.fundContract();});}static ɵfac=function(n){return new(n||e)(Te(wC));};static ɵcmp=St({type:e,selectors:[["app-wallet"]],features:[Rr([wC])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","container-sm p-5 bg-light mt-4",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"alert","alert-dark","mt-4","p-2"],[1,"fa-solid","fa-triangle-exclamation","pe-2"],[1,"container-sm","p-5","bg-light","mt-4"],[1,"fs-6"],[1,"fs-3","fw-bold"],[2,"font-size","10px"],["class","mt-5",4,"ngIf"],[1,"mt-2"],["style","height: 400px",3,"rowData","columnDefs",4,"ngIf"],[1,"mt-5"],[1,"btn","btn-primary",3,"click"],[3,"result","formcontrol"],[3,"formcontrol","result",4,"ngIf"],[2,"height","400px",3,"rowData","columnDefs"]],template:function(n,i){n&1&&Le(0,ZYe,5,1,"div",0)(1,nXe,10,4,"div",1),n&2&&(se("ngIf",i.ethereumService.errorMessage),J(),se("ngIf",!i.ethereumService.errorMessage));},dependencies:[cn,rn,Mr,tx],encapsulation:2});};var So=Uint8Array,dl=Uint16Array,Kz=Int32Array,sF=new So([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oF=new So([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jz=new So([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xhe=function(e,t){for(var n=new dl(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new Kz(n[30]),i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return{b:n,r};},Qhe=Xhe(sF,2),Zhe=Qhe.b,$z=Qhe.r;Zhe[28]=258,$z[258]=28;var Jhe=Xhe(oF,0),iXe=Jhe.b,qhe=Jhe.r,Wz=new dl(32768);for(wi=0;wi<32768;++wi)Rf=(wi&43690)>>1|(wi&21845)<<1,Rf=(Rf&52428)>>2|(Rf&13107)<<2,Rf=(Rf&61680)>>4|(Rf&3855)<<4,Wz[wi]=((Rf&65280)>>8|(Rf&255)<<8)>>1;var Rf,wi,Ld=function(e,t,n){for(var i=e.length,r=0,s=new dl(t);r<i;++r)e[r]&&++s[e[r]-1];var o=new dl(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;var a;if(n){a=new dl(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var c=r<<4|e[r],u=t-e[r],d=o[e[r]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[Wz[d]>>l]=c;}else for(a=new dl(i),r=0;r<i;++r)e[r]&&(a[r]=Wz[o[e[r]-1]++]>>15-e[r]);return a;},zg=new So(288);for(wi=0;wi<144;++wi)zg[wi]=8;var wi;for(wi=144;wi<256;++wi)zg[wi]=9;var wi;for(wi=256;wi<280;++wi)zg[wi]=7;var wi;for(wi=280;wi<288;++wi)zg[wi]=8;var wi,aT=new So(32);for(wi=0;wi<32;++wi)aT[wi]=5;var wi,rXe=Ld(zg,9,0),sXe=Ld(zg,9,1),oXe=Ld(aT,5,0),aXe=Ld(aT,5,1),Gz=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t;},pu=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n;},zz=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7);},Yz=function(e){return(e+7)/8|0;},efe=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new So(e.subarray(t,n));};var lXe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gu=function(e,t,n){var i=new Error(t||lXe[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,gu),!n)throw i;return i;},cXe=function(e,t,n,i){var r=e.length,s=i?i.length:0;if(!r||t.f&&!t.l)return n||new So(0);var o=!n,a=o||t.i!=2,l=t.i;o&&(n=new So(r*3));var c=function(Pe){var ge=n.length;if(Pe>ge){var Ge=new So(Math.max(ge*2,Pe));Ge.set(n),n=Ge;}},u=t.f||0,d=t.p||0,h=t.b||0,f=t.l,g=t.d,m=t.m,y=t.n,b=r*8;do{if(!f){u=pu(e,d,1);var C=pu(e,d+1,3);if(d+=3,C){if(C==1)f=sXe,g=aXe,m=9,y=5;else if(C==2){var N=pu(e,d,31)+257,R=pu(e,d+10,15)+4,D=N+pu(e,d+5,31)+1;d+=14;for(var V=new So(D),X=new So(19),S=0;S<R;++S)X[jz[S]]=pu(e,d+S*3,7);d+=R*3;for(var T=Gz(X),z=(1<<T)-1,W=Ld(X,T,1),S=0;S<D;){var H=W[pu(e,d,z)];d+=H&15;var _=H>>4;if(_<16)V[S++]=_;else{var F=0,Y=0;for(_==16?(Y=3+pu(e,d,3),d+=2,F=V[S-1]):_==17?(Y=3+pu(e,d,7),d+=3):_==18&&(Y=11+pu(e,d,127),d+=7);Y--;)V[S++]=F;}}var Z=V.subarray(0,N),ne=V.subarray(N);m=Gz(Z),y=Gz(ne),f=Ld(Z,m,1),g=Ld(ne,y,1);}else gu(1);}else{var _=Yz(d)+4,A=e[_-4]|e[_-3]<<8,I=_+A;if(I>r){l&&gu(0);break;}a&&c(h+A),n.set(e.subarray(_,I),h),t.b=h+=A,t.p=d=I*8,t.f=u;continue;}if(d>b){l&&gu(0);break;}}a&&c(h+131072);for(var ae=(1<<m)-1,Ce=(1<<y)-1,P=d;;P=d){var F=f[zz(e,d)&ae],Q=F>>4;if(d+=F&15,d>b){l&&gu(0);break;}if(F||gu(2),Q<256)n[h++]=Q;else if(Q==256){P=d,f=null;break;}else{var ee=Q-254;if(Q>264){var S=Q-257,le=sF[S];ee=pu(e,d,(1<<le)-1)+Zhe[S],d+=le;}var he=g[zz(e,d)&Ce],ue=he>>4;he||gu(3),d+=he&15;var ne=iXe[ue];if(ue>3){var le=oF[ue];ne+=zz(e,d)&(1<<le)-1,d+=le;}if(d>b){l&&gu(0);break;}a&&c(h+131072);var xe=h+ee;if(h<ne){var oe=s-ne,Ae=Math.min(ne,xe);for(oe+h<0&&gu(3);h<Ae;++h)n[h]=i[oe+h];}for(;h<xe;++h)n[h]=n[h-ne];}}t.l=f,t.p=P,t.b=h,t.f=u,f&&(u=1,t.m=m,t.d=g,t.n=y);}while(!u);return h!=n.length&&o?efe(n,0,h):n.subarray(0,h);},If=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8;},sT=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16;},Uz=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,s=n.slice();if(!r)return{t:nfe,l:0};if(r==1){var o=new So(n[0].s+1);return o[n[0].s]=1,{t:o,l:1};}n.sort(function(I,N){return I.f-N.f;}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,i=1;i<r;++i)s[i].s>h&&(h=s[i].s);var f=new dl(h+1),g=qz(n[u-1],f,0);if(g>t){var i=0,m=0,y=g-t,b=1<<y;for(s.sort(function(N,R){return f[R.s]-f[N.s]||N.f-R.f;});i<r;++i){var C=s[i].s;if(f[C]>t)m+=b-(1<<g-f[C]),f[C]=t;else break;}for(m>>=y;m>0;){var _=s[i].s;f[_]<t?m-=1<<t-f[_]++-1:++i;}for(;i>=0&&m;--i){var A=s[i].s;f[A]==t&&(--f[A],++m);}g=t;}return{t:new So(f),l:g};},qz=function(e,t,n){return e.s==-1?Math.max(qz(e.l,t,n+1),qz(e.r,t,n+1)):t[e.s]=n;},Khe=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new dl(++t),i=0,r=e[0],s=1,o=function(l){n[i++]=l;},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0);}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0);}for(;s--;)o(r);s=1,r=e[a];}return{c:n.subarray(0,i),n:t};},oT=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n;},tfe=function(e,t,n){var i=n.length,r=Yz(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var s=0;s<i;++s)e[r+s+4]=n[s];return(r+4+i)*8;},Yhe=function(e,t,n,i,r,s,o,a,l,c,u){If(t,u++,n),++r[256];for(var d=Uz(r,15),h=d.t,f=d.l,g=Uz(s,15),m=g.t,y=g.l,b=Khe(h),C=b.c,_=b.n,A=Khe(m),I=A.c,N=A.n,R=new dl(19),D=0;D<C.length;++D)++R[C[D]&31];for(var D=0;D<I.length;++D)++R[I[D]&31];for(var V=Uz(R,7),X=V.t,S=V.l,T=19;T>4&&!X[jz[T-1]];--T);var z=c+5<<3,W=oT(r,zg)+oT(s,aT)+o,H=oT(r,h)+oT(s,m)+o+14+3*T+oT(R,X)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&z<=W&&z<=H)return tfe(t,u,e.subarray(l,l+c));var F,Y,Z,ne;if(If(t,u,1+(H<W)),u+=2,H<W){F=Ld(h,f,0),Y=h,Z=Ld(m,y,0),ne=m;var ae=Ld(X,S,0);If(t,u,_-257),If(t,u+5,N-1),If(t,u+10,T-4),u+=14;for(var D=0;D<T;++D)If(t,u+3*D,X[jz[D]]);u+=3*T;for(var Ce=[C,I],P=0;P<2;++P)for(var Q=Ce[P],D=0;D<Q.length;++D){var ee=Q[D]&31;If(t,u,ae[ee]),u+=X[ee],ee>15&&(If(t,u,Q[D]>>5&127),u+=Q[D]>>12);}}else F=rXe,Y=zg,Z=oXe,ne=aT;for(var D=0;D<a;++D){var le=i[D];if(le>255){var ee=le>>18&31;sT(t,u,F[ee+257]),u+=Y[ee+257],ee>7&&(If(t,u,le>>23&31),u+=sF[ee]);var he=le&31;sT(t,u,Z[he]),u+=ne[he],he>3&&(sT(t,u,le>>5&8191),u+=oF[he]);}else sT(t,u,F[le]),u+=Y[le];}return sT(t,u,F[256]),u+Y[256];},uXe=new Kz([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nfe=new So(0),dXe=function(e,t,n,i,r,s){var o=s.z||e.length,a=new So(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=uXe[t-1],h=d>>13,f=d&8191,g=(1<<n)-1,m=s.p||new dl(32768),y=s.h||new dl(g+1),b=Math.ceil(n/3),C=2*b,_=function(it){return(e[it]^e[it+1]<<b^e[it+2]<<C)&g;},A=new Kz(25e3),I=new dl(288),N=new dl(32),R=0,D=0,V=s.i||0,X=0,S=s.w||0,T=0;V+2<o;++V){var z=_(V),W=V&32767,H=y[z];if(m[W]=H,y[z]=W,S<=V){var F=o-V;if((R>7e3||X>24576)&&(F>423||!c)){u=Yhe(e,l,0,A,I,N,D,X,T,V-T,u),X=R=D=0,T=V;for(var Y=0;Y<286;++Y)I[Y]=0;for(var Y=0;Y<30;++Y)N[Y]=0;}var Z=2,ne=0,ae=f,Ce=W-H&32767;if(F>2&&z==_(V-Ce))for(var P=Math.min(h,F)-1,Q=Math.min(32767,V),ee=Math.min(258,F);Ce<=Q&&--ae&&W!=H;){if(e[V+Z]==e[V+Z-Ce]){for(var le=0;le<ee&&e[V+le]==e[V+le-Ce];++le);if(le>Z){if(Z=le,ne=Ce,le>P)break;for(var he=Math.min(Ce,le-2),ue=0,Y=0;Y<he;++Y){var xe=V-Ce+Y&32767,oe=m[xe],Ae=xe-oe&32767;Ae>ue&&(ue=Ae,H=xe);}}}W=H,H=m[W],Ce+=W-H&32767;}if(ne){A[X++]=268435456|$z[Z]<<18|qhe[ne];var Pe=$z[Z]&31,ge=qhe[ne]&31;D+=sF[Pe]+oF[ge],++I[257+Pe],++N[ge],S=V+Z,++R;}else A[X++]=e[V],++I[e[V]];}}for(V=Math.max(V,S);V<o;++V)A[X++]=e[V],++I[e[V]];u=Yhe(e,l,c,A,I,N,D,X,T,V-T,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=y,s.p=m,s.i=V,s.w=S);}else{for(var V=s.w||0;V<o+c;V+=65535){var Ge=V+65535;Ge>=o&&(l[u/8|0]=c,Ge=o),u=tfe(l,u+1,e.subarray(V,Ge));}s.i=o;}return efe(a,0,i+Yz(u)+r);};var ife=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16);}e=i,t=r;},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8;}};},hXe=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new So(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length;}return dXe(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r);};var rfe=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8;};var fXe=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=ife();r.p(t.dictionary),rfe(e,2,r.d());}},pXe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&gu(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&gu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2;};function aF(e,t){t||(t={});var n=ife();n.p(e);var i=hXe(e,t,t.dictionary?6:2,4);return fXe(i,t),rfe(i,i.length-4,n.d()),i;}function sfe(e,t){return cXe(e.subarray(pXe(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary);}var gXe=typeof TextDecoder<"u"&&new TextDecoder(),mXe=0;try{gXe.decode(nfe,{stream:!0}),mXe=1;}catch{}var Zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this;}();function Xz(){Zt.console&&typeof Zt.console.log=="function"&&Zt.console.log.apply(Zt.console,arguments);}var Xi={log:Xz,warn:function(e){Zt.console&&(typeof Zt.console.warn=="function"?Zt.console.warn.apply(Zt.console,arguments):Xz.call(null,arguments));},error:function(e){Zt.console&&(typeof Zt.console.error=="function"?Zt.console.error.apply(Zt.console,arguments):Xz(e));}};function Qz(e,t,n){var i=new XMLHttpRequest();i.open("GET",e),i.responseType="blob",i.onload=function(){Hv(i.response,t,n);},i.onerror=function(){Xi.error("could not download file");},i.send();}function ofe(e){var t=new XMLHttpRequest();t.open("HEAD",e,!1);try{t.send();}catch{}return t.status>=200&&t.status<=299;}function lF(e){try{e.dispatchEvent(new MouseEvent("click"));}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t);}}var lT,nU,Hv=Zt.saveAs||((typeof window>"u"?"undefined":Ni(window))!=="object"||window!==Zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=Zt.URL||Zt.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?ofe(r.href)?Qz(e,t,n):lF(r,r.target="_blank"):lF(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href);},4e4),setTimeout(function(){lF(r);},0));}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string"){if(ofe(e))Qz(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){lF(i);});}}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Ni(s)!=="object"&&(Xi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r;}(e,n),t);}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return Qz(e,t,n);var r=e.type==="application/octet-stream",s=/constructor/i.test(Zt.HTMLElement)||Zt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Ni(FileReader))==="object"){var a=new FileReader();a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null;},a.readAsDataURL(e);}else{var l=Zt.URL||Zt.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c);},4e4);}});function _fe(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])];}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];}}],i=0;i<n.length;i++){var r=n[i].re,s=n[i].process,o=r.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0);}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")";},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c;};}function Zz(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];n=Eo(n,i,r,s,t[0],7,-680876936),s=Eo(s,n,i,r,t[1],12,-389564586),r=Eo(r,s,n,i,t[2],17,606105819),i=Eo(i,r,s,n,t[3],22,-1044525330),n=Eo(n,i,r,s,t[4],7,-176418897),s=Eo(s,n,i,r,t[5],12,1200080426),r=Eo(r,s,n,i,t[6],17,-1473231341),i=Eo(i,r,s,n,t[7],22,-45705983),n=Eo(n,i,r,s,t[8],7,1770035416),s=Eo(s,n,i,r,t[9],12,-1958414417),r=Eo(r,s,n,i,t[10],17,-42063),i=Eo(i,r,s,n,t[11],22,-1990404162),n=Eo(n,i,r,s,t[12],7,1804603682),s=Eo(s,n,i,r,t[13],12,-40341101),r=Eo(r,s,n,i,t[14],17,-1502002290),n=To(n,i=Eo(i,r,s,n,t[15],22,1236535329),r,s,t[1],5,-165796510),s=To(s,n,i,r,t[6],9,-1069501632),r=To(r,s,n,i,t[11],14,643717713),i=To(i,r,s,n,t[0],20,-373897302),n=To(n,i,r,s,t[5],5,-701558691),s=To(s,n,i,r,t[10],9,38016083),r=To(r,s,n,i,t[15],14,-660478335),i=To(i,r,s,n,t[4],20,-405537848),n=To(n,i,r,s,t[9],5,568446438),s=To(s,n,i,r,t[14],9,-1019803690),r=To(r,s,n,i,t[3],14,-187363961),i=To(i,r,s,n,t[8],20,1163531501),n=To(n,i,r,s,t[13],5,-1444681467),s=To(s,n,i,r,t[2],9,-51403784),r=To(r,s,n,i,t[7],14,1735328473),n=Ao(n,i=To(i,r,s,n,t[12],20,-1926607734),r,s,t[5],4,-378558),s=Ao(s,n,i,r,t[8],11,-2022574463),r=Ao(r,s,n,i,t[11],16,1839030562),i=Ao(i,r,s,n,t[14],23,-35309556),n=Ao(n,i,r,s,t[1],4,-1530992060),s=Ao(s,n,i,r,t[4],11,1272893353),r=Ao(r,s,n,i,t[7],16,-155497632),i=Ao(i,r,s,n,t[10],23,-1094730640),n=Ao(n,i,r,s,t[13],4,681279174),s=Ao(s,n,i,r,t[0],11,-358537222),r=Ao(r,s,n,i,t[3],16,-722521979),i=Ao(i,r,s,n,t[6],23,76029189),n=Ao(n,i,r,s,t[9],4,-640364487),s=Ao(s,n,i,r,t[12],11,-421815835),r=Ao(r,s,n,i,t[15],16,530742520),n=Do(n,i=Ao(i,r,s,n,t[2],23,-995338651),r,s,t[0],6,-198630844),s=Do(s,n,i,r,t[7],10,1126891415),r=Do(r,s,n,i,t[14],15,-1416354905),i=Do(i,r,s,n,t[5],21,-57434055),n=Do(n,i,r,s,t[12],6,1700485571),s=Do(s,n,i,r,t[3],10,-1894986606),r=Do(r,s,n,i,t[10],15,-1051523),i=Do(i,r,s,n,t[1],21,-2054922799),n=Do(n,i,r,s,t[8],6,1873313359),s=Do(s,n,i,r,t[15],10,-30611744),r=Do(r,s,n,i,t[6],15,-1560198380),i=Do(i,r,s,n,t[13],21,1309151649),n=Do(n,i,r,s,t[4],6,-145523070),s=Do(s,n,i,r,t[11],10,-1120210379),r=Do(r,s,n,i,t[2],15,718787259),i=Do(i,r,s,n,t[9],21,-343485551),e[0]=jg(n,e[0]),e[1]=jg(i,e[1]),e[2]=jg(r,e[2]),e[3]=jg(s,e[3]);}function yF(e,t,n,i,r,s){return t=jg(jg(t,e),jg(i,s)),jg(t<<r|t>>>32-r,n);}function Eo(e,t,n,i,r,s,o){return yF(t&n|~t&i,e,t,r,s,o);}function To(e,t,n,i,r,s,o){return yF(t&i|n&~i,e,t,r,s,o);}function Ao(e,t,n,i,r,s,o){return yF(t^n^i,e,t,r,s,o);}function Do(e,t,n,i,r,s,o){return yF(n^(t|~i),e,t,r,s,o);}function Sfe(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Zz(i,vXe(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Zz(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,Zz(i,r),i;}function vXe(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n;}lT=Zt.atob.bind(Zt),nU=Zt.btoa.bind(Zt);var afe="0123456789abcdef".split("");function yXe(e){for(var t="",n=0;n<4;n++)t+=afe[e>>8*n+4&15]+afe[e>>8*n&15];return t;}function bXe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24);}function iU(e){return Sfe(e).map(bXe).join("");}var xXe=function(e){for(var t=0;t<e.length;t++)e[t]=yXe(e[t]);return e.join("");}(Sfe("hello"))!="5d41402abc4b2a76b9719d911017c592";function jg(e,t){if(xXe){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n;}return e+t&4294967295;}function rU(e,t){var n,i,r,s;if(e!==n){for(var o=(r=e,s=1+(256/e.length>>0),new Array(s+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u;}n=e,i=a;}else a=i;var d=t.length,h=0,f=0,g="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],g+=String.fromCharCode(t.charCodeAt(l)^o);return g;}var lfe={print:4,modify:8,copy:16,"annot-forms":32};function SC(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(a){if(lfe.perm!==void 0)throw new Error("Invalid permission: "+a);r+=lfe[a];}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=iU(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=rU(this.encryptionKey,this.padding);}function EC(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=e[i];}return t;}function cfe(e){if(Ni(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[i,!!r],s;},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1;},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,i);}catch(a){Zt.console&&Xi.error("jsPDF PubSub Error",a.message,a);}o[1]&&r.push(s);}r.length&&r.forEach(this.unsubscribe);}},this.getTopics=function(){return t;};}function mF(e){if(!(this instanceof mF))return new mF(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1;}function Efe(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1;}function Gv(e,t,n,i,r){if(!(this instanceof Gv))return new Gv(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Efe.call(this,i,r);}function TC(e,t,n,i,r){if(!(this instanceof TC))return new TC(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Efe.call(this,i,r);}function Kt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Ni(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=cfe;var g="1.3",m=f.__private__.getPdfVersion=function(){return g;};f.__private__.setPdfVersion=function(x){g=x;};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y;};var b=f.__private__.getPageFormat=function(x){return y[x];};r=r||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},_=C.COMPAT;function A(){this.saveGraphicsState(),re(new Yt(xt,0,0,-xt,0,Ff()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),c="n",_=C.ADVANCED;}function I(){this.restoreGraphicsState(),c="S",_=C.COMPAT;}var N=f.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x;};f.advancedAPI=function(x){var M=_===C.COMPAT;return M&&A.call(this),typeof x!="function"||(x(this),M&&I.call(this)),this;},f.compatAPI=function(x){var M=_===C.ADVANCED;return M&&I.call(this),typeof x!="function"||(x(this),M&&A.call(this)),this;},f.isAdvancedAPI=function(){return _===C.ADVANCED;};var R,D=function(x){if(_!==C.ADVANCED)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.");},V=f.roundToPrecision=f.__private__.roundToPrecision=function(x,M){var ie=t||M;if(isNaN(x)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(ie).replace(/0+$/,"");};R=f.hpf=f.__private__.hpf=typeof l=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return V(x,l);}:l==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return V(x,x>-1&&x<1?16:5);}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return V(x,16);};var X=f.f2=f.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return V(x,2);},S=f.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return V(x,3);},T=f.scale=f.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return _===C.COMPAT?x*xt:_===C.ADVANCED?x:void 0;},z=function(x){return _===C.COMPAT?Ff()-x:_===C.ADVANCED?x:void 0;},W=function(x){return T(z(x));};f.__private__.setPrecision=f.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(t=parseInt(x,10));};var H,F="00000000000000000000000000000000",Y=f.__private__.getFileId=function(){return F;},Z=f.__private__.setFileId=function(x){return F=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()));}).join(""),u!==null&&(ro=new SC(u.userPermissions,u.userPassword,u.ownerPassword,F)),F;};f.setFileId=function(x){return Z(x),this;},f.getFileId=function(){return Y();};var ne=f.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),ie=M<0?"+":"-",ce=Math.floor(Math.abs(M/60)),be=Math.abs(M%60),Ne=[ie,ee(ce),"'",ee(be),"'"].join("");return["D:",x.getFullYear(),ee(x.getMonth()+1),ee(x.getDate()),ee(x.getHours()),ee(x.getMinutes()),ee(x.getSeconds()),Ne].join("");},ae=f.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),ie=parseInt(x.substr(6,2),10)-1,ce=parseInt(x.substr(8,2),10),be=parseInt(x.substr(10,2),10),Ne=parseInt(x.substr(12,2),10),Ye=parseInt(x.substr(14,2),10);return new Date(M,ie,ce,be,Ne,Ye,0);},Ce=f.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date()),x instanceof Date)M=ne(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x;}return H=M;},P=f.__private__.getCreationDate=function(x){var M=H;return x==="jsDate"&&(M=ae(H)),M;};f.setCreationDate=function(x){return Ce(x),this;},f.getCreationDate=function(x){return P(x);};var Q,ee=f.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2);},le=f.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length);},he=0,ue=[],xe=[],oe=0,Ae=[],Pe=[],ge=!1,Ge=xe,it=function(){he=0,oe=0,xe=[],ue=[],Ae=[],Ud=Jr(),pc=Jr();};f.__private__.setCustomOutputDestination=function(x){ge=!0,Ge=x;};var De=function(x){ge||(Ge=x);};f.__private__.resetCustomOutputDestination=function(){ge=!1,Ge=xe;};var re=f.__private__.out=function(x){return x=x.toString(),oe+=x.length+1,Ge.push(x),Ge;},tt=f.__private__.write=function(x){return re(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "));},lt=f.__private__.getArrayBuffer=function(x){for(var M=x.length,ie=new ArrayBuffer(M),ce=new Uint8Array(ie);M--;)ce[M]=x.charCodeAt(M);return ie;},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Xe;};var st=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(x){return st=_===C.ADVANCED?x/xt:x,this;};var bt,gt=f.__private__.getFontSize=f.getFontSize=function(){return _===C.COMPAT?st:st*xt;},Lt=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(x){return Lt=x,this;},f.__private__.getR2L=f.getR2L=function(){return Lt;};var dn,Sn=f.__private__.setZoomMode=function(x){var M=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))bt=x;else if(isNaN(x)){if(M.indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');bt=x;}else bt=parseInt(x,10);};f.__private__.getZoomMode=function(){return bt;};var Ln,Jn=f.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');dn=x;};f.__private__.getPageMode=function(){return dn;};var Mi=f.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Ln=x;};f.__private__.getLayoutMode=function(){return Ln;},f.__private__.setDisplayMode=f.setDisplayMode=function(x,M,ie){return Sn(x),Mi(M),Jn(ie),this;};var tn={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(x){if(Object.keys(tn).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tn[x];},f.__private__.getDocumentProperties=function(){return tn;},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(x){for(var M in tn)tn.hasOwnProperty(M)&&x[M]&&(tn[M]=x[M]);return this;},f.__private__.setDocumentProperty=function(x,M){if(Object.keys(tn).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tn[x]=M;};var Vn,xt,io,ai,dc,Vi={},ur={},xu=[],Ci={},Kg={},_r={},hc={},zd=null,Sr=0,hn=[],_i=new cfe(f),Yg=e.hotfixes||[],Fs={},wu={},Cu=[],Yt=function x(M,ie,ce,be,Ne,Ye){if(!(this instanceof x))return new x(M,ie,ce,be,Ne,Ye);isNaN(M)&&(M=1),isNaN(ie)&&(ie=0),isNaN(ce)&&(ce=0),isNaN(be)&&(be=1),isNaN(Ne)&&(Ne=0),isNaN(Ye)&&(Ye=0),this._matrix=[M,ie,ce,be,Ne,Ye];};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0];},set:function(x){this._matrix[0]=x;}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1];},set:function(x){this._matrix[1]=x;}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2];},set:function(x){this._matrix[2]=x;}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3];},set:function(x){this._matrix[3]=x;}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4];},set:function(x){this._matrix[4]=x;}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5];},set:function(x){this._matrix[5]=x;}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0];},set:function(x){this._matrix[0]=x;}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1];},set:function(x){this._matrix[1]=x;}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2];},set:function(x){this._matrix[2]=x;}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3];},set:function(x){this._matrix[3]=x;}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4];},set:function(x){this._matrix[4]=x;}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5];},set:function(x){this._matrix[5]=x;}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx);}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx;}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy;}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0;}}),Yt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(x);},Yt.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,ie=x.sx*this.shy+x.shy*this.sy,ce=x.shx*this.sx+x.sy*this.shx,be=x.shx*this.shy+x.sy*this.sy,Ne=x.tx*this.sx+x.ty*this.shx+this.tx,Ye=x.tx*this.shy+x.ty*this.sy+this.ty;return new Yt(M,ie,ce,be,Ne,Ye);},Yt.prototype.decompose=function(){var x=this.sx,M=this.shy,ie=this.shx,ce=this.sy,be=this.tx,Ne=this.ty,Ye=Math.sqrt(x*x+M*M),wt=(x/=Ye)*ie+(M/=Ye)*ce;ie-=x*wt,ce-=M*wt;var Ot=Math.sqrt(ie*ie+ce*ce);return wt/=Ot,x*(ce/=Ot)<M*(ie/=Ot)&&(x=-x,M=-M,wt=-wt,Ye=-Ye),{scale:new Yt(Ye,0,0,Ot,0,0),translate:new Yt(1,0,0,1,be,Ne),rotate:new Yt(x,M,-M,x,0,0),skew:new Yt(1,0,wt,1,0,0)};},Yt.prototype.toString=function(x){return this.join(" ");},Yt.prototype.inversed=function(){var x=this.sx,M=this.shy,ie=this.shx,ce=this.sy,be=this.tx,Ne=this.ty,Ye=1/(x*ce-M*ie),wt=ce*Ye,Ot=-M*Ye,yn=-ie*Ye,fn=x*Ye;return new Yt(wt,Ot,yn,fn,-wt*be-yn*Ne,-Ot*be-fn*Ne);},Yt.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,ie=x.x*this.shy+x.y*this.sy+this.ty;return new uy(M,ie);},Yt.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),ie=this.applyToPoint(new uy(x.x+x.w,x.y+x.h));return new jC(M.x,M.y,ie.x-M.x,ie.y-M.y);},Yt.prototype.clone=function(){var x=this.sx,M=this.shy,ie=this.shx,ce=this.sy,be=this.tx,Ne=this.ty;return new Yt(x,M,ie,ce,be,Ne);},f.Matrix=Yt;var fc=f.matrixMult=function(x,M){return M.multiply(x);},_u=new Yt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=_u;var ra=function(x,M){if(!Kg[x]){var ie=(M instanceof Gv?"Sh":"P")+(Object.keys(Ci).length+1).toString(10);M.id=ie,Kg[x]=ie,Ci[ie]=M,_i.publish("addPattern",M);}};f.ShadingPattern=Gv,f.TilingPattern=TC,f.addShadingPattern=function(x,M){return D("addShadingPattern()"),ra(x,M),this;},f.beginTilingPattern=function(x){D("beginTilingPattern()"),NT(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix);},f.endTilingPattern=function(x,M){D("endTilingPattern()"),M.stream=Pe[Q].join(`
`),ra(x,M),_i.publish("endTilingPattern",M),Cu.pop().restore();};var us=f.__private__.newObject=function(){var x=Jr();return Ma(x,!0),x;},Jr=f.__private__.newObjectDeferred=function(){return he++,ue[he]=function(){return oe;},he;},Ma=function(x,M){return M=typeof M=="boolean"&&M,ue[x]=oe,M&&re(x+" 0 obj"),x;},Qv=f.__private__.newAdditionalObject=function(){var x={objId:Jr(),content:""};return Ae.push(x),x;},Ud=Jr(),pc=Jr(),gc=f.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length===5&&(M[4]==="k"||M[4]==="K")&&(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ie=parseFloat(M[0]);M=[ie,ie,ie,"r"];}for(var ce="#",be=0;be<3;be++)ce+=("0"+Math.floor(255*parseFloat(M[be])).toString(16)).slice(-2);return ce;},mc=f.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var ie=x.ch1,ce=x.ch2,be=x.ch3,Ne=x.ch4,Ye=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var wt=new _fe(ie);if(wt.ok)ie=wt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.');}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var Ot=parseInt(ie.substr(1),16);ie=Ot>>16&255,ce=Ot>>8&255,be=255&Ot;}if(ce===void 0||Ne===void 0&&ie===ce&&ce===be){if(typeof ie=="string")M=ie+" "+Ye[0];else switch(x.precision){case 2:M=X(ie/255)+" "+Ye[0];break;case 3:default:M=S(ie/255)+" "+Ye[0];}}else if(Ne===void 0||Ni(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return M=["1.","1.","1.",Ye[1]].join(" ");if(typeof ie=="string")M=[ie,ce,be,Ye[1]].join(" ");else switch(x.precision){case 2:M=[X(ie/255),X(ce/255),X(be/255),Ye[1]].join(" ");break;default:case 3:M=[S(ie/255),S(ce/255),S(be/255),Ye[1]].join(" ");}}else if(typeof ie=="string")M=[ie,ce,be,Ne,Ye[2]].join(" ");else switch(x.precision){case 2:M=[X(ie),X(ce),X(be),X(Ne),Ye[2]].join(" ");break;case 3:default:M=[S(ie),S(ce),S(be),S(Ne),Ye[2]].join(" ");}return M;},Su=f.__private__.getFilters=function(){return o;},pl=f.__private__.putStream=function(x){var M=(x=x||{}).data||"",ie=x.filters||Su(),ce=x.alreadyAppliedFilters||[],be=x.addLength1||!1,Ne=M.length,Ye=x.objectId,wt=function(so){return so;};if(u!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(wt=ro.encryptor(Ye,0));var Ot={};ie===!0&&(ie=["FlateEncode"]);var yn=x.additionalKeyValues||[],fn=(Ot=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(M,ie):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(Ot.data.length!==0&&(yn.push({key:"Length",value:Ot.data.length}),be===!0&&yn.push({key:"Length1",value:Ne})),fn.length!=0)if(fn.split("/").length-1==1)yn.push({key:"Filter",value:fn});else{yn.push({key:"Filter",value:"["+fn+"]"});for(var Kn=0;Kn<yn.length;Kn+=1)if(yn[Kn].key==="DecodeParms"){for(var pr=[],Er=0;Er<Ot.reverseChain.split("/").length-1;Er+=1)pr.push("null");pr.push(yn[Kn].value),yn[Kn].value="["+pr.join(" ")+"]";}}re("<<");for(var es=0;es<yn.length;es++)re("/"+yn[es].key+" "+yn[es].value);re(">>"),Ot.data.length!==0&&(re("stream"),re(wt(Ot.data)),re("endstream"));},Eu=f.__private__.putPage=function(x){var M=x.number,ie=x.data,ce=x.objId,be=x.contentsObjId;Ma(ce,!0),re("<</Type /Page"),re("/Parent "+x.rootDictionaryObjId+" 0 R"),re("/Resources "+x.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(R(x.mediaBox.bottomLeftX))+" "+parseFloat(R(x.mediaBox.bottomLeftY))+" "+R(x.mediaBox.topRightX)+" "+R(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&re("/CropBox ["+R(x.cropBox.bottomLeftX)+" "+R(x.cropBox.bottomLeftY)+" "+R(x.cropBox.topRightX)+" "+R(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&re("/BleedBox ["+R(x.bleedBox.bottomLeftX)+" "+R(x.bleedBox.bottomLeftY)+" "+R(x.bleedBox.topRightX)+" "+R(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&re("/TrimBox ["+R(x.trimBox.bottomLeftX)+" "+R(x.trimBox.bottomLeftY)+" "+R(x.trimBox.topRightX)+" "+R(x.trimBox.topRightY)+"]"),x.artBox!==null&&re("/ArtBox ["+R(x.artBox.bottomLeftX)+" "+R(x.artBox.bottomLeftY)+" "+R(x.artBox.topRightX)+" "+R(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&re("/UserUnit "+x.userUnit),_i.publish("putPage",{objId:ce,pageContext:hn[M],pageNumber:M,page:ie}),re("/Contents "+be+" 0 R"),re(">>"),re("endobj");var Ne=ie.join(`
`);return _===C.ADVANCED&&(Ne+=`
Q`),Ma(be,!0),pl({data:Ne,filters:Su(),objectId:be}),re("endobj"),ce;},Xg=f.__private__.putPages=function(){var x,M,ie=[];for(x=1;x<=Sr;x++)hn[x].objId=Jr(),hn[x].contentsObjId=Jr();for(x=1;x<=Sr;x++)ie.push(Eu({number:x,data:Pe[x],objId:hn[x].objId,contentsObjId:hn[x].contentsObjId,mediaBox:hn[x].mediaBox,cropBox:hn[x].cropBox,bleedBox:hn[x].bleedBox,trimBox:hn[x].trimBox,artBox:hn[x].artBox,userUnit:hn[x].userUnit,rootDictionaryObjId:Ud,resourceDictionaryObjId:pc}));Ma(Ud,!0),re("<</Type /Pages");var ce="/Kids [";for(M=0;M<Sr;M++)ce+=ie[M]+" 0 R ";re(ce+"]"),re("/Count "+Sr),re(">>"),re("endobj"),_i.publish("postPutPages");},Zv=function(x){_i.publish("putFont",{font:x,out:re,newObject:us,putStream:pl}),x.isAlreadyPutted!==!0&&(x.objectNumber=us(),re("<<"),re("/Type /Font"),re("/BaseFont /"+EC(x.postScriptName)),re("/Subtype /Type1"),typeof x.encoding=="string"&&re("/Encoding /"+x.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"));},Jv=function(){for(var x in Vi)Vi.hasOwnProperty(x)&&(d===!1||d===!0&&h.hasOwnProperty(x))&&Zv(Vi[x]);},ey=function(x){x.objectNumber=us();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[R(x.x),R(x.y),R(x.x+x.width),R(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var ie=x.pages[1].join(`
`);pl({data:ie,additionalKeyValues:M,objectId:x.objectNumber}),re("endobj");},ty=function(){for(var x in Fs)Fs.hasOwnProperty(x)&&ey(Fs[x]);},vT=function(x,M){var ie,ce=[],be=1/(M-1);for(ie=0;ie<1;ie+=be)ce.push(ie);if(ce.push(1),x[0].offset!=0){var Ne={offset:0,color:x[0].color};x.unshift(Ne);}if(x[x.length-1].offset!=1){var Ye={offset:1,color:x[x.length-1].color};x.push(Ye);}for(var wt="",Ot=0,yn=0;yn<ce.length;yn++){for(ie=ce[yn];ie>x[Ot+1].offset;)Ot++;var fn=x[Ot].offset,Kn=(ie-fn)/(x[Ot+1].offset-fn),pr=x[Ot].color,Er=x[Ot+1].color;wt+=le(Math.round((1-Kn)*pr[0]+Kn*Er[0]).toString(16))+le(Math.round((1-Kn)*pr[1]+Kn*Er[1]).toString(16))+le(Math.round((1-Kn)*pr[2]+Kn*Er[2]).toString(16));}return wt.trim();},XF=function(x,M){M||(M=21);var ie=us(),ce=vT(x.colors,M),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+M+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pl({data:ce,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),re("endobj"),x.objectNumber=us(),re("<< /ShadingType "+x.type),re("/ColorSpace /DeviceRGB");var Ne="/Coords ["+R(parseFloat(x.coords[0]))+" "+R(parseFloat(x.coords[1]))+" ";x.type===2?Ne+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3])):Ne+=R(parseFloat(x.coords[2]))+" "+R(parseFloat(x.coords[3]))+" "+R(parseFloat(x.coords[4]))+" "+R(parseFloat(x.coords[5])),re(Ne+="]"),x.matrix&&re("/Matrix ["+x.matrix.toString()+"]"),re("/Function "+ie+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj");},QF=function(x,M){var ie=Jr(),ce=us();M.push({resourcesOid:ie,objectOid:ce}),x.objectNumber=ce;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+x.boundingBox.map(R).join(" ")+"]"}),be.push({key:"XStep",value:R(x.xStep)}),be.push({key:"YStep",value:R(x.yStep)}),be.push({key:"Resources",value:ie+" 0 R"}),x.matrix&&be.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),pl({data:x.stream,additionalKeyValues:be,objectId:x.objectNumber}),re("endobj");},ny=function(x){var M;for(M in Ci)Ci.hasOwnProperty(M)&&(Ci[M]instanceof Gv?XF(Ci[M]):Ci[M]instanceof TC&&QF(Ci[M],x));},yT=function(x){for(var M in x.objectNumber=us(),re("<<"),x)switch(M){case"opacity":re("/ca "+X(x[M]));break;case"stroke-opacity":re("/CA "+X(x[M]));}re(">>"),re("endobj");},ZF=function(){var x;for(x in _r)_r.hasOwnProperty(x)&&yT(_r[x]);},FC=function(){for(var x in re("/XObject <<"),Fs)Fs.hasOwnProperty(x)&&Fs[x].objectNumber>=0&&re("/"+x+" "+Fs[x].objectNumber+" 0 R");_i.publish("putXobjectDict"),re(">>");},JF=function(){ro.oid=us(),re("<<"),re("/Filter /Standard"),re("/V "+ro.v),re("/R "+ro.r),re("/U <"+ro.toHexString(ro.U)+">"),re("/O <"+ro.toHexString(ro.O)+">"),re("/P "+ro.P),re(">>"),re("endobj");},bT=function(){for(var x in re("/Font <<"),Vi)Vi.hasOwnProperty(x)&&(d===!1||d===!0&&h.hasOwnProperty(x))&&re("/"+x+" "+Vi[x].objectNumber+" 0 R");re(">>");},eN=function(){if(Object.keys(Ci).length>0){for(var x in re("/Shading <<"),Ci)Ci.hasOwnProperty(x)&&Ci[x]instanceof Gv&&Ci[x].objectNumber>=0&&re("/"+x+" "+Ci[x].objectNumber+" 0 R");_i.publish("putShadingPatternDict"),re(">>");}},iy=function(x){if(Object.keys(Ci).length>0){for(var M in re("/Pattern <<"),Ci)Ci.hasOwnProperty(M)&&Ci[M]instanceof f.TilingPattern&&Ci[M].objectNumber>=0&&Ci[M].objectNumber<x&&re("/"+M+" "+Ci[M].objectNumber+" 0 R");_i.publish("putTilingPatternDict"),re(">>");}},tN=function(){if(Object.keys(_r).length>0){var x;for(x in re("/ExtGState <<"),_r)_r.hasOwnProperty(x)&&_r[x].objectNumber>=0&&re("/"+x+" "+_r[x].objectNumber+" 0 R");_i.publish("putGStateDict"),re(">>");}},zr=function(x){Ma(x.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bT(),eN(),iy(x.objectOid),tN(),FC(),re(">>"),re("endobj");},xT=function(){var x=[];Jv(),ZF(),ty(),ny(x),_i.publish("putResources"),x.forEach(zr),zr({resourcesOid:pc,objectOid:Number.MAX_SAFE_INTEGER}),_i.publish("postPutResources");},wT=function(){_i.publish("putAdditionalObjects");for(var x=0;x<Ae.length;x++){var M=Ae[x];Ma(M.objId,!0),re(M.content),re("endobj");}_i.publish("postPutAdditionalObjects");},CT=function(x){ur[x.fontName]=ur[x.fontName]||{},ur[x.fontName][x.fontStyle]=x.id;},NC=function(x,M,ie,ce,be){var Ne={id:"F"+(Object.keys(Vi).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:ie,encoding:ce,isStandardFont:be||!1,metadata:{}};return _i.publish("addFont",{font:Ne,instance:this}),Vi[Ne.id]=Ne,CT(Ne),Ne.id;},nN=function(x){for(var M=0,ie=Xe.length;M<ie;M++){var ce=NC.call(this,x[M][0],x[M][1],x[M][2],Xe[M][3],!0);d===!1&&(h[ce]=!0);var be=x[M][0].split("-");CT({id:ce,fontName:be[0],fontStyle:be[1]||""});}_i.publish("addFonts",{fonts:Vi,dictionary:ur});},vc=function(x){return x.foo=function(){try{return x.apply(this,arguments);}catch(ce){var M=ce.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ie="Error in function "+M.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Zt.console)throw new Error(ie);Zt.console.error(ie,ce),Zt.alert&&alert(ie);}},x.foo.bar=x,x.foo;},ry=function(x,M){var ie,ce,be,Ne,Ye,wt,Ot,yn,fn;if(be=(M=M||{}).sourceEncoding||"Unicode",Ye=M.outputEncoding,(M.autoencode||Ye)&&Vi[Vn].metadata&&Vi[Vn].metadata[be]&&Vi[Vn].metadata[be].encoding&&(Ne=Vi[Vn].metadata[be].encoding,!Ye&&Vi[Vn].encoding&&(Ye=Vi[Vn].encoding),!Ye&&Ne.codePages&&(Ye=Ne.codePages[0]),typeof Ye=="string"&&(Ye=Ne[Ye]),Ye)){for(Ot=!1,wt=[],ie=0,ce=x.length;ie<ce;ie++)(yn=Ye[x.charCodeAt(ie)])?wt.push(String.fromCharCode(yn)):wt.push(x[ie]),wt[ie].charCodeAt(0)>>8&&(Ot=!0);x=wt.join("");}for(ie=x.length;Ot===void 0&&ie!==0;)x.charCodeAt(ie-1)>>8&&(Ot=!0),ie--;if(!Ot)return x;for(wt=M.noBOM?[]:[254,255],ie=0,ce=x.length;ie<ce;ie++){if((fn=(yn=x.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+x+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(fn),wt.push(yn-(fn<<8));}return String.fromCharCode.apply(void 0,wt);},sa=f.__private__.pdfEscape=f.pdfEscape=function(x,M){return ry(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)");},LC=f.__private__.beginPage=function(x){Pe[++Sr]=[],hn[Sr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},ST(Sr),De(Pe[Q]);},_T=function(x,M){var ie,ce,be;switch(n=M||n,typeof x=="string"&&(ie=b(x.toLowerCase()),Array.isArray(ie)&&(ce=ie[0],be=ie[1])),Array.isArray(x)&&(ce=x[0]*xt,be=x[1]*xt),isNaN(ce)&&(ce=r[0],be=r[1]),(ce>14400||be>14400)&&(Xi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),be=Math.min(14400,be)),r=[ce,be],n.substr(0,1)){case"l":be>ce&&(r=[be,ce]);break;case"p":ce>be&&(r=[be,ce]);}LC(r),IT(HC),re(yc),zC!==0&&re(zC+" J"),UC!==0&&re(UC+" j"),_i.publish("addPage",{pageNumber:Sr});},iN=function(x){x>0&&x<=Sr&&(Pe.splice(x,1),hn.splice(x,1),Sr--,Q>Sr&&(Q=Sr),this.setPage(Q));},ST=function(x){x>0&&x<=Sr&&(Q=x);},rN=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1;},ET=function(x,M,ie){var ce,be=void 0;return ie=ie||{},x=x!==void 0?x:Vi[Vn].fontName,M=M!==void 0?M:Vi[Vn].fontStyle,ce=x.toLowerCase(),ur[ce]!==void 0&&ur[ce][M]!==void 0?be=ur[ce][M]:ur[x]!==void 0&&ur[x][M]!==void 0?be=ur[x][M]:ie.disableWarning===!1&&Xi.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),be||ie.noFallback||(be=ur.times[M])==null&&(be=ur.times.normal),be;},sN=f.__private__.putInfo=function(){var x=us(),M=function(ce){return ce;};for(var ie in u!==null&&(M=ro.encryptor(x,0)),re("<<"),re("/Producer ("+sa(M("jsPDF "+Kt.version))+")"),tn)tn.hasOwnProperty(ie)&&tn[ie]&&re("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+sa(M(tn[ie]))+")");re("/CreationDate ("+sa(M(H))+")"),re(">>"),re("endobj");},OC=f.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||Ud;switch(us(),re("<<"),re("/Type /Catalog"),re("/Pages "+M+" 0 R"),bt||(bt="fullwidth"),bt){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+bt;ie.substr(ie.length-1)==="%"&&(bt=parseInt(bt)/100),typeof bt=="number"&&re("/OpenAction [3 0 R /XYZ null null "+X(bt)+"]");}switch(Ln||(Ln="continuous"),Ln){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight");}dn&&re("/PageMode /"+dn),_i.publish("putCatalog"),re(">>"),re("endobj");},oN=f.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(he+1)),re("/Root "+he+" 0 R"),re("/Info "+(he-1)+" 0 R"),u!==null&&re("/Encrypt "+ro.oid+" 0 R"),re("/ID [ <"+F+"> <"+F+"> ]"),re(">>");},aN=f.__private__.putHeader=function(){re("%PDF-"+g),re("%\xBA\xDF\xAC\xE0");},lN=f.__private__.putXRef=function(){var x="0000000000";re("xref"),re("0 "+(he+1)),re("0000000000 65535 f ");for(var M=1;M<=he;M++)typeof ue[M]=="function"?re((x+ue[M]()).slice(-10)+" 00000 n "):ue[M]!==void 0?re((x+ue[M]).slice(-10)+" 00000 n "):re("0000000000 00000 n ");},jd=f.__private__.buildDocument=function(){it(),De(xe),_i.publish("buildDocument"),aN(),Xg(),wT(),xT(),u!==null&&JF(),sN(),OC();var x=oe;return lN(),oN(),re("startxref"),re(""+x),re("%%EOF"),De(Pe[Q]),xe.join(`
`);},sy=f.__private__.getBlob=function(x){return new Blob([lt(x)],{type:"application/pdf"});},oy=f.output=f.__private__.output=vc(function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return jd();case"save":f.save(M.filename);break;case"arraybuffer":return lt(jd());case"blob":return sy(jd());case"bloburi":case"bloburl":if(Zt.URL!==void 0&&typeof Zt.URL.createObjectURL=="function")return Zt.URL&&Zt.URL.createObjectURL(sy(jd()))||void 0;Xi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ce=jd();try{ie=nU(ce);}catch{ie=nU(unescape(encodeURIComponent(ce)));}return"data:application/pdf;filename="+M.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(be=M.pdfObjectUrl,Ne="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",wt=Zt.open();return wt!==null&&wt.document.write(Ye),wt;}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zt)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',yn=Zt.open();if(yn!==null){yn.document.write(Ot);var fn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=M.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fn.output("bloburl"));};}return yn;}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',pr=Zt.open();if(pr!==null&&(pr.document.write(Kn),pr.document.title=M.filename),pr||typeof safari>"u")return pr;break;case"datauri":case"dataurl":return Zt.document.location.href=this.output("datauristring",M);default:return null;}}),TT=function(x){return Array.isArray(Yg)===!0&&Yg.indexOf(x)>-1;};switch(i){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=TT("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);xt=i;}var ro=null;Ce(),Z();var cN=function(x){return u!==null?ro.encryptor(x,0):function(M){return M;};},AT=f.__private__.getPageInfo=f.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hn[x].objId,pageNumber:x,pageContext:hn[x]};},ln=f.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in hn)if(hn[M].objId===x)break;return AT(M);},uN=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:hn[Q].objId,pageNumber:Q,pageContext:hn[Q]};};f.addPage=function(){return _T.apply(this,arguments),this;},f.setPage=function(){return ST.apply(this,arguments),De.call(this,Pe[Q]),this;},f.insertPage=function(x){return this.addPage(),this.movePage(Q,x),this;},f.movePage=function(x,M){var ie,ce;if(x>M){ie=Pe[x],ce=hn[x];for(var be=x;be>M;be--)Pe[be]=Pe[be-1],hn[be]=hn[be-1];Pe[M]=ie,hn[M]=ce,this.setPage(M);}else if(x<M){ie=Pe[x],ce=hn[x];for(var Ne=x;Ne<M;Ne++)Pe[Ne]=Pe[Ne+1],hn[Ne]=hn[Ne+1];Pe[M]=ie,hn[M]=ce,this.setPage(M);}return this;},f.deletePage=function(){return iN.apply(this,arguments),this;},f.__private__.text=f.text=function(x,M,ie,ce,be){var Ne,Ye,wt,Ot,yn,fn,Kn,pr,Er,es=(ce=ce||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof ie=="string"||Array.isArray(ie))){var so=ie;ie=M,M=x,x=so;}if(arguments[3]instanceof Yt?(D("The transform parameter of text() with a Matrix value"),Er=be):(wt=arguments[4],Ot=arguments[5],Ni(Kn=arguments[3])==="object"&&Kn!==null||(typeof wt=="string"&&(Ot=wt,wt=null),typeof Kn=="string"&&(Ot=Kn,Kn=null),typeof Kn=="number"&&(wt=Kn,Kn=null),ce={flags:Kn,angle:wt,align:Ot})),isNaN(M)||isNaN(ie)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return es;var ws="",bc=!1,Fa=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Zg,Du=es.internal.scaleFactor;function LT(Qi){return Qi=Qi.split("	").join(Array(ce.TabLen||9).join(" ")),sa(Qi,Kn);}function KC(Qi){for(var Zi,jr=Qi.concat(),ds=[],Yd=jr.length;Yd--;)typeof(Zi=jr.shift())=="string"?ds.push(Zi):Array.isArray(Qi)&&(Zi.length===1||Zi[1]===void 0&&Zi[2]===void 0)?ds.push(Zi[0]):ds.push([Zi[0],Zi[1],Zi[2]]);return ds;}function YC(Qi,Zi){var jr;if(typeof Qi=="string")jr=Zi(Qi)[0];else if(Array.isArray(Qi)){for(var ds,Yd,i1=Qi.concat(),wy=[],GT=i1.length;GT--;)typeof(ds=i1.shift())=="string"?wy.push(Zi(ds)[0]):Array.isArray(ds)&&typeof ds[0]=="string"&&(Yd=Zi(ds[0],ds[1],ds[2]),wy.push([Yd[0],Yd[1],Yd[2]]));jr=wy;}return jr;}var hy=!1,XC=!0;if(typeof x=="string")hy=!0;else if(Array.isArray(x)){var QC=x.concat();Ye=[];for(var fy,Ns=QC.length;Ns--;)(typeof(fy=QC.shift())!="string"||Array.isArray(fy)&&typeof fy[0]!="string")&&(XC=!1);hy=XC;}if(hy===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var py=st/es.internal.scaleFactor,gy=py*(Fa-1);switch(ce.baseline){case"bottom":ie-=gy;break;case"top":ie+=py-gy;break;case"hanging":ie+=py-2*gy;break;case"middle":ie+=py/2-gy;}if((fn=ce.maxWidth||0)>0&&(typeof x=="string"?x=es.splitTextToSize(x,fn):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Qi,Zi){return Qi.concat(es.splitTextToSize(Zi,fn));},[]))),Ne={text:x,x:M,y:ie,options:ce,mutex:{pdfEscape:sa,activeFontKey:Vn,fonts:Vi,activeFontSize:st}},_i.publish("preProcessText",Ne),x=Ne.text,wt=(ce=Ne.options).angle,!(Er instanceof Yt)&&wt&&typeof wt=="number"){wt*=Math.PI/180,ce.rotationDirection===0&&(wt=-wt),_===C.ADVANCED&&(wt=-wt);var my=Math.cos(wt),ZC=Math.sin(wt);Er=new Yt(my,ZC,-ZC,my,0,0);}else wt&&wt instanceof Yt&&(Er=wt);_!==C.ADVANCED||Er||(Er=_u),(yn=ce.charSpace||cy)!==void 0&&(ws+=R(T(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pr=ce.horizontalScale)!==void 0&&(ws+=R(100*pr)+` Tz
`),ce.lang;var oa=-1,xN=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,JC=es.internal.getCurrentPageInfo().pageContext;switch(xN){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7;}var OT=JC.usedRenderingMode!==void 0?JC.usedRenderingMode:-1;oa!==-1?ws+=oa+` Tr
`:OT!==-1&&(ws+=`0 Tr
`),oa!==-1&&(JC.usedRenderingMode=oa),Ot=ce.align||"left";var gl,vy=st*Fa,BT=es.internal.pageSize.getWidth(),VT=Vi[Vn];yn=ce.charSpace||cy,fn=ce.maxWidth||0,Kn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var Nf=[],tm=function(Qi){return es.getStringUnitWidth(Qi,{font:VT,charSpace:yn,fontSize:st,doKerning:!1})*st/Du;};if(Object.prototype.toString.call(x)==="[object Array]"){var aa;Ye=KC(x),Ot!=="left"&&(gl=Ye.map(tm));var Ro,Lf=0;if(Ot==="right"){M-=gl[0],x=[],Ns=Ye.length;for(var Wd=0;Wd<Ns;Wd++)Wd===0?(Ro=Au(M),aa=$d(ie)):(Ro=T(Lf-gl[Wd]),aa=-vy),x.push([Ye[Wd],Ro,aa]),Lf=gl[Wd];}else if(Ot==="center"){M-=gl[0]/2,x=[],Ns=Ye.length;for(var qd=0;qd<Ns;qd++)qd===0?(Ro=Au(M),aa=$d(ie)):(Ro=T((Lf-gl[qd])/2),aa=-vy),x.push([Ye[qd],Ro,aa]),Lf=gl[qd];}else if(Ot==="left"){x=[],Ns=Ye.length;for(var yy=0;yy<Ns;yy++)x.push(Ye[yy]);}else if(Ot==="justify"&&VT.encoding==="Identity-H"){x=[],Ns=Ye.length,fn=fn!==0?fn:BT;for(var Kd=0,Ur=0;Ur<Ns;Ur++)if(aa=Ur===0?$d(ie):-vy,Ro=Ur===0?Au(M):Kd,Ur<Ns-1){var e1=T((fn-gl[Ur])/(Ye[Ur].split(" ").length-1)),Io=Ye[Ur].split(" ");x.push([Io[0]+" ",Ro,aa]),Kd=0;for(var ml=1;ml<Io.length;ml++){var by=(tm(Io[ml-1]+" "+Io[ml])-tm(Io[ml]))*Du+e1;ml==Io.length-1?x.push([Io[ml],by,0]):x.push([Io[ml]+" ",by,0]),Kd-=by;}}else x.push([Ye[Ur],Ro,aa]);x.push(["",Kd,0]);}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Ns=Ye.length,fn=fn!==0?fn:BT,Ur=0;Ur<Ns;Ur++)aa=Ur===0?$d(ie):-vy,Ro=Ur===0?Au(M):0,Ur<Ns-1?Nf.push(R(T((fn-gl[Ur])/(Ye[Ur].split(" ").length-1)))):Nf.push(0),x.push([Ye[Ur],Ro,aa]);}}var HT=typeof ce.R2L=="boolean"?ce.R2L:Lt;HT===!0&&(x=YC(x,function(Qi,Zi,jr){return[Qi.split("").reverse().join(""),Zi,jr];})),Ne={text:x,x:M,y:ie,options:ce,mutex:{pdfEscape:sa,activeFontKey:Vn,fonts:Vi,activeFontSize:st}},_i.publish("postProcessText",Ne),x=Ne.text,bc=Ne.mutex.isHex||!1;var t1=Vi[Vn].encoding;t1!=="WinAnsiEncoding"&&t1!=="StandardEncoding"||(x=YC(x,function(Qi,Zi,jr){return[LT(Qi),Zi,jr];})),Ye=KC(x),x=[];for(var nm,im,Of,rm=0,xy=1,sm=Array.isArray(Ye[0])?xy:rm,Bf="",n1=function(Qi,Zi,jr){var ds="";return jr instanceof Yt?(jr=typeof ce.angle=="number"?fc(jr,new Yt(1,0,0,1,Qi,Zi)):fc(new Yt(1,0,0,1,Qi,Zi),jr),_===C.ADVANCED&&(jr=fc(new Yt(1,0,0,-1,0,0),jr)),ds=jr.join(" ")+` Tm
`):ds=R(Qi)+" "+R(Zi)+` Td
`,ds;},vl=0;vl<Ye.length;vl++){switch(Bf="",sm){case xy:Of=(bc?"<":"(")+Ye[vl][0]+(bc?">":")"),nm=parseFloat(Ye[vl][1]),im=parseFloat(Ye[vl][2]);break;case rm:Of=(bc?"<":"(")+Ye[vl]+(bc?">":")"),nm=Au(M),im=$d(ie);}Nf!==void 0&&Nf[vl]!==void 0&&(Bf=Nf[vl]+` Tw
`),vl===0?x.push(Bf+n1(nm,im,Er)+Of):sm===rm?x.push(Bf+Of):sm===xy&&x.push(Bf+n1(nm,im,Er)+Of);}x=sm===rm?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var yl=`BT
/`;return yl+=Vn+" "+st+` Tf
`,yl+=R(st*Fa)+` TL
`,yl+=Jg+`
`,yl+=ws,yl+=x,re(yl+="ET"),h[Vn]=!0,es;};var dN=f.__private__.clip=f.clip=function(x){return re(x==="evenodd"?"W*":"W"),this;};f.clipEvenOdd=function(){return dN("evenodd");},f.__private__.discardPath=f.discardPath=function(){return re("n"),this;};var Tu=f.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M;};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(x){return Tu(x)&&(c=x),this;};var DT=f.__private__.getStyle=f.getStyle=function(x){var M=c;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x;}return M;},RT=f.close=function(){return re("h"),this;};f.stroke=function(){return re("S"),this;},f.fill=function(x){return ay("f",x),this;},f.fillEvenOdd=function(x){return ay("f*",x),this;},f.fillStroke=function(x){return ay("B",x),this;},f.fillStrokeEvenOdd=function(x){return ay("B*",x),this;};var ay=function(x,M){Ni(M)==="object"?fN(M,x):re(x);},BC=function(x){x===null||_===C.ADVANCED&&x===void 0||(x=DT(x),re(x));};function hN(x,M,ie,ce,be){var Ne=new TC(M||this.boundingBox,ie||this.xStep,ce||this.yStep,this.gState,be||this.matrix);Ne.stream=this.stream;var Ye=x+"$$"+this.cloneIndex++ +"$$";return ra(Ye,Ne),Ne;}var fN=function(x,M){var ie=Kg[x.key],ce=Ci[ie];if(ce instanceof Gv)re("q"),re(pN(M)),ce.gState&&f.setGState(ce.gState),re(x.matrix.toString()+" cm"),re("/"+ie+" sh"),re("Q");else if(ce instanceof TC){var be=new Yt(1,0,0,-1,0,Ff());x.matrix&&(be=be.multiply(x.matrix||_u),ie=hN.call(ce,x.key,x.boundingBox,x.xStep,x.yStep,be).id),re("q"),re("/Pattern cs"),re("/"+ie+" scn"),ce.gState&&f.setGState(ce.gState),re(M),re("Q");}},pN=function(x){switch(x){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n";}},VC=f.moveTo=function(x,M){return re(R(T(x))+" "+R(W(M))+" m"),this;},Qg=f.lineTo=function(x,M){return re(R(T(x))+" "+R(W(M))+" l"),this;},kf=f.curveTo=function(x,M,ie,ce,be,Ne){return re([R(T(x)),R(W(M)),R(T(ie)),R(W(ce)),R(T(be)),R(W(Ne)),"c"].join(" ")),this;};f.__private__.line=f.line=function(x,M,ie,ce,be){if(isNaN(x)||isNaN(M)||isNaN(ie)||isNaN(ce)||!Tu(be))throw new Error("Invalid arguments passed to jsPDF.line");return _===C.COMPAT?this.lines([[ie-x,ce-M]],x,M,[1,1],be||"S"):this.lines([[ie-x,ce-M]],x,M,[1,1]).stroke();},f.__private__.lines=f.lines=function(x,M,ie,ce,be,Ne){var Ye,wt,Ot,yn,fn,Kn,pr,Er,es,so,ws,bc;if(typeof x=="number"&&(bc=ie,ie=M,M=x,x=bc),ce=ce||[1,1],Ne=Ne||!1,isNaN(M)||isNaN(ie)||!Array.isArray(x)||!Array.isArray(ce)||!Tu(be)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(VC(M,ie),Ye=ce[0],wt=ce[1],yn=x.length,so=M,ws=ie,Ot=0;Ot<yn;Ot++)(fn=x[Ot]).length===2?(so=fn[0]*Ye+so,ws=fn[1]*wt+ws,Qg(so,ws)):(Kn=fn[0]*Ye+so,pr=fn[1]*wt+ws,Er=fn[2]*Ye+so,es=fn[3]*wt+ws,so=fn[4]*Ye+so,ws=fn[5]*wt+ws,kf(Kn,pr,Er,es,so,ws));return Ne&&RT(),BC(be),this;},f.path=function(x){for(var M=0;M<x.length;M++){var ie=x[M],ce=ie.c;switch(ie.op){case"m":VC(ce[0],ce[1]);break;case"l":Qg(ce[0],ce[1]);break;case"c":kf.apply(this,ce);break;case"h":RT();}}return this;},f.__private__.rect=f.rect=function(x,M,ie,ce,be){if(isNaN(x)||isNaN(M)||isNaN(ie)||isNaN(ce)||!Tu(be))throw new Error("Invalid arguments passed to jsPDF.rect");return _===C.COMPAT&&(ce=-ce),re([R(T(x)),R(W(M)),R(T(ie)),R(T(ce)),"re"].join(" ")),BC(be),this;},f.__private__.triangle=f.triangle=function(x,M,ie,ce,be,Ne,Ye){if(isNaN(x)||isNaN(M)||isNaN(ie)||isNaN(ce)||isNaN(be)||isNaN(Ne)||!Tu(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-x,ce-M],[be-ie,Ne-ce],[x-be,M-Ne]],x,M,[1,1],Ye,!0),this;},f.__private__.roundedRect=f.roundedRect=function(x,M,ie,ce,be,Ne,Ye){if(isNaN(x)||isNaN(M)||isNaN(ie)||isNaN(ce)||isNaN(be)||isNaN(Ne)||!Tu(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ie),Ne=Math.min(Ne,.5*ce),this.lines([[ie-2*be,0],[be*wt,0,be,Ne-Ne*wt,be,Ne],[0,ce-2*Ne],[0,Ne*wt,-be*wt,Ne,-be,Ne],[2*be-ie,0],[-be*wt,0,-be,-Ne*wt,-be,-Ne],[0,2*Ne-ce],[0,-Ne*wt,be*wt,-Ne,be,-Ne]],x+be,M,[1,1],Ye,!0),this;},f.__private__.ellipse=f.ellipse=function(x,M,ie,ce,be){if(isNaN(x)||isNaN(M)||isNaN(ie)||isNaN(ce)||!Tu(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*ie,Ye=4/3*(Math.SQRT2-1)*ce;return VC(x+ie,M),kf(x+ie,M-Ye,x+Ne,M-ce,x,M-ce),kf(x-Ne,M-ce,x-ie,M-Ye,x-ie,M),kf(x-ie,M+Ye,x-Ne,M+ce,x,M+ce),kf(x+Ne,M+ce,x+ie,M+Ye,x+ie,M),BC(be),this;},f.__private__.circle=f.circle=function(x,M,ie,ce){if(isNaN(x)||isNaN(M)||isNaN(ie)||!Tu(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,ie,ie,ce);},f.setFont=function(x,M,ie){return ie&&(M=N(M,ie)),Vn=ET(x,M,{disableWarning:!1}),this;};var gN=f.__private__.getFont=f.getFont=function(){return Vi[ET.apply(f,arguments)];};f.__private__.getFontList=f.getFontList=function(){var x,M,ie={};for(x in ur)if(ur.hasOwnProperty(x))for(M in ie[x]=[],ur[x])ur[x].hasOwnProperty(M)&&ie[x].push(M);return ie;},f.addFont=function(x,M,ie,ce,be){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(ie=N(ie,ce)),be=be||"Identity-H",NC.call(this,x,M,ie,be);};var Zg,HC=e.lineWidth||.200025,ly=f.__private__.getLineWidth=f.getLineWidth=function(){return HC;},IT=f.__private__.setLineWidth=f.setLineWidth=function(x){return HC=x,re(R(T(x))+" w"),this;};f.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(ie){return R(T(ie));}).join(" "),M=R(T(M)),re("["+x+"] "+M+" d"),this;};var PT=f.__private__.getLineHeight=f.getLineHeight=function(){return st*Zg;};f.__private__.getLineHeight=f.getLineHeight=function(){return st*Zg;};var kT=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(Zg=x),this;},MT=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Zg;};kT(e.lineHeight);var Au=f.__private__.getHorizontalCoordinate=function(x){return T(x);},$d=f.__private__.getVerticalCoordinate=function(x){return _===C.ADVANCED?x:hn[Q].mediaBox.topRightY-hn[Q].mediaBox.bottomLeftY-T(x);},mN=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(x){return R(Au(x));},Mf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(x){return R($d(x));},yc=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return gc(yc);},f.__private__.setStrokeColor=f.setDrawColor=function(x,M,ie,ce){return yc=mc({ch1:x,ch2:M,ch3:ie,ch4:ce,pdfColorType:"draw",precision:2}),re(yc),this;};var GC=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return gc(GC);},f.__private__.setFillColor=f.setFillColor=function(x,M,ie,ce){return GC=mc({ch1:x,ch2:M,ch3:ie,ch4:ce,pdfColorType:"fill",precision:2}),re(GC),this;};var Jg=e.textColor||"0 g",vN=f.__private__.getTextColor=f.getTextColor=function(){return gc(Jg);};f.__private__.setTextColor=f.setTextColor=function(x,M,ie,ce){return Jg=mc({ch1:x,ch2:M,ch3:ie,ch4:ce,pdfColorType:"text",precision:3}),this;};var cy=e.charSpace,yN=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(cy||0);};f.__private__.setCharSpace=f.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cy=x,this;};var zC=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(x){var M=f.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zC=M,re(M+" J"),this;};var UC=0;f.__private__.setLineJoin=f.setLineJoin=function(x){var M=f.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return UC=M,re(M+" j"),this;},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(R(T(x))+" M"),this;},f.GState=mF,f.setGState=function(x){(x=typeof x=="string"?_r[hc[x]]:FT(null,x)).equals(zd)||(re("/"+x.id+" gs"),zd=x);};var FT=function(x,M){if(!x||!hc[x]){var ie=!1;for(var ce in _r)if(_r.hasOwnProperty(ce)&&_r[ce].equals(M)){ie=!0;break;}if(ie)M=_r[ce];else{var be="GS"+(Object.keys(_r).length+1).toString(10);_r[be]=M,M.id=be;}return x&&(hc[x]=M.id),_i.publish("addGState",M),M;}};f.addGState=function(x,M){return FT(x,M),this;},f.saveGraphicsState=function(){return re("q"),xu.push({key:Vn,size:st,color:Jg}),this;},f.restoreGraphicsState=function(){re("Q");var x=xu.pop();return Vn=x.key,st=x.size,Jg=x.color,zd=null,this;},f.setCurrentTransformationMatrix=function(x){return re(x.toString()+" cm"),this;},f.comment=function(x){return re("#"+x),this;};var uy=function(x,M){var ie=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie;},set:function(Ne){isNaN(Ne)||(ie=parseFloat(Ne));}});var ce=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce;},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne));}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be;},set:function(Ne){be=Ne.toString();}}),this;},jC=function(x,M,ie,ce){uy.call(this,x,M),this.type="rect";var be=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be;},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye));}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne;},set:function(Ye){isNaN(Ye)||(Ne=parseFloat(Ye));}}),this;},$C=function(){this.page=Sr,this.currentPage=Q,this.pages=Pe.slice(0),this.pagesContext=hn.slice(0),this.x=io,this.y=ai,this.matrix=dc,this.width=em(Q),this.height=Ff(Q),this.outputDestination=Ge,this.id="",this.objectNumber=-1;};$C.prototype.restore=function(){Sr=this.page,Q=this.currentPage,hn=this.pagesContext,Pe=this.pages,io=this.x,ai=this.y,dc=this.matrix,WC(Q,this.width),qC(Q,this.height),Ge=this.outputDestination;};var NT=function(x,M,ie,ce,be){Cu.push(new $C()),Sr=Q=0,Pe=[],io=x,ai=M,dc=be,LC([ie,ce]);},bN=function(x){if(wu[x])Cu.pop().restore();else{var M=new $C(),ie="Xo"+(Object.keys(Fs).length+1).toString(10);M.id=ie,wu[x]=ie,Fs[ie]=M,_i.publish("addFormObject",M),Cu.pop().restore();}};for(var dy in f.beginFormObject=function(x,M,ie,ce,be){return NT(x,M,ie,ce,be),this;},f.endFormObject=function(x){return bN(x),this;},f.doFormObject=function(x,M){var ie=Fs[wu[x]];return re("q"),re(M.toString()+" cm"),re("/"+ie.id+" Do"),re("Q"),this;},f.getFormObject=function(x){var M=Fs[wu[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix};},f.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(Hv(sy(jd()),x),typeof Hv.unload=="function"&&Zt.setTimeout&&setTimeout(Hv.unload,911),this):new Promise(function(ie,ce){try{var be=Hv(sy(jd()),x);typeof Hv.unload=="function"&&Zt.setTimeout&&setTimeout(Hv.unload,911),ie(be);}catch(Ne){ce(Ne.message);}});},Kt.API)Kt.API.hasOwnProperty(dy)&&(dy==="events"&&Kt.API.events.length?function(x,M){var ie,ce,be;for(be=M.length-1;be!==-1;be--)ie=M[be][0],ce=M[be][1],x.subscribe.apply(x,[ie].concat(typeof ce=="function"?[ce]:ce));}(_i,Kt.API.events):f[dy]=Kt.API[dy]);var em=f.getPageWidth=function(x){return(hn[x=x||Q].mediaBox.topRightX-hn[x].mediaBox.bottomLeftX)/xt;},WC=f.setPageWidth=function(x,M){hn[x].mediaBox.topRightX=M*xt+hn[x].mediaBox.bottomLeftX;},Ff=f.getPageHeight=function(x){return(hn[x=x||Q].mediaBox.topRightY-hn[x].mediaBox.bottomLeftY)/xt;},qC=f.setPageHeight=function(x,M){hn[x].mediaBox.topRightY=M*xt+hn[x].mediaBox.bottomLeftY;};return f.internal={pdfEscape:sa,getStyle:DT,getFont:gN,getFontSize:gt,getCharSpace:yN,getTextColor:vN,getLineHeight:PT,getLineHeightFactor:MT,getLineWidth:ly,write:tt,getHorizontalCoordinate:Au,getVerticalCoordinate:$d,getCoordinateString:mN,getVerticalCoordinateString:Mf,collections:{},newObject:us,newAdditionalObject:Qv,newObjectDeferred:Jr,newObjectDeferredBegin:Ma,getFilters:Su,putStream:pl,events:_i,scaleFactor:xt,pageSize:{getWidth:function(){return em(Q);},setWidth:function(x){WC(Q,x);},getHeight:function(){return Ff(Q);},setHeight:function(x){qC(Q,x);}},encryptionOptions:u,encryption:ro,getEncryptor:cN,output:oy,getNumberOfPages:rN,pages:Pe,out:re,f2:X,f3:S,getPageInfo:AT,getPageInfoByObjId:ln,getCurrentPageInfo:uN,getPDFVersion:m,Point:uy,Rectangle:jC,Matrix:Yt,hasHotfix:TT},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return em(Q);},set:function(x){WC(Q,x);},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ff(Q);},set:function(x){qC(Q,x);},enumerable:!0,configurable:!0}),nN.call(f,Xe),Vn="F1",_T(r,n),_i.publish("initialized"),f;}SC.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255);},SC.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2);}).join("");},SC.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("");},SC.prototype.processOwnerPassword=function(e,t){return rU(iU(t).substr(0,5),e);},SC.prototype.encryptor=function(e,t){var n=iU(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return rU(n,i);};},mF.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ni(e)!==Ni(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++;}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0;},Kt.API={events:[]},Kt.version="2.5.2";var Gr=Kt.API,lU=1,Uv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)");},CC=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")");},vn=function(e){return e.toFixed(2);},Ug=function(e){return e.toFixed(5);};Gr.__acroform__={};var ka=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e;},ufe=function(e){return e*lU;},Od=function(e){var t=new Afe(),n=It.internal.getHeight(e)||0,i=It.internal.getWidth(e)||0;return t.BBox=[0,0,Number(vn(i)),Number(vn(n))],t;},wXe=Gr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t;},CXe=Gr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t);},_Xe=Gr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0;},Xr=Gr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _Xe(e,t-1);},Qr=Gr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wXe(e,t-1);},Zr=Gr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CXe(e,t-1);},SXe=Gr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=n(r+o)||0,l.upperRight_Y=i(s)||0,[Number(vn(l.lowerLeft_X)),Number(vn(l.lowerLeft_Y)),Number(vn(l.upperRight_X)),Number(vn(l.upperRight_Y))];},EXe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=sU(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+vn(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Od(e);return s.scope=e.scope,s.stream=t.join(`
`),s;}},sU=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(S){return S.split(`
`);}):r.map(function(S){return[S];});var s=n,o=It.internal.getHeight(e)||0;o=o<0?-o:o;var a=It.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(S,T,z){if(S+1<r.length){var W=T+" "+r[S+1][0];return cF(W,e,z).width<=a-4;}return!1;};s++;e:for(;s>0;){t="",s--;var c,u,d=cF("3",e,s).height,h=e.multiline?o-s:(o-d)/2,f=h+=2,g=0,m=0,y=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+cF(t,e,s=12).width+", FieldWidth:"+a+`
`;break;}for(var b="",C=0,_=0;_<r.length;_++)if(r.hasOwnProperty(_)){var A=!1;if(r[_].length!==1&&y!==r[_].length-1){if((d+2)*(C+2)+2>o)continue e;b+=r[_][y],A=!0,m=_,_--;}else{b=(b+=r[_][y]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var I=parseInt(_),N=l(I,b,s),R=_>=r.length-1;if(N&&!R){b+=" ",y=0;continue;}if(N||R){if(R)m=I;else if(e.multiline&&(d+2)*(C+2)+2>o)continue e;}else{if(!e.multiline||(d+2)*(C+2)+2>o)continue e;m=I;}}for(var D="",V=g;V<=m;V++){var X=r[V];if(e.multiline){if(V===m){D+=X[y]+" ",y=(y+1)%X.length;continue;}if(V===g){D+=X[X.length-1]+" ";continue;}}D+=X[0]+" ";}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,u=cF(D,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2;}t+=vn(c)+" "+vn(f)+` Td
`,t+="("+Uv(D)+`) Tj
`,t+=-vn(c)+` 0 Td
`,f=-(s+2),u=0,g=A?m:m+1,C++,b="";}break;}return i.text=t,i.fontSize=s,i;},cF=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r};},TXe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},AXe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object;})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n);},DXe=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),Ni(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete e[i];}},RXe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(TXe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lU=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Dfe(),e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0;})(e);}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&AXe(s,n);}})(e);}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R");})(e);}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=SXe(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=It.createDefaultAppearanceStream(a),Ni(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=EXe(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u);}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(r,a)),d+="/"+o+" "+g+" ",r.internal.acroformPlugin.xForms.indexOf(g)>=0||r.internal.acroformPlugin.xForms.push(g);}}else typeof(g=f)=="function"&&(g=g.call(r,a)),d+="/"+o+" "+g,r.internal.acroformPlugin.xForms.indexOf(g)>=0||r.internal.acroformPlugin.xForms.push(g);d+=">>";}l.push({key:"AP",value:`<<
`+d+">>"});}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj");}s&&DXe(r.internal.acroformPlugin.xForms,r);})(n,e);}),e.internal.acroformPlugin.isInitialized=!0;}},Tfe=Gr.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(o){return o;};if(Array.isArray(e)){for(var r="[",s=0;s<e.length;s++)switch(s!==0&&(r+=" "),Ni(e[s])){case"boolean":case"number":case"object":r+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+Uv(i(e[s].toString()))+")"):r+=e[s].toString();}return r+="]";}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray");},Jz=function(e,t,n){var i=function(r){return r;};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Uv(i(e))+")";},Bd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred();}return this._objId;},set:function(e){this._objId=e;}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0});};Bd.prototype.toString=function(){return this.objId+" 0 R";},Bd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj");},Bd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_";});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:Tfe(r,this.objId,this.scope)}):r instanceof Bd?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}));}return e;};var Afe=function(){Bd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t;},set:function(n){t=n;}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim();},get:function(){return e||null;}});};ka(Afe,Bd);var Dfe=function(){Bd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0;}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t;}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i;};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Uv(n(e))+")";}},set:function(n){e=n;}});};ka(Dfe,Bd);var vu=function e(){Bd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t;},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b;}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xr(t,3);},set:function(b){b?this.F=Qr(t,3):this.F=Zr(t,3);}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n;},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b;}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i;},set:function(b){i=b!==void 0?b:[];}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0];},set:function(b){i[0]=b;}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1];},set:function(b){i[1]=b;}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2];},set:function(b){i[2]=b;}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3];},set:function(b){i[3]=b;}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r;},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.');}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vF)return;s="FieldObject"+e.FieldNum++;}var b=function(C){return C;};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Uv(b(s))+")";},set:function(b){s=b.toString();}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s;},set:function(b){s=b;}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o;},set:function(b){o=b;}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a;},set:function(b){a=b;}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l;},set:function(b){l=b;}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/lU:c;},set:function(b){c=b;}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u;},set:function(b){u=b;}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof vF||this instanceof zv))return Jz(d,this.objId,this.scope);},set:function(b){b=b.toString(),d=b;}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ms?h:Jz(h,this.objId,this.scope);},set:function(b){b=b.toString(),h=this instanceof Ms?b:b.substr(0,1)==="("?CC(b.substr(1,b.length-2)):CC(b);}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms?CC(h.substr(1,h.length-1)):h;},set:function(b){b=b.toString(),h=this instanceof Ms?"/"+b:b;}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f;},set:function(b){this.V=b;}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ms?f:Jz(f,this.objId,this.scope);},set:function(b){b=b.toString(),f=this instanceof Ms?b:b.substr(0,1)==="("?CC(b.substr(1,b.length-2)):CC(b);}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ms?CC(f.substr(1,f.length-1)):f;},set:function(b){b=b.toString(),f=this instanceof Ms?"/"+b:b;}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect;}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null;}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null;}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m;},set:function(b){b=!!b,m=b;}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g;},set:function(b){g=b;}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,1);},set:function(b){b?this.Ff=Qr(this.Ff,1):this.Ff=Zr(this.Ff,1);}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,2);},set:function(b){b?this.Ff=Qr(this.Ff,2):this.Ff=Zr(this.Ff,2);}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,3);},set:function(b){b?this.Ff=Qr(this.Ff,3):this.Ff=Zr(this.Ff,3);}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y;},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');y=b;}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(y){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right";}return b;},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0;}}});};ka(vu,Bd);var AC=function(){vu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e;},set:function(n){e=n;}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e;},set:function(n){e=n;}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Tfe(t,this.objId,this.scope);},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c;}(i,/\((.*?)\)/g)),t=r;}}),this.getOptions=function(){return t;},this.setOptions=function(n){t=n,this.sort&&t.sort();},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort();},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,18);},set:function(n){n?this.Ff=Qr(this.Ff,18):this.Ff=Zr(this.Ff,18);}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,19);},set:function(n){this.combo===!0&&(n?this.Ff=Qr(this.Ff,19):this.Ff=Zr(this.Ff,19));}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,20);},set:function(n){n?(this.Ff=Qr(this.Ff,20),t.sort()):this.Ff=Zr(this.Ff,20);}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,22);},set:function(n){n?this.Ff=Qr(this.Ff,22):this.Ff=Zr(this.Ff,22);}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23);},set:function(n){n?this.Ff=Qr(this.Ff,23):this.Ff=Zr(this.Ff,23);}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,27);},set:function(n){n?this.Ff=Qr(this.Ff,27):this.Ff=Zr(this.Ff,27);}}),this.hasAppearanceStream=!1;};ka(AC,vu);var DC=function(){AC.call(this),this.fontName="helvetica",this.combo=!1;};ka(DC,AC);var RC=function(){DC.call(this),this.combo=!0;};ka(RC,DC);var hF=function(){RC.call(this),this.edit=!0;};ka(hF,RC);var Ms=function(){vu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,15);},set:function(n){n?this.Ff=Qr(this.Ff,15):this.Ff=Zr(this.Ff,15);}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,16);},set:function(n){n?this.Ff=Qr(this.Ff,16):this.Ff=Zr(this.Ff,16);}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,17);},set:function(n){n?this.Ff=Qr(this.Ff,17):this.Ff=Zr(this.Ff,17);}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26);},set:function(n){n?this.Ff=Qr(this.Ff,26):this.Ff=Zr(this.Ff,26);}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s;};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+Uv(n(t[i]))+")");return r.push(">>"),r.join(`
`);}},set:function(n){Ni(n)==="object"&&(t=n);}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||"";},set:function(n){typeof n=="string"&&(t.CA=n);}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e;},set:function(n){e=n;}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1);},set:function(n){e="/"+n;}});};ka(Ms,vu);var fF=function(){Ms.call(this),this.pushButton=!0;};ka(fF,Ms);var IC=function(){Ms.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e;},set:function(t){e=t!==void 0?t:[];}});};ka(IC,Ms);var vF=function(){var e,t;vu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e;},set:function(r){e=r;}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t;},set:function(r){t=r;}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a;};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Uv(r(i[s]))+")");return o.push(">>"),o.join(`
`);},set:function(r){Ni(r)==="object"&&(i=r);}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||"";},set:function(r){typeof r=="string"&&(i.CA=r);}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n;},set:function(r){n=r;}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1);},set:function(r){n="/"+r;}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName);};ka(vF,vu),IC.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA();}},IC.prototype.createOption=function(e){var t=new vF();return t.Parent=this,t.optionName=e,this.Kids.push(t),IXe.call(this.scope,t),t;};var pF=function(){Ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream();};ka(pF,Ms);var zv=function(){vu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,13);},set:function(t){t?this.Ff=Qr(this.Ff,13):this.Ff=Zr(this.Ff,13);}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,21);},set:function(t){t?this.Ff=Qr(this.Ff,21):this.Ff=Zr(this.Ff,21);}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23);},set:function(t){t?this.Ff=Qr(this.Ff,23):this.Ff=Zr(this.Ff,23);}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,24);},set:function(t){t?this.Ff=Qr(this.Ff,24):this.Ff=Zr(this.Ff,24);}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,25);},set:function(t){t?this.Ff=Qr(this.Ff,25):this.Ff=Zr(this.Ff,25);}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26);},set:function(t){t?this.Ff=Qr(this.Ff,26):this.Ff=Zr(this.Ff,26);}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e;},set:function(t){e=t;}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e;},set:function(t){Number.isInteger(t)&&(e=t);}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV;}});};ka(zv,vu);var gF=function(){zv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,14);},set:function(e){e?this.Ff=Qr(this.Ff,14):this.Ff=Zr(this.Ff,14);}}),this.password=!0;};ka(gF,zv);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}};},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=sU(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+vn(It.internal.getWidth(e))+" "+vn(It.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+vn(s.fontSize)+" Tf "+r),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t;},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],s=It.internal.getHeight(e),o=It.internal.getWidth(e),a=sU(e,e.caption);return r.push("1 g"),r.push("0 0 "+vn(o)+" "+vn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+vn(o-1)+" "+vn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+vn(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t;},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vn(It.internal.getWidth(e))+" "+vn(It.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t;}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Circle.YesNormal,t.D[e]=It.RadioButton.Circle.YesPushDown,t;},getCA:function(){return"l";},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=[],i=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=It.internal.Bezier_C,s=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ug(It.internal.getWidth(e)/2)+" "+Ug(It.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t;},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],i=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*It.internal.Bezier_C).toFixed(5)),o=Number((i*It.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ug(It.internal.getWidth(e)/2)+" "+Ug(It.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ug(It.internal.getWidth(e)/2)+" "+Ug(It.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t;},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],i=It.internal.getWidth(e)<=It.internal.getHeight(e)?It.internal.getWidth(e)/4:It.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*It.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ug(It.internal.getWidth(e)/2)+" "+Ug(It.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t;}},Cross:{createAppearanceStream:function(e){var t={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=It.RadioButton.Cross.YesNormal,t.D[e]=It.RadioButton.Cross.YesPushDown,t;},getCA:function(){return"8";},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=[],i=It.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+vn(It.internal.getWidth(e)-2)+" "+vn(It.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(vn(i.x1.x)+" "+vn(i.x1.y)+" m"),n.push(vn(i.x2.x)+" "+vn(i.x2.y)+" l"),n.push(vn(i.x4.x)+" "+vn(i.x4.y)+" m"),n.push(vn(i.x3.x)+" "+vn(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t;},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=It.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+vn(It.internal.getWidth(e))+" "+vn(It.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+vn(It.internal.getWidth(e)-2)+" "+vn(It.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(vn(n.x1.x)+" "+vn(n.x1.y)+" m"),i.push(vn(n.x2.x)+" "+vn(n.x2.y)+" l"),i.push(vn(n.x4.x)+" "+vn(n.x4.y)+" m"),i.push(vn(n.x3.x)+" "+vn(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t;},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vn(It.internal.getWidth(e))+" "+vn(It.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t;}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n;}};It.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=It.internal.getWidth(e),n=It.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}};}},It.internal.getWidth=function(e){var t=0;return Ni(e)==="object"&&(t=ufe(e.Rect[2])),t;},It.internal.getHeight=function(e){var t=0;return Ni(e)==="object"&&(t=ufe(e.Rect[3])),t;};var IXe=Gr.addField=function(e){if(RXe(this,e),!(e instanceof vu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this;};Gr.AcroFormChoiceField=AC,Gr.AcroFormListBox=DC,Gr.AcroFormComboBox=RC,Gr.AcroFormEditBox=hF,Gr.AcroFormButton=Ms,Gr.AcroFormPushButton=fF,Gr.AcroFormRadioButton=IC,Gr.AcroFormCheckBox=pF,Gr.AcroFormTextField=zv,Gr.AcroFormPasswordField=gF,Gr.AcroFormAppearance=It,Gr.AcroForm={ChoiceField:AC,ListBox:DC,ComboBox:RC,EditBox:hF,Button:Ms,PushButton:fF,RadioButton:IC,CheckBox:pF,TextField:zv,PasswordField:gF,Appearance:It},Kt.AcroForm={ChoiceField:AC,ListBox:DC,ComboBox:RC,EditBox:hF,Button:Ms,PushButton:fF,RadioButton:IC,CheckBox:pF,TextField:zv,PasswordField:gF,Appearance:It};var oqt=Kt.AcroForm;function Rfe(e){return e.reduce(function(t,n,i){return t[n]=i,t;},{});}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(S,T){var z,W,H,F,Y,Z=t;if((T=T||t)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(N(S))for(Y in n)for(H=n[Y],z=0;z<H.length;z+=1){for(F=!0,W=0;W<H[z].length;W+=1)if(H[z][W]!==void 0&&H[z][W]!==S[W]){F=!1;break;}if(F===!0){Z=Y;break;}}else for(Y in n)for(H=n[Y],z=0;z<H.length;z+=1){for(F=!0,W=0;W<H[z].length;W+=1)if(H[z][W]!==void 0&&H[z][W]!==S.charCodeAt(W)){F=!1;break;}if(F===!0){Z=Y;break;}}return Z===t&&T!==t&&(Z=T),Z;},r=function S(T){for(var z=this.internal.write,W=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:T.width}),F.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Y="",Z=0,ne=T.transparency.length;Z<ne;Z++)Y+=T.transparency[Z]+" "+T.transparency[Z]+" ";F.push({key:"Mask",value:"["+Y+"]"});}T.sMask!==void 0&&F.push({key:"SMask",value:T.objectId+1+" 0 R"});var ae=T.filter!==void 0?["/"+T.filter]:void 0;if(W({data:T.data,additionalKeyValues:F,alreadyAppliedFilters:ae,objectId:T.objectId}),z("endobj"),"sMask"in T&&T.sMask!==void 0){var Ce="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,P={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Ce,data:T.sMask};"filter"in T&&(P.filter=T.filter),S.call(this,P);}if(T.colorSpace===y.INDEXED){var Q=this.internal.newObject();W({data:D(new Uint8Array(T.palette)),objectId:Q}),z("endobj");}},s=function(){var S=this.internal.collections.addImage_images;for(var T in S)r.call(this,S[T]);},o=function(){var S,T=this.internal.collections.addImage_images,z=this.internal.write;for(var W in T)z("/I"+(S=T[W]).index,S.objectId,"0","R");},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o));},l=function(){var S=this.internal.collections.addImage_images;return a.call(this),S;},c=function(){return Object.keys(this.internal.collections.addImage_images).length;},u=function(S){return typeof e["process"+S.toUpperCase()]=="function";},d=function(S){return Ni(S)==="object"&&S.nodeType===1;},h=function(S,T){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var z=""+S.getAttribute("src");if(z.indexOf("data:image/")===0)return lT(unescape(z).split("base64,").pop());var W=e.loadFile(z,!0);if(W!==void 0)return W;}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var H;switch(T){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg";}return lT(S.toDataURL(H,1).split("base64,").pop());}},f=function(S){var T=this.internal.collections.addImage_images;if(T){for(var z in T)if(S===T[z].alias)return T[z];}},g=function(S,T,z){return S||T||(S=-96,T=-96),S<0&&(S=-1*z.width*72/S/this.internal.scaleFactor),T<0&&(T=-1*z.height*72/T/this.internal.scaleFactor),S===0&&(S=T*z.width/z.height),T===0&&(T=S*z.height/z.width),[S,T];},m=function(S,T,z,W,H,F){var Y=g.call(this,z,W,H),Z=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ae=l.call(this);if(z=Y[0],W=Y[1],ae[H.index]=H,F){F*=Math.PI/180;var Ce=Math.cos(F),P=Math.sin(F),Q=function(le){return le.toFixed(4);},ee=[Q(Ce),Q(P),Q(-1*P),Q(Ce),0,0,"cm"];}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,Z(S),ne(T+W),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([Z(z),"0","0",Z(W),"0","0","cm"].join(" "))):this.internal.write([Z(z),"0","0",Z(W),Z(S),ne(T+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q");},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(S){var T,z,W=0;if(typeof S=="string")for(z=S.length,T=0;T<z;T++)W=(W<<5)-W+S.charCodeAt(T),W|=0;else if(N(S))for(z=S.byteLength/2,T=0;T<z;T++)W=(W<<5)-W+S[T],W|=0;return W;},_=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var T=!0;return S.length===0&&(T=!1),S.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(T=!1),T;},A=e.__addimage__.extractImageFromDataUrl=function(S){var T=(S=S||"").split("base64,"),z=null;if(T.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(W)&&(z={mimeType:W[1],charset:W[2],data:T[1]});}return z;},I=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u";};e.__addimage__.isArrayBuffer=function(S){return I()&&S instanceof ArrayBuffer;};var N=e.__addimage__.isArrayBufferView=function(S){return I()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array);},R=e.__addimage__.binaryStringToUint8Array=function(S){for(var T=S.length,z=new Uint8Array(T),W=0;W<T;W++)z[W]=S.charCodeAt(W);return z;},D=e.__addimage__.arrayBufferToBinaryString=function(S){for(var T="",z=N(S)?S:new Uint8Array(S),W=0;W<z.length;W+=8192)T+=String.fromCharCode.apply(null,z.subarray(W,W+8192));return T;};e.addImage=function(){var S,T,z,W,H,F,Y,Z,ne;if(typeof arguments[1]=="number"?(T=t,z=arguments[1],W=arguments[2],H=arguments[3],F=arguments[4],Y=arguments[5],Z=arguments[6],ne=arguments[7]):(T=arguments[1],z=arguments[2],W=arguments[3],H=arguments[4],F=arguments[5],Y=arguments[6],Z=arguments[7],ne=arguments[8]),Ni(S=arguments[0])==="object"&&!d(S)&&"imageData"in S){var ae=S;S=ae.imageData,T=ae.format||T||t,z=ae.x||z||0,W=ae.y||W||0,H=ae.w||ae.width||H,F=ae.h||ae.height||F,Y=ae.alias||Y,Z=ae.compression||Z,ne=ae.rotation||ae.angle||ne;}var Ce=this.internal.getFilters();if(Z===void 0&&Ce.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(z)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var P=V.call(this,S,T,Y,Z);return m.call(this,z,W,H,F,P,ne),this;};var V=function(S,T,z,W){var H,F,Y;if(typeof S=="string"&&i(S)===t){S=unescape(S);var Z=X(S,!1);(Z!==""||(Z=e.loadFile(S,!0))!==void 0)&&(S=Z);}if(d(S)&&(S=h(S,T)),T=i(S,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Y=z)==null||Y.length===0)&&(z=function(ne){return typeof ne=="string"||N(ne)?C(ne):N(ne.data)?C(ne.data):null;}(S)),(H=f.call(this,z))||(I()&&(S instanceof Uint8Array||T==="RGBA"||(F=S,S=R(S))),H=this["process"+T.toUpperCase()](S,c.call(this),z,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:b.NONE;}(W),F)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H;},X=e.__addimage__.convertBase64ToBinaryString=function(S,T){var z;T=typeof T!="boolean"||T;var W,H="";if(typeof S=="string"){W=(z=A(S))!==null?z.data:S;try{H=lT(W);}catch(F){if(T)throw _(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ");}}return H;};e.getImageProperties=function(S){var T,z,W="";if(d(S)&&(S=h(S)),typeof S=="string"&&i(S)===t&&((W=X(S,!1))===""&&(W=e.loadFile(S)||""),S=W),z=i(S),!u(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!I()||S instanceof Uint8Array||(S=R(S)),!(T=this["process"+z.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=z,T;};})(Kt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0;};Kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[];}]),e.events.push(["putPage",function(n){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0;}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){i=c[h];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(m.objId),C=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(b(i.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(b(C))+") >>",m.content=s;var _=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+_,i.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(m.objId,"0 R",y.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var A=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+f(g(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var I=this.annotations._nameMap[i.options.name];i.options.pageNumber=I.page,i.options.top=I.y;}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var N=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+N+" "+i.options.zoom+"]";}s!=""&&(s+=" >>",this.internal.write(s));}}this.internal.write("]");}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n);}},e.link=function(n,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(i),w:l(n+r),h:c(i+s)},options:o,type:"link"});},e.textWithLink=function(n,i,r,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u);}else a=l,o=c;return this.text(n,i,r,s),r+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,r-c,a,o,s),l;},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor;};}(Kt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0;},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m);},a=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length<=2;},l=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&r.indexOf(m.charCodeAt(0))>=0;};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=1;};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=2;};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=3;};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length==4;},d=e.__arabicParser__.resolveLigatures=function(m){var y=0,b=n,C="",_=0;for(y=0;y<m.length;y+=1)b[m.charCodeAt(y)]!==void 0?(_++,typeof(b=b[m.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(b),b=n,_=0),y===m.length-1&&(b=n,C+=m.charAt(y-(_-1)),y-=_-1,_=0)):(b=n,C+=m.charAt(y-_),y-=_,_=0);return C;};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&i[m.charCodeAt(0)]!==void 0;};var h=e.__arabicParser__.getCorrectForm=function(m,y,b){return o(m)?s(m)===!1?-1:!c(m)||!o(y)&&!o(b)||!o(b)&&a(y)||a(m)&&!o(y)||a(m)&&l(y)||a(m)&&a(y)?0:u(m)&&o(y)&&!a(y)&&o(b)&&c(b)?3:a(m)||!o(b)?1:2:-1;},f=function(m){var y=0,b=0,C=0,_="",A="",I="",N=(m=m||"").split("\\s+"),R=[];for(y=0;y<N.length;y+=1){for(R.push(""),b=0;b<N[y].length;b+=1)_=N[y][b],A=N[y][b-1],I=N[y][b+1],o(_)?(C=h(_,A,I),R[y]+=C!==-1?String.fromCharCode(t[_.charCodeAt(0)][C]):_):R[y]+=_;R[y]=d(R[y]);}return R.join(" ");},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(y)){var C=0;for(b=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?b.push([f(y[C][0]),y[C][1],y[C][2]]):b.push([f(y[C])]);m=b;}else m=f(y);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0]);};e.events.push(["preProcessText",g]);}(Kt.API),Kt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj");}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R");});}return this;},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n;},set:function(a){n=a;}});var i=150;Object.defineProperty(this,"width",{get:function(){return i;},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1);}});var r=300;Object.defineProperty(this,"height",{get:function(){return r;},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1);}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s;},set:function(a){s=a;}});var o={};Object.defineProperty(this,"style",{get:function(){return o;},set:function(a){o=a;}}),Object.defineProperty(this,"parentNode",{});};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d;},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.");},e.events.push(["initialized",function(){this.canvas=new t(),this.canvas.pdf=this;}]);}(Kt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this));},r=function(){this.internal.__cell__.lastCell=new s(),this.internal.__cell__.pages=1;},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l;},set:function(m){l=m;}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c;},set:function(m){c=m;}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u;},set:function(m){u=m;}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d;},set:function(m){d=m;}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h;},set:function(m){h=m;}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f;},set:function(m){f=m;}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g;},set:function(m){g=m;}}),this;};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align);},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align];},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this;},e.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,g=0,m=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l);}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,A){return _.concat(y.splitTextToSize(A,b));},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)f<(m=this.getStringUnitWidth(l[C],{font:d})*u)&&(f=m);return f!==0&&(g=l.length),{w:f/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)};},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this;};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this;};e.table=function(l,c,u,d,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var f,g,m,y,b=[],C=[],_=[],A={},I={},N=[],R=[],D=(h=h||{}).autoSize||!1,V=h.printHeaders!==!1,X=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,S=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,z=h.headerBackgroundColor||"#c8c8c8",W=h.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=W,this.setFontSize(X),d==null)C=b=Object.keys(u[0]),_=b.map(function(){return"left";});else if(Array.isArray(d)&&Ni(d[0])==="object")for(b=d.map(function(ae){return ae.name;}),C=d.map(function(ae){return ae.prompt||ae.name||"";}),_=d.map(function(ae){return ae.align||"left";}),f=0;f<d.length;f+=1)I[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(C=b=d,_=b.map(function(){return"left";}));if(D||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<b.length;f+=1){for(A[y=b[f]]=u.map(function(ae){return ae[y];}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(C[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=A[y],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)N.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[y]=Math.max.apply(null,N)+T+T,N=[];}if(V){var H={};for(f=0;f<b.length;f+=1)H[b[f]]={},H[b[f]].text=C[f],H[b[f]].align=_[f];var F=a.call(this,H,I);R=b.map(function(ae){return new s(l,c,I[ae],F,H[ae].text,void 0,H[ae].align);}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1);}var Y=d.reduce(function(ae,Ce){return ae[Ce.name]=Ce.align,ae;},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var Z=a.call(this,u[f],I);for(m=0;m<b.length;m+=1){var ne=u[f][b[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:m,data:ne},this),o.call(this,new s(l,c,I[b[m]],Z,ne,f+2,Y[b[m]]));}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this;};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var g=l[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[f]-u-u);},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u;},this).reduce(function(f,g){return Math.max(f,g);},0);};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l;},e.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1);}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g);}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1;};}(Kt.API);var Ife={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Pfe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oU=Rfe(Pfe),kfe=[100,200,300,400,500,600,700,800,900],PXe=Rfe(kfe);function aU(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Ife[s=s||"normal"]?s:"normal";}(e.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400;}}(e.weight),r=function(s){return typeof oU[s=s||"normal"]=="number"?s:"normal";}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}};}function dfe(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]];}var kXe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hfe={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ffe(e){return[e.stretch,e.style,e.weight,e.family].join(" ");}function MXe(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},kXe,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(r[(s=aU(t[a])).family]&&(s.family=r[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break;}if(!(o=o||e[i]))throw new Error("Could not find a font-family for the rule '"+ffe(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=oU[l],d=u<=oU.normal?-1:1,h=dfe(c,Pfe,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h;}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=Ife[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l);}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=PXe[l],d=dfe(c,kfe,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d;}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ffe(s)+"'.");return o;}function pfe(e){return e.trimLeft();}function FXe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1;}return null;}function NXe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)];}var uF,gfe,mfe,eU=["times"];(function(e){var t,n,i,r,s,o,a,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l(),this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new o(),this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new o(),this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this;};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u();}]);var d=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1};}});var Q=P;Object.defineProperty(this,"pdf",{get:function(){return Q;}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee;},set:function(De){ee=!!De;}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le;},set:function(De){le=!!De;}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he;},set:function(De){isNaN(De)||(he=De);}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue;},set:function(De){isNaN(De)||(ue=De);}}),Object.defineProperty(this,"margin",{get:function(){return c.margin;},set:function(De){var re;typeof De=="number"?re=[De,De,De,De]:((re=new Array(4))[0]=De[0],re[1]=De.length>=2?De[1]:re[0],re[2]=De.length>=3?De[2]:re[0],re[3]=De.length>=4?De[3]:re[1]),c.margin=re;}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe;},set:function(De){xe=De;}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe;},set:function(De){oe=De;}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae;},set:function(De){Ae=De;}}),Object.defineProperty(this,"ctx",{get:function(){return c;},set:function(De){De instanceof u&&(c=De);}}),Object.defineProperty(this,"path",{get:function(){return c.path;},set:function(De){c.path=De;}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe;},set:function(De){Pe=De;}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle;},set:function(De){var re;re=h(De),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a});}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle;},set:function(De){var re=h(De);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b));}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap;},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De));}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth;},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De));}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin;},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De));}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit;},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De));}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline;},set:function(De){this.ctx.textBaseline=De;}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign;},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De);}});var ge=null;function Ge(De,re){if(ge===null){var tt=function(lt){var Xe=[];return Object.keys(lt).forEach(function(st){lt[st].forEach(function(bt){var gt=null;switch(bt){case"bold":gt={family:st,weight:"bold"};break;case"italic":gt={family:st,style:"italic"};break;case"bolditalic":gt={family:st,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:st};}gt!==null&&(gt.ref={name:st,style:bt},Xe.push(gt));});}),Xe;}(De.getFontList());ge=function(lt){for(var Xe={},st=0;st<lt.length;++st){var bt=aU(lt[st]),gt=bt.family,Lt=bt.stretch,dn=bt.style,Sn=bt.weight;Xe[gt]=Xe[gt]||{},Xe[gt][Lt]=Xe[gt][Lt]||{},Xe[gt][Lt][dn]=Xe[gt][Lt][dn]||{},Xe[gt][Lt][dn][Sn]=bt;}return Xe;}(tt.concat(re));}return ge;}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it;},set:function(De){ge=null,it=De;}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font;},set:function(De){var re;if(this.ctx.font=De,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var tt=re[1],lt=(re[2],re[3]),Xe=re[4],st=(re[5],re[6]),bt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(bt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:bt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var gt=function(tn){var Vn,xt,io=[],ai=tn.trim();if(ai==="")return eU;if(ai in hfe)return[hfe[ai]];for(;ai!=="";){switch(xt=null,Vn=(ai=pfe(ai)).charAt(0)){case'"':case"'":xt=FXe(ai.substring(1),Vn);break;default:xt=NXe(ai);}if(xt===null||(io.push(xt[0]),(ai=pfe(xt[1]))!==""&&ai.charAt(0)!==","))return eU;ai=ai.replace(/^,/,"");}return io;}(st);if(this.fontFaces){var Lt=MXe(Ge(this.pdf,this.fontFaces),gt.map(function(tn){return{family:tn,stretch:"normal",weight:lt,style:tt};}));this.pdf.setFont(Lt.ref.name,Lt.ref.style);}else{var dn="";(lt==="bold"||parseInt(lt,10)>=700||tt==="bold")&&(dn="bold"),tt==="italic"&&(dn+="italic"),dn.length===0&&(dn="normal");for(var Sn="",Ln={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jn=0;Jn<gt.length;Jn++){if(this.pdf.internal.getFont(gt[Jn],dn,{noFallback:!0,disableWarning:!0})!==void 0){Sn=gt[Jn];break;}if(dn==="bolditalic"&&this.pdf.internal.getFont(gt[Jn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Sn=gt[Jn],dn="bold";else if(this.pdf.internal.getFont(gt[Jn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Sn=gt[Jn],dn="normal";break;}}if(Sn===""){for(var Mi=0;Mi<gt.length;Mi++)if(Ln[gt[Mi]]){Sn=Ln[gt[Mi]];break;}}Sn=Sn===""?"Times":Sn,this.pdf.setFont(Sn,dn);}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation;},set:function(De){this.ctx.globalCompositeOperation=De;}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha;},set:function(De){this.ctx.globalAlpha=De;}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset;},set:function(De){this.ctx.lineDashOffset=De,Ce.call(this);}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash;},set:function(De){this.ctx.lineDash=De,Ce.call(this);}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect;},set:function(De){this.ctx.ignoreClearRect=!!De;}});};d.prototype.setLineDash=function(P){this.lineDash=P;},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice();},d.prototype.fill=function(){A.call(this,"fill",!1);},d.prototype.stroke=function(){A.call(this,"stroke",!1);},d.prototype.beginPath=function(){this.path=[{type:"begin"}];},d.prototype.moveTo=function(P,Q){if(isNaN(P)||isNaN(Q))throw Xi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(P,Q));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(P,Q);},d.prototype.closePath=function(){var P=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&Ni(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){P=new o(this.path[Q+1].x,this.path[Q+1].y);break;}this.path.push({type:"close"}),this.ctx.lastPoint=new o(P.x,P.y);},d.prototype.lineTo=function(P,Q){if(isNaN(P)||isNaN(Q))throw Xi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(P,Q));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y);},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0);},d.prototype.quadraticCurveTo=function(P,Q,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(P)||isNaN(Q))throw Xi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(ee,le)),ue=this.ctx.transform.applyToPoint(new o(P,Q));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y);},d.prototype.bezierCurveTo=function(P,Q,ee,le,he,ue){if(isNaN(he)||isNaN(ue)||isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le))throw Xi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(he,ue)),oe=this.ctx.transform.applyToPoint(new o(P,Q)),Ae=this.ctx.transform.applyToPoint(new o(ee,le));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:Ae.x,y2:Ae.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y);},d.prototype.arc=function(P,Q,ee,le,he,ue){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le)||isNaN(he))throw Xi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(P,Q));P=xe.x,Q=xe.y;var oe=this.ctx.transform.applyToPoint(new o(0,ee)),Ae=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(oe.x-Ae.x,2)+Math.pow(oe.y-Ae.y,2));}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:P,y:Q,radius:ee,startAngle:le,endAngle:he,counterclockwise:ue});},d.prototype.arcTo=function(P,Q,ee,le,he){throw new Error("arcTo not implemented.");},d.prototype.rect=function(P,Q,ee,le){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le))throw Xi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,Q),this.lineTo(P+ee,Q),this.lineTo(P+ee,Q+le),this.lineTo(P,Q+le),this.lineTo(P,Q),this.lineTo(P+ee,Q),this.lineTo(P,Q);},d.prototype.fillRect=function(P,Q,ee,le){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le))throw Xi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,Q,ee,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin);}},d.prototype.strokeRect=function(P,Q,ee,le){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le))throw Xi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,Q,ee,le),this.stroke());},d.prototype.clearRect=function(P,Q,ee,le){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le))throw Xi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,Q,ee,le));},d.prototype.save=function(P){P=typeof P!="boolean"||P;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le;}},d.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset);},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.");};var h=function(P){var Q,ee,le,he;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))Q=0,ee=0,le=0,he=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ue!==null)Q=parseInt(ue[1]),ee=parseInt(ue[2]),le=parseInt(ue[3]),he=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)Q=parseInt(ue[1]),ee=parseInt(ue[2]),le=parseInt(ue[3]),he=parseFloat(ue[4]);else{if(he=1,typeof P=="string"&&P.charAt(0)!=="#"){var xe=new _fe(P);P=xe.ok?xe.toHex():"#000000";}P.length===4?(Q=P.substring(1,2),Q+=Q,ee=P.substring(2,3),ee+=ee,le=P.substring(3,4),le+=le):(Q=P.substring(1,3),ee=P.substring(3,5),le=P.substring(5,7)),Q=parseInt(Q,16),ee=parseInt(ee,16),le=parseInt(le,16);}}return{r:Q,g:ee,b:le,a:he,style:P};},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0;},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0);};d.prototype.fillText=function(P,Q,ee,le){if(isNaN(Q)||isNaN(ee)||typeof P!="string")throw Xi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var he=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:P,x:Q,y:ee,scale:ue,angle:he,align:this.textAlign,maxWidth:le});}},d.prototype.strokeText=function(P,Q,ee,le){if(isNaN(Q)||isNaN(ee)||typeof P!="string")throw Xi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){le=isNaN(le)?void 0:le;var he=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;T.call(this,{text:P,x:Q,y:ee,scale:ue,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le});}},d.prototype.measureText=function(P){if(typeof P!="string")throw Xi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ee=this.pdf.internal.scaleFactor,le=Q.internal.getFontSize(),he=Q.getStringUnitWidth(P)*le/Q.internal.scaleFactor,ue=function(xe){var oe=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe;}}),this;};return new ue({width:he*=Math.round(96*ee/72*1e4)/1e4});},d.prototype.scale=function(P,Q){if(isNaN(P)||isNaN(Q))throw Xi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(P,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ee);},d.prototype.rotate=function(P){if(isNaN(P))throw Xi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(Q);},d.prototype.translate=function(P,Q){if(isNaN(P)||isNaN(Q))throw Xi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,P,Q);this.ctx.transform=this.ctx.transform.multiply(ee);},d.prototype.transform=function(P,Q,ee,le,he,ue){if(isNaN(P)||isNaN(Q)||isNaN(ee)||isNaN(le)||isNaN(he)||isNaN(ue))throw Xi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(P,Q,ee,le,he,ue);this.ctx.transform=this.ctx.transform.multiply(xe);},d.prototype.setTransform=function(P,Q,ee,le,he,ue){P=isNaN(P)?1:P,Q=isNaN(Q)?0:Q,ee=isNaN(ee)?0:ee,le=isNaN(le)?1:le,he=isNaN(he)?0:he,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(P,Q,ee,le,he,ue);};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0;};d.prototype.drawImage=function(P,Q,ee,le,he,ue,xe,oe,Ae){var Pe=this.pdf.getImageProperties(P),ge=1,Ge=1,it=1,De=1;le!==void 0&&oe!==void 0&&(it=oe/le,De=Ae/he,ge=Pe.width/le*oe/le,Ge=Pe.height/he*Ae/he),ue===void 0&&(ue=Q,xe=ee,Q=0,ee=0),le!==void 0&&oe===void 0&&(oe=le,Ae=he),le===void 0&&oe===void 0&&(oe=Pe.width,Ae=Pe.height);for(var re,tt=this.ctx.transform.decompose(),lt=Z(tt.rotate.shx),Xe=new l(),st=(Xe=(Xe=(Xe=Xe.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new a(ue-Q*it,xe-ee*De,le*ge,he*Ge)),bt=y.call(this,st),gt=[],Lt=0;Lt<bt.length;Lt+=1)gt.indexOf(bt[Lt])===-1&&gt.push(bt[Lt]);if(_(gt),this.autoPaging)for(var dn=gt[0],Sn=gt[gt.length-1],Ln=dn;Ln<Sn+1;Ln++){this.pdf.setPage(Ln);var Jn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mi=Ln===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Ln===1?0:tn+(Ln-2)*Vn;if(this.ctx.clip_path.length!==0){var io=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-xt+Mi+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=io;}var ai=JSON.parse(JSON.stringify(st));ai=C([ai],this.posX+this.margin[3],-xt+Mi+this.ctx.prevPageLastElemOffset)[0];var dc=(Ln>dn||Ln<Sn)&&m.call(this);dc&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,Vn,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",ai.x,ai.y,ai.w,ai.h,null,null,lt),dc&&this.pdf.restoreGraphicsState();}else this.pdf.addImage(P,"JPEG",st.x,st.y,st.w,st.h,null,null,lt);};var y=function(P,Q,ee){var le=[];Q=Q||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":le.push(Math.floor((P.y+he)/ee)+1);break;case"arc":le.push(Math.floor((P.y+he-P.radius)/ee)+1),le.push(Math.floor((P.y+he+P.radius)/ee)+1);break;case"qct":var ue=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);le.push(Math.floor((ue.y+he)/ee)+1),le.push(Math.floor((ue.y+ue.h+he)/ee)+1);break;case"bct":var xe=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);le.push(Math.floor((xe.y+he)/ee)+1),le.push(Math.floor((xe.y+xe.h+he)/ee)+1);break;case"rect":le.push(Math.floor((P.y+he)/ee)+1),le.push(Math.floor((P.y+P.h+he)/ee)+1);}for(var oe=0;oe<le.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<le[oe];)b.call(this);return le;},b=function(){var P=this.fillStyle,Q=this.strokeStyle,ee=this.font,le=this.lineCap,he=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=Q,this.font=ee,this.lineCap=le,this.lineWidth=he,this.lineJoin=ue;},C=function(P,Q,ee){for(var le=0;le<P.length;le++)switch(P[le].type){case"bct":P[le].x2+=Q,P[le].y2+=ee;case"qct":P[le].x1+=Q,P[le].y1+=ee;case"mt":case"lt":case"arc":default:P[le].x+=Q,P[le].y+=ee;}return P;},_=function(P){return P.sort(function(Q,ee){return Q-ee;});},A=function(P,Q){for(var ee,le,he=this.fillStyle,ue=this.strokeStyle,xe=this.lineCap,oe=this.lineWidth,Ae=Math.abs(oe*this.ctx.transform.scaleX),Pe=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),it=[],De=0;De<Ge.length;De++)if(Ge[De].x!==void 0)for(var re=y.call(this,Ge[De]),tt=0;tt<re.length;tt+=1)it.indexOf(re[tt])===-1&&it.push(re[tt]);for(var lt=0;lt<it.length;lt++)for(;this.pdf.internal.getNumberOfPages()<it[lt];)b.call(this);if(_(it),this.autoPaging)for(var Xe=it[0],st=it[it.length-1],bt=Xe;bt<st+1;bt++){this.pdf.setPage(bt),this.fillStyle=he,this.strokeStyle=ue,this.lineCap=xe,this.lineWidth=Ae,this.lineJoin=Pe;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=bt===1?this.posY+this.margin[0]:this.margin[0],dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ln=bt===1?0:dn+(bt-2)*Sn;if(this.ctx.clip_path.length!==0){var Jn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ee,this.posX+this.margin[3],-Ln+Lt+this.ctx.prevPageLastElemOffset),I.call(this,P,!0),this.path=Jn;}if(le=JSON.parse(JSON.stringify(ge)),this.path=C(le,this.posX+this.margin[3],-Ln+Lt+this.ctx.prevPageLastElemOffset),Q===!1||bt===0){var Mi=(bt>Xe||bt<st)&&m.call(this);Mi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Sn,null).clip().discardPath()),I.call(this,P,Q),Mi&&this.pdf.restoreGraphicsState();}this.lineWidth=oe;}else this.lineWidth=Ae,I.call(this,P,Q),this.lineWidth=oe;this.path=ge;},I=function(P,Q){if((P!=="stroke"||Q||!g.call(this))&&(P==="stroke"||Q||!f.call(this))){for(var ee,le,he=[],ue=this.path,xe=0;xe<ue.length;xe++){var oe=ue[xe];switch(oe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:oe,deltas:[],abs:[]});break;case"lt":var Ae=he.length;if(ue[xe-1]&&!isNaN(ue[xe-1].x)&&(ee=[oe.x-ue[xe-1].x,oe.y-ue[xe-1].y],Ae>0)){for(;Ae>=0;Ae--)if(he[Ae-1].close!==!0&&he[Ae-1].begin!==!0){he[Ae-1].deltas.push(ee),he[Ae-1].abs.push(oe);break;}}break;case"bct":ee=[oe.x1-ue[xe-1].x,oe.y1-ue[xe-1].y,oe.x2-ue[xe-1].x,oe.y2-ue[xe-1].y,oe.x-ue[xe-1].x,oe.y-ue[xe-1].y],he[he.length-1].deltas.push(ee);break;case"qct":var Pe=ue[xe-1].x+2/3*(oe.x1-ue[xe-1].x),ge=ue[xe-1].y+2/3*(oe.y1-ue[xe-1].y),Ge=oe.x+2/3*(oe.x1-oe.x),it=oe.y+2/3*(oe.y1-oe.y),De=oe.x,re=oe.y;ee=[Pe-ue[xe-1].x,ge-ue[xe-1].y,Ge-ue[xe-1].x,it-ue[xe-1].y,De-ue[xe-1].x,re-ue[xe-1].y],he[he.length-1].deltas.push(ee);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(oe);}}le=Q?null:P==="stroke"?"stroke":"fill";for(var tt=!1,lt=0;lt<he.length;lt++)if(he[lt].arc)for(var Xe=he[lt].abs,st=0;st<Xe.length;st++){var bt=Xe[st];bt.type==="arc"?D.call(this,bt.x,bt.y,bt.radius,bt.startAngle,bt.endAngle,bt.counterclockwise,void 0,Q,!tt):z.call(this,bt.x,bt.y),tt=!0;}else if(he[lt].close===!0)this.pdf.internal.out("h"),tt=!1;else if(he[lt].begin!==!0){var gt=he[lt].start.x,Lt=he[lt].start.y;W.call(this,he[lt].deltas,gt,Lt),tt=!0;}le&&V.call(this,le),Q&&X.call(this);}},N=function(P){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-ee;case"top":return P+Q-ee;case"hanging":return P+Q-2*ee;case"middle":return P+Q/2-ee;case"ideographic":return P;case"alphabetic":default:return P;}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1);};d.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(Q,ee){this.colorStops.push([Q,ee]);},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1];},P.isCanvasGradient=!0,P;},d.prototype.createPattern=function(){return this.createLinearGradient();},d.prototype.createRadialGradient=function(){return this.createLinearGradient();};var D=function(P,Q,ee,le,he,ue,xe,oe,Ae){for(var Pe=F.call(this,ee,le,he,ue),ge=0;ge<Pe.length;ge++){var Ge=Pe[ge];ge===0&&(Ae?S.call(this,Ge.x1+P,Ge.y1+Q):z.call(this,Ge.x1+P,Ge.y1+Q)),H.call(this,P,Q,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4);}oe?X.call(this):V.call(this,xe);},V=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f");}},X=function(){this.pdf.clip(),this.pdf.discardPath();},S=function(P,Q){this.pdf.internal.out(n(P)+" "+i(Q)+" m");},T=function(P){var Q;switch(P.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left";}var ee=this.pdf.getTextDimensions(P.text),le=N.call(this,P.y),he=R.call(this,le)-ee.h,ue=this.ctx.transform.applyToPoint(new o(P.x,le)),xe=this.ctx.transform.decompose(),oe=new l();oe=(oe=(oe=oe.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ae,Pe,ge,Ge=this.ctx.transform.applyToRectangle(new a(P.x,le,ee.w,ee.h)),it=oe.applyToRectangle(new a(P.x,he,ee.w,ee.h)),De=y.call(this,it),re=[],tt=0;tt<De.length;tt+=1)re.indexOf(De[tt])===-1&&re.push(De[tt]);if(_(re),this.autoPaging)for(var lt=re[0],Xe=re[re.length-1],st=lt;st<Xe+1;st++){this.pdf.setPage(st);var bt=st===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],dn=Lt-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],Ln=Sn-this.margin[3],Jn=st===1?0:gt+(st-2)*dn;if(this.ctx.clip_path.length!==0){var Mi=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ae,this.posX+this.margin[3],-1*Jn+bt),I.call(this,"fill",!0),this.path=Mi;}var tn=C([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Jn+bt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),ge=this.lineWidth,this.lineWidth=ge*P.scale);var Vn=this.autoPaging!=="text";if(Vn||tn.y+tn.h<=Lt){if(Vn||tn.y>=bt&&tn.x<=Sn){var xt=Vn?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Sn-tn.x)[0],io=C([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Jn+bt+this.ctx.prevPageLastElemOffset)[0],ai=Vn&&(st>lt||st<Xe)&&m.call(this);ai&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ln,dn,null).clip().discardPath()),this.pdf.text(xt,io.x,io.y,{angle:P.angle,align:Q,renderingMode:P.renderingMode}),ai&&this.pdf.restoreGraphicsState();}}else tn.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-tn.y);P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=ge);}else P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),ge=this.lineWidth,this.lineWidth=ge*P.scale),this.pdf.text(P.text,ue.x+this.posX,ue.y+this.posY,{angle:P.angle,align:Q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=ge);},z=function(P,Q,ee,le){ee=ee||0,le=le||0,this.pdf.internal.out(n(P+ee)+" "+i(Q+le)+" l");},W=function(P,Q,ee){return this.pdf.lines(P,Q,ee,null,null);},H=function(P,Q,ee,le,he,ue,xe,oe){this.pdf.internal.out([t(r(ee+P)),t(s(le+Q)),t(r(he+P)),t(s(ue+Q)),t(r(xe+P)),t(s(oe+Q)),"c"].join(" "));},F=function(P,Q,ee,le){for(var he=2*Math.PI,ue=Math.PI/2;Q>ee;)Q-=he;var xe=Math.abs(ee-Q);xe<he&&le&&(xe=he-xe);for(var oe=[],Ae=le?-1:1,Pe=Q;xe>1e-5;){var ge=Pe+Ae*Math.min(xe,ue);oe.push(Y.call(this,P,Pe,ge)),xe-=Math.abs(ge-Pe),Pe=ge;}return oe;},Y=function(P,Q,ee){var le=(ee-Q)/2,he=P*Math.cos(le),ue=P*Math.sin(le),xe=he,oe=-ue,Ae=xe*xe+oe*oe,Pe=Ae+xe*he+oe*ue,ge=4/3*(Math.sqrt(2*Ae*Pe)-Pe)/(xe*ue-oe*he),Ge=xe-ge*oe,it=oe+ge*xe,De=Ge,re=-it,tt=le+Q,lt=Math.cos(tt),Xe=Math.sin(tt);return{x1:P*Math.cos(Q),y1:P*Math.sin(Q),x2:Ge*lt-it*Xe,y2:Ge*Xe+it*lt,x3:De*lt-re*Xe,y3:De*Xe+re*lt,x4:P*Math.cos(ee),y4:P*Math.sin(ee)};},Z=function(P){return 180*P/Math.PI;},ne=function(P,Q,ee,le,he,ue){var xe=P+.5*(ee-P),oe=Q+.5*(le-Q),Ae=he+.5*(ee-he),Pe=ue+.5*(le-ue),ge=Math.min(P,he,xe,Ae),Ge=Math.max(P,he,xe,Ae),it=Math.min(Q,ue,oe,Pe),De=Math.max(Q,ue,oe,Pe);return new a(ge,it,Ge-ge,De-it);},ae=function(P,Q,ee,le,he,ue,xe,oe){var Ae,Pe,ge,Ge,it,De,re,tt,lt,Xe,st,bt,gt,Lt,dn=ee-P,Sn=le-Q,Ln=he-ee,Jn=ue-le,Mi=xe-he,tn=oe-ue;for(Pe=0;Pe<41;Pe++)lt=(re=(ge=P+(Ae=Pe/40)*dn)+Ae*((it=ee+Ae*Ln)-ge))+Ae*(it+Ae*(he+Ae*Mi-it)-re),Xe=(tt=(Ge=Q+Ae*Sn)+Ae*((De=le+Ae*Jn)-Ge))+Ae*(De+Ae*(ue+Ae*tn-De)-tt),Pe==0?(st=lt,bt=Xe,gt=lt,Lt=Xe):(st=Math.min(st,lt),bt=Math.min(bt,Xe),gt=Math.max(gt,lt),Lt=Math.max(Lt,Xe));return new a(Math.round(st),Math.round(bt),Math.round(gt-st),Math.round(Lt-bt));},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,Q,ee=(P=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:Q}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee);}};})(Kt.API),function(e){var t=function(s){var o,a,l,c,u,d,h,f,g,m;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,a.push(d+33,h+33,f+33,g+33,m+33)):a.push(122);return function(y,b){for(var C=b;C>0;C--)y.pop();}(a,o.length),String.fromCharCode.apply(String,a)+"~>";},n=function(s){var o,a,l,c,u,d=String,h="length",f=255,g="charCodeAt",m="slice",y="replace";for(s[m](-2),s=s[m](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[m](s[h]%5||5))[h];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(b,C){for(var _=C;_>0;_--)b.pop();}(l,o[h]),d.fromCharCode.apply(d,l);},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a;},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=aF(o)).reduce(function(l,c){return l+String.fromCharCode(c);},"");};e.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2);}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented');}return{data:l,reverseChain:c.reverse().join(" ")};};}(Kt.API),function(e){e.loadFile=function(t,n,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest(),h=0,f=function(g){var m=g.length,y=[],b=String.fromCharCode;for(h=0;h<m;h+=1)y.push(b(255&g.charCodeAt(h)));return y.join("");};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0);}),d.send(null),c&&d.status===200)return f(d.responseText);}(r,s,o);}catch{}return a;}(t,n,i);},e.loadImageFile=e.loadFile;}(Kt.API),function(e){function t(){return(Zt.html2canvas?Promise.resolve(Zt.html2canvas):import("./chunk-NY5Z3DQB.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o));}).then(function(o){return o.default?o.default:o;});}function n(){return(Zt.DOMPurify?Promise.resolve(Zt.DOMPurify):import("./chunk-YSH5ZRPM.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o));}).then(function(o){return o.default?o.default:o;});}var i=function(o){var a=Ni(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown";},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l;},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a);};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o;},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown";}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})});});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.");}});},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.");}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.");},function(){return this.prop.pageSize||this.setPageSize();}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft;},!0)),d;}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px";});},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer();}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l);}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay);});},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer();}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],g=f.src.find(function(m){return m.format==="truetype";});g&&l.addFont(g.url,f.ref.name,f.ref.style);}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d);}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay);});},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas();}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o;});},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d();}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF;});},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a);},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf();}]).then(function(){return this.prop.pdf.output(o,a);});},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg();}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.';}});},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf();}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename);});},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf();}]).then(function(){this.prop.callback(this.prop.pdf);});},s.prototype.set=function(o){if(i(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l];};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize();};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l];};}},this);return this.then(function(){return this.thenList(a);});},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l;});},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.");}this.opt.margin=o;}).then(this.setPageSize);},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96);}return this.then(function(){(o=o||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o;});},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this;},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null);},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d;}).then(c,u).then(function(d){return l.updateProgress(1),d;});});},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__);},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a);},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l);}),a;},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this);},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o);},s.prototype.error=function(o){return this.then(function(){throw new Error(o);});},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Kt.getPageSize=function(o,a,l){if(Ni(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l;}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a;}var f,g=0,m=0;if(h.hasOwnProperty(d))g=h[d][1]/u,m=h[d][0]/u;else try{g=l[1],m=l[0];}catch{throw new Error("Invalid format: "+l);}if(o==="p"||o==="portrait")o="p",m>g&&(f=m,m=g,g=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>m&&(f=m,m=g,g=f);}return{width:m,height:g,unit:a,k:u,orientation:o};},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(aU):null;var l=new s(a);return a.worker?l:l.from(o).doCallback();};}(Kt.API),Kt.API.addJS=function(e){return mfe=e,this.internal.events.subscribe("postPutResources",function(){uF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uF+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gfe=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mfe+")"),this.internal.out(">>"),this.internal.out("endobj");}),this.internal.events.subscribe("putCatalog",function(){uF!==void 0&&gfe!==void 0&&this.internal.out("/Names <</JavaScript "+uF+" 0 R>>");}),this;},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1);}n.internal.write(o);}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj");}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj");}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"));}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o;},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val;},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r]);},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd();},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]");}this.objEnd();}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c]);},n.outline.line=function(i){this.ctx.val+=i+`\r
`;},n.outline.makeRef=function(i){return i.id+" 0 R";},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")";},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`;},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`;},n.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count;};}]);}(Kt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,m={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=f,t.indexOf(d.charCodeAt(y+1))!==-1){h=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),m={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:h,numcomponents:d.charCodeAt(y+9)};break;}f=256*d.charCodeAt(y+2)+d.charCodeAt(y+3);}return m;}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB;}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r};}return u;};}(Kt.API);var _C,dF,vfe,yfe,bfe,LXe=function(){var e,t,n;function i(s){var o,a,l,c,u,d,h,f,g,m,y,b,C,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),g=function(){var A,I;for(I=[],A=0;A<4;++A)I.push(String.fromCharCode(this.data[this.pos++]));return I;}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=d?.data||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(C=0;0<=m?C<m:C>m;0<=m?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o);}break;case"tEXt":h=(y=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,y.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}.call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB";}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o;}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file");}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a;},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++];},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++];},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,h,f,g){var m,y,b,C,_,A,I,N,R,D,V,X,S,T,z,W,H,F,Y,Z,ne,ae=Math.ceil((c.width-d)/f),Ce=Math.ceil((c.height-h)/g),P=c.width==ae&&c.height==Ce;for(T=o*ae,X=P?a:new Uint8Array(T*Ce),A=s.length,S=0,y=0;S<Ce&&l<A;){switch(s[l++]){case 0:for(C=H=0;H<T;C=H+=1)X[y++]=s[l++];break;case 1:for(C=F=0;F<T;C=F+=1)m=s[l++],_=C<o?0:X[y-o],X[y++]=(m+_)%256;break;case 2:for(C=Y=0;Y<T;C=Y+=1)m=s[l++],b=(C-C%o)/o,z=S&&X[(S-1)*T+b*o+C%o],X[y++]=(z+m)%256;break;case 3:for(C=Z=0;Z<T;C=Z+=1)m=s[l++],b=(C-C%o)/o,_=C<o?0:X[y-o],z=S&&X[(S-1)*T+b*o+C%o],X[y++]=(m+Math.floor((_+z)/2))%256;break;case 4:for(C=ne=0;ne<T;C=ne+=1)m=s[l++],b=(C-C%o)/o,_=C<o?0:X[y-o],S===0?z=W=0:(z=X[(S-1)*T+b*o+C%o],W=b&&X[(S-1)*T+(b-1)*o+C%o]),I=_+z-W,N=Math.abs(I-_),D=Math.abs(I-z),V=Math.abs(I-W),R=N<=D&&N<=V?_:D<=V?z:W,X[y++]=(m+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1]);}if(!P){var Q=((h+S*g)*c.width+d)*o,ee=S*T;for(C=0;C<ae;C+=1){for(var le=0;le<o;le+=1)a[Q++]=X[ee++];Q+=(f-1)*o;}}S++;}}return s=sfe(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a;},i.prototype.decodePalette=function(){var s,o,a,l,c,u,d,h,f;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,h=a.length;d<h;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(f=u[s++])!=null?f:255;return c;},i.prototype.copyToImageData=function(s,o){var a,l,c,u,d,h,f,g,m,y,b;if(l=this.colors,m=null,a=this.hasAlphaChannel,this.palette.length&&(m=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,d=m||o,u=h=0,l===1)for(;u<g;)f=m?4*o[u/4]:h,y=d[f++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=a?d[f++]:255,h=f;else for(;u<g;)f=m?4*o[u/4]:h,c[u++]=d[f++],c[u++]=d[f++],c[u++]=d[f++],c[u++]=a?d[f++]:255,h=f;},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s;};var r=function(){if(Object.prototype.toString.call(Zt)==="[object Window]"){try{t=Zt.document.createElement("canvas"),n=t.getContext("2d");}catch{return!1;}return!0;}return!1;};return r(),e=function(s){var o;if(r()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image()).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.");},i.prototype.decodeFrames=function(s){var o,a,l,c,u,d,h,f;if(this.animation){for(f=[],a=u=0,d=(h=this.animation.frames).length;u<d;a=++u)o=h[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,f.push(o.image=e(l));return f;}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),c?.disposeOp===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset);},i.prototype.animate=function(s){var o,a,l,c,u,d,h=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var f,g;if(f=a++%c,g=l[f],h.renderFrame(s,f),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,g.delay);})();},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0);},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0));},i;}();function OXe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],s=r>>7,o=1<<(7&r)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,h=null,f=0,g=null;for(this.width=n,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S;}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S;}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16));}break;case 44:var y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,A=e[t++],I=A>>6&1,N=1<<(7&A)+1,R=a,D=l,V=!1;A>>7&&(V=!0,R=t,D=N,t+=3*N);var X=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S;}u.push({x:y,y:b,width:C,height:_,has_local_palette:V,palette_offset:R,palette_size:D,data_offset:X,data_length:t-X,transparent_index:h,interlaced:!!I,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16));}this.numFrames=function(){return u.length;},this.loopCount=function(){return g;},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T];},this.decodeAndBlitFrameBGRA=function(T,z){var W=this.frameInfo(T),H=W.width*W.height,F=new Uint8Array(H);xfe(e,W.data_offset,F,H);var Y=W.palette_offset,Z=W.transparent_index;Z===null&&(Z=256);var ne=W.width,ae=n-ne,Ce=ne,P=4*(W.y*n+W.x),Q=4*((W.y+W.height)*n+W.x),ee=P,le=4*ae;W.interlaced===!0&&(le+=4*n*7);for(var he=8,ue=0,xe=F.length;ue<xe;++ue){var oe=F[ue];if(Ce===0&&(Ce=ne,(ee+=le)>=Q&&(le=4*ae+4*n*(he-1),ee=P+(ne+ae)*(he<<1),he>>=1)),oe===Z)ee+=4;else{var Ae=e[Y+3*oe],Pe=e[Y+3*oe+1],ge=e[Y+3*oe+2];z[ee++]=ge,z[ee++]=Pe,z[ee++]=Ae,z[ee++]=255;}--Ce;}},this.decodeAndBlitFrameRGBA=function(T,z){var W=this.frameInfo(T),H=W.width*W.height,F=new Uint8Array(H);xfe(e,W.data_offset,F,H);var Y=W.palette_offset,Z=W.transparent_index;Z===null&&(Z=256);var ne=W.width,ae=n-ne,Ce=ne,P=4*(W.y*n+W.x),Q=4*((W.y+W.height)*n+W.x),ee=P,le=4*ae;W.interlaced===!0&&(le+=4*n*7);for(var he=8,ue=0,xe=F.length;ue<xe;++ue){var oe=F[ue];if(Ce===0&&(Ce=ne,(ee+=le)>=Q&&(le=4*ae+4*n*(he-1),ee=P+(ne+ae)*(he<<1),he>>=1)),oe===Z)ee+=4;else{var Ae=e[Y+3*oe],Pe=e[Y+3*oe+1],ge=e[Y+3*oe+2];z[ee++]=Ae,z[ee++]=Pe,z[ee++]=ge,z[ee++]=255;}--Ce;}};}function xfe(e,t,n,i){for(var r=e[t++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==s){if(y===o)break;for(var b=y<a?y:m,C=0,_=b;_>s;)_=g[_]>>8,++C;var A=_;if(h+C+(b!==y?1:0)>i)return void Xi.log("Warning, gif stream longer than expected.");n[h++]=A;var I=h+=C;for(b!==y&&(n[h++]=A),_=b;C--;)_=g[_],n[--I]=255&_,_>>=8;m!==null&&a<4096&&(g[a++]=m<<8|A,a>=c+1&&l<12&&(++l,c=c<<1|1)),m=y;}else a=o+1,c=(1<<(l=r+1))-1,m=null;}return h!==i&&Xi.log("Warning, gif stream shorter than expected."),n;}function tU(e){var t,n,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),g=new Array(64),m=[],y=0,b=7,C=new Array(64),_=new Array(64),A=new Array(64),I=new Array(256),N=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(P,Q){for(var ee=0,le=0,he=new Array(),ue=1;ue<=16;ue++){for(var xe=1;xe<=P[ue];xe++)he[Q[le]]=[],he[Q[le]][0]=ee,he[Q[le]][1]=ue,le++,ee++;ee*=2;}return he;}function Y(P){for(var Q=P[0],ee=P[1]-1;ee>=0;)Q&1<<ee&&(y|=1<<b),ee--,--b<0&&(y==255?(Z(255),Z(0)):Z(y),b=7,y=0);}function Z(P){m.push(P);}function ne(P){Z(P>>8&255),Z(255&P);}function ae(P,Q,ee,le,he){for(var ue,xe=he[0],oe=he[240],Ae=function(Xe,st){var bt,gt,Lt,dn,Sn,Ln,Jn,Mi,tn,Vn,xt=0;for(tn=0;tn<8;++tn){bt=Xe[xt],gt=Xe[xt+1],Lt=Xe[xt+2],dn=Xe[xt+3],Sn=Xe[xt+4],Ln=Xe[xt+5],Jn=Xe[xt+6];var io=bt+(Mi=Xe[xt+7]),ai=bt-Mi,dc=gt+Jn,Vi=gt-Jn,ur=Lt+Ln,xu=Lt-Ln,Ci=dn+Sn,Kg=dn-Sn,_r=io+Ci,hc=io-Ci,zd=dc+ur,Sr=dc-ur;Xe[xt]=_r+zd,Xe[xt+4]=_r-zd;var hn=.707106781*(Sr+hc);Xe[xt+2]=hc+hn,Xe[xt+6]=hc-hn;var _i=.382683433*((_r=Kg+xu)-(Sr=Vi+ai)),Yg=.5411961*_r+_i,Fs=1.306562965*Sr+_i,wu=.707106781*(zd=xu+Vi),Cu=ai+wu,Yt=ai-wu;Xe[xt+5]=Yt+Yg,Xe[xt+3]=Yt-Yg,Xe[xt+1]=Cu+Fs,Xe[xt+7]=Cu-Fs,xt+=8;}for(xt=0,tn=0;tn<8;++tn){bt=Xe[xt],gt=Xe[xt+8],Lt=Xe[xt+16],dn=Xe[xt+24],Sn=Xe[xt+32],Ln=Xe[xt+40],Jn=Xe[xt+48];var fc=bt+(Mi=Xe[xt+56]),_u=bt-Mi,ra=gt+Jn,us=gt-Jn,Jr=Lt+Ln,Ma=Lt-Ln,Qv=dn+Sn,Ud=dn-Sn,pc=fc+Qv,gc=fc-Qv,mc=ra+Jr,Su=ra-Jr;Xe[xt]=pc+mc,Xe[xt+32]=pc-mc;var pl=.707106781*(Su+gc);Xe[xt+16]=gc+pl,Xe[xt+48]=gc-pl;var Eu=.382683433*((pc=Ud+Ma)-(Su=us+_u)),Xg=.5411961*pc+Eu,Zv=1.306562965*Su+Eu,Jv=.707106781*(mc=Ma+us),ey=_u+Jv,ty=_u-Jv;Xe[xt+40]=ty+Xg,Xe[xt+24]=ty-Xg,Xe[xt+8]=ey+Zv,Xe[xt+56]=ey-Zv,xt++;}for(tn=0;tn<64;++tn)Vn=Xe[tn]*st[tn],f[tn]=Vn>0?Vn+.5|0:Vn-.5|0;return f;}(P,Q),Pe=0;Pe<64;++Pe)g[R[Pe]]=Ae[Pe];var ge=g[0]-ee;ee=g[0],ge==0?Y(le[0]):(Y(le[h[ue=32767+ge]]),Y(d[ue]));for(var Ge=63;Ge>0&&g[Ge]==0;)Ge--;if(Ge==0)return Y(xe),ee;for(var it,De=1;De<=Ge;){for(var re=De;g[De]==0&&De<=Ge;)++De;var tt=De-re;if(tt>=16){it=tt>>4;for(var lt=1;lt<=it;++lt)Y(oe);tt&=15;}ue=32767+g[De],Y(he[(tt<<4)+h[ue]]),Y(d[ue]),De++;}return Ge!=63&&Y(xe),ee;}function Ce(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(Q){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=o((ee[le]*Q+50)/100);he=Math.min(Math.max(he,1),255),a[R[le]]=he;}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var oe=o((ue[xe]*Q+50)/100);oe=Math.min(Math.max(oe,1),255),l[R[xe]]=oe;}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,ge=0;ge<8;ge++)for(var Ge=0;Ge<8;Ge++)c[Pe]=1/(a[R[Pe]]*Ae[ge]*Ae[Ge]*8),u[Pe]=1/(l[R[Pe]]*Ae[ge]*Ae[Ge]*8),Pe++;}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P);}this.encode=function(P,Q){Q&&Ce(Q),m=new Array(),y=0,b=7,ne(65496),ne(65504),ne(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ne(1),ne(1),Z(0),Z(0),function(){ne(65499),ne(132),Z(0);for(var gt=0;gt<64;gt++)Z(a[gt]);Z(1);for(var Lt=0;Lt<64;Lt++)Z(l[Lt]);}(),function(gt,Lt){ne(65472),ne(17),Z(8),ne(Lt),ne(gt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1);}(P.width,P.height),function(){ne(65476),ne(418),Z(0);for(var gt=0;gt<16;gt++)Z(D[gt+1]);for(var Lt=0;Lt<=11;Lt++)Z(V[Lt]);Z(16);for(var dn=0;dn<16;dn++)Z(X[dn+1]);for(var Sn=0;Sn<=161;Sn++)Z(S[Sn]);Z(1);for(var Ln=0;Ln<16;Ln++)Z(T[Ln+1]);for(var Jn=0;Jn<=11;Jn++)Z(z[Jn]);Z(17);for(var Mi=0;Mi<16;Mi++)Z(W[Mi+1]);for(var tn=0;tn<=161;tn++)Z(H[tn]);}(),ne(65498),ne(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var ee=0,le=0,he=0;y=0,b=7,this.encode.displayName="_encode_";for(var ue,xe,oe,Ae,Pe,ge,Ge,it,De,re=P.data,tt=P.width,lt=P.height,Xe=4*tt,st=0;st<lt;){for(ue=0;ue<Xe;){for(Pe=Xe*st+ue,Ge=-1,it=0,De=0;De<64;De++)ge=Pe+(it=De>>3)*Xe+(Ge=4*(7&De)),st+it>=lt&&(ge-=Xe*(st+1+it-lt)),ue+Ge>=Xe&&(ge-=ue+Ge-Xe+4),xe=re[ge++],oe=re[ge++],Ae=re[ge++],C[De]=(N[xe]+N[oe+256>>0]+N[Ae+512>>0]>>16)-128,_[De]=(N[xe+768>>0]+N[oe+1024>>0]+N[Ae+1280>>0]>>16)-128,A[De]=(N[xe+1280>>0]+N[oe+1536>>0]+N[Ae+1792>>0]>>16)-128;ee=ae(C,c,ee,t,i),le=ae(_,u,le,n,r),he=ae(A,u,he,n,r),ue+=32;}st+=8;}if(b>=0){var bt=[];bt[1]=b+1,bt[0]=(1<<b+1)-1,Y(bt);}return ne(65497),new Uint8Array(m);},e=e||50,function(){for(var P=String.fromCharCode,Q=0;Q<256;Q++)I[Q]=P(Q);}(),t=F(D,V),n=F(T,z),i=F(X,S),r=F(W,H),function(){for(var P=1,Q=2,ee=1;ee<=15;ee++){for(var le=P;le<Q;le++)h[32767+le]=ee,d[32767+le]=[],d[32767+le][1]=ee,d[32767+le][0]=le;for(var he=-(Q-1);he<=-P;he++)h[32767+he]=ee,d[32767+he]=[],d[32767+he][1]=ee,d[32767+he][0]=Q-1+he;P<<=1,Q<<=1;}}(),function(){for(var P=0;P<256;P++)N[P]=19595*P,N[P+256>>0]=38470*P,N[P+512>>0]=7471*P+32768,N[P+768>>0]=-11059*P,N[P+1024>>0]=-21709*P,N[P+1280>>0]=32768*P+8421375,N[P+1536>>0]=-27439*P,N[P+1792>>0]=-5329*P;}(),Ce(e);}function mu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR();}function wfe(e){function t(D){if(!D)throw Error("assert :P");}function n(D,V,X){for(var S=0;4>S;S++)if(D[V+S]!=X.charCodeAt(S))return!0;return!1;}function i(D,V,X,S,T){for(var z=0;z<T;z++)D[V+z]=X[S+z];}function r(D,V,X,S){for(var T=0;T<S;T++)D[V+T]=X;}function s(D){return new Int32Array(D);}function o(D,V){for(var X=[],S=0;S<D;S++)X.push(new V());return X;}function a(D,V){var X=[];return function S(T,z,W){for(var H=W[z],F=0;F<H&&(T.push(W.length>z+1?[]:new V()),!(W.length<z+1));F++)S(T[F],z+1,W);}(X,0,D),X;}var l=function(){var D=this;function V(p,v){for(var w=1<<v-1>>>0;p&w;)w>>>=1;return w?(p&w-1)+w:p;}function X(p,v,w,E,k){t(!(E%w));do p[v+(E-=w)]=k;while(0<E);}function S(p,v,w,E,k){if(t(2328>=k),512>=k)var L=s(512);else if((L=s(k))==null)return 0;return function(B,G,U,te,de,Se){var Ee,me,ze=G,ke=1<<U,fe=s(16),pe=s(16);for(t(de!=0),t(te!=null),t(B!=null),t(0<U),me=0;me<de;++me){if(15<te[me])return 0;++fe[te[me]];}if(fe[0]==de)return 0;for(pe[1]=0,Ee=1;15>Ee;++Ee){if(fe[Ee]>1<<Ee)return 0;pe[Ee+1]=pe[Ee]+fe[Ee];}for(me=0;me<de;++me)Ee=te[me],0<te[me]&&(Se[pe[Ee]++]=me);if(pe[15]==1)return(te=new T()).g=0,te.value=Se[0],X(B,ze,1,ke,te),ke;var Be,We=-1,He=ke-1,_t=0,ut=1,Wt=1,pt=1<<U;for(me=0,Ee=1,de=2;Ee<=U;++Ee,de<<=1){if(ut+=Wt<<=1,0>(Wt-=fe[Ee]))return 0;for(;0<fe[Ee];--fe[Ee])(te=new T()).g=Ee,te.value=Se[me++],X(B,ze+_t,de,pt,te),_t=V(_t,Ee);}for(Ee=U+1,de=2;15>=Ee;++Ee,de<<=1){if(ut+=Wt<<=1,0>(Wt-=fe[Ee]))return 0;for(;0<fe[Ee];--fe[Ee]){if(te=new T(),(_t&He)!=We){for(ze+=pt,Be=1<<(We=Ee)-U;15>We&&!(0>=(Be-=fe[We]));)++We,Be<<=1;ke+=pt=1<<(Be=We-U),B[G+(We=_t&He)].g=Be+U,B[G+We].value=ze-G-We;}te.g=Ee-U,te.value=Se[me++],X(B,ze+(_t>>U),de,pt,te),_t=V(_t,Ee);}}return ut!=2*pe[15]-1?0:ke;}(p,v,w,E,k,L);}function T(){this.value=this.g=0;}function z(){this.value=this.g=0;}function W(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ns,z);}function H(p,v,w,E){t(p!=null),t(v!=null),t(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=w,p.Jd=v,p.Yc=w+E,p.Zc=4<=E?w+E-4+1:w,ue(p);}function F(p,v){for(var w=0;0<v--;)w|=oe(p,128)<<v;return w;}function Y(p,v){var w=F(p,v);return xe(p)?-w:w;}function Z(p,v,w,E){var k,L=0;for(t(p!=null),t(v!=null),t(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),k=0;k<E;++k)L+=v[w+k]<<8*k;p.Ra=L,p.bb=E,p.oa=v,p.pa=w;}function ne(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<my-8>>>0,++p.bb,p.u-=8;ee(p)&&(p.h=1,p.u=0);}function ae(p,v){if(t(0<=v),!p.h&&v<=gy){var w=Q(p)&py[v];return p.u+=v,ne(p),w;}return p.h=1,p.u=0;}function Ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0;}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0;}function Q(p){return p.Ra>>>(p.u&my-1)>>>0;}function ee(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>my;}function le(p,v){p.u=v,p.h=ee(p);}function he(p){p.u>=ZC&&(t(p.u>=ZC),ne(p));}function ue(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1));}function xe(p){return F(p,1);}function oe(p,v){var w=p.Ca;0>p.b&&ue(p);var E=p.b,k=w*v>>>8,L=(p.I>>>E>k)+0;for(L?(w-=k,p.I-=k+1<<E>>>0):w=k+1,E=w,k=0;256<=E;)k+=8,E>>=8;return E=7^k+oa[E],p.b-=E,p.Ca=(w<<E)-1,L;}function Ae(p,v,w){p[v+0]=w>>24&255,p[v+1]=w>>16&255,p[v+2]=w>>8&255,p[v+3]=w>>0&255;}function Pe(p,v){return p[v+0]<<0|p[v+1]<<8;}function ge(p,v){return Pe(p,v)|p[v+2]<<16;}function Ge(p,v){return Pe(p,v)|Pe(p,v+2)<<16;}function it(p,v){var w=1<<v;return t(p!=null),t(0<v),p.X=s(w),p.X==null?0:(p.Mb=32-v,p.Xa=v,1);}function De(p,v){t(p!=null),t(v!=null),t(p.Xa==v.Xa),i(v.X,0,p.X,0,1<<v.Xa);}function re(){this.X=[],this.Xa=this.Mb=0;}function tt(p,v,w,E){t(w!=null),t(E!=null);var k=w[0],L=E[0];return k==0&&(k=(p*L+v/2)/v),L==0&&(L=(v*k+p/2)/p),0>=k||0>=L?0:(w[0]=k,E[0]=L,1);}function lt(p,v){return p+(1<<v)-1>>>v;}function Xe(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0;}function st(p,v){D[v]=function(w,E,k,L,B,G,U){var te;for(te=0;te<B;++te){var de=D[p](G[U+te-1],k,L+te);G[U+te]=Xe(w[E+te],de);}};}function bt(){this.ud=this.hd=this.jd=0;}function gt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0;}function Lt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0;}function dn(p,v){return Lt(p+(p-v+.5>>1));}function Sn(p,v,w){return Math.abs(v-w)-Math.abs(p-w);}function Ln(p,v,w,E,k,L,B){for(E=L[B-1],w=0;w<k;++w)L[B+w]=E=Xe(p[v+w],E);}function Jn(p,v,w,E,k){var L;for(L=0;L<w;++L){var B=p[v+L],G=B>>8&255,U=16711935&(U=(U=16711935&B)+((G<<16)+G));E[k+L]=(4278255360&B)+U>>>0;}}function Mi(p,v){v.jd=p>>0&255,v.hd=p>>8&255,v.ud=p>>16&255;}function tn(p,v,w,E,k,L){var B;for(B=0;B<E;++B){var G=v[w+B],U=G>>>8,te=G,de=255&(de=(de=G>>>16)+((p.jd<<24>>24)*(U<<24>>24)>>>5));te=255&(te=(te=te+((p.hd<<24>>24)*(U<<24>>24)>>>5))+((p.ud<<24>>24)*(de<<24>>24)>>>5)),k[L+B]=(4278255360&G)+(de<<16)+te;}}function Vn(p,v,w,E,k){D[v]=function(L,B,G,U,te,de,Se,Ee,me){for(U=Se;U<Ee;++U)for(Se=0;Se<me;++Se)te[de++]=k(G[E(L[B++])]);},D[p]=function(L,B,G,U,te,de,Se){var Ee=8>>L.b,me=L.Ea,ze=L.K[0],ke=L.w;if(8>Ee)for(L=(1<<L.b)-1,ke=(1<<Ee)-1;B<G;++B){var fe,pe=0;for(fe=0;fe<me;++fe)fe&L||(pe=E(U[te++])),de[Se++]=k(ze[pe&ke]),pe>>=Ee;}else D["VP8LMapColor"+w](U,te,ze,ke,de,Se,B,G,me);};}function xt(p,v,w,E,k){for(w=v+w;v<w;){var L=p[v++];E[k++]=L>>16&255,E[k++]=L>>8&255,E[k++]=L>>0&255;}}function io(p,v,w,E,k){for(w=v+w;v<w;){var L=p[v++];E[k++]=L>>16&255,E[k++]=L>>8&255,E[k++]=L>>0&255,E[k++]=L>>24&255;}}function ai(p,v,w,E,k){for(w=v+w;v<w;){var L=(B=p[v++])>>16&240|B>>12&15,B=B>>0&240|B>>28&15;E[k++]=L,E[k++]=B;}}function dc(p,v,w,E,k){for(w=v+w;v<w;){var L=(B=p[v++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;E[k++]=L,E[k++]=B;}}function Vi(p,v,w,E,k){for(w=v+w;v<w;){var L=p[v++];E[k++]=L>>0&255,E[k++]=L>>8&255,E[k++]=L>>16&255;}}function ur(p,v,w,E,k,L){if(L==0)for(w=v+w;v<w;)Ae(E,((L=p[v++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),k+=32;else i(E,k,p,v,w);}function xu(p,v){D[v][0]=D[p+"0"],D[v][1]=D[p+"1"],D[v][2]=D[p+"2"],D[v][3]=D[p+"3"],D[v][4]=D[p+"4"],D[v][5]=D[p+"5"],D[v][6]=D[p+"6"],D[v][7]=D[p+"7"],D[v][8]=D[p+"8"],D[v][9]=D[p+"9"],D[v][10]=D[p+"10"],D[v][11]=D[p+"11"],D[v][12]=D[p+"12"],D[v][13]=D[p+"13"],D[v][14]=D[p+"0"],D[v][15]=D[p+"0"];}function Ci(p){return p==_N||p==SN||p==qT||p==EN;}function Kg(){this.eb=[],this.size=this.A=this.fb=0;}function _r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0;}function hc(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kg(),this.f.kb=new _r(),this.sd=null;}function zd(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0];}function Sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0;}function hn(p){return alert("todo:WebPSamplerProcessPlane"),p.T;}function _i(p,v){var w=p.T,E=v.ba.f.RGBA,k=E.eb,L=E.fb+p.ka*E.A,B=xl[v.ba.S],G=p.y,U=p.O,te=p.f,de=p.N,Se=p.ea,Ee=p.W,me=v.cc,ze=v.dc,ke=v.Mc,fe=v.Nc,pe=p.ka,Be=p.ka+p.T,We=p.U,He=We+1>>1;for(pe==0?B(G,U,null,null,te,de,Se,Ee,te,de,Se,Ee,k,L,null,null,We):(B(v.ec,v.fc,G,U,me,ze,ke,fe,te,de,Se,Ee,k,L-E.A,k,L,We),++w);pe+2<Be;pe+=2)me=te,ze=de,ke=Se,fe=Ee,de+=p.Rc,Ee+=p.Rc,L+=2*E.A,B(G,(U+=2*p.fa)-p.fa,G,U,me,ze,ke,fe,te,de,Se,Ee,k,L-E.A,k,L,We);return U+=p.fa,p.j+Be<p.o?(i(v.ec,v.fc,G,U,We),i(v.cc,v.dc,te,de,He),i(v.Mc,v.Nc,Se,Ee,He),w--):1&Be||B(G,U,null,null,te,de,Se,Ee,te,de,Se,Ee,k,L+E.A,null,null,We),w;}function Yg(p,v,w){var E=p.F,k=[p.J];if(E!=null){var L=p.U,B=v.ba.S,G=B==WT||B==qT;v=v.ba.f.RGBA;var U=[0],te=p.ka;U[0]=p.T,p.Kb&&(te==0?--U[0]:(--te,k[0]-=p.width),p.j+p.ka+p.T==p.o&&(U[0]=p.o-p.j-te));var de=v.eb;te=v.fb+te*v.A,p=Zi(E,k[0],p.width,L,U,de,te+(G?0:3),v.A),t(w==U),p&&Ci(B)&&yl(de,te,G,L,U,v.A);}return 0;}function Fs(p){var v=p.ma,w=v.ba.S,E=11>w,k=w==jT||w==$T||w==WT||w==CN||w==12||Ci(w);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!XC(v.Oa,p,k?11:12))return 0;if(k&&Ci(w)&&Ye(),p.da)alert("todo:use_scaling");else{if(E){if(v.Ib=hn,p.Kb){if(w=p.U+1>>1,v.memory=s(p.U+2*w),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+w,v.Ib=_i,Ye();}}else alert("todo:EmitYUV");k&&(v.Jb=Yg,E&&be());}if(E&&!oj){for(p=0;256>p;++p)age[p]=89858*(p-128)+YT>>KT,uge[p]=-22014*(p-128)+YT,cge[p]=-45773*(p-128),lge[p]=113618*(p-128)+YT>>KT;for(p=s1;p<DN;++p)v=76283*(p-16)+YT>>KT,dge[p-s1]=Fa(v,255),hge[p-s1]=Fa(v+8>>4,15);oj=1;}return 1;}function wu(p){var v=p.ma,w=p.U,E=p.T;return t(!(1&p.ka)),0>=w||0>=E?0:(w=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,w),v.Dc+=w,1);}function Cu(p){p.ma.memory=null;}function Yt(p,v,w,E){return ae(p,8)!=47?0:(v[0]=ae(p,14)+1,w[0]=ae(p,14)+1,E[0]=ae(p,1),ae(p,3)!=0?0:!p.h);}function fc(p,v){if(4>p)return p+1;var w=p-2>>1;return(2+(1&p)<<w)+ae(v,w)+1;}function _u(p,v){return 120<v?v-120:1<=(w=((w=qpe[v-1])>>4)*p+(8-(15&w)))?w:1;var w;}function ra(p,v,w){var E=Q(w),k=p[v+=255&E].g-8;return 0<k&&(le(w,w.u+8),E=Q(w),v+=p[v].value,v+=E&(1<<k)-1),le(w,w.u+p[v].g),p[v].value;}function us(p,v,w){return w.g+=p.g,w.value+=p.value<<v>>>0,t(8>=w.g),p.g;}function Jr(p,v,w){var E=p.xc;return t((v=E==0?0:p.vc[p.md*(w>>E)+(v>>E)])<p.Wb),p.Ya[v];}function Ma(p,v,w,E){var k=p.ab,L=p.c*v,B=p.C;v=B+v;var G=w,U=E;for(E=p.Ta,w=p.Ua;0<k--;){var te=p.gc[k],de=B,Se=v,Ee=G,me=U,ze=(U=E,G=w,te.Ea);switch(t(de<Se),t(Se<=te.nc),te.hc){case 2:OT(Ee,me,(Se-de)*ze,U,G);break;case 0:var ke=de,fe=Se,pe=U,Be=G,We=(pt=te).Ea;ke==0&&(xN(Ee,me,null,null,1,pe,Be),Ln(Ee,me+1,0,0,We-1,pe,Be+1),me+=We,Be+=We,++ke);for(var He=1<<pt.b,_t=He-1,ut=lt(We,pt.b),Wt=pt.K,pt=pt.w+(ke>>pt.b)*ut;ke<fe;){var hi=Wt,Ri=pt,ei=1;for(JC(Ee,me,pe,Be-We,1,pe,Be);ei<We;){var zn=(ei&~_t)+He;zn>We&&(zn=We),(0,Nf[hi[Ri++]>>8&15])(Ee,me+ +ei,pe,Be+ei-We,zn-ei,pe,Be+ei),ei=zn;}me+=We,Be+=We,++ke&_t||(pt+=ut);}Se!=te.nc&&i(U,G-ze,U,G+(Se-de-1)*ze,ze);break;case 1:for(ze=Ee,fe=me,We=(Ee=te.Ea)-(Be=Ee&~(pe=(me=1<<te.b)-1)),ke=lt(Ee,te.b),He=te.K,te=te.w+(de>>te.b)*ke;de<Se;){for(_t=He,ut=te,Wt=new bt(),pt=fe+Be,hi=fe+Ee;fe<pt;)Mi(_t[ut++],Wt),tm(Wt,ze,fe,me,U,G),fe+=me,G+=me;fe<hi&&(Mi(_t[ut++],Wt),tm(Wt,ze,fe,We,U,G),fe+=We,G+=We),++de&pe||(te+=ke);}break;case 3:if(Ee==U&&me==G&&0<te.b){for(fe=U,Ee=ze=G+(Se-de)*ze-(Be=(Se-de)*lt(te.Ea,te.b)),me=U,pe=G,ke=[],Be=(We=Be)-1;0<=Be;--Be)ke[Be]=me[pe+Be];for(Be=We-1;0<=Be;--Be)fe[Ee+Be]=ke[Be];gl(te,de,Se,U,ze,U,G);}else gl(te,de,Se,Ee,me,U,G);}G=E,U=w;}U!=w&&i(E,w,G,U,L);}function Qv(p,v){var w=p.V,E=p.Ba+p.c*p.C,k=v-p.C;if(t(v<=p.l.o),t(16>=k),0<k){var L=p.l,B=p.Ta,G=p.Ua,U=L.width;if(Ma(p,k,w,E),k=G=[G],t((w=p.C)<(E=v)),t(L.v<L.va),E>L.o&&(E=L.o),w<L.j){var te=L.j-w;w=L.j,k[0]+=te*U;}if(w>=E?w=0:(k[0]+=4*L.v,L.ka=w-L.j,L.U=L.va-L.v,L.T=E-w,w=1),w){if(G=G[0],11>(w=p.ca).S){var de=w.f.RGBA,Se=(E=w.S,k=L.U,L=L.T,te=de.eb,de.A),Ee=L;for(de=de.fb+p.Ma*de.A;0<Ee--;){var me=B,ze=G,ke=k,fe=te,pe=de;switch(E){case UT:aa(me,ze,ke,fe,pe);break;case jT:Ro(me,ze,ke,fe,pe);break;case _N:Ro(me,ze,ke,fe,pe),yl(fe,pe,0,ke,1,0);break;case XU:qd(me,ze,ke,fe,pe);break;case $T:ur(me,ze,ke,fe,pe,1);break;case SN:ur(me,ze,ke,fe,pe,1),yl(fe,pe,0,ke,1,0);break;case WT:ur(me,ze,ke,fe,pe,0);break;case qT:ur(me,ze,ke,fe,pe,0),yl(fe,pe,1,ke,1,0);break;case CN:Lf(me,ze,ke,fe,pe);break;case EN:Lf(me,ze,ke,fe,pe),Qi(fe,pe,ke,1,0);break;case QU:Wd(me,ze,ke,fe,pe);break;default:t(0);}G+=U,de+=Se;}p.Ma+=L;}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=w.height);}}p.C=v,t(p.C<=p.i);}function Ud(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var w=p.Ya[v].G,E=p.Ya[v].H;if(0<w[1][E[1]+0].g||0<w[2][E[2]+0].g||0<w[3][E[3]+0].g)return 0;}return 1;}function pc(p,v,w,E,k,L){if(p.Z!=0){var B=p.qd,G=p.rd;for(t(Hf[p.Z]!=null);v<w;++v)Hf[p.Z](B,G,E,k,E,k,L),B=E,G=k,k+=L;p.qd=B,p.rd=G;}}function gc(p,v){var w=p.l.ma,E=w.Z==0||w.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,t(v<=p.l.o),v>E){var k=p.l.width,L=w.ca,B=w.tb+k*E,G=p.V,U=p.Ba+p.c*E,te=p.gc;t(p.ab==1),t(te[0].hc==3),BT(te[0],E,v,G,U,L,B),pc(w,E,v,L,B,k);}p.C=p.Ma=v;}function mc(p,v,w,E,k,L,B){var G=p.$/E,U=p.$%E,te=p.m,de=p.s,Se=w+p.$,Ee=Se;k=w+E*k;var me=w+E*L,ze=280+de.ua,ke=p.Pb?G:16777216,fe=0<de.ua?de.Wa:null,pe=de.wc,Be=Se<me?Jr(de,U,G):null;t(p.C<L),t(me<=k);var We=!1;e:for(;;){for(;We||Se<me;){var He=0;if(G>=ke){var _t=Se-w;t((ke=p).Pb),ke.wd=ke.m,ke.xd=_t,0<ke.s.ua&&De(ke.s.Wa,ke.s.vb),ke=G+Ype;}if(U&pe||(Be=Jr(de,U,G)),t(Be!=null),Be.Qb&&(v[Se]=Be.qb,We=!0),!We)if(he(te),Be.jc){He=te,_t=v;var ut=Se,Wt=Be.pd[Q(He)&Ns-1];t(Be.jc),256>Wt.g?(le(He,He.u+Wt.g),_t[ut]=Wt.value,He=0):(le(He,He.u+Wt.g-256),t(256<=Wt.value),He=Wt.value),He==0&&(We=!0);}else He=ra(Be.G[0],Be.H[0],te);if(te.h)break;if(We||256>He){if(!We)if(Be.nd)v[Se]=(Be.qb|He<<8)>>>0;else{if(he(te),We=ra(Be.G[1],Be.H[1],te),he(te),_t=ra(Be.G[2],Be.H[2],te),ut=ra(Be.G[3],Be.H[3],te),te.h)break;v[Se]=(ut<<24|We<<16|He<<8|_t)>>>0;}if(We=!1,++Se,++U>=E&&(U=0,++G,B!=null&&G<=L&&!(G%16)&&B(p,G),fe!=null))for(;Ee<Se;)He=v[Ee++],fe.X[(506832829*He&4294967295)>>>fe.Mb]=He;}else if(280>He){if(He=fc(He-256,te),_t=ra(Be.G[4],Be.H[4],te),he(te),_t=_u(E,_t=fc(_t,te)),te.h)break;if(Se-w<_t||k-Se<He)break e;for(ut=0;ut<He;++ut)v[Se+ut]=v[Se+ut-_t];for(Se+=He,U+=He;U>=E;)U-=E,++G,B!=null&&G<=L&&!(G%16)&&B(p,G);if(t(Se<=k),U&pe&&(Be=Jr(de,U,G)),fe!=null)for(;Ee<Se;)He=v[Ee++],fe.X[(506832829*He&4294967295)>>>fe.Mb]=He;}else{if(!(He<ze))break e;for(We=He-280,t(fe!=null);Ee<Se;)He=v[Ee++],fe.X[(506832829*He&4294967295)>>>fe.Mb]=He;He=Se,t(!(We>>>(_t=fe).Xa)),v[He]=_t.X[We],We=!0;}We||t(te.h==ee(te));}if(p.Pb&&te.h&&Se<k)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&De(p.s.vb,p.s.Wa);else{if(te.h)break e;B?.(p,G>L?L:G),p.a=0,p.$=Se-w;}return 1;}return p.a=3,0;}function Su(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,t(p!=null);}function pl(){var p=new bN();return p==null?null:(p.a=0,p.xb=ej,xu("Predictor","VP8LPredictors"),xu("Predictor","VP8LPredictors_C"),xu("PredictorAdd","VP8LPredictorsAdd"),xu("PredictorAdd","VP8LPredictorsAdd_C"),OT=Jn,tm=tn,aa=xt,Ro=io,Lf=ai,Wd=dc,qd=Vi,D.VP8LMapColor32b=vy,D.VP8LMapColor8b=VT,p);}function Eu(p,v,w,E,k){var L=1,B=[p],G=[v],U=E.m,te=E.s,de=null,Se=0;e:for(;;){if(w)for(;L&&ae(U,1);){var Ee=B,me=G,ze=E,ke=1,fe=ze.m,pe=ze.gc[ze.ab],Be=ae(fe,2);if(ze.Oc&1<<Be)L=0;else{switch(ze.Oc|=1<<Be,pe.hc=Be,pe.Ea=Ee[0],pe.nc=me[0],pe.K=[null],++ze.ab,t(4>=ze.ab),Be){case 0:case 1:pe.b=ae(fe,3)+2,ke=Eu(lt(pe.Ea,pe.b),lt(pe.nc,pe.b),0,ze,pe.K),pe.K=pe.K[0];break;case 3:var We,He=ae(fe,8)+1,_t=16<He?0:4<He?1:2<He?2:3;if(Ee[0]=lt(pe.Ea,_t),pe.b=_t,We=ke=Eu(He,1,0,ze,pe.K)){var ut,Wt=He,pt=pe,hi=1<<(8>>pt.b),Ri=s(hi);if(Ri==null)We=0;else{var ei=pt.K[0],zn=pt.w;for(Ri[0]=pt.K[0][0],ut=1;ut<1*Wt;++ut)Ri[ut]=Xe(ei[zn+ut],Ri[ut-1]);for(;ut<4*hi;++ut)Ri[ut]=0;pt.K[0]=null,pt.K[0]=Ri,We=1;}}ke=We;break;case 2:break;default:t(0);}L=ke;}}if(B=B[0],G=G[0],L&&ae(U,1)&&!(L=1<=(Se=ae(U,4))&&11>=Se)){E.a=3;break e;}var Hi;if(Hi=L)t:{var Fi,bn,ts,la=E,ns=B,ca=G,Ii=Se,La=w,Oa=la.m,Cs=la.s,Ls=[null],Po=1,wl=0,Ru=Kpe[Ii];n:for(;;){if(La&&ae(Oa,1)){var _s=ae(Oa,3)+2,Qd=lt(ns,_s),om=lt(ca,_s),Cy=Qd*om;if(!Eu(Qd,om,0,la,Ls))break n;for(Ls=Ls[0],Cs.xc=_s,Fi=0;Fi<Cy;++Fi){var Gf=Ls[Fi]>>8&65535;Ls[Fi]=Gf,Gf>=Po&&(Po=Gf+1);}}if(Oa.h)break n;for(bn=0;5>bn;++bn){var Tr=ZU[bn];!bn&&0<Ii&&(Tr+=1<<Ii),wl<Tr&&(wl=Tr);}var RN=o(Po*Ru,T),cj=Po,uj=o(cj,W);if(uj==null)var QT=null;else t(65536>=cj),QT=uj;var o1=s(wl);if(QT==null||o1==null||RN==null){la.a=1;break n;}var ZT=RN;for(Fi=ts=0;Fi<Po;++Fi){var wc=QT[Fi],_y=wc.G,Sy=wc.H,dj=0,JT=1,hj=0;for(bn=0;5>bn;++bn){Tr=ZU[bn],_y[bn]=ZT,Sy[bn]=ts,!bn&&0<Ii&&(Tr+=1<<Ii);r:{var eA,IN=Tr,tA=la,a1=o1,gge=ZT,mge=ts,PN=0,zf=tA.m,vge=ae(zf,1);if(r(a1,0,0,IN),vge){var yge=ae(zf,1)+1,bge=ae(zf,1),fj=ae(zf,bge==0?1:8);a1[fj]=1,yge==2&&(a1[fj=ae(zf,8)]=1);var nA=1;}else{var pj=s(19),gj=ae(zf,4)+4;if(19<gj){tA.a=3;var iA=0;break r;}for(eA=0;eA<gj;++eA)pj[Wpe[eA]]=ae(zf,3);var kN=void 0,l1=void 0,mj=tA,xge=pj,rA=IN,vj=a1,MN=0,Uf=mj.m,yj=8,bj=o(128,T);i:for(;S(bj,0,7,xge,19);){if(ae(Uf,1)){var wge=2+2*ae(Uf,3);if((kN=2+ae(Uf,wge))>rA)break i;}else kN=rA;for(l1=0;l1<rA&&kN--;){he(Uf);var xj=bj[0+(127&Q(Uf))];le(Uf,Uf.u+xj.g);var Ey=xj.value;if(16>Ey)vj[l1++]=Ey,Ey!=0&&(yj=Ey);else{var Cge=Ey==16,wj=Ey-16,_ge=jpe[wj],Cj=ae(Uf,Upe[wj])+_ge;if(l1+Cj>rA)break i;for(var Sge=Cge?yj:0;0<Cj--;)vj[l1++]=Sge;}}MN=1;break i;}MN||(mj.a=3),nA=MN;}(nA=nA&&!zf.h)&&(PN=S(gge,mge,8,a1,IN)),nA&&PN!=0?iA=PN:(tA.a=3,iA=0);}if(iA==0)break n;if(JT&&$pe[bn]==1&&(JT=ZT[ts].g==0),dj+=ZT[ts].g,ts+=iA,3>=bn){var c1,FN=o1[0];for(c1=1;c1<Tr;++c1)o1[c1]>FN&&(FN=o1[c1]);hj+=FN;}}if(wc.nd=JT,wc.Qb=0,JT&&(wc.qb=(_y[3][Sy[3]+0].value<<24|_y[1][Sy[1]+0].value<<16|_y[2][Sy[2]+0].value)>>>0,dj==0&&256>_y[0][Sy[0]+0].value&&(wc.Qb=1,wc.qb+=_y[0][Sy[0]+0].value<<8)),wc.jc=!wc.Qb&&6>hj,wc.jc){var sA,Zd=wc;for(sA=0;sA<Ns;++sA){var jf=sA,$f=Zd.pd[jf],oA=Zd.G[0][Zd.H[0]+jf];256<=oA.value?($f.g=oA.g+256,$f.value=oA.value):($f.g=0,$f.value=0,jf>>=us(oA,8,$f),jf>>=us(Zd.G[1][Zd.H[1]+jf],16,$f),jf>>=us(Zd.G[2][Zd.H[2]+jf],0,$f),us(Zd.G[3][Zd.H[3]+jf],24,$f));}}}Cs.vc=Ls,Cs.Wb=Po,Cs.Ya=QT,Cs.yc=RN,Hi=1;break t;}Hi=0;}if(!(L=Hi)){E.a=3;break e;}if(0<Se){if(te.ua=1<<Se,!it(te.Wa,Se)){E.a=1,L=0;break e;}}else te.ua=0;var NN=E,_j=B,Ege=G,LN=NN.s,ON=LN.xc;if(NN.c=_j,NN.i=Ege,LN.md=lt(_j,ON),LN.wc=ON==0?-1:(1<<ON)-1,w){E.xb=nge;break e;}if((de=s(B*G))==null){E.a=1,L=0;break e;}L=(L=mc(E,de,0,B,G,G,null))&&!U.h;break e;}return L?(k!=null?k[0]=de:(t(de==null),t(w)),E.$=0,w||Su(te)):Su(te),L;}function Xg(p,v){var w=p.c*p.i,E=w+v+16*v;return t(p.c<=v),p.V=s(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+w+v,1);}function Zv(p,v){var w=p.C,E=v-w,k=p.V,L=p.Ba+p.c*w;for(t(v<=p.l.o);0<E;){var B=16<E?16:E,G=p.l.ma,U=p.l.width,te=U*B,de=G.ca,Se=G.tb+U*w,Ee=p.Ta,me=p.Ua;Ma(p,B,k,L),jr(Ee,me,de,Se,te),pc(G,w,w+B,de,Se,U),E-=B,k+=B*p.c,w+=B;}t(w==v),p.C=p.Ma=v;}function Jv(){this.ub=this.yd=this.td=this.Rb=0;}function ey(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0;}function ty(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4);}function vT(){this.Yb=function(){var p=[];return function v(w,E,k){for(var L=k[E],B=0;B<L&&(w.push(k.length>E+1?[]:0),!(k.length<E+1));B++)v(w[B],E+1,k);}(p,0,[3,11]),p;}();}function XF(){this.jb=s(3),this.Wc=a([4,8],vT),this.Xc=a([4,17],vT);}function QF(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4);}function ny(){this.ld=this.La=this.dd=this.tc=0;}function yT(){this.Na=this.la=0;}function ZF(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0;}function FC(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0;}function JF(){this.uc=this.M=this.Nb=0,this.wa=Array(new ny()),this.Y=0,this.ya=Array(new FC()),this.aa=0,this.l=new iy();}function bT(){this.y=s(16),this.f=s(8),this.ea=s(8);}function eN(){this.cb=this.a=0,this.sc="",this.m=new Ce(),this.Od=new Jv(),this.Kc=new ey(),this.ed=new QF(),this.Qa=new ty(),this.Ic=this.$c=this.Aa=0,this.D=new JF(),this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ce),this.ia=0,this.pb=o(4,ZF),this.Pa=new XF(),this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bT()),this.Hd=0,this.rb=Array(new yT()),this.sb=0,this.wa=Array(new ny()),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new FC()),this.L=this.aa=0,this.gd=a([4,2],ny),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0;}function iy(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0;}function tN(){var p=new eN();return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,r1||(r1=CT)),p;}function zr(p,v,w){return p.a==0&&(p.a=v,p.sc=w,p.cb=0),0;}function xT(p,v,w){return 3<=w&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42;}function wT(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return zr(p,2,"null VP8Io passed to VP8GetHeaders()");var w=v.data,E=v.w,k=v.ha;if(4>k)return zr(p,7,"Truncated header.");var L=w[E+0]|w[E+1]<<8|w[E+2]<<16,B=p.Od;if(B.Rb=!(1&L),B.td=L>>1&7,B.yd=L>>4&1,B.ub=L>>5,3<B.td)return zr(p,3,"Incorrect keyframe parameters.");if(!B.yd)return zr(p,4,"Frame not displayable.");E+=3,k-=3;var G=p.Kc;if(B.Rb){if(7>k)return zr(p,7,"cannot parse picture header");if(!xT(w,E,k))return zr(p,3,"Bad code word");G.c=16383&(w[E+4]<<8|w[E+3]),G.Td=w[E+4]>>6,G.i=16383&(w[E+6]<<8|w[E+5]),G.Ud=w[E+6]>>6,E+=7,k-=7,p.za=G.c+15>>4,p.Ub=G.i+15>>4,v.width=G.c,v.height=G.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,r((L=p.Pa).jb,0,255,L.jb.length),t((L=p.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,r(L.Zb,0,0,L.Zb.length),r(L.Lb,0,0,L.Lb);}if(B.ub>k)return zr(p,7,"bad partition length");H(L=p.m,w,E,B.ub),E+=B.ub,k-=B.ub,B.Rb&&(G.Ld=xe(L),G.Kd=xe(L)),G=p.Qa;var U,te=p.Pa;if(t(L!=null),t(G!=null),G.Cb=xe(L),G.Cb){if(G.Bb=xe(L),xe(L)){for(G.Fb=xe(L),U=0;4>U;++U)G.Zb[U]=xe(L)?Y(L,7):0;for(U=0;4>U;++U)G.Lb[U]=xe(L)?Y(L,6):0;}if(G.Bb)for(U=0;3>U;++U)te.jb[U]=xe(L)?F(L,8):255;}else G.Bb=0;if(L.Ka)return zr(p,3,"cannot parse segment header");if((G=p.ed).zd=xe(L),G.Tb=F(L,6),G.wb=F(L,3),G.Pc=xe(L),G.Pc&&xe(L)){for(te=0;4>te;++te)xe(L)&&(G.vd[te]=Y(L,6));for(te=0;4>te;++te)xe(L)&&(G.od[te]=Y(L,6));}if(p.L=G.Tb==0?0:G.zd?1:2,L.Ka)return zr(p,3,"cannot parse filter header");var de=k;if(k=U=E,E=U+de,G=de,p.Xb=(1<<F(p.m,2))-1,de<3*(te=p.Xb))w=7;else{for(U+=3*te,G-=3*te,de=0;de<te;++de){var Se=w[k+0]|w[k+1]<<8|w[k+2]<<16;Se>G&&(Se=G),H(p.Jc[+de],w,U,Se),U+=Se,G-=Se,k+=3;}H(p.Jc[+te],w,U,G),w=U<E?0:5;}if(w!=0)return zr(p,w,"cannot parse partitions");for(w=F(U=p.m,7),k=xe(U)?Y(U,4):0,E=xe(U)?Y(U,4):0,G=xe(U)?Y(U,4):0,te=xe(U)?Y(U,4):0,U=xe(U)?Y(U,4):0,de=p.Qa,Se=0;4>Se;++Se){if(de.Cb){var Ee=de.Zb[Se];de.Fb||(Ee+=w);}else{if(0<Se){p.pb[Se]=p.pb[0];continue;}Ee=w;}var me=p.pb[Se];me.Sc[0]=TN[Fa(Ee+k,127)],me.Sc[1]=AN[Fa(Ee+0,127)],me.Eb[0]=2*TN[Fa(Ee+E,127)],me.Eb[1]=101581*AN[Fa(Ee+G,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=TN[Fa(Ee+te,117)],me.Qc[1]=AN[Fa(Ee+U,127)],me.lc=Ee+U;}if(!B.Rb)return zr(p,4,"Not a key frame.");for(xe(L),B=p.Pa,w=0;4>w;++w){for(k=0;8>k;++k)for(E=0;3>E;++E)for(G=0;11>G;++G)te=oe(L,ege[w][k][E][G])?F(L,8):Zpe[w][k][E][G],B.Wc[w][k].Yb[E][G]=te;for(k=0;17>k;++k)B.Xc[w][k]=B.Wc[w][tge[k]];}return p.kc=xe(L),p.kc&&(p.Bd=F(L,8)),p.cb=1;}function CT(p,v,w,E,k,L,B){var G=v[k].Yb[w];for(w=0;16>k;++k){if(!oe(p,G[w+0]))return k;for(;!oe(p,G[w+1]);)if(G=v[++k].Yb[0],w=0,k==16)return 16;var U=v[k+1].Yb;if(oe(p,G[w+2])){var te=p,de=0;if(oe(te,(Ee=G)[(Se=w)+3])){if(oe(te,Ee[Se+6])){for(G=0,Se=2*(de=oe(te,Ee[Se+8]))+(Ee=oe(te,Ee[Se+9+de])),de=0,Ee=Xpe[Se];Ee[G];++G)de+=de+oe(te,Ee[G]);de+=3+(8<<Se);}else oe(te,Ee[Se+7])?(de=7+2*oe(te,165),de+=oe(te,145)):de=5+oe(te,159);}else de=oe(te,Ee[Se+4])?3+oe(te,Ee[Se+5]):2;G=U[2];}else de=1,G=U[1];U=B+Qpe[k],0>(te=p).b&&ue(te);var Se,Ee=te.b,me=(Se=te.Ca>>1)-(te.I>>Ee)>>31;--te.b,te.Ca+=me,te.Ca|=1,te.I-=(Se+1&me)<<Ee,L[U]=((de^me)-me)*E[(0<k)+0];}return 16;}function NC(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0;}function nN(p,v){if(p==null)return 0;if(v==null)return zr(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!wT(p,v))return 0;if(t(p.cb),v.ac==null||v.ac(v)){v.ob&&(p.L=0);var w=XT[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=v.v-w>>4,p.zb=v.j-w>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=v.o+15+w>>4,p.Hb=v.va+15+w>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var E=p.ed;for(w=0;4>w;++w){var k;if(p.Qa.Cb){var L=p.Qa.Lb[w];p.Qa.Fb||(L+=E.Tb);}else L=E.Tb;for(k=0;1>=k;++k){var B=p.gd[w][k],G=L;if(E.Pc&&(G+=E.vd[0],k&&(G+=E.od[0])),0<(G=0>G?0:63<G?63:G)){var U=G;0<E.wb&&(U=4<E.wb?U>>2:U>>1)>9-E.wb&&(U=9-E.wb),1>U&&(U=1),B.dd=U,B.tc=2*G+U,B.ld=40<=G?2:15<=G?1:0;}else B.tc=0;B.La=k;}}}w=0;}else zr(p,6,"Frame setup failed"),w=p.a;if(w=w==0){if(w){p.$c=0,0<p.Aa||(p.Ic=pge);e:{w=p.Ic,E=4*(U=p.za);var te=32*U,de=U+1,Se=0<p.L?U*(0<p.Aa?2:1):0,Ee=(p.Aa==2?2:1)*U;if((B=E+832+(k=3*(16*w+XT[p.L])/2*te)+(L=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=B)w=0;else{if(B>p.Vb){if(p.Vb=0,p.Ec=s(B),p.Fc=0,p.Ec==null){w=zr(p,1,"no memory during frame initialization.");break e;}p.Vb=B;}B=p.Ec,G=p.Fc,p.Ac=B,p.Bc=G,G+=E,p.Gd=o(te,bT),p.Hd=0,p.rb=o(de+1,yT),p.sb=1,p.wa=Se?o(Se,ny):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=U),t(!0),p.oc=B,p.pc=G,G+=832,p.ya=o(Ee,FC),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=U),p.R=16*U,p.B=8*U,U=(te=XT[p.L])*p.R,te=te/2*p.B,p.sa=B,p.ta=G+U,p.qa=p.sa,p.ra=p.ta+16*w*p.R+te,p.Ha=p.qa,p.Ia=p.ra+8*w*p.B+te,p.$c=0,G+=k,p.mb=L?B:null,p.nb=L?G:null,t(G+L<=p.Fc+p.Vb),NC(p),r(p.Ac,p.Bc,0,E),w=1;}}if(w){if(v.ka=0,v.y=p.sa,v.O=p.ta,v.f=p.qa,v.N=p.ra,v.ea=p.Ha,v.Vd=p.Ia,v.fa=p.R,v.Rc=p.B,v.F=null,v.J=0,!GT){for(w=-255;255>=w;++w)ds[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)Yd[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)i1[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)wy[255+w]=0>w?0:255<w?255:w;GT=1;}yy=sN,Kd=iN,e1=ST,Io=rN,ml=ET,Ur=_T,by=GC,HT=Jg,t1=yN,nm=zC,im=vN,Of=cy,rm=UC,xy=FT,sm=MT,Bf=Au,n1=$d,vl=mN,xc[0]=Tu,xc[1]=oN,xc[2]=uN,xc[3]=dN,xc[4]=DT,xc[5]=ay,xc[6]=RT,xc[7]=BC,xc[8]=fN,xc[9]=hN,Vf[0]=TT,Vf[1]=lN,Vf[2]=jd,Vf[3]=sy,Vf[4]=ro,Vf[5]=cN,Vf[6]=AT,Xd[0]=kf,Xd[1]=aN,Xd[2]=pN,Xd[3]=VC,Xd[4]=Zg,Xd[5]=gN,Xd[6]=HC,w=1;}else w=0;}w&&(w=function(me,ze){for(me.M=0;me.M<me.Va;++me.M){var ke,fe=me.Jc[me.M&me.Xb],pe=me.m,Be=me;for(ke=0;ke<Be.za;++ke){var We=pe,He=Be,_t=He.Ac,ut=He.Bc+4*ke,Wt=He.zc,pt=He.ya[He.aa+ke];if(He.Qa.Bb?pt.$b=oe(We,He.Pa.jb[0])?2+oe(We,He.Pa.jb[2]):oe(We,He.Pa.jb[1]):pt.$b=0,He.kc&&(pt.Ad=oe(We,He.Bd)),pt.Za=!oe(We,145)+0,pt.Za){var hi=pt.Ob,Ri=0;for(He=0;4>He;++He){var ei,zn=Wt[0+He];for(ei=0;4>ei;++ei){zn=Jpe[_t[ut+ei]][zn];for(var Hi=JU[oe(We,zn[0])];0<Hi;)Hi=JU[2*Hi+oe(We,zn[Hi])];zn=-Hi,_t[ut+ei]=zn;}i(hi,Ri,_t,ut,4),Ri+=4,Wt[0+He]=zn;}}else zn=oe(We,156)?oe(We,128)?1:3:oe(We,163)?2:0,pt.Ob[0]=zn,r(_t,ut,zn,4),r(Wt,0,zn,4);pt.Dd=oe(We,142)?oe(We,114)?oe(We,183)?1:3:2:0;}if(Be.m.Ka)return zr(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(Be=fe,We=(pe=me).rb[pe.sb-1],_t=pe.rb[pe.sb+pe.ja],ke=pe.ya[pe.aa+pe.ja],ut=pe.kc?ke.Ad:0)We.la=_t.la=0,ke.Za||(We.Na=_t.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var Fi,bn;if(We=_t,_t=Be,ut=pe.Pa.Xc,Wt=pe.ya[pe.aa+pe.ja],pt=pe.pb[Wt.$b],He=Wt.ad,hi=0,Ri=pe.rb[pe.sb-1],zn=ei=0,r(He,hi,0,384),Wt.Za)var ts=0,la=ut[3];else{Hi=s(16);var ns=We.Na+Ri.Na;if(ns=r1(_t,ut[1],ns,pt.Eb,0,Hi,0),We.Na=Ri.Na=(0<ns)+0,1<ns)yy(Hi,0,He,hi);else{var ca=Hi[0]+3>>3;for(Hi=0;256>Hi;Hi+=16)He[hi+Hi]=ca;}ts=1,la=ut[0];}var Ii=15&We.la,La=15&Ri.la;for(Hi=0;4>Hi;++Hi){var Oa=1&La;for(ca=bn=0;4>ca;++ca)Ii=Ii>>1|(Oa=(ns=r1(_t,la,ns=Oa+(1&Ii),pt.Sc,ts,He,hi))>ts)<<7,bn=bn<<2|(3<ns?3:1<ns?2:He[hi+0]!=0),hi+=16;Ii>>=4,La=La>>1|Oa<<7,ei=(ei<<8|bn)>>>0;}for(la=Ii,ts=La>>4,Fi=0;4>Fi;Fi+=2){for(bn=0,Ii=We.la>>4+Fi,La=Ri.la>>4+Fi,Hi=0;2>Hi;++Hi){for(Oa=1&La,ca=0;2>ca;++ca)ns=Oa+(1&Ii),Ii=Ii>>1|(Oa=0<(ns=r1(_t,ut[2],ns,pt.Qc,0,He,hi)))<<3,bn=bn<<2|(3<ns?3:1<ns?2:He[hi+0]!=0),hi+=16;Ii>>=2,La=La>>1|Oa<<5;}zn|=bn<<4*Fi,la|=Ii<<4<<Fi,ts|=(240&La)<<Fi;}We.la=la,Ri.la=ts,Wt.Hc=ei,Wt.Gc=zn,Wt.ia=43690&zn?0:pt.ia,ut=!(ei|zn);}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[ke.$b][ke.Za],pe.wa[pe.Y+pe.ja].La|=!ut),Be.Ka)return zr(me,7,"Premature end-of-file encountered.");}if(NC(me),pe=ze,Be=1,ke=(fe=me).D,We=0<fe.L&&fe.M>=fe.zb&&fe.M<=fe.Va,fe.Aa==0)e:{if(ke.M=fe.M,ke.uc=We,YC(fe,ke),Be=1,ke=(bn=fe.D).Nb,We=(zn=XT[fe.L])*fe.R,_t=zn/2*fe.B,Hi=16*ke*fe.R,ca=8*ke*fe.B,ut=fe.sa,Wt=fe.ta-We+Hi,pt=fe.qa,He=fe.ra-_t+ca,hi=fe.Ha,Ri=fe.Ia-_t+ca,La=(Ii=bn.M)==0,ei=Ii>=fe.Va-1,fe.Aa==2&&YC(fe,bn),bn.uc)for(Oa=(ns=fe).D.M,t(ns.D.uc),bn=ns.yb;bn<ns.Hb;++bn){ts=bn,la=Oa;var Cs=(Ls=(Tr=ns).D).Nb;Fi=Tr.R;var Ls=Ls.wa[Ls.Y+ts],Po=Tr.sa,wl=Tr.ta+16*Cs*Fi+16*ts,Ru=Ls.dd,_s=Ls.tc;if(_s!=0)if(t(3<=_s),Tr.L==1)0<ts&&Bf(Po,wl,Fi,_s+4),Ls.La&&vl(Po,wl,Fi,_s),0<la&&sm(Po,wl,Fi,_s+4),Ls.La&&n1(Po,wl,Fi,_s);else{var Qd=Tr.B,om=Tr.qa,Cy=Tr.ra+8*Cs*Qd+8*ts,Gf=Tr.Ha,Tr=Tr.Ia+8*Cs*Qd+8*ts;Cs=Ls.ld,0<ts&&(HT(Po,wl,Fi,_s+4,Ru,Cs),nm(om,Cy,Gf,Tr,Qd,_s+4,Ru,Cs)),Ls.La&&(Of(Po,wl,Fi,_s,Ru,Cs),xy(om,Cy,Gf,Tr,Qd,_s,Ru,Cs)),0<la&&(by(Po,wl,Fi,_s+4,Ru,Cs),t1(om,Cy,Gf,Tr,Qd,_s+4,Ru,Cs)),Ls.La&&(im(Po,wl,Fi,_s,Ru,Cs),rm(om,Cy,Gf,Tr,Qd,_s,Ru,Cs));}}if(fe.ia&&alert("todo:DitherRow"),pe.put!=null){if(bn=16*Ii,Ii=16*(Ii+1),La?(pe.y=fe.sa,pe.O=fe.ta+Hi,pe.f=fe.qa,pe.N=fe.ra+ca,pe.ea=fe.Ha,pe.W=fe.Ia+ca):(bn-=zn,pe.y=ut,pe.O=Wt,pe.f=pt,pe.N=He,pe.ea=hi,pe.W=Ri),ei||(Ii-=zn),Ii>pe.o&&(Ii=pe.o),pe.F=null,pe.J=null,fe.Fa!=null&&0<fe.Fa.length&&bn<Ii&&(pe.J=qC(fe,pe,bn,Ii-bn),pe.F=fe.mb,pe.F==null&&pe.F.length==0)){Be=zr(fe,3,"Could not decode alpha data.");break e;}bn<pe.j&&(zn=pe.j-bn,bn=pe.j,t(!(1&zn)),pe.O+=fe.R*zn,pe.N+=fe.B*(zn>>1),pe.W+=fe.B*(zn>>1),pe.F!=null&&(pe.J+=pe.width*zn)),bn<Ii&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=bn-pe.j,pe.U=pe.va-pe.v,pe.T=Ii-bn,Be=pe.put(pe));}ke+1!=fe.Ic||ei||(i(fe.sa,fe.ta-We,ut,Wt+16*fe.R,We),i(fe.qa,fe.ra-_t,pt,He+8*fe.B,_t),i(fe.Ha,fe.Ia-_t,hi,Ri+8*fe.B,_t));}if(!Be)return zr(me,6,"Output aborted.");}return 1;}(p,v)),v.bc!=null&&v.bc(v),w&=1;}return w?(p.cb=0,w):0;}function vc(p,v,w,E,k){k=p[v+w+32*E]+(k>>3),p[v+w+32*E]=-256&k?0>k?0:255:k;}function ry(p,v,w,E,k,L){vc(p,v,0,w,E+k),vc(p,v,1,w,E+L),vc(p,v,2,w,E-L),vc(p,v,3,w,E-k);}function sa(p){return(20091*p>>16)+p;}function LC(p,v,w,E){var k,L=0,B=s(16);for(k=0;4>k;++k){var G=p[v+0]+p[v+8],U=p[v+0]-p[v+8],te=(35468*p[v+4]>>16)-sa(p[v+12]),de=sa(p[v+4])+(35468*p[v+12]>>16);B[L+0]=G+de,B[L+1]=U+te,B[L+2]=U-te,B[L+3]=G-de,L+=4,v++;}for(k=L=0;4>k;++k)G=(p=B[L+0]+4)+B[L+8],U=p-B[L+8],te=(35468*B[L+4]>>16)-sa(B[L+12]),vc(w,E,0,0,G+(de=sa(B[L+4])+(35468*B[L+12]>>16))),vc(w,E,1,0,U+te),vc(w,E,2,0,U-te),vc(w,E,3,0,G-de),L++,E+=32;}function _T(p,v,w,E){var k=p[v+0]+4,L=35468*p[v+4]>>16,B=sa(p[v+4]),G=35468*p[v+1]>>16;ry(w,E,0,k+B,p=sa(p[v+1]),G),ry(w,E,1,k+L,p,G),ry(w,E,2,k-L,p,G),ry(w,E,3,k-B,p,G);}function iN(p,v,w,E,k){LC(p,v,w,E),k&&LC(p,v+16,w,E+4);}function ST(p,v,w,E){Kd(p,v+0,w,E,1),Kd(p,v+32,w,E+128,1);}function rN(p,v,w,E){var k;for(p=p[v+0]+4,k=0;4>k;++k)for(v=0;4>v;++v)vc(w,E,v,k,p);}function ET(p,v,w,E){p[v+0]&&Io(p,v+0,w,E),p[v+16]&&Io(p,v+16,w,E+4),p[v+32]&&Io(p,v+32,w,E+128),p[v+48]&&Io(p,v+48,w,E+128+4);}function sN(p,v,w,E){var k,L=s(16);for(k=0;4>k;++k){var B=p[v+0+k]+p[v+12+k],G=p[v+4+k]+p[v+8+k],U=p[v+4+k]-p[v+8+k],te=p[v+0+k]-p[v+12+k];L[0+k]=B+G,L[8+k]=B-G,L[4+k]=te+U,L[12+k]=te-U;}for(k=0;4>k;++k)B=(p=L[0+4*k]+3)+L[3+4*k],G=L[1+4*k]+L[2+4*k],U=L[1+4*k]-L[2+4*k],te=p-L[3+4*k],w[E+0]=B+G>>3,w[E+16]=te+U>>3,w[E+32]=B-G>>3,w[E+48]=te-U>>3,E+=64;}function OC(p,v,w){var E,k=v-32,L=Na,B=255-p[k-1];for(E=0;E<w;++E){var G,U=L,te=B+p[v-1];for(G=0;G<w;++G)p[v+G]=U[te+p[k+G]];v+=32;}}function oN(p,v){OC(p,v,4);}function aN(p,v){OC(p,v,8);}function lN(p,v){OC(p,v,16);}function jd(p,v){var w;for(w=0;16>w;++w)i(p,v+32*w,p,v-32,16);}function sy(p,v){var w;for(w=16;0<w;--w)r(p,v,p[v-1],16),v+=32;}function oy(p,v,w){var E;for(E=0;16>E;++E)r(v,w+32*E,p,16);}function TT(p,v){var w,E=16;for(w=0;16>w;++w)E+=p[v-1+32*w]+p[v+w-32];oy(E>>5,p,v);}function ro(p,v){var w,E=8;for(w=0;16>w;++w)E+=p[v-1+32*w];oy(E>>4,p,v);}function cN(p,v){var w,E=8;for(w=0;16>w;++w)E+=p[v+w-32];oy(E>>4,p,v);}function AT(p,v){oy(128,p,v);}function ln(p,v,w){return p+2*v+w+2>>2;}function uN(p,v){var w,E=v-32;for(E=new Uint8Array([ln(p[E-1],p[E+0],p[E+1]),ln(p[E+0],p[E+1],p[E+2]),ln(p[E+1],p[E+2],p[E+3]),ln(p[E+2],p[E+3],p[E+4])]),w=0;4>w;++w)i(p,v+32*w,E,0,E.length);}function dN(p,v){var w=p[v-1],E=p[v-1+32],k=p[v-1+64],L=p[v-1+96];Ae(p,v+0,16843009*ln(p[v-1-32],w,E)),Ae(p,v+32,16843009*ln(w,E,k)),Ae(p,v+64,16843009*ln(E,k,L)),Ae(p,v+96,16843009*ln(k,L,L));}function Tu(p,v){var w,E=4;for(w=0;4>w;++w)E+=p[v+w-32]+p[v-1+32*w];for(E>>=3,w=0;4>w;++w)r(p,v+32*w,E,4);}function DT(p,v){var w=p[v-1+0],E=p[v-1+32],k=p[v-1+64],L=p[v-1-32],B=p[v+0-32],G=p[v+1-32],U=p[v+2-32],te=p[v+3-32];p[v+0+96]=ln(E,k,p[v-1+96]),p[v+1+96]=p[v+0+64]=ln(w,E,k),p[v+2+96]=p[v+1+64]=p[v+0+32]=ln(L,w,E),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=ln(B,L,w),p[v+3+64]=p[v+2+32]=p[v+1+0]=ln(G,B,L),p[v+3+32]=p[v+2+0]=ln(U,G,B),p[v+3+0]=ln(te,U,G);}function RT(p,v){var w=p[v+1-32],E=p[v+2-32],k=p[v+3-32],L=p[v+4-32],B=p[v+5-32],G=p[v+6-32],U=p[v+7-32];p[v+0+0]=ln(p[v+0-32],w,E),p[v+1+0]=p[v+0+32]=ln(w,E,k),p[v+2+0]=p[v+1+32]=p[v+0+64]=ln(E,k,L),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=ln(k,L,B),p[v+3+32]=p[v+2+64]=p[v+1+96]=ln(L,B,G),p[v+3+64]=p[v+2+96]=ln(B,G,U),p[v+3+96]=ln(G,U,U);}function ay(p,v){var w=p[v-1+0],E=p[v-1+32],k=p[v-1+64],L=p[v-1-32],B=p[v+0-32],G=p[v+1-32],U=p[v+2-32],te=p[v+3-32];p[v+0+0]=p[v+1+64]=L+B+1>>1,p[v+1+0]=p[v+2+64]=B+G+1>>1,p[v+2+0]=p[v+3+64]=G+U+1>>1,p[v+3+0]=U+te+1>>1,p[v+0+96]=ln(k,E,w),p[v+0+64]=ln(E,w,L),p[v+0+32]=p[v+1+96]=ln(w,L,B),p[v+1+32]=p[v+2+96]=ln(L,B,G),p[v+2+32]=p[v+3+96]=ln(B,G,U),p[v+3+32]=ln(G,U,te);}function BC(p,v){var w=p[v+0-32],E=p[v+1-32],k=p[v+2-32],L=p[v+3-32],B=p[v+4-32],G=p[v+5-32],U=p[v+6-32],te=p[v+7-32];p[v+0+0]=w+E+1>>1,p[v+1+0]=p[v+0+64]=E+k+1>>1,p[v+2+0]=p[v+1+64]=k+L+1>>1,p[v+3+0]=p[v+2+64]=L+B+1>>1,p[v+0+32]=ln(w,E,k),p[v+1+32]=p[v+0+96]=ln(E,k,L),p[v+2+32]=p[v+1+96]=ln(k,L,B),p[v+3+32]=p[v+2+96]=ln(L,B,G),p[v+3+64]=ln(B,G,U),p[v+3+96]=ln(G,U,te);}function hN(p,v){var w=p[v-1+0],E=p[v-1+32],k=p[v-1+64],L=p[v-1+96];p[v+0+0]=w+E+1>>1,p[v+2+0]=p[v+0+32]=E+k+1>>1,p[v+2+32]=p[v+0+64]=k+L+1>>1,p[v+1+0]=ln(w,E,k),p[v+3+0]=p[v+1+32]=ln(E,k,L),p[v+3+32]=p[v+1+64]=ln(k,L,L),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=L;}function fN(p,v){var w=p[v-1+0],E=p[v-1+32],k=p[v-1+64],L=p[v-1+96],B=p[v-1-32],G=p[v+0-32],U=p[v+1-32],te=p[v+2-32];p[v+0+0]=p[v+2+32]=w+B+1>>1,p[v+0+32]=p[v+2+64]=E+w+1>>1,p[v+0+64]=p[v+2+96]=k+E+1>>1,p[v+0+96]=L+k+1>>1,p[v+3+0]=ln(G,U,te),p[v+2+0]=ln(B,G,U),p[v+1+0]=p[v+3+32]=ln(w,B,G),p[v+1+32]=p[v+3+64]=ln(E,w,B),p[v+1+64]=p[v+3+96]=ln(k,E,w),p[v+1+96]=ln(L,k,E);}function pN(p,v){var w;for(w=0;8>w;++w)i(p,v+32*w,p,v-32,8);}function VC(p,v){var w;for(w=0;8>w;++w)r(p,v,p[v-1],8),v+=32;}function Qg(p,v,w){var E;for(E=0;8>E;++E)r(v,w+32*E,p,8);}function kf(p,v){var w,E=8;for(w=0;8>w;++w)E+=p[v+w-32]+p[v-1+32*w];Qg(E>>4,p,v);}function gN(p,v){var w,E=4;for(w=0;8>w;++w)E+=p[v+w-32];Qg(E>>3,p,v);}function Zg(p,v){var w,E=4;for(w=0;8>w;++w)E+=p[v-1+32*w];Qg(E>>3,p,v);}function HC(p,v){Qg(128,p,v);}function ly(p,v,w){var E=p[v-w],k=p[v+0],L=3*(k-E)+wN[1020+p[v-2*w]-p[v+w]],B=zT[112+(L+4>>3)];p[v-w]=Na[255+E+zT[112+(L+3>>3)]],p[v+0]=Na[255+k-B];}function IT(p,v,w,E){var k=p[v+0],L=p[v+w];return bl[255+p[v-2*w]-p[v-w]]>E||bl[255+L-k]>E;}function PT(p,v,w,E){return 4*bl[255+p[v-w]-p[v+0]]+bl[255+p[v-2*w]-p[v+w]]<=E;}function kT(p,v,w,E,k){var L=p[v-3*w],B=p[v-2*w],G=p[v-w],U=p[v+0],te=p[v+w],de=p[v+2*w],Se=p[v+3*w];return 4*bl[255+G-U]+bl[255+B-te]>E?0:bl[255+p[v-4*w]-L]<=k&&bl[255+L-B]<=k&&bl[255+B-G]<=k&&bl[255+Se-de]<=k&&bl[255+de-te]<=k&&bl[255+te-U]<=k;}function MT(p,v,w,E){var k=2*E+1;for(E=0;16>E;++E)PT(p,v+E,w,k)&&ly(p,v+E,w);}function Au(p,v,w,E){var k=2*E+1;for(E=0;16>E;++E)PT(p,v+E*w,1,k)&&ly(p,v+E*w,1);}function $d(p,v,w,E){var k;for(k=3;0<k;--k)MT(p,v+=4*w,w,E);}function mN(p,v,w,E){var k;for(k=3;0<k;--k)Au(p,v+=4,w,E);}function Mf(p,v,w,E,k,L,B,G){for(L=2*L+1;0<k--;){if(kT(p,v,w,L,B))if(IT(p,v,w,G))ly(p,v,w);else{var U=p,te=v,de=w,Se=U[te-2*de],Ee=U[te-de],me=U[te+0],ze=U[te+de],ke=U[te+2*de],fe=27*(Be=wN[1020+3*(me-Ee)+wN[1020+Se-ze]])+63>>7,pe=18*Be+63>>7,Be=9*Be+63>>7;U[te-3*de]=Na[255+U[te-3*de]+Be],U[te-2*de]=Na[255+Se+pe],U[te-de]=Na[255+Ee+fe],U[te+0]=Na[255+me-fe],U[te+de]=Na[255+ze-pe],U[te+2*de]=Na[255+ke-Be];}v+=E;}}function yc(p,v,w,E,k,L,B,G){for(L=2*L+1;0<k--;){if(kT(p,v,w,L,B))if(IT(p,v,w,G))ly(p,v,w);else{var U=p,te=v,de=w,Se=U[te-de],Ee=U[te+0],me=U[te+de],ze=zT[112+((ke=3*(Ee-Se))+4>>3)],ke=zT[112+(ke+3>>3)],fe=ze+1>>1;U[te-2*de]=Na[255+U[te-2*de]+fe],U[te-de]=Na[255+Se+ke],U[te+0]=Na[255+Ee-ze],U[te+de]=Na[255+me-fe];}v+=E;}}function GC(p,v,w,E,k,L){Mf(p,v,w,1,16,E,k,L);}function Jg(p,v,w,E,k,L){Mf(p,v,1,w,16,E,k,L);}function vN(p,v,w,E,k,L){var B;for(B=3;0<B;--B)yc(p,v+=4*w,w,1,16,E,k,L);}function cy(p,v,w,E,k,L){var B;for(B=3;0<B;--B)yc(p,v+=4,1,w,16,E,k,L);}function yN(p,v,w,E,k,L,B,G){Mf(p,v,k,1,8,L,B,G),Mf(w,E,k,1,8,L,B,G);}function zC(p,v,w,E,k,L,B,G){Mf(p,v,1,k,8,L,B,G),Mf(w,E,1,k,8,L,B,G);}function UC(p,v,w,E,k,L,B,G){yc(p,v+4*k,k,1,8,L,B,G),yc(w,E+4*k,k,1,8,L,B,G);}function FT(p,v,w,E,k,L,B,G){yc(p,v+4,1,k,8,L,B,G),yc(w,E+4,1,k,8,L,B,G);}function uy(){this.ba=new hc(),this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sr(),this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc";}function jC(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0;}function $C(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0;}function NT(){this.ua=0,this.Wa=new re(),this.vb=new re(),this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W(),this.yc=new T();}function bN(){this.xb=this.a=0,this.l=new iy(),this.ca=new hc(),this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P(),this.Pb=0,this.wd=new P(),this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new NT(),this.ab=0,this.gc=o(4,$C),this.Oc=0;}function dy(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new iy(),this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0;}function em(p,v,w,E,k,L,B){for(p=p==null?0:p[v+0],v=0;v<B;++v)k[L+v]=p+w[E+v]&255,p=k[L+v];}function WC(p,v,w,E,k,L,B){var G;if(p==null)em(null,null,w,E,k,L,B);else for(G=0;G<B;++G)k[L+G]=p[v+G]+w[E+G]&255;}function Ff(p,v,w,E,k,L,B){if(p==null)em(null,null,w,E,k,L,B);else{var G,U=p[v+0],te=U,de=U;for(G=0;G<B;++G)te=de+(U=p[v+G])-te,de=w[E+G]+(-256&te?0>te?0:255:te)&255,te=U,k[L+G]=de;}}function qC(p,v,w,E){var k=v.width,L=v.o;if(t(p!=null&&v!=null),0>w||0>=E||w+E>L)return null;if(!p.Cc){if(p.ga==null){var B;if(p.ga=new dy(),(B=p.ga==null)||(B=v.width*v.o,t(p.Gb.length==0),p.Gb=s(B),p.Uc=0,p.Gb==null?B=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,B=1),B=!B),!B){B=p.ga;var G=p.Fa,U=p.P,te=p.qc,de=p.mb,Se=p.nb,Ee=U+1,me=te-1,ze=B.l;if(t(G!=null&&de!=null&&v!=null),Hf[0]=null,Hf[1]=em,Hf[2]=WC,Hf[3]=Ff,B.ca=de,B.tb=Se,B.c=v.width,B.i=v.height,t(0<B.c&&0<B.i),1>=te)v=0;else if(B.$a=G[U+0]>>0&3,B.Z=G[U+0]>>2&3,B.Lc=G[U+0]>>4&3,U=G[U+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||U)v=0;else if(ze.put=wu,ze.ac=Fs,ze.bc=Cu,ze.ma=B,ze.width=v.width,ze.height=v.height,ze.Da=v.Da,ze.v=v.v,ze.va=v.va,ze.j=v.j,ze.o=v.o,B.$a)e:{t(B.$a==1),v=pl();t:for(;;){if(v==null){v=0;break e;}if(t(B!=null),B.mc=v,v.c=B.c,v.i=B.i,v.l=B.l,v.l.ma=B,v.l.width=B.c,v.l.height=B.i,v.a=0,Z(v.m,G,Ee,me),!Eu(B.c,B.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ud(v.s)?(B.ic=1,G=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(G),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(B.ic=0,v=Xg(v,B.c)),!v))break t;v=1;break e;}B.mc=null,v=0;}else v=me>=B.c*B.i;B=!v;}if(B)return null;p.ga.Lc!=1?p.Ga=0:E=L-w;}t(p.ga!=null),t(w+E<=L);e:{if(v=(G=p.ga).c,L=G.l.o,G.$a==0){if(Ee=p.rc,me=p.Vc,ze=p.Fa,U=p.P+1+w*v,te=p.mb,de=p.nb+w*v,t(U<=p.P+p.qc),G.Z!=0)for(t(Hf[G.Z]!=null),B=0;B<E;++B)Hf[G.Z](Ee,me,ze,U,te,de,v),Ee=te,me=de,de+=v,U+=v;else for(B=0;B<E;++B)i(te,de,ze,U,v),Ee=te,me=de,de+=v,U+=v;p.rc=Ee,p.Vc=me;}else{if(t(G.mc!=null),v=w+E,t((B=G.mc)!=null),t(v<=B.i),B.C>=v)v=1;else if(G.ic||be(),G.ic){G=B.V,Ee=B.Ba,me=B.c;var ke=B.i,fe=(ze=1,U=B.$/me,te=B.$%me,de=B.m,Se=B.s,B.$),pe=me*ke,Be=me*v,We=Se.wc,He=fe<Be?Jr(Se,te,U):null;t(fe<=pe),t(v<=ke),t(Ud(Se));t:for(;;){for(;!de.h&&fe<Be;){if(te&We||(He=Jr(Se,te,U)),t(He!=null),he(de),256>(ke=ra(He.G[0],He.H[0],de)))G[Ee+fe]=ke,++fe,++te>=me&&(te=0,++U<=v&&!(U%16)&&gc(B,U));else{if(!(280>ke)){ze=0;break t;}ke=fc(ke-256,de);var _t,ut=ra(He.G[4],He.H[4],de);if(he(de),!(fe>=(ut=_u(me,ut=fc(ut,de)))&&pe-fe>=ke)){ze=0;break t;}for(_t=0;_t<ke;++_t)G[Ee+fe+_t]=G[Ee+fe+_t-ut];for(fe+=ke,te+=ke;te>=me;)te-=me,++U<=v&&!(U%16)&&gc(B,U);fe<Be&&te&We&&(He=Jr(Se,te,U));}t(de.h==ee(de));}gc(B,U>v?v:U);break t;}!ze||de.h&&fe<pe?(ze=0,B.a=de.h?5:3):B.$=fe,v=ze;}else v=mc(B,B.V,B.Ba,B.c,B.i,v,Zv);if(!v){E=0;break e;}}w+E>=L&&(p.Cc=1),E=1;}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null;}return p.nb+w*k;}function x(p,v,w,E,k,L){for(;0<k--;){var B,G=p,U=v+(w?1:0),te=p,de=v+(w?0:3);for(B=0;B<E;++B){var Se=te[de+4*B];Se!=255&&(Se*=32897,G[U+4*B+0]=G[U+4*B+0]*Se>>23,G[U+4*B+1]=G[U+4*B+1]*Se>>23,G[U+4*B+2]=G[U+4*B+2]*Se>>23);}v+=L;}}function M(p,v,w,E,k){for(;0<E--;){var L;for(L=0;L<w;++L){var B=p[v+2*L+0],G=15&(te=p[v+2*L+1]),U=4369*G,te=(240&te|te>>4)*U>>16;p[v+2*L+0]=(240&B|B>>4)*U>>16&240|(15&B|B<<4)*U>>16>>4&15,p[v+2*L+1]=240&te|G;}v+=k;}}function ie(p,v,w,E,k,L,B,G){var U,te,de=255;for(te=0;te<k;++te){for(U=0;U<E;++U){var Se=p[v+U];L[B+4*U]=Se,de&=Se;}v+=w,B+=G;}return de!=255;}function ce(p,v,w,E,k){var L;for(L=0;L<k;++L)w[E+L]=p[v+L]>>8;}function be(){yl=x,Qi=M,Zi=ie,jr=ce;}function Ne(p,v,w){D[p]=function(E,k,L,B,G,U,te,de,Se,Ee,me,ze,ke,fe,pe,Be,We){var He,_t=We-1>>1,ut=G[U+0]|te[de+0]<<16,Wt=Se[Ee+0]|me[ze+0]<<16;t(E!=null);var pt=3*ut+Wt+131074>>2;for(v(E[k+0],255&pt,pt>>16,ke,fe),L!=null&&(pt=3*Wt+ut+131074>>2,v(L[B+0],255&pt,pt>>16,pe,Be)),He=1;He<=_t;++He){var hi=G[U+He]|te[de+He]<<16,Ri=Se[Ee+He]|me[ze+He]<<16,ei=ut+hi+Wt+Ri+524296,zn=ei+2*(hi+Wt)>>3;pt=zn+ut>>1,ut=(ei=ei+2*(ut+Ri)>>3)+hi>>1,v(E[k+2*He-1],255&pt,pt>>16,ke,fe+(2*He-1)*w),v(E[k+2*He-0],255&ut,ut>>16,ke,fe+(2*He-0)*w),L!=null&&(pt=ei+Wt>>1,ut=zn+Ri>>1,v(L[B+2*He-1],255&pt,pt>>16,pe,Be+(2*He-1)*w),v(L[B+2*He+0],255&ut,ut>>16,pe,Be+(2*He+0)*w)),ut=hi,Wt=Ri;}1&We||(pt=3*ut+Wt+131074>>2,v(E[k+We-1],255&pt,pt>>16,ke,fe+(We-1)*w),L!=null&&(pt=3*Wt+ut+131074>>2,v(L[B+We-1],255&pt,pt>>16,pe,Be+(We-1)*w)));};}function Ye(){xl[UT]=ige,xl[jT]=tj,xl[XU]=rge,xl[$T]=nj,xl[WT]=ij,xl[CN]=rj,xl[QU]=sge,xl[_N]=tj,xl[SN]=nj,xl[qT]=ij,xl[EN]=rj;}function wt(p){return p&~oge?0>p?0:255:p>>sj;}function Ot(p,v){return wt((19077*p>>8)+(26149*v>>8)-14234);}function yn(p,v,w){return wt((19077*p>>8)-(6419*v>>8)-(13320*w>>8)+8708);}function fn(p,v){return wt((19077*p>>8)+(33050*v>>8)-17685);}function Kn(p,v,w,E,k){E[k+0]=Ot(p,w),E[k+1]=yn(p,v,w),E[k+2]=fn(p,v);}function pr(p,v,w,E,k){E[k+0]=fn(p,v),E[k+1]=yn(p,v,w),E[k+2]=Ot(p,w);}function Er(p,v,w,E,k){var L=yn(p,v,w);v=L<<3&224|fn(p,v)>>3,E[k+0]=248&Ot(p,w)|L>>5,E[k+1]=v;}function es(p,v,w,E,k){var L=240&fn(p,v)|15;E[k+0]=240&Ot(p,w)|yn(p,v,w)>>4,E[k+1]=L;}function so(p,v,w,E,k){E[k+0]=255,Kn(p,v,w,E,k+1);}function ws(p,v,w,E,k){pr(p,v,w,E,k),E[k+3]=255;}function bc(p,v,w,E,k){Kn(p,v,w,E,k),E[k+3]=255;}function Fa(p,v){return 0>p?0:p>v?v:p;}function Du(p,v,w){D[p]=function(E,k,L,B,G,U,te,de,Se){for(var Ee=de+(-2&Se)*w;de!=Ee;)v(E[k+0],L[B+0],G[U+0],te,de),v(E[k+1],L[B+0],G[U+0],te,de+w),k+=2,++B,++U,de+=2*w;1&Se&&v(E[k+0],L[B+0],G[U+0],te,de);};}function LT(p,v,w){return w==0?p==0?v==0?6:5:v==0?4:0:w;}function KC(p,v,w,E,k){switch(p>>>30){case 3:Kd(v,w,E,k,0);break;case 2:Ur(v,w,E,k);break;case 1:Io(v,w,E,k);}}function YC(p,v){var w,E,k=v.M,L=v.Nb,B=p.oc,G=p.pc+40,U=p.oc,te=p.pc+584,de=p.oc,Se=p.pc+600;for(w=0;16>w;++w)B[G+32*w-1]=129;for(w=0;8>w;++w)U[te+32*w-1]=129,de[Se+32*w-1]=129;for(0<k?B[G-1-32]=U[te-1-32]=de[Se-1-32]=129:(r(B,G-32-1,127,21),r(U,te-32-1,127,9),r(de,Se-32-1,127,9)),E=0;E<p.za;++E){var Ee=v.ya[v.aa+E];if(0<E){for(w=-1;16>w;++w)i(B,G+32*w-4,B,G+32*w+12,4);for(w=-1;8>w;++w)i(U,te+32*w-4,U,te+32*w+4,4),i(de,Se+32*w-4,de,Se+32*w+4,4);}var me=p.Gd,ze=p.Hd+E,ke=Ee.ad,fe=Ee.Hc;if(0<k&&(i(B,G-32,me[ze].y,0,16),i(U,te-32,me[ze].f,0,8),i(de,Se-32,me[ze].ea,0,8)),Ee.Za){var pe=B,Be=G-32+16;for(0<k&&(E>=p.za-1?r(pe,Be,me[ze].y[15],4):i(pe,Be,me[ze+1].y,0,4)),w=0;4>w;w++)pe[Be+128+w]=pe[Be+256+w]=pe[Be+384+w]=pe[Be+0+w];for(w=0;16>w;++w,fe<<=2)pe=B,Be=G+aj[w],xc[Ee.Ob[w]](pe,Be),KC(fe,ke,16*+w,pe,Be);}else if(pe=LT(E,k,Ee.Ob[0]),Vf[pe](B,G),fe!=0)for(w=0;16>w;++w,fe<<=2)KC(fe,ke,16*+w,B,G+aj[w]);for(w=Ee.Gc,pe=LT(E,k,Ee.Dd),Xd[pe](U,te),Xd[pe](de,Se),fe=ke,pe=U,Be=te,255&(Ee=w>>0)&&(170&Ee?e1(fe,256,pe,Be):ml(fe,256,pe,Be)),Ee=de,fe=Se,255&(w>>=8)&&(170&w?e1(ke,320,Ee,fe):ml(ke,320,Ee,fe)),k<p.Ub-1&&(i(me[ze].y,0,B,G+480,16),i(me[ze].f,0,U,te+224,8),i(me[ze].ea,0,de,Se+224,8)),w=8*L*p.B,me=p.sa,ze=p.ta+16*E+16*L*p.R,ke=p.qa,Ee=p.ra+8*E+w,fe=p.Ha,pe=p.Ia+8*E+w,w=0;16>w;++w)i(me,ze+w*p.R,B,G+32*w,16);for(w=0;8>w;++w)i(ke,Ee+w*p.B,U,te+32*w,8),i(fe,pe+w*p.B,de,Se+32*w,8);}}function hy(p,v,w,E,k,L,B,G,U){var te=[0],de=[0],Se=0,Ee=U!=null?U.kd:0,me=U??new jC();if(p==null||12>w)return 7;me.data=p,me.w=v,me.ha=w,v=[v],w=[w],me.gb=[me.gb];e:{var ze=v,ke=w,fe=me.gb;if(t(p!=null),t(ke!=null),t(fe!=null),fe[0]=0,12<=ke[0]&&!n(p,ze[0],"RIFF")){if(n(p,ze[0]+8,"WEBP")){fe=3;break e;}var pe=Ge(p,ze[0]+4);if(12>pe||4294967286<pe){fe=3;break e;}if(Ee&&pe>ke[0]-8){fe=7;break e;}fe[0]=pe,ze[0]+=12,ke[0]-=12;}fe=0;}if(fe!=0)return fe;for(pe=0<me.gb[0],w=w[0];;){e:{var Be=p;ke=v,fe=w;var We=te,He=de,_t=ze=[0];if((pt=Se=[Se])[0]=0,8>fe[0])fe=7;else{if(!n(Be,ke[0],"VP8X")){if(Ge(Be,ke[0]+4)!=10){fe=3;break e;}if(18>fe[0]){fe=7;break e;}var ut=Ge(Be,ke[0]+8),Wt=1+ge(Be,ke[0]+12);if(2147483648<=Wt*(Be=1+ge(Be,ke[0]+15))){fe=3;break e;}_t!=null&&(_t[0]=ut),We!=null&&(We[0]=Wt),He!=null&&(He[0]=Be),ke[0]+=18,fe[0]-=18,pt[0]=1;}fe=0;}}if(Se=Se[0],ze=ze[0],fe!=0)return fe;if(ke=!!(2&ze),!pe&&Se)return 3;if(L!=null&&(L[0]=!!(16&ze)),B!=null&&(B[0]=ke),G!=null&&(G[0]=0),B=te[0],ze=de[0],Se&&ke&&U==null){fe=0;break;}if(4>w){fe=7;break;}if(pe&&Se||!pe&&!Se&&!n(p,v[0],"ALPH")){w=[w],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{ut=p,fe=v,pe=w;var pt=me.gb;We=me.na,He=me.P,_t=me.Sa,Wt=22,t(ut!=null),t(pe!=null),Be=fe[0];var hi=pe[0];for(t(We!=null),t(_t!=null),We[0]=null,He[0]=null,_t[0]=0;;){if(fe[0]=Be,pe[0]=hi,8>hi){fe=7;break e;}var Ri=Ge(ut,Be+4);if(4294967286<Ri){fe=3;break e;}var ei=8+Ri+1&-2;if(Wt+=ei,0<pt&&Wt>pt){fe=3;break e;}if(!n(ut,Be,"VP8 ")||!n(ut,Be,"VP8L")){fe=0;break e;}if(hi[0]<ei){fe=7;break e;}n(ut,Be,"ALPH")||(We[0]=ut,He[0]=Be+8,_t[0]=Ri),Be+=ei,hi-=ei;}}if(w=w[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],fe!=0)break;}w=[w],me.Ja=[me.Ja],me.xa=[me.xa];e:if(pt=p,fe=v,pe=w,We=me.gb[0],He=me.Ja,_t=me.xa,ut=fe[0],Be=!n(pt,ut,"VP8 "),Wt=!n(pt,ut,"VP8L"),t(pt!=null),t(pe!=null),t(He!=null),t(_t!=null),8>pe[0])fe=7;else{if(Be||Wt){if(pt=Ge(pt,ut+4),12<=We&&pt>We-12){fe=3;break e;}if(Ee&&pt>pe[0]-8){fe=7;break e;}He[0]=pt,fe[0]+=8,pe[0]-=8,_t[0]=Wt;}else _t[0]=5<=pe[0]&&pt[ut+0]==47&&!(pt[ut+4]>>5),He[0]=pe[0];fe=0;}if(w=w[0],me.Ja=me.Ja[0],me.xa=me.xa[0],v=v[0],fe!=0)break;if(4294967286<me.Ja)return 3;if(G==null||ke||(G[0]=me.xa?2:1),B=[B],ze=[ze],me.xa){if(5>w){fe=7;break;}G=B,Ee=ze,ke=L,p==null||5>w?p=0:5<=w&&p[v+0]==47&&!(p[v+4]>>5)?(pe=[0],pt=[0],We=[0],Z(He=new P(),p,v,w),Yt(He,pe,pt,We)?(G!=null&&(G[0]=pe[0]),Ee!=null&&(Ee[0]=pt[0]),ke!=null&&(ke[0]=We[0]),p=1):p=0):p=0;}else{if(10>w){fe=7;break;}G=ze,p==null||10>w||!xT(p,v+3,w-3)?p=0:(Ee=p[v+0]|p[v+1]<<8|p[v+2]<<16,ke=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=me.Ja||!ke||!p?p=0:(B&&(B[0]=ke),G&&(G[0]=p),p=1));}if(!p||(B=B[0],ze=ze[0],Se&&(te[0]!=B||de[0]!=ze)))return 3;U!=null&&(U[0]=me,U.offset=v-U.w,t(4294967286>v-U.w),t(U.offset==U.ha-w));break;}return fe==0||fe==7&&Se&&U==null?(L!=null&&(L[0]|=me.na!=null&&0<me.na.length),E!=null&&(E[0]=B),k!=null&&(k[0]=ze),0):fe;}function XC(p,v,w){var E=v.width,k=v.height,L=0,B=0,G=E,U=k;if(v.Da=p!=null&&0<p.Da,v.Da&&(G=p.cd,U=p.bd,L=p.v,B=p.j,11>w||(L&=-2,B&=-2),0>L||0>B||0>=G||0>=U||L+G>E||B+U>k))return 0;if(v.v=L,v.j=B,v.va=L+G,v.o=B+U,v.U=G,v.T=U,v.da=p!=null&&0<p.da,v.da){if(!tt(G,U,w=[p.ib],L=[p.hb]))return 0;v.ib=w[0],v.hb=L[0];}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*k/4,v.Kb=0),1;}function QC(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A;}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0;}function fy(p,v,w,E){if(E==null||0>=p||0>=v)return 2;if(w!=null){if(w.Da){var k=w.cd,L=w.bd,B=-2&w.v,G=-2&w.j;if(0>B||0>G||0>=k||0>=L||B+k>p||G+L>v)return 2;p=k,v=L;}if(w.da){if(!tt(p,v,k=[w.ib],L=[w.hb]))return 2;p=k[0],v=L[0];}}E.width=p,E.height=v;e:{var U=E.width,te=E.height;if(p=E.S,0>=U||0>=te||!(p>=UT&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){B=L=k=v=0;var de=(G=U*lj[p])*te;if(11>p||(L=(te+1)/2*(v=(U+1)/2),p==12&&(B=(k=U)*te)),(te=s(de+2*L+B))==null){p=1;break e;}E.sd=te,11>p?((U=E.f.RGBA).eb=te,U.fb=0,U.A=G,U.size=de):((U=E.f.kb).y=te,U.O=0,U.fa=G,U.Fd=de,U.f=te,U.N=0+de,U.Ab=v,U.Cd=L,U.ea=te,U.W=0+de+L,U.Db=v,U.Ed=L,p==12&&(U.F=te,U.J=0+de+2*L),U.Tc=B,U.lb=k);}if(v=1,k=E.S,L=E.width,B=E.height,k>=UT&&13>k){if(11>k)p=E.f.RGBA,v&=(G=Math.abs(p.A))*(B-1)+L<=p.size,v&=G>=L*lj[k],v&=p.eb!=null;else{p=E.f.kb,G=(L+1)/2,de=(B+1)/2,U=Math.abs(p.fa),te=Math.abs(p.Ab);var Se=Math.abs(p.Db),Ee=Math.abs(p.lb),me=Ee*(B-1)+L;v&=U*(B-1)+L<=p.Fd,v&=te*(de-1)+G<=p.Cd,v=(v&=Se*(de-1)+G<=p.Ed)&U>=L&te>=G&Se>=G,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,k==12&&(v&=Ee>=L,v&=me<=p.Tc,v&=p.F!=null);}}else v=0;p=v?0:2;}}return p!=0||w!=null&&w.fd&&(p=QC(E)),p;}var Ns=64,py=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gy=24,my=32,ZC=8,oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080;},D.Predictor1=function(p){return p;},D.Predictor2=function(p,v,w){return v[w+0];},D.Predictor3=function(p,v,w){return v[w+1];},D.Predictor4=function(p,v,w){return v[w-1];},D.Predictor5=function(p,v,w){return gt(gt(p,v[w+1]),v[w+0]);},D.Predictor6=function(p,v,w){return gt(p,v[w-1]);},D.Predictor7=function(p,v,w){return gt(p,v[w+0]);},D.Predictor8=function(p,v,w){return gt(v[w-1],v[w+0]);},D.Predictor9=function(p,v,w){return gt(v[w+0],v[w+1]);},D.Predictor10=function(p,v,w){return gt(gt(p,v[w-1]),gt(v[w+0],v[w+1]));},D.Predictor11=function(p,v,w){var E=v[w+0];return 0>=Sn(E>>24&255,p>>24&255,(v=v[w-1])>>24&255)+Sn(E>>16&255,p>>16&255,v>>16&255)+Sn(E>>8&255,p>>8&255,v>>8&255)+Sn(255&E,255&p,255&v)?E:p;},D.Predictor12=function(p,v,w){var E=v[w+0];return(Lt((p>>24&255)+(E>>24&255)-((v=v[w-1])>>24&255))<<24|Lt((p>>16&255)+(E>>16&255)-(v>>16&255))<<16|Lt((p>>8&255)+(E>>8&255)-(v>>8&255))<<8|Lt((255&p)+(255&E)-(255&v)))>>>0;},D.Predictor13=function(p,v,w){var E=v[w-1];return(dn((p=gt(p,v[w+0]))>>24&255,E>>24&255)<<24|dn(p>>16&255,E>>16&255)<<16|dn(p>>8&255,E>>8&255)<<8|dn(p>>0&255,E>>0&255))>>>0;};var xN=D.PredictorAdd0;D.PredictorAdd1=Ln,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var JC=D.PredictorAdd2;Vn("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255;},function(p){return p;}),Vn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p;},function(p){return p>>8&255;});var OT,gl=D.ColorIndexInverseTransform,vy=D.MapARGB,BT=D.VP8LColorIndexInverseTransformAlpha,VT=D.MapAlpha,Nf=D.VP8LPredictorsAdd=[];Nf.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var tm,aa,Ro,Lf,Wd,qd,yy,Kd,Ur,e1,Io,ml,by,HT,t1,nm,im,Of,rm,xy,sm,Bf,n1,vl,yl,Qi,Zi,jr,ds=s(511),Yd=s(2041),i1=s(225),wy=s(767),GT=0,wN=Yd,zT=i1,Na=wy,bl=ds,UT=0,jT=1,XU=2,$T=3,WT=4,CN=5,QU=6,_N=7,SN=8,qT=9,EN=10,Upe=[2,3,7],jpe=[3,3,11],ZU=[280,256,256,256,40],$pe=[0,1,1,1,0],Wpe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qpe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kpe=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ype=8,TN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],AN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],r1=null,Xpe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qpe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],JU=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zpe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jpe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ege=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],tge=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vf=[],xc=[],Xd=[],nge=1,ej=2,Hf=[],xl=[];Ne("UpsampleRgbLinePair",Kn,3),Ne("UpsampleBgrLinePair",pr,3),Ne("UpsampleRgbaLinePair",bc,4),Ne("UpsampleBgraLinePair",ws,4),Ne("UpsampleArgbLinePair",so,4),Ne("UpsampleRgba4444LinePair",es,2),Ne("UpsampleRgb565LinePair",Er,2);var ige=D.UpsampleRgbLinePair,rge=D.UpsampleBgrLinePair,tj=D.UpsampleRgbaLinePair,nj=D.UpsampleBgraLinePair,ij=D.UpsampleArgbLinePair,rj=D.UpsampleRgba4444LinePair,sge=D.UpsampleRgb565LinePair,KT=16,YT=1<<KT-1,s1=-227,DN=482,sj=6,oge=(256<<sj)-1,oj=0,age=s(256),lge=s(256),cge=s(256),uge=s(256),dge=s(DN-s1),hge=s(DN-s1);Du("YuvToRgbRow",Kn,3),Du("YuvToBgrRow",pr,3),Du("YuvToRgbaRow",bc,4),Du("YuvToBgraRow",ws,4),Du("YuvToArgbRow",so,4),Du("YuvToRgba4444Row",es,2),Du("YuvToRgb565Row",Er,2);var aj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],XT=[0,2,8],fge=[8,7,6,4,4,2,2,2,1,1,1,1],pge=1;this.WebPDecodeRGBA=function(p,v,w,E,k){var L=jT,B=new uy(),G=new hc();B.ba=G,G.S=L,G.width=[G.width],G.height=[G.height];var U=G.width,te=G.height,de=new zd();if(de==null||p==null)var Se=2;else t(de!=null),Se=hy(p,v,w,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Se!=0?U=0:(U!=null&&(U[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),U=1),U){G.width=G.width[0],G.height=G.height[0],E!=null&&(E[0]=G.width),k!=null&&(k[0]=G.height);e:{if(E=new iy(),(k=new jC()).data=p,k.w=v,k.ha=w,k.kd=1,v=[0],t(k!=null),((p=hy(k.data,k.w,k.ha,null,null,null,v,null,k))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(t(B!=null),E.data=k.data,E.w=k.w+k.offset,E.ha=k.ha-k.offset,E.put=wu,E.ac=Fs,E.bc=Cu,E.ma=B,k.xa){if((p=pl())==null){B=1;break e;}if(function(Ee,me){var ze=[0],ke=[0],fe=[0];t:for(;;){if(Ee==null)return 0;if(me==null)return Ee.a=2,0;if(Ee.l=me,Ee.a=0,Z(Ee.m,me.data,me.w,me.ha),!Yt(Ee.m,ze,ke,fe)){Ee.a=3;break t;}if(Ee.xb=ej,me.width=ze[0],me.height=ke[0],!Eu(ze[0],ke[0],1,Ee,null))break t;return 1;}return t(Ee.a!=0),0;}(p,E)){if(E=(v=fy(E.width,E.height,B.Oa,B.ba))==0){t:{E=p;n:for(;;){if(E==null){E=0;break t;}if(t(E.s.yc!=null),t(E.s.Ya!=null),t(0<E.s.Wb),t((w=E.l)!=null),t((k=w.ma)!=null),E.xb!=0){if(E.ca=k.ba,E.tb=k.tb,t(E.ca!=null),!XC(k.Oa,w,$T)){E.a=2;break n;}if(!Xg(E,w.width)||w.da)break n;if((w.da||Ci(E.ca.S))&&be(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&be()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!it(E.s.vb,E.s.Wa.Xa)){E.a=1;break n;}E.xb=0;}if(!mc(E,E.V,E.Ba,E.c,E.i,w.o,Qv))break n;k.Dc=E.Ma,E=1;break t;}t(E.a!=0),E=0;}E=!E;}E&&(v=p.a);}else v=p.a;}else{if((p=new tN())==null){B=1;break e;}if(p.Fa=k.na,p.P=k.P,p.qc=k.Sa,wT(p,E)){if((v=fy(E.width,E.height,B.Oa,B.ba))==0){if(p.Aa=0,w=B.Oa,t((k=p)!=null),w!=null){if(0<(U=0>(U=w.Md)?0:100<U?255:255*U/100)){for(te=de=0;4>te;++te)12>(Se=k.pb[te]).lc&&(Se.ia=U*fge[0>Se.lc?0:Se.lc]>>3),de|=Se.ia;de&&(alert("todo:VP8InitRandom"),k.ia=1);}k.Ga=w.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0);}nN(p,E)||(v=p.a);}}else v=p.a;}v==0&&B.Oa!=null&&B.Oa.fd&&(v=QC(B.ba));}B=v;}L=B!=0?null:11>L?G.f.RGBA.eb:G.f.kb.y;}else L=null;return L;};var lj=[3,4,3,4,4,2,2,4,4,4,2,1,1];};function c(D,V){for(var X="",S=0;S<4;S++)X+=String.fromCharCode(D[V++]);return X;}function u(D,V){return(D[V+0]<<0|D[V+1]<<8|D[V+2]<<16)>>>0;}function d(D,V){return(D[V+0]<<0|D[V+1]<<8|D[V+2]<<16|D[V+3]<<24)>>>0;}new l();var h=[0],f=[0],g=[],m=new l(),y=e,b=function(D,V){var X={},S=0,T=!1,z=0,W=0;if(X.frames=[],!function(Q,ee,le,he){for(var ue=0;ue<he;ue++)if(Q[ee+ue]!=le.charCodeAt(ue))return!0;return!1;}(D,V,"RIFF",4)){var H,F;for(d(D,V+=4),V+=8;V<D.length;){var Y=c(D,V),Z=d(D,V+=4);V+=4;var ne=Z+(1&Z);switch(Y){case"VP8 ":case"VP8L":X.frames[S]===void 0&&(X.frames[S]={}),(P=X.frames[S]).src_off=T?W:V-8,P.src_size=z+Z+8,S++,T&&(T=!1,z=0,W=0);break;case"VP8X":(P=X.header={}).feature_flags=D[V];var ae=V+4;P.canvas_width=1+u(D,ae),ae+=3,P.canvas_height=1+u(D,ae),ae+=3;break;case"ALPH":T=!0,z=ne+8,W=V-8;break;case"ANIM":(P=X.header).bgcolor=d(D,V),ae=V+4,P.loop_count=(H=D)[(F=ae)+0]<<0|H[F+1]<<8,ae+=2;break;case"ANMF":var Ce,P;(P=X.frames[S]={}).offset_x=2*u(D,V),V+=3,P.offset_y=2*u(D,V),V+=3,P.width=1+u(D,V),V+=3,P.height=1+u(D,V),V+=3,P.duration=u(D,V),V+=3,Ce=D[V++],P.dispose=1&Ce,P.blend=Ce>>1&1;}Y!="ANMF"&&(V+=ne);}return X;}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var C=b.header?b.header:null,_=b.frames?b.frames:null;if(C){C.loop_counter=C.loop_count,h=[C.canvas_height],f=[C.canvas_width];for(var A=0;A<_.length&&_[A].blend!=0;A++);}var I=_[0],N=m.WebPDecodeRGBA(y,I.src_off,I.src_size,f,h);I.rgba=N,I.imgwidth=f[0],I.imgheight=h[0];for(var R=0;R<f[0]*h[0]*4;R++)g[R]=N[R];return this.width=f,this.height=h,this.data=g,this;}(function(e){var t=function(){return typeof aF=="function";},n=function(h,f,g,m){var y=4,b=o;switch(m){case e.image_compression.FAST:y=1,b=s;break;case e.image_compression.MEDIUM:y=6,b=a;break;case e.image_compression.SLOW:y=9,b=l;}h=i(h,f,g,b);var C=aF(h,{level:y});return e.__addimage__.arrayBufferToBinaryString(C);},i=function(h,f,g,m){for(var y,b,C,_=h.length/f,A=new Uint8Array(h.length+_),I=u(),N=0;N<_;N+=1){if(C=N*f,y=h.subarray(C,C+f),m)A.set(m(y,g,b),C+N);else{for(var R,D=I.length,V=[];R<D;R+=1)V[R]=I[R](y,g,b);var X=d(V.concat());A.set(V[X],C+N);}b=y;}return A;},r=function(h){var f=Array.apply([],h);return f.unshift(0),f;},s=function(h,f){var g,m=[],y=h.length;m[0]=1;for(var b=0;b<y;b+=1)g=h[b-f]||0,m[b+1]=h[b]-g+256&255;return m;},o=function(h,f,g){var m,y=[],b=h.length;y[0]=2;for(var C=0;C<b;C+=1)m=g&&g[C]||0,y[C+1]=h[C]-m+256&255;return y;},a=function(h,f,g){var m,y,b=[],C=h.length;b[0]=3;for(var _=0;_<C;_+=1)m=h[_-f]||0,y=g&&g[_]||0,b[_+1]=h[_]+256-(m+y>>>1)&255;return b;},l=function(h,f,g){var m,y,b,C,_=[],A=h.length;_[0]=4;for(var I=0;I<A;I+=1)m=h[I-f]||0,y=g&&g[I]||0,b=g&&g[I-f]||0,C=c(m,y,b),_[I+1]=h[I]-C+256&255;return _;},c=function(h,f,g){if(h===f&&f===g)return h;var m=Math.abs(f-g),y=Math.abs(h-g),b=Math.abs(h+f-g-g);return m<=y&&m<=b?h:y<=b?f:g;},u=function(){return[r,s,o,a,l];},d=function(h){var f=h.map(function(g){return g.reduce(function(m,y){return m+Math.abs(y);},0);});return f.indexOf(Math.min.apply(null,f));};e.processPNG=function(h,f,g,m){var y,b,C,_,A,I,N,R,D,V,X,S,T,z,W,H=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(C=new LXe(h)).imgData,b=C.bits,y=C.colorSpace,A=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){D=(R=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,X=new Uint8Array(D*C.colors),V=new Uint8Array(D);var Y,Z=C.pixelBitlength-C.bits;for(z=0,W=0;z<D;z++){for(T=R[z],Y=0;Y<Z;)X[W++]=T>>>Y&255,Y+=C.bits;V[z]=T>>>Y&255;}}if(C.bits===16){D=(R=new Uint32Array(C.decodePixels().buffer)).length,X=new Uint8Array(D*(32/C.pixelBitlength)*C.colors),V=new Uint8Array(D*(32/C.pixelBitlength)),S=C.colors>1,z=0,W=0;for(var ne=0;z<D;)T=R[z++],X[W++]=T>>>0&255,S&&(X[W++]=T>>>16&255,T=R[z++],X[W++]=T>>>0&255),V[ne++]=T>>>16&255;b=8;}m!==e.image_compression.NONE&&t()?(h=n(X,C.width*C.colors,C.colors,m),N=n(V,C.width,1,m)):(h=X,N=V,H=void 0);}if(C.colorType===3&&(y=this.color_spaces.INDEXED,I=C.palette,C.transparency.indexed)){var ae=C.transparency.indexed,Ce=0;for(z=0,D=ae.length;z<D;++z)Ce+=ae[z];if((Ce/=255)===D-1&&ae.indexOf(0)!==-1)_=[ae.indexOf(0)];else if(Ce!==D){for(R=C.decodePixels(),V=new Uint8Array(R.length),z=0,D=R.length;z<D;z++)V[z]=ae[R[z]];N=n(V,C.width,1);}}var P=function(Q){var ee;switch(Q){case e.image_compression.FAST:ee=11;break;case e.image_compression.MEDIUM:ee=13;break;case e.image_compression.SLOW:ee=14;break;default:ee=12;}return ee;}(m);return H===this.decode.FLATE_DECODE&&(F="/Predictor "+P+" "),F+="/Colors "+A+" /BitsPerComponent "+b+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:g,data:h,index:f,filter:H,decodeParameters:F,transparency:_,palette:I,sMask:N,predictor:P,width:C.width,height:C.height,bitsPerComponent:b,colorSpace:y};}};})(Kt.API),function(e){e.processGIF89A=function(t,n,i,r){var s=new OXe(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new tU(100).encode(c,100);return e.processJPEG.call(this,u,n,i,r);},e.processGIF87A=e.processGIF89A;}(Kt.API),mu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:s};}}this.height<0&&(this.height*=-1,this.bottom_up=!1);},mu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]();}catch(n){Xi.log("bit decode error:"+n);}},mu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255;}n!==0&&(this.pos+=4-n);}},mu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255;}t!==0&&(this.pos+=4-t);}},mu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255;}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255;}e!==0&&(this.pos+=4-e);}},mu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c;}this.pos+=e;}},mu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=r*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255;}this.pos+=e;}},mu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255;}this.pos+=this.width%4;}},mu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o;}},mu.prototype.getData=function(){return this.data;},function(e){e.processBMP=function(t,n,i,r){var s=new mu(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new tU(100).encode(l,100);return e.processJPEG.call(this,c,n,i,r);};}(Kt.API),wfe.prototype.getData=function(){return this.data;},function(e){e.processWEBP=function(t,n,i,r){var s=new wfe(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new tU(100).encode(l,100);return e.processJPEG.call(this,c,n,i,r);};}(Kt.API),Kt.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var u=i[c],d=i[c+1],h=i[c+2],f=i[c+3];s[a++]=u,s[a++]=d,s[a++]=h,o[l++]=f;}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height};},Kt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")");}),this.internal.languageSettings.isSubscribed=!0)),this;},_C=Kt.API,dF=_C.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,f=e.length,g=0,m=a[0]||l,y=[];for(n=0;n<f;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?y.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(h=d&&Ni(c[i])==="object"&&!isNaN(parseInt(c[i][g],10))?c[i][g]/u:0,y.push((a[i]||m)/l+h)),g=i;return y;},vfe=_C.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return _C.processArabic&&(e=_C.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:dF.apply(this,arguments).reduce(function(s,o){return s+o;},0);},yfe=function(e,t,n,i){for(var r=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;r.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(e.slice(l,s)),r;},bfe=function(e,t,n){n||(n={});var i,r,s,o,a,l,c,u=[],d=[u],h=n.textIndent||0,f=0,g=0,m=e.split(" "),y=dF.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?m[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),C=[];m.map(function(A){(A=A.split(/\s*\n/)).length>1?C=C.concat(A.map(function(I,N){return(N&&I.length?`
`:"")+I;})):C.push(A[0]);}),m=C,l=vfe.apply(this,[b,n]);}for(s=0,o=m.length;s<o;s++){var _=0;if(i=m[s],l&&i[0]==`
`&&(i=i.substr(1),_=1),h+f+(g=(r=dF.apply(this,[i,n])).reduce(function(A,I){return A+I;},0))>t||_){if(g>t){for(a=yfe.apply(this,[i,r,t-(h+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);g=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(A,I){return A+I;},0);}else u=[i];d.push(u),h=g+l,f=y;}else u.push(i),h+=f+g,f=y;}return c=l?function(A,I){return(I?b:"")+A.join(" ");}:function(A){return A.join(" ");},d.map(c);},_C.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()};}.call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(bfe.apply(this,[i[a],o,s]));return c;},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(d){return"0x"+parseInt(d,10).toString(16);},o=e.__fontmetrics__.compress=function(d){var h,f,g,m,y=["{"];for(var b in d){if(h=d[b],isNaN(parseInt(b,10))?f="'"+b+"'":(b=parseInt(b,10),f=(f=s(b).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),m="-"):(g=s(h).slice(2),m=""),g=m+g.slice(0,-1)+i[g.slice(-1)];else{if(Ni(h)!=="object")throw new Error("Don't know what to do with value type "+Ni(h)+".");g=o(h);}y.push(f+g);}return y.push("}"),y.join("");},a=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,g,m,y={},b=1,C=y,_=[],A="",I="",N=d.length-1,R=1;R<N;R+=1)(m=d[R])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(_.push([C,g]),C={},g=void 0):m=="}"?((f=_.pop())[0][f[1]]=C,g=void 0,C=f[0]):m=="-"?b=-1:g===void 0?n.hasOwnProperty(m)?(A+=n[m],g=parseInt(A,16)*b,b=1,A=""):A+=m:n.hasOwnProperty(m)?(I+=n[m],C[g]=parseInt(I,16)*b,b=1,g=void 0,I=""):I+=m;return y;},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0]);}]);}(Kt.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n.charCodeAt(s);return r;};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,s=n.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(lT(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0];})(r,i);}}]);}(Kt),function(e){function t(){return(Zt.canvg?Promise.resolve(Zt.canvg):import("./chunk-UBDLSV33.js")).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n));}).then(function(n){return n.default?n.default:n;});}Kt.API.addSvgAsImage=function(n,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw Xi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Xi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(g){return g.fromString(d,n,h);},function(){return Promise.reject(new Error("Could not load canvg."));}).then(function(g){return g.render(h);}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),i,r,s,o,l,c);});};}(),Kt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this;},Kt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function h(g,m){var y,b=!1;for(y=0;y<g.length;y+=1)g[y]===m&&(b=!0);return b;}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1;}if(Ni(e)==="object"){for(r in e)if(s=e[r],h(a,r)&&s!==void 0){if(n[r].type==="boolean"&&typeof s=="boolean")n[r].value=s;else if(n[r].type==="name"&&h(n[r].valueSet,s))n[r].value=s;else if(n[r].type==="integer"&&Number.isInteger(s))n[r].value=s;else if(n[r].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "));}n[r].value="["+l.join(" ")+"]";}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0;}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?m.push("/"+g+" /"+n[g].value):m.push("/"+g+" "+n[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`);}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this;},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj");},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R");};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this;};}(Kt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a);}return u.join("");},i=function(s){var o,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(s).sort(function(f,g){return f-g;})).length;d<h;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`;};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",g=0;g<h.length;g++)f+=String.fromCharCode(h[g]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var y=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+EC(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var C=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+EC(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+EC(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0;}})(s);}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+EC(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+EC(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0;}})(s);}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,g=d.fonts,m=f,y="",b=0,C="",_=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(C=a,m=f,Array.isArray(a)&&(C=a[0]),b=0;b<C.length;b+=1)g[m].metadata.hasOwnProperty("cmap")&&(o=g[m].metadata.cmap.unicode.codeMap[C[b].charCodeAt(0)]),o||C[b].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?y+=C[b]:y+="";var A="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?A=h(y,m).split("").map(function(I){return I.charCodeAt(0).toString(16);}).join(""):_==="Identity-H"&&(A=n(y,g[m])),d.isHex=!0,{text:A,x:l,y:c,options:u,mutex:d};};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a;}else s.text=r(Object.assign({},l,{text:o})).text;}]);}(Kt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0;};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0;},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this;},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null;};}(Kt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,_=0;this.__bidiEngine__={};var A=function(S){var T=S.charCodeAt(),z=T>>8,W=m[z];return W!==void 0?d[256*W+(255&T)]:z===252||z===253?"AL":b.test(z)?"L":z===8?"R":"N";},I=function(S){for(var T,z=0;z<S.length;z++){if((T=A(S.charAt(z)))==="L")return!1;if(T==="R")return!0;}return!1;},N=function(S,T,z,W){var H,F,Y,Z,ne=T[W];switch(ne){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ne="AN");break;case"AL":C=!0,ne="R";break;case"WS":ne="N";break;case"CS":W<1||W+1>=T.length||(H=z[W-1])!=="EN"&&H!=="AN"||(F=T[W+1])!=="EN"&&F!=="AN"?ne="N":C&&(F="AN"),ne=F===H?F:"N";break;case"ES":ne=(H=W>0?z[W-1]:"B")==="EN"&&W+1<T.length&&T[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&z[W-1]==="EN"){ne="EN";break;}if(C){ne="N";break;}for(Y=W+1,Z=T.length;Y<Z&&T[Y]==="ET";)Y++;ne=Y<Z&&T[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Z=T.length,Y=W+1;Y<Z&&T[Y]==="NSM";)Y++;if(Y<Z){var ae=S[W],Ce=ae>=1425&&ae<=2303||ae===64286;if(H=T[Y],Ce&&(H==="R"||H==="AL")){ne="R";break;}}}ne=W<1||(H=T[W-1])==="B"?"N":z[W-1];break;case"B":C=!1,r=!0,ne=_;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ne="N";}return ne;},R=function(S,T,z){var W=S.split("");return z&&D(W,z,{hiLevel:_}),W.reverse(),T&&T.reverse(),W.join("");},D=function(S,T,z){var W,H,F,Y,Z,ne=-1,ae=S.length,Ce=0,P=[],Q=_?f:h,ee=[];for(C=!1,r=!1,s=!1,H=0;H<ae;H++)ee[H]=A(S[H]);for(F=0;F<ae;F++){if(Z=Ce,P[F]=N(S,ee,P,F),W=240&(Ce=Q[Z][g[P[F]]]),Ce&=15,T[F]=Y=Q[Ce][5],W>0)if(W===16){for(H=ne;H<F;H++)T[H]=1;ne=-1;}else ne=-1;if(Q[Ce][6])ne===-1&&(ne=F);else if(ne>-1){for(H=ne;H<F;H++)T[H]=Y;ne=-1;}ee[F]==="B"&&(T[F]=0),z.hiLevel|=Y;}s&&function(le,he,ue){for(var xe=0;xe<ue;xe++)if(le[xe]==="S"){he[xe]=_;for(var oe=xe-1;oe>=0&&le[oe]==="WS";oe--)he[oe]=_;}}(ee,T,ae);},V=function(S,T,z,W,H){if(!(H.hiLevel<S)){if(S===1&&_===1&&!r)return T.reverse(),void(z&&z.reverse());for(var F,Y,Z,ne,ae=T.length,Ce=0;Ce<ae;){if(W[Ce]>=S){for(Z=Ce+1;Z<ae&&W[Z]>=S;)Z++;for(ne=Ce,Y=Z-1;ne<Y;ne++,Y--)F=T[ne],T[ne]=T[Y],T[Y]=F,z&&(F=z[ne],z[ne]=z[Y],z[Y]=F);Ce=Z;}Ce++;}}},X=function(S,T,z){var W=S.split(""),H={hiLevel:_};return z||(z=[]),D(W,z,H),function(F,Y,Z){if(Z.hiLevel!==0&&u)for(var ne,ae=0;ae<F.length;ae++)Y[ae]===1&&(ne=y.indexOf(F[ae]))>=0&&(F[ae]=y[ne+1]);}(W,z,H),V(2,W,T,z,H),V(1,W,T,z,H),W.join("");};return this.__bidiEngine__.doBidiReorder=function(S,T,z){if(function(H,F){if(F)for(var Y=0;Y<H.length;Y++)F[Y]=Y;a===void 0&&(a=I(H)),c===void 0&&(c=I(H));}(S,T),o||!l||c){if(o&&l&&a^c)_=a?1:0,S=R(S,T,z);else if(!o&&l&&c)_=a?1:0,S=X(S,T,z),S=R(S,T);else if(!o||a||l||c){if(o&&!l&&a^c)S=R(S,T),a?(_=0,S=X(S,T,z)):(_=1,S=X(S,T,z),S=R(S,T));else if(o&&a&&!l&&c)_=1,S=X(S,T,z),S=R(S,T);else if(!o&&!l&&a^c){var W=u;a?(_=1,S=X(S,T,z),_=0,u=!1,S=X(S,T,z),u=W):(_=0,S=X(S,T,z),S=R(S,T),_=1,u=!1,S=X(S,T,z),u=W,S=R(S,T));}}else _=0,S=X(S,T,z);}else _=a?1:0,S=X(S,T,z);return S;},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,a=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping);},this.__bidiEngine__.setOptions(i),this.__bidiEngine__;};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text,s=(i.x,i.y,i.options||{}),o=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var a=0;for(o=[],a=0;a<r.length;a+=1)Object.prototype.toString.call(r[a])==="[object Array]"?o.push([n.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([n.doBidiReorder(r[a])]);i.text=o;}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0});}]);}(Kt),Kt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new $g(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new ZXe(this),this.registerTTF();}return e.open=function(t){return new e(t);},e.prototype.parse=function(){return this.directory=new BXe(this.contents),this.head=new HXe(this),this.name=new $Xe(this),this.cmap=new Mfe(this),this.toUnicode={},this.hhea=new GXe(this),this.maxp=new WXe(this),this.hmtx=new qXe(this),this.post=new UXe(this),this.os2=new zXe(this),this.loca=new QXe(this),this.glyf=new KXe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax];},e.prototype.registerTTF=function(){var t,n,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c;}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font");},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0;},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n;},e.prototype.widthOfString=function(t,n,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3);},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t;},e;}();var yu,$g=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length;}return e.prototype.readByte=function(){return this.data[this.pos++];},e.prototype.writeByte=function(t){return this.data[this.pos++]=t;},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte();},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t);},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t;},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t);},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte();},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t);},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t;},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t);},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("");},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r;},e.prototype.readShort=function(){return this.readInt16();},e.prototype.writeShort=function(t){return this.writeInt16(t);},e.prototype.readLongLong=function(){var t,n,i,r,s,o,a,l;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l;},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i);},e.prototype.readInt=function(){return this.readInt32();},e.prototype.writeInt=function(t){return this.writeInt32(t);},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n;},e.prototype.write=function(t){var n,i,r,s;for(s=[],i=0,r=t.length;i<r;i++)n=t[i],s.push(this.writeByte(n));return s;},e;}(),BXe=function(){var e;function t(n){var i,r,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i;}return t.prototype.encode=function(n){var i,r,s,o,a,l,c,u,d,h,f,g,m;for(m in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),o=Math.floor(d/l),u=16*f-d,(r=new $g()).writeInt(this.scalarType),r.writeShort(f),r.writeShort(d),r.writeShort(o),r.writeShort(u),s=16*f,c=r.pos+s,a=null,g=[],n)for(h=n[m],r.writeString(m),r.writeInt(e(h)),r.writeInt(c),r.writeInt(h.length),g=g.concat(h),m==="head"&&(a=c),c+=h.length;c%4;)g.push(0),c++;return r.write(g),i=2981146554-e(r.data),r.pos=a+8,r.writeUInt32(i),r.data;},e=function(n){var i,r,s,o;for(n=Ffe.call(n);n.length%4;)n.push(0);for(s=new $g(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r;},t;}(),VXe={}.hasOwnProperty,Vd=function(e,t){for(var n in t)VXe.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e;}return i.prototype=t.prototype,e.prototype=new i(),e.__super__=t.prototype,e;};yu=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents));}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null;},e;}();var HXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort();},t.prototype.encode=function(n){var i;return(i=new $g()).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data;},t;}(),Cfe=function(){function e(t,n){var i,r,s,o,a,l,c,u,d,h,f,g,m,y,b,C,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,s=function(){var A,I;for(I=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)I.push(t.readUInt16());return I;}(),t.pos+=2,m=function(){var A,I;for(I=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)I.push(t.readUInt16());return I;}(),c=function(){var A,I;for(I=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)I.push(t.readUInt16());return I;}(),u=function(){var A,I;for(I=[],l=A=0;0<=h?A<h:A>h;l=0<=h?++A:--A)I.push(t.readUInt16());return I;}(),r=(this.length-t.pos+this.offset)/2,a=function(){var A,I;for(I=[],l=A=0;0<=r?A<r:A>r;l=0<=r?++A:--A)I.push(t.readUInt16());return I;}(),l=b=0,_=s.length;b<_;l=++b)for(y=s[l],i=C=g=m[l];g<=y?C<=y:C>=y;i=g<=y?++C:--C)u[l]===0?o=i+c[l]:(o=a[u[l]/2+(i-g)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[i]=65535&o;}t.pos=d;}return e.encode=function(t,n){var i,r,s,o,a,l,c,u,d,h,f,g,m,y,b,C,_,A,I,N,R,D,V,X,S,T,z,W,H,F,Y,Z,ne,ae,Ce,P,Q,ee,le,he,ue,xe,oe,Ae,Pe,ge;switch(W=new $g(),o=Object.keys(t).sort(function(Ge,it){return Ge-it;}),n){case"macroman":for(m=0,y=function(){var Ge=[];for(g=0;g<256;++g)Ge.push(0);return Ge;}(),C={0:0},s={},H=0,ne=o.length;H<ne;H++)C[oe=t[r=o[H]]]==null&&(C[oe]=++m),s[r]={old:t[r],new:C[t[r]]},y[r]=C[t[r]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(y),{charMap:s,subtable:W.data,maxGlyphID:m+1};case"unicode":for(T=[],d=[],_=0,C={},i={},b=c=null,F=0,ae=o.length;F<ae;F++)C[I=t[r=o[F]]]==null&&(C[I]=++_),i[r]={old:I,new:C[I]},a=C[I]-r,b!=null&&a===c||(b&&d.push(b),T.push(r),c=a),b=r;for(b&&d.push(b),d.push(65535),T.push(65535),X=2*(V=T.length),D=2*Math.pow(Math.log(V)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,R=2*V-D,l=[],N=[],f=[],g=Y=0,Ce=T.length;Y<Ce;g=++Y){if(S=T[g],u=d[g],S===65535){l.push(0),N.push(0);break;}if(S-(z=i[S].new)>=32768)for(l.push(0),N.push(2*(f.length+V-g)),r=Z=S;S<=u?Z<=u:Z>=u;r=S<=u?++Z:--Z)f.push(i[r].new);else l.push(z-S),N.push(0);}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*V+2*f.length),W.writeUInt16(0),W.writeUInt16(X),W.writeUInt16(D),W.writeUInt16(h),W.writeUInt16(R),ue=0,P=d.length;ue<P;ue++)r=d[ue],W.writeUInt16(r);for(W.writeUInt16(0),xe=0,Q=T.length;xe<Q;xe++)r=T[xe],W.writeUInt16(r);for(Ae=0,ee=l.length;Ae<ee;Ae++)a=l[Ae],W.writeUInt16(a);for(Pe=0,le=N.length;Pe<le;Pe++)A=N[Pe],W.writeUInt16(A);for(ge=0,he=f.length;ge<he;ge++)m=f[ge],W.writeUInt16(m);return{charMap:i,subtable:W.data,maxGlyphID:_+1};}},e;}(),Mfe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,r,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new Cfe(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0;},t.encode=function(n,i){var r,s;return i==null&&(i="macroman"),r=Cfe.encode(n,i),(s=new $g()).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r;},t;}(),GXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16();},t;}(),zXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r;}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r;}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r;}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort();},t;}(),UXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="post",t.prototype.parse=function(n){var i,r,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)i=n.readByte(),s.push(this.names.push(n.readString(i)));return s;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c;}.call(this);}},t;}(),jXe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID;},$Xe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="name",t.prototype.parse=function(n){var i,r,s,o,a,l,c,u,d,h,f;for(n.pos=this.offset,n.readShort(),i=n.readShort(),l=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,h=r.length;d<h;o=++d)s=r[o],n.pos=s.offset,u=n.readString(s.length),a=new jXe(u,s),c[f=s.nameID]==null&&(c[f]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"");}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"");}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19];},t;}(),WXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16();},t;}(),qXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,r,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)d.push(n.readInt16());return d;}(),this.widths=function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f;}.call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c;},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]};},t;}(),Ffe=[].slice,KXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={};},t.prototype.glyphFor=function(n){var i,r,s,o,a,l,c,u,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,a=(l=new $g(i.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new XXe(l,u,h,c,d):new YXe(l,a,u,h,c,d),this.cache[n]));},t.prototype.encode=function(n,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=n[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o};},t;}(),YXe=function(){function e(t,n,i,r,s,o){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1;}return e.prototype.encode=function(){return this.raw.data;},e;}(),XXe=function(){function e(t,n,i,r,s){var o,a;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2);}return e.prototype.encode=function(){var t,n,i;for(n=new $g(Ffe.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data;},e;}(),QXe=function(e){function t(){return t.__super__.constructor.apply(this,arguments);}return Vd(t,yu),t.prototype.tag="loca",t.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*n.readUInt16());return o;}.call(this):function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(n.readUInt32());return o;}.call(this);},t.prototype.indexOf=function(n){return this.offsets[n];},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n];},t.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c);}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u;},t;}(),ZXe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33;}return e.prototype.generateCmap=function(){var t,n,i,r,s;for(n in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[n],t[n]=r[i];return t;},e.prototype.glyphsFor=function(t){var n,i,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],r)(i=r[s])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))i=l[s],r[s]=i;return r;},e.prototype.encode=function(t,n){var i,r,s,o,a,l,c,u,d,h,f,g,m,y,b;for(r in i=Mfe.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},b=i.charMap)f[(l=b[r]).old]=l.new;for(g in h=i.maxGlyphID,o)g in f||(f[g]=h++);return u=function(C){var _,A;for(_ in A={},C)A[C[_]]=_;return A;}(f),d=Object.keys(u).sort(function(C,_){return C-_;}),m=function(){var C,_,A;for(A=[],C=0,_=d.length;C<_;C++)a=d[C],A.push(u[a]);return A;}(),s=this.font.glyf.encode(o,m,f),c=this.font.loca.encode(s.offsets,m),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y);},e;}();Kt.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i);},t.convert=function(n){var i,r,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)i=n[a],c.push(t.convert(i));return c;}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in s=["<<"],n)o=n[r],s.push("/"+r+" "+t.convert(o));return s.push(">>"),s.join(`
`);}return""+n;},t;}();var bF=class e{user;salary;conversion=1;selected_currency="USD";downloadPDF(){let t=new Kt(),n=t.internal.pageSize.getWidth(),i=`${this.user.address.street}, ${this.user.address.zipCode} ${this.user.address.city}, ${this.user.address.country}`,r={firstName:this.user.firstName,lastName:this.user.lastName,address:i,basicSalary:`${(this.salary.basicSalary*this.conversion).toFixed(2)} ${this.selected_currency}`,allowances:`${(this.salary.allowances*this.conversion).toFixed(2)} ${this.selected_currency}`,deductions:`${(this.salary.deductions*this.conversion).toFixed(2)} ${this.selected_currency}`,netSalary:`${((this.salary.basicSalary+(this.salary.allowances||0)-(this.salary.deductions||0))*this.conversion).toFixed(2)} ${this.selected_currency}`,payDate:new Date(this.salary.payDate).toLocaleDateString()},s=new Date(this.salary.payDate),o=s.toLocaleString("default",{month:"long"}),a=s.getFullYear();t.setFont("arial","bold"),t.setFontSize(20),t.text(`Payslip for ${o.toUpperCase()} ${a}`,105,30,{align:"center"}),t.setFont("arial","normal"),t.setFontSize(12),t.text("Employee Management Team",105,38,{align:"center"}),t.setFont("arial","bold"),t.setFontSize(12),t.text("First Name:",25,60),t.text("Last Name:",25,67),t.text("Address:",25,74),t.text("Pay Date:",25,81),t.setFont("arial","normal"),t.text(`${r.firstName}`,50,60),t.text(`${r.lastName}`,50,67),t.text(`${r.address}`,50,74),t.text(`${r.payDate}`,50,81),t.line(25,95,185,95),t.line(25,105,185,105),t.line(25,115,185,115),t.line(25,125,185,125),t.line(25,135,185,135),t.line(25,95,25,135),t.line(70,95,70,135),t.line(185,95,185,135),t.text("Basic salary:",30,102),t.text("Allowances:",30,112),t.text("Deductions:",30,122),t.setFont("arial","bold"),t.text("Net salary:",30,132),t.setFont("arial","normal"),t.text(r.basicSalary,n-t.getTextWidth(r.basicSalary)-30,102),t.text(r.allowances,n-t.getTextWidth(r.allowances)-30,112),t.text(r.deductions,n-t.getTextWidth(r.deductions)-30,122),t.setFont("arial","bold"),t.text(r.netSalary,n-t.getTextWidth(r.netSalary)-30,132);let l=`Payslip_${o}_${a}.pdf`;t.save(l);}static ɵfac=function(n){return new(n||e)();};static ɵcmp=St({type:e,selectors:[["payslip-pdf"]],inputs:{user:"user",salary:"salary",conversion:"conversion",selected_currency:"selected_currency"},decls:2,vars:0,consts:[[1,"btn","btn-primary","btn-sm","w-100",3,"click"]],template:function(n,i){n&1&&(j(0,"button",0),Ze("click",function(){return i.downloadPDF();}),nt(1,"Download PDF"),q());},encapsulation:2});};var JXe=()=>[1e3,400];function eQe(e,t){e&1&&(j(0,"div",8),nt(1,"Error adding salary."),q());}function tQe(e,t){e&1&&(j(0,"div",9),nt(1," Salary successfully added. "),q());}function nQe(e,t){if(e&1){let n=zt();j(0,"div",4),Le(1,eQe,2,0,"div",5)(2,tQe,2,0,"div",6),j(3,"h3"),nt(4,"Add a salary to this employee"),q(),j(5,"app-nice-form",7),Ze("result",function(r){vt(n);let s=ve();return yt(s.addSalary(r));}),q(),Ke(6,"br"),q();}if(e&2){let n=ve();J(),se("ngIf",n.error),J(),se("ngIf",n.success),J(3),se("formcontrol",n.salaryform);}}function iQe(e,t){e&1&&(j(0,"div"),Ke(1,"app-wallet"),q());}function rQe(e,t){if(e&1){let n=zt();j(0,"div")(1,"h6"),nt(2,"Select currency type"),q(),j(3,"select",13),Dm("ngModelChange",function(r){vt(n);let s=ve(2);return lb(s.selected_currency_select_text,r)||(s.selected_currency_select_text=r),yt(r);}),Ze("change",function(){vt(n);let r=ve(2);return yt(r.change_currency());}),j(4,"option"),nt(5,"USD ($)"),q(),j(6,"option"),nt(7,"EUR (\u20AC)"),q(),j(8,"option"),nt(9,"GBP (\xA3)"),q(),j(10,"option"),nt(11,"JPY (\xA5)"),q()()();}if(e&2){let n=ve(2);J(3),Am("ngModel",n.selected_currency_select_text);}}function sQe(e,t){if(e&1&&(j(0,"td"),nt(1),$n(2,"currency"),q()),e&2){let n=ve().$implicit,i=ve(2);J(),Mn(ni(2,1,n.allowances*i.conversion,i.selected_currency));}}function oQe(e,t){if(e&1&&(j(0,"td"),nt(1),$n(2,"currency"),q()),e&2){let n=ve().$implicit,i=ve(2);J(),Mn(ni(2,1,n.deductions*i.conversion,i.selected_currency));}}function aQe(e,t){if(e&1&&(j(0,"tr")(1,"td"),nt(2),$n(3,"currency"),q(),Le(4,sQe,3,4,"td",1)(5,oQe,3,4,"td",1),j(6,"td"),nt(7),$n(8,"currency"),q(),j(9,"td"),nt(10),$n(11,"date"),q(),j(12,"td"),Ke(13,"payslip-pdf",14),q()()),e&2){let n=t.$implicit,i=ve(2);J(2),Mn(ni(3,9,n.basicSalary*i.conversion,i.selected_currency)),J(2),se("ngIf",n.allowances!=null),J(),se("ngIf",n.deductions!=null),J(2),Mn(ni(8,12,(n.basicSalary+(n.allowances||0)-(n.deductions||0))*i.conversion,i.selected_currency)),J(3),Mn(ni(11,15,n.payDate,"shortDate")),J(3),se("user",i.employee)("salary",n)("conversion",i.conversion)("selected_currency",i.selected_currency);}}function lQe(e,t){if(e&1&&(j(0,"div",10),Le(1,rQe,12,1,"div",1),j(2,"h3"),nt(3),q(),j(4,"table",11)(5,"thead")(6,"tr")(7,"th"),nt(8,"Basic Salary"),q(),j(9,"th"),nt(10,"Allowances"),q(),j(11,"th"),nt(12,"Deductions"),q(),j(13,"th"),nt(14,"Net Salary"),q(),j(15,"th"),nt(16,"Pay Date"),q(),j(17,"th"),nt(18,"Actions"),q()()(),j(19,"tbody"),Le(20,aQe,14,18,"tr",12),q()()()),e&2){let n=ve();J(),se("ngIf",n.rates!=null),J(2),jn("",n.employee==null?null:n.employee.userName," salaries"),J(17),se("ngForOf",n.employee_salary);}}function cQe(e,t){if(e&1){let n=zt();j(0,"div",15)(1,"div",16)(2,"ngx-charts-line-chart",17),$n(3,"async"),Ze("select",function(r){vt(n);let s=ve();return yt(s.onSelect(r));})("activate",function(r){vt(n);let s=ve();return yt(s.onActivate(r));})("deactivate",function(r){vt(n);let s=ve();return yt(s.onDeactivate(r));}),q()()();}if(e&2){let n=ve();J(2),se("view",V4(12,JXe))("legend",n.legend)("showXAxisLabel",n.showXAxisLabel)("showYAxisLabel",n.showYAxisLabel)("xAxis",n.xAxis)("yAxis",n.yAxis)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("timeline",n.timeline)("results",iR(3,10,n.salarydata$));}}var xF=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.route=i;}ngOnInit(){return $(this,null,function*(){this.setEmployee(),this.loadUserNames(),this.currencySetup();});}ethData={balance:"",isAdmin:!0};salaryform=[{name:"userName",type:"select",title:"User Name: ",placeholder:"User Name",default:"",validators:[ft.required],options:[]},{name:"basicSalary",type:"text",title:"Basic salary: ",placeholder:"Basic salary",default:"",validators:[ft.required,ft.pattern("[0-9]*")]},{name:"allowances",type:"text",title:"Allowances: ",placeholder:"Allowances",default:"",validators:[ft.pattern("[0-9]*")]},{name:"deductions",type:"text",title:"Deductions: ",placeholder:"Deductions",default:"",validators:[ft.pattern("[0-9]*")]}];employee_salaries;employee_salary=[];employee;fetchEmployeeSalaries(){this.employeeService.getSalaries(this.employee.userName).pipe(Os(1)).subscribe(t=>{t&&Array.isArray(t.salaries)?this.employee_salary=t.salaries:this.employee_salary=[];},t=>{});}addSalary(t){let n={userName:t.userName,basicSalary:parseInt(t.basicSalary),allowances:t.allowances==""?void 0:parseInt(t.allowances),deductions:t.deductions==""?void 0:parseInt(t.deductions),payDate:String(new Date())};this.employeeService.addSalary(n).subscribe(i=>{this.success=!0,this.error=!1,this.setEmployee(),this.fetchEmployeeSalaries();},i=>{this.error=!0;});}setEmployee(){this.employeeService.getEmployee(this.employeeService.username).subscribe(t=>{this.employee=t,this.employee_salaries=this.employeeService.getSalaries(this.employee.userName),this.fetchEmployeeSalaries(),this.setSalaryData();});}error=!1;success=!1;loadUserNames(){this.employeeService.getEmployees().subscribe(t=>{let n=t.map(r=>({label:r.userName,value:r.userName})),i=this.salaryform.find(r=>r.name==="userName");i&&(i.options=n,i.default=n[0]?.value||"");},t=>{});}fetchSalariesByMonthYear(t){let{month:n,year:i}=t;this.employeeService.getSalariesMonth(n,i).subscribe(r=>{this.filteredSalaries=r;},r=>{this.filteredSalaries=[];});}filteredSalaries=[];salarydata$=new ps([]);setSalaryData(){let t=[{name:"Basic salary",series:[]},{name:"Allowances",series:[]},{name:"Deductions",series:[]},{name:"Net pay",series:[]}];this.employee_salaries.pipe(ha(1)).subscribe(n=>{(n.salaries||[]).forEach(r=>{let s=new Date(r.payDate).toLocaleDateString();t[0].series.push({value:r.basicSalary,name:s}),t[1].series.push({value:r.allowances??0,name:s}),t[2].series.push({value:r.deductions??0,name:s}),t[3].series.push({value:(r.basicSalary??0)+(r.allowances??0)-(r.deductions??0),name:s});}),this.salarydata$.next(t);});}JSONparse(t){return JSON.parse(t);}onSelect(t){}onActivate(t){}onDeactivate(t){}view=[700,300];legend=!0;showLabels=!0;animations=!0;xAxis=!0;yAxis=!0;showYAxisLabel=!0;showXAxisLabel=!0;xAxisLabel="Time";yAxisLabel="Money";timeline=!0;colorScheme={domain:["#5AA454","#E44D25","#CFC0BB","#7aa3e5","#a8385d","#aae3f5"]};rates=void 0;selected_currency="USD";selected_currency_select_text="USD ($)";conversion=1;currencySetup(){this.employeeService.getCurrencyConversionRates().subscribe(t=>{this.rates=t;},t=>{});}change_currency(){this.selected_currency=this.selected_currency_select_text.split(" ")[0],this.conversion=this.rates.rates[this.selected_currency];}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr));};static ɵcmp=St({type:e,selectors:[["app-salaries"]],decls:4,vars:4,consts:[["class","container-sm p-5 bg-light",4,"ngIf"],[4,"ngIf"],["class","container-sm p-5 mt-4 bg-light",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"container-sm","p-5","bg-light"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"result","formcontrol"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"container-sm","p-5","mt-4","bg-light"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"user","salary","conversion","selected_currency"],[1,"mt-4"],[1,"container","bg-light"],[3,"select","activate","deactivate","view","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","results"]],template:function(n,i){n&1&&Le(0,nQe,7,3,"div",0)(1,iQe,2,0,"div",1)(2,lQe,21,3,"div",2)(3,cQe,4,13,"div",3),n&2&&(se("ngIf",(i.employee==null?null:i.employee.role)==="admin"),J(),se("ngIf",(i.employee==null?null:i.employee.role)==="admin"),J(),se("ngIf",i.employee_salary.length>0),J(),se("ngIf",i.employee_salary.length>0));},dependencies:[Mr,yR,cn,ji,rn,BY,Ir,Sre,Cre,Fl,vp,yp,Xu,mp,Nm,rF,bF],encapsulation:2});};function uQe(e,t){e&1&&(j(0,"div",13),je(1,1),q());}function dQe(e,t){e&1&&(j(0,"div",14),je(1,2),q());}function hQe(e,t){if(e&1&&(j(0,"tr")(1,"td"),nt(2),q(),j(3,"td"),nt(4),$n(5,"date"),q(),j(6,"td"),nt(7),$n(8,"date"),q(),j(9,"td"),nt(10),q(),j(11,"td"),nt(12),$n(13,"date"),q()()),e&2){let n=t.$implicit;J(2),Mn(n.reason),J(2),Mn(ni(5,5,n.startDate,"shortDate")),J(3),Mn(ni(8,8,n.endDate,"shortDate")),J(3),Mn(n.status||"Pending"),J(2),Mn(ni(13,11,n.appliedAt,"shortDate"));}}function fQe(e,t){if(e&1&&(j(0,"div",15)(1,"div",8)(2,"h3"),nt(3),q(),j(4,"table",16)(5,"thead")(6,"tr")(7,"th"),je(8,3),q(),j(9,"th"),je(10,4),q(),j(11,"th"),je(12,5),q(),j(13,"th"),je(14,6),q(),j(15,"th"),je(16,7),q()()(),j(17,"tbody"),Le(18,hQe,14,14,"tr",17),q()()()()),e&2){let n=ve();J(3),jn("",n.employee==null?null:n.employee.userName," leaves:"),J(15),se("ngForOf",n.employee_leaves);}}var wF=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.route=i;}employee_leaves=[];employee;ngOnInit(){this.setEmployee();}leaveform=[{name:"reason",type:"text",title:"Razlog: ",placeholder:"Razlog",default:"",validators:[ft.required]},{name:"startDate",type:"date",title:"Za\u010Detek: ",placeholder:"Za\u010Detek: ",default:new Date().toISOString().substring(0,10),validators:[ft.required]},{name:"endDate",type:"date",title:"Konec: ",placeholder:"Konec",default:new Date().toISOString().substring(0,10),validators:[ft.required]}];fetchEmployeeLeaves(){this.employeeService.getEmployeeLeaves(this.employee.userName).pipe(Os(1)).subscribe(t=>{t&&Array.isArray(t.leaves)?this.employee_leaves=t.leaves:this.employee_leaves=[];},t=>{});}error=!1;success=!1;addLeave(t){let n={reason:t.reason,startDate:t.startDate,endDate:t.endDate};this.employeeService.addLeave(n).subscribe(i=>{this.error=!1,this.success=!0,this.fetchEmployeeLeaves();},i=>{this.error=!0;});}setEmployee(){this.employeeService.getEmployee(this.employeeService.username).subscribe(t=>{this.employee=t,this.fetchEmployeeLeaves();});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr));};static ɵcmp=St({type:e,selectors:[["app-leaves"]],decls:7,vars:4,consts:()=>{let t;t="Dodaj pro\u0161njo za dopust";let n;n="Napaka pri dodajanju dopusta.";let i;i="Dopust uspe\u0161no dodan. ";let r;r="Razlog";let s;s="Za\u010Detek: ";let o;o="Konec";let a;a="Stanje";let l;return l="Pro\u0161nja oddana",[t,n,i,r,s,o,a,l,[1,"container-sm","p-5","bg-light"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"result","formcontrol"],["class","mt-4",4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"mt-4"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"]];},template:function(n,i){n&1&&(j(0,"div",8),Le(1,uQe,2,0,"div",9)(2,dQe,2,0,"div",10),j(3,"h3"),je(4,0),q(),j(5,"app-nice-form",11),Ze("result",function(s){return i.addLeave(s);}),q()(),Le(6,fQe,19,2,"div",12)),n&2&&(J(),se("ngIf",i.error),J(),se("ngIf",i.success),J(3),se("formcontrol",i.leaveform),J(),se("ngIf",i.employee_leaves.length>0));},dependencies:[Mr,cn,ji,rn,Ir],encapsulation:2});};function pQe(e,t){if(e&1&&(j(0,"div"),Ke(1,"app-taskcard",4)(2,"hr"),q()),e&2){let n=t.$implicit;J(),se("task",n);}}function gQe(e,t){if(e&1&&(j(0,"div"),Le(1,pQe,3,1,"div",3),q()),e&2){let n=ve();J(),se("ngForOf",n.tasks.tasks);}}var CF=class e{constructor(t,n){this.employeeService=t;this.router=n;}tasks;employee;ngOnInit(){this.getTasks(),this.getEmployee();}getTasks(){this.employeeService.getEmployeeTasks(this.employeeService.username).subscribe(t=>{this.tasks=t;});}updateTask(t,n){this.employeeService.updateTask(t,{status:n}).subscribe(i=>{this.getTasks();});}getEmployee(){this.employeeService.getEmployee().subscribe(t=>{this.employee=t;});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn));};static ɵcmp=St({type:e,selectors:[["app-tasks"]],decls:4,vars:1,consts:()=>{let t;return t="Naloge",[t,[1,"container-sm","py-2","my-5","shadow-md","bg-light"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"task"]];},template:function(n,i){n&1&&(j(0,"div",1)(1,"h3"),je(2,0),q(),Le(3,gQe,2,1,"div",2),q()),n&2&&(J(3),se("ngIf",i.tasks!=null));},dependencies:[Rb,cn,ji,rn],encapsulation:2});};function mQe(e,t){if(e&1&&(j(0,"div",15)(1,"h4"),je(2,1),q(),Ke(3,"ag-grid-angular",16),q()),e&2){let n=ve();J(3),se("rowData",n.filteredSalaries)("columnDefs",n.filteredSalaryDefs);}}function vQe(e,t){e&1&&(j(0,"div",15)(1,"p"),je(2,2),q()());}function yQe(e,t){if(e&1&&(j(0,"div",15)(1,"h4"),je(2,3),q(),Ke(3,"ag-grid-angular",16),q()),e&2){let n=ve();J(3),se("rowData",n.allLeaves)("columnDefs",n.allLeavesDefs);}}function bQe(e,t){e&1&&(j(0,"div",15)(1,"p"),je(2,4),q()());}function xQe(e,t){if(e&1){let n=zt();j(0,"div",11)(1,"h3"),je(2,5),q(),j(3,"app-nice-form",17),Ze("result",function(r){vt(n);let s=ve();return yt(s.fetchFilterEmployee(r));}),q()();}if(e&2){let n=ve();J(3),se("formcontrol",n.formFilterEmployee)("resetAfterSubmit",!1);}}function wQe(e,t){if(e&1){let n=zt();j(0,"button",19),Ze("click",function(){vt(n);let r=ve(2);return yt(r.showMoreThen10());}),je(1,7),q();}}function CQe(e,t){if(e&1&&(j(0,"div",15)(1,"h4"),je(2,6),q(),Ke(3,"ag-grid-angular",16),Le(4,wQe,2,0,"button",18),q()),e&2){let n=ve();J(3),se("rowData",n.FilteredEmployee)("columnDefs",n.filteredEmployeeDefs),J(),se("ngIf",!n.limit10&&n.FilteredEmployee.length>=10);}}function _Qe(e,t){e&1&&(j(0,"div",15)(1,"p"),je(2,8),q()());}function SQe(e,t){if(e&1&&(j(0,"div",15)(1,"h4"),je(2,9),q(),Ke(3,"ag-grid-angular",16),q()),e&2){let n=ve();J(3),se("rowData",n.allTasks)("columnDefs",n.allTasksDefs);}}function EQe(e,t){e&1&&(j(0,"div",15)(1,"p"),je(2,10),q()());}YI.registerModules([n3]);var _F=class e{constructor(t,n,i,r){this.employeeService=t;this.router=n;this.route=i;this.datePipe=r;}ngOnInit(){this.initFilterEmploye(),this.getAllLeaves(),this.getAllTasks();}filteredSalaryDefs=[{field:"userName",sortable:!0,filter:!0},{field:"basicSalary",sortable:!0,filter:!0},{field:"allowances",sortable:!0,filter:!0},{field:"deductions",sortable:!0,filter:!0},{field:"payDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{headerName:"Net Salary",sortable:!0,valueGetter:t=>{let n=t.data.basicSalary||0,i=t.data.allowances||0,r=t.data.deductions||0;return n+i-r;},valueFormatter:t=>t.value.toFixed(2)}];allLeavesDefs=[{field:"userName",sortable:!0,filter:!0},{field:"reason",sortable:!0,filter:!0},{field:"startDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{field:"endDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{field:"status",sortable:!0,filter:!0},{field:"appliedAt",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""}];allTasksDefs=[{field:"userName",sortable:!0,filter:!0},{field:"description",sortable:!0,filter:!0,cellStyle:{whiteSpace:"normal",overflow:"visible",lineHeight:"20px"},autoHeight:!0},{field:"startDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{field:"dueDate",valueFormatter:t=>this.datePipe.transform(t.value,"dd/MM/yyyy")||""},{field:"status",sortable:!0,filter:!0}];filteredEmployeeDefs=[{field:"firstName",sortable:!0,filter:!0},{field:"lastName",sortable:!0,filter:!0},{field:"email",sortable:!0,filter:!0},{field:"phoneNumber",sortable:!0,filter:!0},{field:"jobTitle",sortable:!0,filter:!0},{field:"role",sortable:!0,filter:!0},{field:"salary",sortable:!0,filter:!0}];formcontrol;monthform=[{name:"month",type:"text",title:"Mesec",placeholder:"Vnesite mesec (1-12)",default:"",validators:[ft.required,ft.min(1),ft.max(12)]},{name:"year",type:"text",title:"Leto",placeholder:"Vnesite leto",default:"",validators:[ft.required,ft.min(1900)]}];fetchSalariesByMonthYear(t){let{month:n,year:i}=t;this.employeeService.getSalariesMonth(n,i).subscribe(r=>{this.filteredSalaries=r;},r=>{this.filteredSalaries=[];});}allLeaves=[];getAllLeaves(){this.employeeService.getLeaves().pipe(Os(1)).subscribe(t=>{this.allLeaves=t;},t=>{this.allLeaves=[];});}filteredSalaries=[];allTasks=[];initFilterEmploye(){this.employeeService.getDepartments().pipe(Os(1)).subscribe(t=>{let n=t.map(i=>({label:i.name||"Unknown",value:i._id??""}));n.push({label:"None",value:""}),this.setFormcontrolFilterEmployee(n);},t=>(console.error("Error loading departments:",t),[]));}showFilterEmployeeForm=!1;formFilterEmployee;FilteredEmployee;limit10=!1;data=null;setFormcontrolFilterEmployee(t){this.formFilterEmployee=[{name:"firstname",type:"text",title:"Ime: ",placeholder:"Ime",default:"",validators:[]},{name:"lastname",type:"text",title:"Priimek: ",placeholder:"Priimek",default:"",validators:[]},{name:"email",type:"text",title:"Email: ",placeholder:"Email",default:"",validators:[ft.email]},{name:"phonenumber",type:"text",title:"Telefonska stevilka: ",placeholder:"Telefonska stevilka",default:"",validators:[ft.pattern("[0-9]+")]},{name:"jobtitle",type:"text",title:"Naziv slu\u017Ebe: ",placeholder:"Naziv slu\u017Ebe",default:"",validators:[]},{name:"role",type:"select",title:"Vloga",placeholder:"Vloga",default:"",validators:[],options:[{label:"admin",value:"admin"},{label:"employee",value:"employee"},{label:"None",value:""}]},{name:"departmentid",type:"select",title:"Oddelek",placeholder:"Oddelek",default:"",options:t,validators:[]},{name:"salary",type:"text",title:"Pla\u010Da: ",placeholder:"Pla\u010Da",default:"",validators:[]}],this.showFilterEmployeeForm=!1,setTimeout(()=>this.showFilterEmployeeForm=!0,0);}fetchFilterEmployee(t){this.data=t;let n={firstName:t.firstname==""?void 0:t.firstname,lastName:t.lastname==""?void 0:t.lastname,email:t.email==""?void 0:t.email,phoneNumber:t.phonenumber==""?void 0:t.phonenumber,jobTitle:t.jobtitle==""?void 0:t.jobtitle,role:t.role==""?void 0:t.role,departmentId:t.departmentid==""?void 0:t.departmentid,salary:t.salary==""?void 0:parseInt(t.salary)};this.employeeService.filterEmployee(n,!this.limit10).pipe(Os(1)).subscribe(i=>{this.FilteredEmployee=i,console.log(i);},i=>{this.allLeaves=[];});}showMoreThen10(){this.limit10=!0,this.fetchFilterEmployee(this.data);}getAllTasks(){this.employeeService.getTasks().pipe(Os(1)).subscribe(t=>{this.allTasks=t;},t=>{this.allTasks=[];});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr),Te(Ir));};static ɵcmp=St({type:e,selectors:[["app-analytics"]],features:[Rr([Ir])],decls:19,vars:10,consts:()=>{let t;t="Pla\u010De po mescih / letih";let n;n="Pla\u010De za izbrani mesec in leto";let i;i="Za izbrani mesec in leto ni bilo najdenih nobenih pla\u010D.";let r;r="Pro\u0161nja za dopust";let s;s="Ni bilo najedenih pro\u0161enj za dopust.";let o;o="Filtriraj zaposlene";let a;a="Filtrirani zaposleni";let l;l="Prika\u017Ei vse";let c;c="Ni bil najden noben zaposleni.";let u;u="Naloge";let d;return d="Ni bila najdena nobena naloga.",[t,n,i,r,s,o,a,l,c,u,d,[1,"container-sm","p-5","bg-light"],[3,"result","formcontrol"],["class","mt-4",4,"ngIf"],["class","container-sm p-5 bg-light",4,"ngIf"],[1,"mt-4"],[2,"height","400px",3,"rowData","columnDefs"],[3,"result","formcontrol","resetAfterSubmit"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]];},template:function(n,i){n&1&&(j(0,"div",11)(1,"h3"),je(2,0),q(),j(3,"app-nice-form",12),Ze("result",function(s){return i.fetchSalariesByMonthYear(s);}),q(),Le(4,mQe,4,2,"div",13)(5,vQe,3,0,"div",13),q(),Ke(6,"br"),j(7,"div",11),Le(8,yQe,4,2,"div",13)(9,bQe,3,0,"div",13),q(),Ke(10,"br"),Le(11,xQe,4,2,"div",14),j(12,"div",11),Le(13,CQe,5,3,"div",13),q(),Le(14,_Qe,3,0,"div",13),Ke(15,"br"),j(16,"div",11),Le(17,SQe,4,2,"div",13)(18,EQe,3,0,"div",13),q()),n&2&&(J(3),se("formcontrol",i.monthform),J(),se("ngIf",i.filteredSalaries.length>0),J(),se("ngIf",i.filteredSalaries.length===0),J(3),se("ngIf",i.allLeaves.length>0),J(),se("ngIf",i.allLeaves.length===0),J(2),se("ngIf",i.showFilterEmployeeForm),J(2),se("ngIf",i.FilteredEmployee),J(),se("ngIf",i.FilteredEmployee&&i.FilteredEmployee.length===0),J(3),se("ngIf",i.allTasks.length>0),J(),se("ngIf",i.allTasks.length===0));},dependencies:[Mr,cn,rn,tx],encapsulation:2});};var Nfe=(e,t)=>qe(gn).logged_in?qe(Fn).navigate(["/clockin"],{}):!0;function TQe(e,t){e&1&&(j(0,"div",7),je(1,1),q());}function AQe(e,t){e&1&&(j(0,"div",8),je(1,2),q());}var SF=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.route=i;}employee;ngOnInit(){this.setEmployee();}error=!1;success=!1;settingform=[{name:"oldPassword",type:"password",title:"Staro geslo: ",placeholder:"********",default:"",validators:[ft.required]},{name:"newPassword",type:"password",title:"Novo geslo: ",placeholder:"********",default:"",validators:[ft.required]}];setEmployee(){this.employeeService.getEmployee(this.employeeService.username).subscribe(t=>{this.employee=t;});}changePass(t){let{oldPassword:n,newPassword:i}=t;n&&i?this.employeeService.changePassword(n,i).subscribe(r=>{this.success=!0,this.error=!1;},r=>{this.success=!1,this.error=!0;}):(this.error=!0,this.success=!1);}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(kr));};static ɵcmp=St({type:e,selectors:[["app-settings"]],decls:6,vars:3,consts:()=>{let t;t="Spremeni geslo";let n;n="Napaka pri spremnijanju gesla.";let i;return i="Geslo uspe\u0161no spremenjeno.",[t,n,i,[1,"container-sm","p-5","bg-light"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"result","formcontrol"],[1,"alert","alert-danger"],[1,"alert","alert-success"]];},template:function(n,i){n&1&&(j(0,"div",3),Le(1,TQe,2,0,"div",4)(2,AQe,2,0,"div",5),j(3,"h3"),je(4,0),q(),j(5,"app-nice-form",6),Ze("result",function(s){return i.changePass(s);}),q()()),n&2&&(J(),se("ngIf",i.error),J(),se("ngIf",i.success),J(3),se("formcontrol",i.settingform));},dependencies:[Mr,cn,rn],encapsulation:2});};var Lfe=[{path:"clockin",component:aI,canActivate:[Lm]},{path:"calendar",component:cI,canActivate:[Lm]},{path:"login",component:oI,canActivate:[Nfe]},{path:"register",component:lI,canActivate:[nx]},{path:"user/:name",component:r3,canActivate:[nx]},{path:"analytics",component:_F,canActivate:[nx]},{path:"departments",component:s3,canActivate:[nx]},{path:"leaves",component:wF,canActivate:[Lm]},{path:"settings",component:SF,canActivate:[Lm]},{path:"tasks",component:CF,canActivate:[Lm]},{path:"salaries",component:xF,canActivate:[Lm]},{path:"department/:id",component:o3,canActivate:[nx]},{path:"**",redirectTo:"login"}];var Ofe=(e,t)=>{let n="Bearer ".concat(qe(gn).token),i=e.clone({headers:e.headers.set("Authorization",n)});return t(i);};var cU=class{constructor(t,n){this.open=t,this.close=n||t;}isManual(){return this.open==="manual"||this.close==="manual";}},DQe={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function RQe(e,t=DQe){let n=(e||"").trim();if(n.length===0)return[];let i=n.split(/\s+/).map(s=>s.split(":")).map(s=>{let o=t[s[0]]||s;return new cU(o[0],o[1]);}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(r.length===1&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i;}function Bfe(e,t){let n=RQe(t.triggers),i=t.target;if(n.length===1&&n[0].isManual())return Function.prototype;let r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0;};return n.forEach(a=>{let l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){let u=a.close,d=t.hide,h=()=>e.listen(i,u,d);s.push(h);}c&&r.push(e.listen(i,a.open,()=>c(o)));}),()=>{r.forEach(a=>a());};}function Vfe(e,t){return t.outsideClick?e.listen("document","click",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(i=>i.contains(n.target))||t.hide&&t.hide();}):Function.prototype;}function Hfe(e,t){return t.outsideEsc?e.listen("document","keyup.esc",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(i=>i.contains(n.target))||t.hide&&t.hide();}):Function.prototype;}var ls=typeof window<"u"&&window||{},cs=ls.document,AKt=ls.location,DKt=ls.gc?()=>ls.gc():()=>null,RKt=ls.performance?ls.performance:null,IKt=ls.Event,PKt=ls.MouseEvent,kKt=ls.KeyboardEvent,MKt=ls.EventTarget,FKt=ls.History,NKt=ls.Location,LKt=ls.EventListener,Gfe=function(e){return e.isBs4="bs4",e.isBs5="bs5",e;}(Gfe||{}),Wg;function zfe(){let e=ls.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),ls.document.head.appendChild(e);let t=ls.getComputedStyle(e).paddingLeft;return t&&parseFloat(t)?(ls.document.head.removeChild(e),"bs4"):(ls.document.head.removeChild(e),"bs5");}function IQe(){return Wg||(Wg=zfe()),Wg==="bs4";}function PQe(){return Wg||(Wg=zfe()),Wg==="bs5";}function PC(){return{isBs4:IQe(),isBs5:PQe()};}function kQe(){let e=PC(),t=Object.keys(e).find(n=>e[n]);return Gfe[t];}var EF=class{static reflow(t){t.offsetHeight;}static getStyles(t){let n=t.ownerDocument.defaultView;return(!n||!n.opener)&&(n=ls),n.getComputedStyle(t);}static stackOverflowConfig(){let t=kQe();return{crossorigin:"anonymous",integrity:t==="bs5"?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:t==="bs5"?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"};}};var OKt=typeof console>"u"||!("warn"in console);var Kfe=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e;}(Kfe||{}),fU=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e;}(fU||{});function jv(e,t){if(e.nodeType!==1)return[];let i=e.ownerDocument.defaultView?.getComputedStyle(e,null);return t?i&&i[t]:i;}function pU(e){if(!e)return document.documentElement;let t=null,n=e?.offsetParent,i;for(;n===t&&e.nextElementSibling&&i!==e.nextElementSibling;)i=e.nextElementSibling,n=i.offsetParent;let r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?i?i.ownerDocument.documentElement:document.documentElement:n&&["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&jv(n,"position")==="static"?pU(n):n;}function MQe(e){let{nodeName:t}=e;return t==="BODY"?!1:t==="HTML"||pU(e.firstElementChild)===e;}function uU(e){return e.parentNode!==null?uU(e.parentNode):e;}function RF(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;let n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);let o=s.commonAncestorContainer;if(e!==o&&t!==o||i.contains(r))return MQe(o)?o:pU(o);let a=uU(e);return a.host?RF(a.host,t):RF(e,uU(t).host);}function Yfe(e){if(!e||!e.parentElement)return document.documentElement;let t=e.parentElement;for(;t?.parentElement&&jv(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement;}function Ufe(e,t){let n=t==="x"?"Left":"Top",i=n==="Left"?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${i}Width`]);}function jfe(e,t,n){let i=t,r=n;return Math.max(i[`offset${e}`],i[`scroll${e}`],r[`client${e}`],r[`offset${e}`],r[`scroll${e}`],0);}function Xfe(e){let t=e.body,n=e.documentElement;return{height:jfe("Height",t,n),width:jfe("Width",t,n)};}function cT(e){return Re(O({},e),{right:(e.left||0)+e.width,bottom:(e.top||0)+e.height});}function FQe(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(Number(e));}function fr(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";}function $fe(e){let t=e.getBoundingClientRect();if(!(t&&fr(t.top)&&fr(t.left)&&fr(t.bottom)&&fr(t.right)))return t;let n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i=e.nodeName==="HTML"?Xfe(e.ownerDocument):void 0,r=i?.width||e.clientWidth||fr(t.right)&&fr(n.left)&&t.right-n.left||0,s=i?.height||e.clientHeight||fr(t.bottom)&&fr(n.top)&&t.bottom-n.top||0,o=e.offsetWidth-r,a=e.offsetHeight-s;if(o||a){let l=jv(e);o-=Ufe(l,"x"),a-=Ufe(l,"y"),n.width-=o,n.height-=a;}return cT(n);}function gU(e,t,n=!1){let i=t.nodeName==="HTML",r=$fe(e),s=$fe(t),o=jv(t),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);n&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));let c=cT({top:(r.top??0)-(s.top??0)-a,left:(r.left??0)-(s.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){let u=parseFloat(o.marginTop),d=parseFloat(o.marginLeft);fr(c.top)&&(c.top-=a-u),fr(c.bottom)&&(c.bottom-=a-u),fr(c.left)&&(c.left-=l-d),fr(c.right)&&(c.right-=l-d),c.marginTop=u,c.marginLeft=d;}return c;}function mU(e){return e.nodeName==="HTML"?e:e.parentNode||e.host;}function Qfe(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body;default:}let{overflow:t,overflowX:n,overflowY:i}=jv(e);return /(auto|scroll|overlay)/.test(String(t)+String(i)+String(n))?e:Qfe(mU(e));}function Wfe(e,t="top"){let n=t==="top"?"scrollTop":"scrollLeft",i=e.nodeName;if(i==="BODY"||i==="HTML"){let r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[n];}return e[n];}function NQe(e,t=!1){let n=e.ownerDocument.documentElement,i=gU(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Wfe(n),a=t?0:Wfe(n,"left"),l={top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s};return cT(l);}function Zfe(e){let t=e.nodeName;return t==="BODY"||t==="HTML"?!1:jv(e,"position")==="fixed"?!0:Zfe(mU(e));}function vU(e,t,n=0,i,r=!1){let s={top:0,left:0},o=r?Yfe(e):RF(e,t);if(i==="viewport")s=NQe(o,r);else{let a;i==="scrollParent"?(a=Qfe(mU(t)),a.nodeName==="BODY"&&(a=e.ownerDocument.documentElement)):i==="window"?a=e.ownerDocument.documentElement:a=i;let l=gU(a,o,r);if(l&&a.nodeName==="HTML"&&!Zfe(o)){let{height:c,width:u}=Xfe(e.ownerDocument);fr(s.top)&&fr(l.top)&&fr(l.marginTop)&&(s.top+=l.top-l.marginTop),fr(s.top)&&(s.bottom=Number(c)+Number(l.top)),fr(s.left)&&fr(l.left)&&fr(l.marginLeft)&&(s.left+=l.left-l.marginLeft),fr(s.top)&&(s.right=Number(u)+Number(l.left));}else l&&(s=l);}return fr(s.left)&&(s.left+=n),fr(s.top)&&(s.top+=n),fr(s.right)&&(s.right-=n),fr(s.bottom)&&(s.bottom-=n),s;}function LQe({width:e,height:t}){return e*t;}function Jfe(e,t,n,i,r=["top","bottom","right","left"],s="viewport",o=0){if(e.indexOf("auto")===-1)return e;let a=vU(n,i,o,s),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>Re(O({position:f},l[f]),{area:LQe(l[f])})).sort((f,g)=>g.area-f.area),u=c.filter(({width:f,height:g})=>f>=n.clientWidth&&g>=n.clientHeight);u=u.filter(({position:f})=>r.some(g=>g===f));let d=u.length>0?u[0].position:c[0].position,h=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${PC().isBs5?fU[d]:d}`),d+(h?`-${h}`:"");}function OQe(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)};}function BQe(e){let t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,n=>t[n]);}function VQe(e){return e==="right"?"left":e==="left"?"right":e;}var TF=(e,t=0)=>e?parseFloat(e):t;function epe(e){let n=e.ownerDocument.defaultView?.getComputedStyle(e),i=TF(n?.marginTop)+TF(n?.marginBottom),r=TF(n?.marginLeft)+TF(n?.marginRight);return{width:Number(e.offsetWidth)+r,height:Number(e.offsetHeight)+i};}function tpe(e,t,n){let i=n?Yfe(e):RF(e,t);return gU(t,i,n);}function dU(e,t,n){let i=n.split(" ")[0],r=epe(e),s={width:r.width,height:r.height},o=["right","left"].indexOf(i)!==-1,a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return s[a]=(t[a]??0)+t[c]/2-r[c]/2,s[l]=i===l?(t[l]??0)-r[u]:t[BQe(l)]??0,s;}function npe(e,t){return!!e.modifiers[t]?.enabled;}var HQe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function AF(e,t){return PC().isBs5?HQe[t].includes(e):!1;}function GQe(e){return PC().isBs5?AF(e,"end")?"ms-2":AF(e,"start")?"me-2":AF(e,"top")?"mb-2":AF(e,"bottom")?"mt-2":"":"";}function zQe(e,t){let n=e.instance.target,i=n.className,r=PC().isBs5?fU[e.placement]:e.placement;if(e.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),i.indexOf("popover")!==-1&&(i=i+" "+GQe(r)),i.indexOf("popover")!==-1&&i.indexOf("popover-auto")===-1&&(i+=" popover-auto"),i.indexOf("tooltip")!==-1&&i.indexOf("tooltip-auto")===-1&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t){t.setAttribute(n,"class",i);return;}n.className=i;}function qfe(e,t,n){!e||!t||Object.keys(t).forEach(i=>{let r="";if(["width","height","top","right","bottom","left"].indexOf(i)!==-1&&FQe(t[i])&&(r="px"),n){n.setStyle(e,i,`${String(t[i])}${r}`);return;}e.style[i]=String(t[i])+r;});}function UQe(e){let t=e.offsets.target,n=e.instance.target.querySelector(".arrow");if(!n)return e;let i=["left","right"].indexOf(e.placement.split(" ")[0])!==-1,r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=epe(n)[r],u=e.placement.split(" ")[1];(e.offsets.host[l]??0)-c<(t[o]??0)&&(t[o]-=(t[o]??0)-((e.offsets.host[l]??0)-c)),Number(e.offsets.host[o])+Number(c)>(t[l]??0)&&(t[o]+=Number(e.offsets.host[o])+Number(c)-Number(t[l])),t=cT(t);let d=jv(e.instance.target),h=parseFloat(d[`margin${s}`])||0,f=parseFloat(d[`border${s}Width`])||0,g;if(!u)g=Number(e.offsets.host[o])+Number(e.offsets.host[r]/2-c/2);else{let y=parseFloat(d.borderRadius)||0,b=Number(h+f+y);g=o===u?Number(e.offsets.host[o])+b:Number(e.offsets.host[o])+Number(e.offsets.host[r]-b);}let m=g-(t[o]??0)-h-f;return m=Math.max(Math.min(t[r]-(c+5),m),0),e.offsets.arrow={[o]:Math.round(m),[a]:""},e.instance.arrow=n,e;}function jQe(e){if(e.offsets.target=cT(e.offsets.target),!npe(e.options,"flip"))return e.offsets.target=O(O({},e.offsets.target),dU(e.instance.target,e.offsets.host,e.placement)),e;let t=vU(e.instance.target,e.instance.host,0,"viewport",!1),n=e.placement.split(" ")[0],i=e.placement.split(" ")[1]||"",r=e.offsets.host,s=e.instance.target,o=e.instance.host,a=Jfe("auto",r,s,o,e.options.allowedPositions),l=[n,a];return l.forEach((c,u)=>{if(n!==c||l.length===u+1)return;n=e.placement.split(" ")[0];let d=n==="left"&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||n==="right"&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||n==="top"&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||n==="bottom"&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),h=Math.floor(e.offsets.target.left??0)<Math.floor(t.left??0),f=Math.floor(e.offsets.target.right??0)>Math.floor(t.right??0),g=Math.floor(e.offsets.target.top??0)<Math.floor(t.top??0),m=Math.floor(e.offsets.target.bottom??0)>Math.floor(t.bottom??0),y=n==="left"&&h||n==="right"&&f||n==="top"&&g||n==="bottom"&&m,b=["top","bottom"].indexOf(n)!==-1,C=b&&i==="left"&&h||b&&i==="right"&&f||!b&&i==="left"&&g||!b&&i==="right"&&m;(d||y||C)&&((d||y)&&(n=l[u+1]),C&&(i=VQe(i)),e.placement=n+(i?` ${i}`:""),e.offsets.target=O(O({},e.offsets.target),dU(e.instance.target,e.offsets.host,e.placement)));}),e;}function $Qe(e,t,n,i){if(!e||!t)return;let r=tpe(e,t);!n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(n="auto");let s=!!n.match(/auto/g),o=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n,a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),["left right","right left","top bottom","bottom top"].indexOf(o)!==-1&&(o="auto"),o=Jfe(o,r,e,t,i?i.allowedPositions:void 0);let l=dU(e,r,o);return{options:i||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:l,host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s};}function WQe(e){if(!npe(e.options,"preventOverflow"))return e;let t="transform",n=e.instance.target.style,{top:i,left:r,[t]:s}=n;n.top="",n.left="",n[t]="";let o=vU(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);n.top=i,n.left=r,n[t]=s;let a=["left","right","top","bottom"],l={primary(c){let u=e.offsets.target[c];return(e.offsets.target[c]??0)<(o[c]??0)&&(u=Math.max(e.offsets.target[c]??0,o[c]??0)),{[c]:u};},secondary(c){let u=c==="right",d=u?"left":"top",h=u?"width":"height",f=e.offsets.target[d];return(e.offsets.target[c]??0)>(o[c]??0)&&(f=Math.min(e.offsets.target[d]??0,(o[c]??0)-e.offsets.target[h])),{[d]:f};}};return a.forEach(c=>{let u=["left","top","start"].indexOf(c)!==-1?l.primary:l.secondary;e.offsets.target=O(O({},e.offsets.target),u(c));}),e;}function qQe(e){let t=e.placement,n=t.split(" ")[0],i=t.split(" ")[1];if(i){let{host:r,target:s}=e.offsets,o=["bottom","top"].indexOf(n)!==-1,a=o?"left":"top",l=o?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};e.offsets.target=Re(O({},s),{[a]:a===i?c.start[a]:c.end[a]});}return e;}var hU=class{position(t,n){return this.offset(t,n);}offset(t,n){return tpe(n,t);}positionElements(t,n,i,r,s){let o=[jQe,qQe,WQe,UQe],a=Kfe[i],l=$Qe(n,t,a,s);if(l)return o.reduce((c,u)=>u(c),l);}},KQe=new hU();function YQe(e,t,n,i,r,s){let o=KQe.positionElements(e,t,n,i,r);if(!o)return;let a=OQe(o);qfe(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&qfe(o.instance.arrow,o.offsets.arrow,s),zQe(o,s);}var ipe=(()=>{class e{constructor(n,i,r){this.update$$=new Ar(),this.positionElements=new Map(),this.isDisabled=!1,ja(r)&&n.runOutsideAngular(()=>{this.triggerEvent$=cL(Kf(window,"scroll",{passive:!0}),Kf(window,"resize",{passive:!0}),Gt(0,sL),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{YQe(DF(s.target),DF(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null));});});});}position(n){this.addPositionElement(n);}get event$(){return this.triggerEvent$;}disable(){this.isDisabled=!0;}enable(){this.isDisabled=!1;}addPositionElement(n){this.positionElements.set(DF(n.element),n);}calcPosition(){this.update$$.next(null);}deletePositionElement(n){this.positionElements.delete(DF(n));}setOptions(n){this.options=n;}static{this.ɵfac=function(i){return new(i||e)(rt(Tn),rt(_l),rt($r));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})();function DF(e){return typeof e=="string"?document.querySelector(e):e instanceof Un?e.nativeElement:e??null;}var $v=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i;}},yU=class{constructor(t,n,i,r,s,o,a,l,c){this._viewContainerRef=t,this._renderer=n,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new _e(),this.onShown=new _e(),this.onBeforeHide=new _e(),this.onHidden=new _e(),this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype;}get isShown(){return this._isHiding?!1:!!this._componentRef;}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this;}to(t){return this.container=t||this.container,this;}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this;}provide(t){return this._providers.push(t),this;}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);let n=is.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Un&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),typeof this.container=="string"&&typeof this._document<"u"){let i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement);}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance);}return this._registerOutsideClick(),this._componentRef;}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);let n=this._componentRef.location.nativeElement;return n.parentNode?.removeChild(n),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this;}toggle(){if(this.isShown){this.hide();return;}this.show();}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn();}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;let n=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=s=>{t.show?t.show(s):this.show(s),s();},r=s=>{this.isShown?n():i(s);};return this._renderer&&(this._unregisterListenersFn=Bfe(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:n,toggle:r})),this;}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype);}attachInline(t,n){return t&&n&&(this._inlineViewRef=t.createEmbeddedView(n)),this;}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let t=Function.prototype,n=Function.prototype;if(this._listenOpts.outsideClick){let i=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(t=Vfe(this._renderer,{targets:[i,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}));});}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){let i=this._componentRef.location.nativeElement;n=Hfe(this._renderer,{targets:[i,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()});}this._globalListener=()=>{t(),n();};}getInnerComponent(){return this._innerComponent;}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:this.container==="body"});}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition();}));}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0);}_getContentRef(t,n,i){if(!t)return new $v([]);if(t instanceof oh){if(this._viewContainerRef){let o=this._viewContainerRef.createEmbeddedView(t,n);return o.markForCheck(),new $v([o.rootNodes],o);}let s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new $v([s.rootNodes],s);}if(typeof t=="function"){let s=this._componentFactoryResolver.resolveComponentFactory(t),o=is.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new $v([[a.location.nativeElement]],a.hostView,a);}let r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new $v([r]);}},rpe=(()=>{class e{constructor(n,i,r,s,o,a){this._componentFactoryResolver=n,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a;}createLoader(n,i,r){return new yU(i,r,n,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document);}static{this.ɵfac=function(i){return new(i||e)(rt(Hu),rt(Tn),rt(is),rt(ipe),rt(Al),rt(mr));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})();function spe(e){return e!=null&&`${e}`!="false";}var bU;try{bU=typeof Intl<"u"&&Intl.v8BreakIterator;}catch{bU=!1;}var ape=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?ja(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||bU)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;}static{this.ɵfac=function(i){return new(i||e)(rt($r));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})();var lpe=(()=>{class e{constructor(n){this._platform=n;}isDisabled(n){return n.hasAttribute("disabled");}isVisible(n){return JQe(n)&&getComputedStyle(n).visibility==="visible";}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=ZQe(aZe(n));if(i&&(ope(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),s=ope(n);return n.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!sZe(n)?!1:r==="audio"?n.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0;}isFocusable(n,i){return oZe(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n));}static{this.ɵfac=function(i){return new(i||e)(rt(ape));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})();function ZQe(e){try{return e.frameElement;}catch{return null;}}function JQe(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length);}function eZe(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea";}function tZe(e){return iZe(e)&&e.type=="hidden";}function nZe(e){return rZe(e)&&e.hasAttribute("href");}function iZe(e){return e.nodeName.toLowerCase()=="input";}function rZe(e){return e.nodeName.toLowerCase()=="a";}function cpe(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return t=="-32768"?!1:!!(t&&!isNaN(parseInt(t,10)));}function ope(e){if(!cpe(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t;}function sZe(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea";}function oZe(e){return tZe(e)?!1:eZe(e)||nZe(e)||e.hasAttribute("contenteditable")||cpe(e);}function aZe(e){return e.ownerDocument&&e.ownerDocument.defaultView||window;}var lZe=(()=>{class e{constructor(){this._focusTrapStack=[];}register(n){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==n);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(n),n._enable();}deregister(n){n._disable();let i=this._focusTrapStack,r=i.indexOf(n);r!==-1&&(i.splice(r,1),i.length&&i[i.length-1]._enable());}static{this.ɵfac=function(i){return new(i||e)();};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})();var xU=class{get enabled(){return this._enabled;}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor));}constructor(t,n,i,r,s=!1){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors();}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1;}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener));}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached);}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()));});}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()));});}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()));});}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<n.length;i++)n[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[i]):n[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[i]);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element);}focusInitialElement(){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(),!!n;}return t.focus(),!0;}return this.focusFirstTabbableElement();}focusFirstTabbableElement(){let t=this._getRegionBoundary("start");return t&&t.focus(),!!t;}focusLastTabbableElement(){let t=this._getRegionBoundary("end");return t&&t.focus(),!!t;}hasAttached(){return this._hasAttached;}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r;}return null;}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r;}return null;}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t;}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex");}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor));}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ha(1)).subscribe(t);}},cZe=(()=>{class e{constructor(n,i,r){this._checker=n,this._ngZone=i,this._document=r;}create(n,i=!1){return new xU(n,this._checker,this._ngZone,this._document,i);}static{this.ɵfac=function(i){return new(i||e)(rt(lpe),rt(Tn),rt(mr));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"root"});}}return e;})(),upe=(()=>{class e{get enabled(){return this.focusTrap.enabled;}set enabled(n){this.focusTrap.enabled=spe(n);}get autoCapture(){return this._autoCapture;}set autoCapture(n){this._autoCapture=spe(n);}constructor(n,i,r){this._elementRef=n,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0);}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null);}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus();}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors();}ngOnChanges(n){let i=n.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus();}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady();}static{this.ɵfac=function(i){return new(i||e)(Te(Un),Te(cZe),Te(mr));};}static{this.ɵdir=Ei({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Rr([lZe,ape,lpe]),Si]});}}return e;})();var uZe=["*"],dpe=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{};}static{this.ɵfac=function(i){return new(i||e)();};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"platform"});}}return e;})();var hpe=(()=>{class e{static{this.ɵfac=function(i){return new(i||e)();};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"platform"});}}return e;})(),IF={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},dZe=new Tt("override-default-config"),Hd={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var PF={MODAL:300,BACKDROP:150},wU={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},hZe=(()=>{class e{get isAnimated(){return this._isAnimated;}set isAnimated(n){this._isAnimated=n;}get isShown(){return this._isShown;}set isShown(n){this._isShown=n,n?this.renderer.addClass(this.element.nativeElement,`${Hd.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${Hd.SHOW}`);}constructor(n,i){this._isAnimated=!1,this._isShown=!1,this.element=n,this.renderer=i;}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${Hd.FADE}`),EF.reflow(this.element.nativeElement)),this.isShown=!0;}static{this.ɵfac=function(i){return new(i||e)(Te(Un),Te(Vs));};}static{this.ɵcmp=St({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2});}}return e;})(),fZe=1,uT=(()=>{class e{constructor(n,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new _e(),this.onShown=new _e(),this.onHide=new _e(),this.onHidden=new _e(),this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastHiddenId=null,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=n.createRenderer(null,null),this.config=r?Object.assign({},IF,r):IF;}show(n,i){this._focusEl=cs.activeElement,this.modalsCount++,this.lastHiddenId=null,this._createLoaders();let r=i?.id||fZe++;return this.config=this.modalDefaultOption?Object.assign({},IF,this.modalDefaultOption,i):Object.assign({},IF,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(n);}hide(n){this.lastHiddenId!==n&&(this.lastHiddenId=n,(this.modalsCount===1||n==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&n!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(n),this.removeLoaders(n);},this.config.animated?PF.BACKDROP:0),this._focusEl&&this._focusEl.focus());}_showBackdrop(){let n=this.config.backdrop===!0||this.config.backdrop==="static",i=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),n&&i&&(this._backdropLoader.attach(hZe).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef));}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let n=this.config.animated?PF.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),n);}_showModal(n){let i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let o of this.config.providers)i.provide(o);let r=new dpe(),s=i.provide({provide:hpe,useValue:this.config}).provide({provide:dpe,useValue:r}).attach(pZe).to("body");return r.hide=()=>s.instance?.hide(),r.setClass=o=>{s.instance&&(s.instance.config.class=o);},r.onHidden=new _e(),r.onHide=new _e(),this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:n,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r;}_hideModal(n){if(n!=null){let i=this.loaders.findIndex(s=>s.instance?.config.id===n),r=this.loaders[i];r&&r.hide(n);}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id);});}getModalsCount(){return this.modalsCount;}setDismissReason(n){this.lastDismissReason=n;}removeBackdrop(){this._renderer.removeClass(cs.body,Hd.OPEN),this._renderer.setStyle(cs.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0;}checkScrollbar(){this.isBodyOverflowing=cs.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth();}setScrollbar(){cs&&(this.originalBodyPadding=parseInt(window.getComputedStyle(cs.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(cs.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`));}resetScrollbar(){cs.body.style.paddingRight=`${this.originalBodyPadding}px`;}getScrollbarWidth(){let n=this._renderer.createElement("div");this._renderer.addClass(n,Hd.SCROLLBAR_MEASURER),this._renderer.appendChild(cs.body,n);let i=n.offsetWidth-n.clientWidth;return this._renderer.removeChild(cs.body,n),i;}_createLoaders(){let n=this.clf.createLoader();this.copyEvent(n.onBeforeShow,this.onShow),this.copyEvent(n.onShown,this.onShown),this.copyEvent(n.onBeforeHide,this.onHide),this.copyEvent(n.onHidden,this.onHidden),this.loaders.push(n);}removeLoaders(n){if(n!=null){let i=this.loaders.findIndex(r=>r.instance?.config.id===n);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1);}));}else this.loaders.splice(0,this.loaders.length);}copyEvent(n,i){n.subscribe(r=>{i.emit(this.lastDismissReason||r);});}static{this.ɵfac=function(i){return new(i||e)(rt(_l),rt(rpe),rt(dZe,8));};}static{this.ɵprov=ot({token:e,factory:e.ɵfac,providedIn:"platform"});}}return e;})(),pZe=(()=>{class e{constructor(n,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},n);}ngOnInit(){this._focusEl=cs.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,Hd.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Hd.SHOW);},this.isAnimated?PF.BACKDROP:0),cs&&cs.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(cs.body,Hd.OPEN),this._renderer.setStyle(cs.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus();}onClickStarted(n){this.clickStartedInContent=n.target!==this._element.nativeElement;}onClickStop(n){let i=n.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!i){this.clickStartedInContent=!1;return;}this.bsModalService?.setDismissReason(wU.BACKRDOP),this.hide();}onPopState(){this.bsModalService?.setDismissReason(wU.BACK),this.hide();}onEsc(n){this.isShown&&((n.keyCode===27||n.key==="Escape")&&n.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(wU.ESC),this.hide()));}ngOnDestroy(){this.isShown&&this._hide();}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return;}this._hide();}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Hd.SHOW),setTimeout(()=>{this.isShown=!1,this.bsModalService?.hide(this.config.id),cs&&cs.body&&this.bsModalService?.getModalsCount()===0&&(this._renderer.removeClass(cs.body,Hd.OPEN),this._renderer.setStyle(cs.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus();},this.isAnimated?PF.MODAL:0);}static{this.ɵfac=function(i){return new(i||e)(Te(hpe),Te(Un),Te(Vs));};}static{this.ɵcmp=St({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){i&1&&Ze("mousedown",function(o){return r.onClickStarted(o);})("click",function(o){return r.onClickStop(o);})("popstate",function(){return r.onPopState();},!1,H1)("keydown.esc",function(o){return r.onEsc(o);},!1,H1),i&2&&an("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby);},features:[Rr([uT])],ngContentSelectors:uZe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){i&1&&($1(),j(0,"div",0)(1,"div",1),W1(2),q()()),i&2&&JD("modal-dialog"+(r.config.class?" "+r.config.class:""));},dependencies:[upe],encapsulation:2});}}return e;})();function fpe(e){return new Je(3e3,!1);}function mZe(){return new Je(3100,!1);}function vZe(){return new Je(3101,!1);}function yZe(e){return new Je(3001,!1);}function bZe(e){return new Je(3003,!1);}function xZe(e){return new Je(3004,!1);}function wZe(e,t){return new Je(3005,!1);}function CZe(){return new Je(3006,!1);}function _Ze(){return new Je(3007,!1);}function SZe(e,t){return new Je(3008,!1);}function EZe(e){return new Je(3002,!1);}function TZe(e,t,n,i,r){return new Je(3010,!1);}function AZe(){return new Je(3011,!1);}function DZe(){return new Je(3012,!1);}function RZe(){return new Je(3200,!1);}function IZe(){return new Je(3202,!1);}function PZe(){return new Je(3013,!1);}function kZe(e){return new Je(3014,!1);}function MZe(e){return new Je(3015,!1);}function FZe(e){return new Je(3016,!1);}function NZe(e,t){return new Je(3404,!1);}function LZe(e){return new Je(3502,!1);}function OZe(e){return new Je(3503,!1);}function BZe(){return new Je(3300,!1);}function VZe(e){return new Je(3504,!1);}function HZe(e){return new Je(3301,!1);}function GZe(e,t){return new Je(3302,!1);}function zZe(e){return new Je(3303,!1);}function UZe(e,t){return new Je(3400,!1);}function jZe(e){return new Je(3401,!1);}function $Ze(e){return new Je(3402,!1);}function WZe(e,t){return new Je(3505,!1);}function qg(e){switch(e.length){case 0:return new Rp();case 1:return e[0];default:return new sS(e);}}function Ape(e,t,n=new Map(),i=new Map()){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map();l.forEach((h,f)=>{let g=f,m=h;if(f!=="offset")switch(g=e.normalizePropertyName(g,r),m){case l3:m=n.get(f);break;case sd:m=i.get(f);break;default:m=e.normalizeStyleValue(f,g,m,r);break;}d.set(g,m);}),u||s.push(d),a=d,o=c;}),r.length)throw LZe(r);return s;}function UU(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&CU(n,"start",e)));break;case"done":e.onDone(()=>i(n&&CU(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&CU(n,"destroy",e)));break;}}function CU(e,t,n){let i=n.totalTime,r=!!n.disabled,s=jU(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i??e.totalTime,r),o=e._data;return o!=null&&(s._data=o),s;}function jU(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o};}function fl(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i;}function ppe(e){let t=e.indexOf(":"),n=e.substring(1,t),i=e.slice(t+1);return[n,i];}var qZe=typeof document>"u"?null:document.documentElement;function $U(e){let t=e.parentNode||e.host||null;return t===qZe?null:t;}function KZe(e){return e.substring(1,6)=="ebkit";}var Wv=null,gpe=!1;function YZe(e){Wv||(Wv=XZe()||{},gpe=Wv.style?"WebkitAppearance"in Wv.style:!1);let t=!0;return Wv.style&&!KZe(e)&&(t=e in Wv.style,!t&&gpe&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Wv.style)),t;}function XZe(){return typeof document<"u"?document.body:null;}function Dpe(e,t){for(;t;){if(t===e)return!0;t=$U(t);}return!1;}function Rpe(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let i=e.querySelector(t);return i?[i]:[];}var WU=(()=>{class e{validateStyleProperty(n){return YZe(n);}containsElement(n,i){return Dpe(n,i);}getParentElement(n){return $U(n);}query(n,i,r){return Rpe(n,i,r);}computeStyle(n,i,r){return r||"";}animate(n,i,r,s,o,a=[],l){return new Rp(r,s);}static ɵfac=function(i){return new(i||e)();};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})(),Yv=class{static NOOP=new WU();},Xv=class{};var QZe=1e3,Ipe="{{",ZZe="}}",Ppe="ng-enter",DU="ng-leave",kF="ng-trigger",OF=".ng-trigger",mpe="ng-animating",RU=".ng-animating";function Pf(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:IU(parseFloat(t[1]),t[2]);}function IU(e,t){switch(t){case"s":return e*QZe;default:return e;}}function BF(e,t,n){return e.hasOwnProperty("duration")?e:JZe(e,t,n);}function JZe(e,t,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof e=="string"){let a=e.match(i);if(a===null)return t.push(fpe(e)),{duration:0,delay:0,easing:""};r=IU(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=IU(parseFloat(l),a[4]));let c=a[5];c&&(o=c);}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(mZe()),a=!0),s<0&&(t.push(vZe()),a=!0),a&&t.splice(l,0,fpe(e));}return{duration:r,delay:s,easing:o};}function eJe(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[];}function Gd(e,t,n){t.forEach((i,r)=>{let s=qU(r);n&&!n.has(r)&&n.set(r,e.style[s]),e.style[s]=i;});}function Kv(e,t){t.forEach((n,i)=>{let r=qU(i);e.style[r]="";});}function dT(e){return Array.isArray(e)?e.length==1?e[0]:ote(e):e;}function tJe(e,t,n){let i=t.params||{},r=kpe(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(yZe(s));});}var PU=new RegExp(`${Ipe}\\s*(.+?)\\s*${ZZe}`,"g");function kpe(e){let t=[];if(typeof e=="string"){let n;for(;n=PU.exec(e);)t.push(n[1]);PU.lastIndex=0;}return t;}function fT(e,t,n){let i=`${e}`,r=i.replace(PU,(s,o)=>{let a=t[o];return a==null&&(n.push(bZe(o)),a=""),a.toString();});return r==i?e:r;}var nJe=/-+([a-z0-9])/g;function qU(e){return e.replace(nJe,(...t)=>t[1].toUpperCase());}function iJe(e,t){return e===0||t===0;}function rJe(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s);}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,KU(e,a)));}}return t;}function hl(e,t,n){switch(t.type){case Dn.Trigger:return e.visitTrigger(t,n);case Dn.State:return e.visitState(t,n);case Dn.Transition:return e.visitTransition(t,n);case Dn.Sequence:return e.visitSequence(t,n);case Dn.Group:return e.visitGroup(t,n);case Dn.Animate:return e.visitAnimate(t,n);case Dn.Keyframes:return e.visitKeyframes(t,n);case Dn.Style:return e.visitStyle(t,n);case Dn.Reference:return e.visitReference(t,n);case Dn.AnimateChild:return e.visitAnimateChild(t,n);case Dn.AnimateRef:return e.visitAnimateRef(t,n);case Dn.Query:return e.visitQuery(t,n);case Dn.Stagger:return e.visitStagger(t,n);default:throw xZe(t.type);}}function KU(e,t){return window.getComputedStyle(e)[t];}var sJe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),VF=class extends Xv{normalizePropertyName(t,n){return qU(t);}normalizeStyleValue(t,n,i,r){let s="",o=i.toString().trim();if(sJe.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(wZe(t,i));}return o+s;}};var HF="*";function oJe(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(i=>aJe(i,n,t)):n.push(e),n;}function aJe(e,t,n){if(e[0]==":"){let l=lJe(e,n);if(typeof l=="function"){t.push(l);return;}e=l;}let i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(MZe(e)),t;let r=i[1],s=i[2],o=i[3];t.push(vpe(r,o));let a=r==HF&&o==HF;s[0]=="<"&&!a&&t.push(vpe(o,r));}function lJe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(FZe(e)),"* => *";}}var MF=new Set(["true","1"]),FF=new Set(["false","0"]);function vpe(e,t){let n=MF.has(e)||FF.has(e),i=MF.has(t)||FF.has(t);return(r,s)=>{let o=e==HF||e==r,a=t==HF||t==s;return!o&&n&&typeof r=="boolean"&&(o=r?MF.has(e):FF.has(e)),!a&&i&&typeof s=="boolean"&&(a=s?MF.has(t):FF.has(t)),o&&a;};}var Mpe=":self",cJe=new RegExp(`s*${Mpe}s*,?`,"g");function Fpe(e,t,n,i){return new kU(e).build(t,n,i);}var ype="",kU=class{_driver;constructor(t){this._driver=t;}build(t,n,i){let r=new MU(n);return this._resetContextStyleTimingState(r),hl(this,dT(t),r);}_resetContextStyleTimingState(t){t.currentQuerySelector=ype,t.collectedStyles=new Map(),t.collectedStyles.set(ype,new Map()),t.currentTime=0;}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&n.errors.push(CZe()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Dn.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n));}),l.name=c;}else if(a.type==Dn.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l);}else n.errors.push(_Ze());}),{type:Dn.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null};}visitState(t,n){let i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set(),o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{kpe(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c);});});}),s.size&&n.errors.push(SZe(t.name,[...s.values()]));}return{type:Dn.State,name:t.name,style:i,options:r?{params:r}:null};}visitTransition(t,n){n.queryCount=0,n.depCount=0;let i=hl(this,dT(t.animation),n),r=oJe(t.expr,n.errors);return{type:Dn.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:qv(t.options)};}visitSequence(t,n){return{type:Dn.Sequence,steps:t.steps.map(i=>hl(this,i,n)),options:qv(t.options)};}visitGroup(t,n){let i=n.currentTime,r=0,s=t.steps.map(o=>{n.currentTime=i;let a=hl(this,o,n);return r=Math.max(r,n.currentTime),a;});return n.currentTime=r,{type:Dn.Group,steps:s,options:qv(t.options)};}visitAnimate(t,n){let i=fJe(t.timings,n.errors);n.currentAnimateTimings=i;let r,s=t.styles?t.styles:_a({});if(s.type==Dn.Keyframes)r=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=_a(c);}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,r=l;}return n.currentAnimateTimings=null,{type:Dn.Animate,timings:i,style:r,options:null};}visitStyle(t,n){let i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i;}_makeStyleAst(t,n){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===sd?i.push(a):n.errors.push(EZe(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Ipe)>=0){s=!0;break;}}}),{type:Dn.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null};}_validateStyleAst(t,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(TZe(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),n.options&&tJe(a,n.options,n.errors);});});}visitKeyframes(t,n){let i={type:Dn.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(AZe()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(b=>{let C=this._makeStyleAst(b,n),_=C.offset!=null?C.offset:hJe(C.styles),A=0;return _!=null&&(s++,A=C.offset=_),l=l||A<0||A>1,a=a||A<c,c=A,o.push(A),C;});l&&n.errors.push(DZe()),a&&n.errors.push(RZe());let d=t.steps.length,h=0;s>0&&s<d?n.errors.push(IZe()):s==0&&(h=r/(d-1));let f=d-1,g=n.currentTime,m=n.currentAnimateTimings,y=m.duration;return u.forEach((b,C)=>{let _=h>0?C==f?1:h*C:o[C],A=_*y;n.currentTime=g+m.delay+A,m.duration=A,this._validateStyleAst(b,n),b.offset=_,i.styles.push(b);}),i;}visitReference(t,n){return{type:Dn.Reference,animation:hl(this,dT(t.animation),n),options:qv(t.options)};}visitAnimateChild(t,n){return n.depCount++,{type:Dn.AnimateChild,options:qv(t.options)};}visitAnimateRef(t,n){return{type:Dn.AnimateRef,animation:this.visitReference(t.animation,n),options:qv(t.options)};}visitQuery(t,n){let i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;let[s,o]=uJe(t.selector);n.currentQuerySelector=i.length?i+" "+s:s,fl(n.collectedStyles,n.currentQuerySelector,new Map());let a=hl(this,dT(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:Dn.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:qv(t.options)};}visitStagger(t,n){n.currentQuery||n.errors.push(PZe());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:BF(t.timings,n.errors,!0);return{type:Dn.Stagger,animation:hl(this,dT(t.animation),n),timings:i,options:null};}};function uJe(e){let t=!!e.split(/\s*,\s*/).find(n=>n==Mpe);return t&&(e=e.replace(cJe,"")),e=e.replace(/@\*/g,OF).replace(/@\w+/g,n=>OF+"-"+n.slice(1)).replace(/:animating/g,RU),[e,t];}function dJe(e){return e?O({},e):null;}var MU=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map();options=null;unsupportedCSSPropertiesFound=new Set();constructor(t){this.errors=t;}};function hJe(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;t=parseFloat(i.get("offset")),i.delete("offset");}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset");}return t;}function fJe(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=BF(e,t).duration;return _U(s,0,"");}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=_U(0,0,"");return s.dynamic=!0,s.strValue=n,s;}let r=BF(n,t);return _U(r.duration,r.delay,r.easing);}function qv(e){return e?(e=O({},e),e.params&&(e.params=dJe(e.params))):e={},e;}function _U(e,t,n){return{duration:e,delay:t,easing:n};}function YU(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a};}var pT=class{_map=new Map();get(t){return this._map.get(t)||[];}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n);}has(t){return this._map.has(t);}clear(){this._map.clear();}},pJe=1,gJe=":enter",mJe=new RegExp(gJe,"g"),vJe=":leave",yJe=new RegExp(vJe,"g");function Npe(e,t,n,i,r,s=new Map(),o=new Map(),a,l,c=[]){return new FU().buildKeyframes(e,t,n,i,r,s,o,a,l,c);}var FU=class{buildKeyframes(t,n,i,r,s,o,a,l,c,u=[]){c=c||new pT();let d=new NU(t,n,c,r,s,u,[]);d.options=l;let h=l.delay?Pf(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),hl(this,i,d);let f=d.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let m=f.length-1;m>=0;m--){let y=f[m];if(y.element===n){g=y;break;}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,d.errors,l);}return f.length?f.map(g=>g.buildKeyframes()):[YU(n,[],[],[],0,h,"",!1)];}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o);}n.previousNode=t;}visitAnimateRef(t,n){let i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t;}_applyAnimationRefDelays(t,n,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:Pf(fT(s,r?.params??{},n.errors));i.delayNextStep(o);}}}_visitSubInstructions(t,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?Pf(i.duration):null,a=i.delay!=null?Pf(i.delay):null;return o!==0&&t.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay);}),s;}visitReference(t,n){n.updateOptions(t.options,!0),hl(this,t.animation,n),n.previousNode=t;}visitSequence(t,n){let i=n.subContextCount,r=n,s=t.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Dn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=GF);let o=Pf(s.delay);r.delayNextStep(o);}t.steps.length&&(t.steps.forEach(o=>hl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t;}visitGroup(t,n){let i=[],r=n.currentTimeline.currentTime,s=t.options&&t.options.delay?Pf(t.options.delay):0;t.steps.forEach(o=>{let a=n.createSubContext(t.options);s&&a.delayNextStep(s),hl(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline);}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=t;}_visitTiming(t,n){if(t.dynamic){let i=t.strValue,r=n.params?fT(i,n.params,n.errors):i;return BF(r,n.errors);}else return{duration:t.duration,delay:t.delay,easing:t.easing};}visitAnimate(t,n){let i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==Dn.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t;}visitStyle(t,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t;}visitKeyframes(t,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe();}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=t;}visitQuery(t,n){let i=n.currentTimeline.currentTime,r=t.options||{},s=r.delay?Pf(r.delay):0;s&&(n.previousNode.type===Dn.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=GF);let o=i,a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(t.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),hl(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h);}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t;}visitStagger(t,n){let i=n.parentContext,r=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break;}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;hl(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime);}},GF={},NU=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=GF;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,n,i,r,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new zF(this._driver,n,0),a.push(this.currentTimeline);}get params(){return this.options.params;}updateOptions(t,n){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Pf(i.duration)),i.delay!=null&&(r.delay=Pf(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=fT(s[a],o,this.errors));});}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r];});}}return t;}createSubContext(t=null,n,i){let r=n||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s;}transformIntoNewTimeline(t){return this.previousNode=GF,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline;}appendInstructionToTimeline(t,n,i){let r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new LU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r;}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t);}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t);}invokeQuery(t,n,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(mJe,"."+this._enterClassName),t=t.replace(yJe,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c);}return!s&&a.length==0&&o.push(kZe(n)),a;}},zF=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map();_currentKeyframe=new Map();_keyframes=new Map();_styleSummary=new Map();_localTimelineStyles=new Map();_globalTimelineStyles;_pendingStyles=new Map();_backFill=new Map();_currentEmptyStepKeyframe=null;constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map()),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0;}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0;}get currentTime(){return this.startTime+this.duration;}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t;}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup);}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map(),this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=pJe,this._loadKeyframe();}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe();}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe;}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||sd),this._currentKeyframe.set(n,sd);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=bJe(t,this._globalTimelineStyles);for(let[a,l]of o){let c=fT(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??sd),this._updateStyle(a,c);}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t);}));}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n);}getFinalKeyframe(){return this._keyframes.get(this.duration);}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t;}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value);});}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set(),n=new Set(),i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===l3?t.add(d):u===sd&&n.add(d);}),i||c.set("offset",l/this.duration),r.push(c);});let s=[...t.values()],o=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l];}return YU(this.element,r,s,o,this.duration,this.startTime,this.easing,!1);}},LU=class extends zF{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,n,i,r,s,o,a=!1){super(t,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing};}containsAnimation(){return this.keyframes.length>1;}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",bpe(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),f=h.get("offset"),g=n+f*i;h.set("offset",bpe(g/o)),s.push(h);}i=o,n=0,r="",t=s;}return YU(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0);}};function bpe(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n;}function bJe(e,t){let n=new Map(),i;return e.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)n.set(s,sd);}else for(let[s,o]of r)n.set(s,o);}),n;}function xpe(e,t,n,i,r,s,o,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h};}var SU={},UF=class{_triggerName;ast;_stateStyles;constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i;}match(t,n,i,r){return xJe(this.ast.matchers,t,n,i,r);}buildStyles(t,n,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map();}build(t,n,i,r,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||SU,f=a&&a.params||SU,g=this.buildStyles(i,f,d),m=l&&l.params||SU,y=this.buildStyles(r,m,d),b=new Set(),C=new Map(),_=new Map(),A=r==="void",I={params:Lpe(m,h),delay:this.ast.options?.delay},N=u?[]:Npe(t,n,this.ast.animation,s,o,g,y,I,c,d),R=0;return N.forEach(D=>{R=Math.max(D.duration+D.delay,R);}),d.length?xpe(n,this._triggerName,i,r,A,g,y,[],[],C,_,R,d):(N.forEach(D=>{let V=D.element,X=fl(C,V,new Set());D.preStyleProps.forEach(T=>X.add(T));let S=fl(_,V,new Set());D.postStyleProps.forEach(T=>S.add(T)),V!==n&&b.add(V);}),xpe(n,this._triggerName,i,r,A,g,y,N,[...b.values()],C,_,R));}};function xJe(e,t,n,i,r){return e.some(s=>s(t,n,i,r));}function Lpe(e,t){let n=O({},t);return Object.entries(e).forEach(([i,r])=>{r!=null&&(n[i]=r);}),n;}var OU=class{styles;defaultParams;normalizer;constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i;}buildStyles(t,n){let i=new Map(),r=Lpe(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=fT(o,r,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o);});}),i;}};function wJe(e,t,n){return new BU(e,t,n);}var BU=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map();constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new OU(r.style,s,i));}),wpe(this.states,"true","1"),wpe(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new UF(t,r,this.states));}),this.fallbackTransition=CJe(t,this.states,this._normalizer);}get containsQueries(){return this.ast.queryCount>0;}matchTransition(t,n,i,r){return this.transitionFactories.find(o=>o.match(t,n,i,r))||null;}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i);}};function CJe(e,t,n){let i=[(o,a)=>!0],r={type:Dn.Sequence,steps:[],options:null},s={type:Dn.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new UF(e,s,t);}function wpe(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n));}var _Je=new pT(),VU=class{bodyNode;_driver;_normalizer;_animations=new Map();_playersById=new Map();players=[];constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i;}register(t,n){let i=[],r=[],s=Fpe(this._driver,n,i,r);if(i.length)throw OZe(i);r.length&&void 0,this._animations.set(t,s);}_buildPlayer(t,n,i){let r=t.element,s=Ape(this._normalizer,t.keyframes,n,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0);}create(t,n,i={}){let r=[],s=this._animations.get(t),o,a=new Map();if(s?(o=Npe(this._driver,n,s,Ppe,DU,new Map(),new Map(),i,_Je,r),o.forEach(u=>{let d=fl(a,u.element,new Map());u.postStyleProps.forEach(h=>d.set(h,null));})):(r.push(BZe()),o=[]),r.length)throw VZe(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,sd));});});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map(),d);}),c=qg(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c;}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1);}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw HZe(t);return n;}listen(t,n,i,r){let s=jU(n,"","","");return UU(this._getPlayer(t),i,s,r),()=>{};}command(t,n,i,r){if(i=="register"){this.register(t,r[0]);return;}if(i=="create"){let o=r[0]||{};this.create(t,n,o);return;}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break;}}},Cpe="ng-animate-queued",SJe=".ng-animate-queued",EU="ng-animate-disabled",EJe=".ng-animate-disabled",TJe="ng-star-inserted",AJe=".ng-star-inserted",DJe=[],Ope={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RJe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bu="__ng_removed",gT=class{namespaceId;value;options;get params(){return this.options.params;}constructor(t,n=""){this.namespaceId=n;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=PJe(r),i){let s=t,{value:o}=s,a=u1(s,["value"]);this.options=a;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(t){let n=t.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r]);});}}},hT="void",TU=new gT(hT),HU=class{id;hostElement;_engine;players=[];_triggers=new Map();_queue=[];_elementListeners=new Map();_hostClassName;constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this._hostClassName="ng-tns-"+t,uc(n,this._hostClassName);}listen(t,n,i,r){if(!this._triggers.has(n))throw GZe(i,n);if(i==null||i.length==0)throw zZe(n);if(!kJe(i))throw UZe(i,n);let s=fl(this._elementListeners,t,[]),o={name:n,phase:i,callback:r};s.push(o);let a=fl(this._engine.statesByElement,t,new Map());return a.has(n)||(uc(t,kF),uc(t,kF+"-"+n),a.set(n,TU)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n);});};}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0);}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw jZe(t);return n;}trigger(t,n,i,r=!0){let s=this._getTrigger(n),o=new mT(this.id,n,t),a=this._engine.statesByElement.get(t);a||(uc(t,kF),uc(t,kF+"-"+n),this._engine.statesByElement.set(t,a=new Map()));let l=a.get(n),c=new gT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=TU),!(c.value===hT)&&l.value===c.value){if(!NJe(l.params,c.params)){let m=[],y=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Kv(t,y),Gd(t,b);});}return;}let h=fl(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy();});let f=s.matchTransition(l.value,c.value,t,c.params),g=!1;if(!f){if(!r)return;f=s.fallbackTransition,g=!0;}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(uc(t,Cpe),o.onStart(()=>{kC(t,Cpe);})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let y=this._engine.playersByElement.get(t);if(y){let b=y.indexOf(o);b>=0&&y.splice(b,1);}}),this.players.push(o),h.push(o),o;}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t));});}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t));}_signalRemovalForInnerTriggers(t,n){let i=this._engine.driver.query(t,OF,!0);i.forEach(r=>{if(r[bu])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r);}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)));}triggerLeaveAnimation(t,n,i,r){let s=this._engine.statesByElement.get(t),o=new Map();if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,hT,r);u&&a.push(u);}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),i&&qg(a).onDone(()=>this._engine.processLeaveNode(t)),!0;}return!1;}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){let r=new Set();n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||TU,u=new gT(hT),d=new mT(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0});});}}removeNode(t,n){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break;}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{let s=t[bu];(!s||s===Ope)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n));}}insertNode(t,n){uc(t,this._hostClassName);}drainQueuedTransitions(t){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=jU(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,UU(i.player,a.phase,l,a.callback);}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy();}):n.push(i);}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1;});}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t);}},GU=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map();playersByElement=new Map();playersByQueriedElement=new Map();statesByElement=new Map();disabledNodes=new Set();totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map();collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,n)=>{};_onRemovalComplete(t,n){this.onRemovalComplete(t,n);}constructor(t,n,i){this.bodyNode=t,this.driver=n,this._normalizer=i;}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i);});}),t;}createNamespace(t,n){let i=new HU(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i;}_balanceNamespaceList(t,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break;}a=this.driver.getParentElement(a);}o||i.unshift(t);}else i.push(t);return r.set(n,t),t;}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i;}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++;}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[t];}));}_fetchNamespace(t){return this._namespaceLookup[t];}fetchNamespacesByElement(t){let n=new Set(),i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s);}}return n;}trigger(t,n,i,r){if(NF(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,i,r),!0;}return!1;}insertNode(t,n,i,r){if(!NF(n))return;let s=n[bu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1);}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(n,i);}r&&this.collectEnterElement(n);}collectEnterElement(t){this.collectedEnterElements.push(t);}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),uc(t,EU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kC(t,EU));}removeNode(t,n,i){if(NF(n)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,i);}else this._onRemovalComplete(n,i);}markElementAsRemoved(t,n,i,r,s){this.collectedLeaveElements.push(n),n[bu]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s};}listen(t,n,i,r,s){return NF(n)?this._fetchNamespace(t).listen(n,i,r,s):()=>{};}_buildInstruction(t,n,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,s);}destroyInnerAnimations(t){let n=this.driver.query(t,OF,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,RU,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)));}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy();});}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish());}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qg(this.players).onDone(()=>t());t();});}processLeaveNode(t){let n=t[bu];if(n&&n.setForRemoval){if(t[bu]=Ope,n.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t);}this._onRemovalComplete(t,n.setForRemoval);}t.classList?.contains(EU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,EJe,!0).forEach(i=>{this.markElementAsDisabled(i,!1);});}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];uc(r,TJe);}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,t);}finally{for(let r=0;r<i.length;r++)i[r]();}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r);}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?qg(n).onDone(()=>{i.forEach(r=>r());}):i.forEach(r=>r());}}reportError(t){throw $Ze(t);}_flushAnimations(t,n){let i=new pT(),r=[],s=new Map(),o=[],a=new Map(),l=new Map(),c=new Map(),u=new Set();this.disabledNodes.forEach(F=>{u.add(F);let Y=this.driver.query(F,SJe,!0);for(let Z=0;Z<Y.length;Z++)u.add(Y[Z]);});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Epe(h,this.collectedEnterElements),g=new Map(),m=0;f.forEach((F,Y)=>{let Z=Ppe+m++;g.set(Y,Z),F.forEach(ne=>uc(ne,Z));});let y=[],b=new Set(),C=new Set();for(let F=0;F<this.collectedLeaveElements.length;F++){let Y=this.collectedLeaveElements[F],Z=Y[bu];Z&&Z.setForRemoval&&(y.push(Y),b.add(Y),Z.hasAnimation?this.driver.query(Y,AJe,!0).forEach(ne=>b.add(ne)):C.add(Y));}let _=new Map(),A=Epe(h,Array.from(b));A.forEach((F,Y)=>{let Z=DU+m++;_.set(Y,Z),F.forEach(ne=>uc(ne,Z));}),t.push(()=>{f.forEach((F,Y)=>{let Z=g.get(Y);F.forEach(ne=>kC(ne,Z));}),A.forEach((F,Y)=>{let Z=_.get(Y);F.forEach(ne=>kC(ne,Z));}),y.forEach(F=>{this.processLeaveNode(F);});});let I=[],N=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(Z=>{let ne=Z.player,ae=Z.element;if(I.push(ne),this.collectedEnterElements.length){let ue=ae[bu];if(ue&&ue.setForMove){if(ue.previousTriggersValues&&ue.previousTriggersValues.has(Z.triggerName)){let xe=ue.previousTriggersValues.get(Z.triggerName),oe=this.statesByElement.get(Z.element);if(oe&&oe.has(Z.triggerName)){let Ae=oe.get(Z.triggerName);Ae.value=xe,oe.set(Z.triggerName,Ae);}}ne.destroy();return;}}let Ce=!d||!this.driver.containsElement(d,ae),P=_.get(ae),Q=g.get(ae),ee=this._buildInstruction(Z,i,Q,P,Ce);if(ee.errors&&ee.errors.length){N.push(ee);return;}if(Ce){ne.onStart(()=>Kv(ae,ee.fromStyles)),ne.onDestroy(()=>Gd(ae,ee.toStyles)),r.push(ne);return;}if(Z.isFallbackTransition){ne.onStart(()=>Kv(ae,ee.fromStyles)),ne.onDestroy(()=>Gd(ae,ee.toStyles)),r.push(ne);return;}let le=[];ee.timelines.forEach(ue=>{ue.stretchStartingKeyframe=!0,this.disabledNodes.has(ue.element)||le.push(ue);}),ee.timelines=le,i.append(ae,ee.timelines);let he={instruction:ee,player:ne,element:ae};o.push(he),ee.queriedElements.forEach(ue=>fl(a,ue,[]).push(ne)),ee.preStyleProps.forEach((ue,xe)=>{if(ue.size){let oe=l.get(xe);oe||l.set(xe,oe=new Set()),ue.forEach((Ae,Pe)=>oe.add(Pe));}}),ee.postStyleProps.forEach((ue,xe)=>{let oe=c.get(xe);oe||c.set(xe,oe=new Set()),ue.forEach((Ae,Pe)=>oe.add(Pe));});});if(N.length){let F=[];N.forEach(Y=>{F.push(WZe(Y.triggerName,Y.errors));}),I.forEach(Y=>Y.destroy()),this.reportError(F);}let R=new Map(),D=new Map();o.forEach(F=>{let Y=F.element;i.has(Y)&&(D.set(Y,Y),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,R));}),r.forEach(F=>{let Y=F.element;this._getPreviousPlayers(Y,!1,F.namespaceId,F.triggerName,null).forEach(ne=>{fl(R,Y,[]).push(ne),ne.destroy();});});let V=y.filter(F=>Tpe(F,l,c)),X=new Map();Spe(X,this.driver,C,c,sd).forEach(F=>{Tpe(F,l,c)&&V.push(F);});let T=new Map();f.forEach((F,Y)=>{Spe(T,this.driver,new Set(F),l,l3);}),V.forEach(F=>{let Y=X.get(F),Z=T.get(F);X.set(F,new Map([...(Y?.entries()??[]),...(Z?.entries()??[])]));});let z=[],W=[],H={};o.forEach(F=>{let{element:Y,player:Z,instruction:ne}=F;if(i.has(Y)){if(u.has(Y)){Z.onDestroy(()=>Gd(Y,ne.toStyles)),Z.disabled=!0,Z.overrideTotalTime(ne.totalTime),r.push(Z);return;}let ae=H;if(D.size>1){let P=Y,Q=[];for(;P=P.parentNode;){let ee=D.get(P);if(ee){ae=ee;break;}Q.push(P);}Q.forEach(ee=>D.set(ee,ae));}let Ce=this._buildAnimation(Z.namespaceId,ne,R,s,T,X);if(Z.setRealPlayer(Ce),ae===H)z.push(Z);else{let P=this.playersByElement.get(ae);P&&P.length&&(Z.parentPlayer=qg(P)),r.push(Z);}}else Kv(Y,ne.fromStyles),Z.onDestroy(()=>Gd(Y,ne.toStyles)),W.push(Z),u.has(Y)&&r.push(Z);}),W.forEach(F=>{let Y=s.get(F.element);if(Y&&Y.length){let Z=qg(Y);F.setRealPlayer(Z);}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy();});for(let F=0;F<y.length;F++){let Y=y[F],Z=Y[bu];if(kC(Y,DU),Z&&Z.hasAnimation)continue;let ne=[];if(a.size){let Ce=a.get(Y);Ce&&Ce.length&&ne.push(...Ce);let P=this.driver.query(Y,RU,!0);for(let Q=0;Q<P.length;Q++){let ee=a.get(P[Q]);ee&&ee.length&&ne.push(...ee);}}let ae=ne.filter(Ce=>!Ce.destroyed);ae.length?MJe(this,Y,ae):this.processLeaveNode(Y);}return y.length=0,z.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();let Y=this.players.indexOf(F);this.players.splice(Y,1);}),F.play();}),z;}afterFlush(t){this._flushFns.push(t);}afterFlushAnimationsDone(t){this._whenQuietFns.push(t);}_getPreviousPlayers(t,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(t);a&&(o=a);}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==hT;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c);});}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o;}_beforeAnimationBuild(t,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let c=l.element,u=c!==s,d=fl(i,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),d.push(f);});}Kv(s,n.fromStyles);}_buildAnimation(t,n,i,r,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set(),d=new Set(),h=n.timelines.map(g=>{let m=g.element;u.add(m);let y=m[bu];if(y&&y.removedBeforeQueried)return new Rp(g.duration,g.delay);let b=m!==l,C=FJe((i.get(m)||DJe).map(R=>R.getRealPlayer())).filter(R=>{let D=R;return D.element?D.element===m:!1;}),_=s.get(m),A=o.get(m),I=Ape(this._normalizer,g.keyframes,_,A),N=this._buildPlayer(g,I,C);if(g.subTimeline&&r&&d.add(m),b){let R=new mT(t,a,m);R.setRealPlayer(N),c.push(R);}return N;});c.forEach(g=>{fl(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>IJe(this.playersByQueriedElement,g.element,g));}),u.forEach(g=>uc(g,mpe));let f=qg(h);return f.onDestroy(()=>{u.forEach(g=>kC(g,mpe)),Gd(l,n.toStyles);}),d.forEach(g=>{fl(r,g,[]).push(f);}),f;}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new Rp(t.duration,t.delay);}},mT=class{namespaceId;triggerName;element;_player=new Rp();_containsRealPlayer=!1;_queuedCallbacks=new Map();destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i;}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>UU(t,i,void 0,r));}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1);}getRealPlayer(){return this._player;}overrideTotalTime(t){this.totalTime=t;}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy());}_queueEvent(t,n){fl(this._queuedCallbacks,t,[]).push(n);}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t);}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t);}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t);}init(){this._player.init();}hasStarted(){return this.queued?!1:this._player.hasStarted();}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=!0,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(t){this.queued||this._player.setPosition(t);}getPosition(){return this.queued?0:this._player.getPosition();}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t);}};function IJe(e,t,n){let i=e.get(t);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1);}i.length==0&&e.delete(t);}return i;}function PJe(e){return e??null;}function NF(e){return e&&e.nodeType===1;}function kJe(e){return e=="start"||e=="done";}function _pe(e,t){let n=e.style.display;return e.style.display=t??"none",n;}function Spe(e,t,n,i,r){let s=[];n.forEach(l=>s.push(_pe(l)));let o=[];i.forEach((l,c)=>{let u=new Map();l.forEach(d=>{let h=t.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[bu]=RJe,o.push(c));}),e.set(c,u);});let a=0;return n.forEach(l=>_pe(l,s[a++])),o;}function Epe(e,t){let n=new Map();if(e.forEach(a=>n.set(a,[])),t.length==0)return n;let i=1,r=new Set(t),s=new Map();function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l;}return t.forEach(a=>{let l=o(a);l!==i&&n.get(l).push(a);}),n;}function uc(e,t){e.classList?.add(t);}function kC(e,t){e.classList?.remove(t);}function MJe(e,t,n){qg(n).onDone(()=>e.processLeaveNode(t));}function FJe(e){let t=[];return Bpe(e,t),t;}function Bpe(e,t){for(let n=0;n<e.length;n++){let i=e[n];i instanceof sS?Bpe(i.players,t):t.push(i);}}function NJe(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1;}return!0;}function Tpe(e,t,n){let i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(s=>r.add(s)):t.set(e,i),n.delete(e),!0;}var MC=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,n)=>{};constructor(t,n,i){this._driver=n,this._normalizer=i,this._transitionEngine=new GU(t.body,n,i),this._timelineEngine=new VU(t.body,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s);}registerTrigger(t,n,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=Fpe(this._driver,s,l,c);if(l.length)throw NZe(r,l);c.length&&void 0,a=wJe(r,u,this._normalizer),this._triggerCache[o]=a;}this._transitionEngine.registerTrigger(n,r,a);}register(t,n){this._transitionEngine.register(t,n);}destroy(t,n){this._transitionEngine.destroy(t,n);}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r);}onRemove(t,n,i){this._transitionEngine.removeNode(t,n,i);}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n);}process(t,n,i,r){if(i.charAt(0)=="@"){let[s,o]=ppe(i),a=r;this._timelineEngine.command(s,n,o,a);}else this._transitionEngine.trigger(t,n,i,r);}listen(t,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=ppe(i);return this._timelineEngine.listen(o,n,a,s);}return this._transitionEngine.listen(t,n,i,r,s);}flush(t=-1){this._transitionEngine.flush(t);}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players];}whenRenderingDone(){return this._transitionEngine.whenRenderingDone();}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t);}};function LJe(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=AU(t[0]),t.length>1&&(i=AU(t[t.length-1]))):t instanceof Map&&(n=AU(t)),n||i?new OJe(e,n,i):null;}var OJe=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap();_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map()),this._initialStyles=s;}start(){this._state<1&&(this._startStyles&&Gd(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(Gd(this._element,this._initialStyles),this._endStyles&&(Gd(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Kv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kv(this._element,this._endStyles),this._endStyles=null),Gd(this._element,this._initialStyles),this._state=3);}}return e;})();function AU(e){let t=null;return e.forEach((n,i)=>{BJe(i)&&(t=t||new Map(),t.set(i,n));}),t;}function BJe(e){return e==="display"||e==="position";}var jF=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map();constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map();let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(t){let n=[];return t.forEach(i=>{n.push(Object.fromEntries(i));}),n;}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i);}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t);}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t);}onDestroy(t){this._onDestroyFns.push(t);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started;}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[]);}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time;}getPosition(){return+(this.domPlayer.currentTime??0)/this.time;}get totalTime(){return this._delay+this._duration;}beforeDestroy(){let t=new Map();this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:KU(this.element,r));}),this.currentSnapshot=t;}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0;}},$F=class{validateStyleProperty(t){return!0;}validateAnimatableStyleProperty(t){return!0;}containsElement(t,n){return Dpe(t,n);}getParentElement(t){return $U(t);}query(t,n,i){return Rpe(t,n,i);}computeStyle(t,n,i){return KU(t,n);}animate(t,n,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map(),u=o.filter(f=>f instanceof jF);iJe(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((g,m)=>c.set(m,g));});let d=eJe(n).map(f=>new Map(f));d=rJe(t,d,c);let h=LJe(t,d);return new jF(t,d,l,h);}};var LF="@",Vpe="@.disabled",WF=class{namespaceId;delegate;engine;_onDestroy;ɵtype=0;constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r;}get data(){return this.delegate.data;}destroyNode(t){this.delegate.destroyNode?.(t);}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),this._onDestroy?.();}createElement(t,n){return this.delegate.createElement(t,n);}createComment(t){return this.delegate.createComment(t);}createText(t){return this.delegate.createText(t);}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1);}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r);}removeChild(t,n,i){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate);}selectRootElement(t,n){return this.delegate.selectRootElement(t,n);}parentNode(t){return this.delegate.parentNode(t);}nextSibling(t){return this.delegate.nextSibling(t);}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r);}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i);}addClass(t,n){this.delegate.addClass(t,n);}removeClass(t,n){this.delegate.removeClass(t,n);}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r);}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i);}setProperty(t,n,i){n.charAt(0)==LF&&n==Vpe?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i);}setValue(t,n){this.delegate.setValue(t,n);}listen(t,n,i){return this.delegate.listen(t,n,i);}disableAnimations(t,n){this.engine.disableAnimations(t,n);}},zU=class extends WF{factory;constructor(t,n,i,r,s){super(n,i,r,s),this.factory=t,this.namespaceId=n;}setProperty(t,n,i){n.charAt(0)==LF?n.charAt(1)=="."&&n==Vpe?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i);}listen(t,n,i){if(n.charAt(0)==LF){let r=VJe(t),s=n.slice(1),o="";return s.charAt(0)!=LF&&([s,o]=HJe(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a);});}return this.delegate.listen(t,n,i);}};function VJe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e;}}function HJe(e){let t=e.indexOf("."),n=e.substring(0,t),i=e.slice(t+1);return[n,i];}var qF=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map();_cdRecurDepth=0;constructor(t,n,i){this.delegate=t,this.engine=n,this._zone=i,n.onRemovalComplete=(r,s)=>{s?.removeChild(null,r);};}createRenderer(t,n){let i="",r=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new WF(i,r,this.engine,d),c.set(r,u);}return u;}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c);};return n.data.animation.forEach(a),new zU(this,o,r,this.engine);}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(t,n,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(i));return;}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a);}),this._animationCallbacksBuffer=[];});}),r.push([n,i]);}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone();}};var zJe=(()=>{class e extends MC{constructor(n,i,r){super(n,i,r);}ngOnDestroy(){this.flush();}static ɵfac=function(i){return new(i||e)(rt(mr),rt(Yv),rt(Xv));};static ɵprov=ot({token:e,factory:e.ɵfac});}return e;})();function UJe(){return new VF();}function jJe(e,t,n){return new qF(e,t,n);}var Hpe=[{provide:Xv,useFactory:UJe},{provide:MC,useClass:zJe},{provide:_l,useFactory:jJe,deps:[SR,MC,Tn]}],$Je=[{provide:Yv,useFactory:()=>new $F()},{provide:d4,useValue:"BrowserAnimations"},...Hpe],PYt=[{provide:Yv,useClass:WU},{provide:d4,useValue:"NoopAnimations"},...Hpe];function Gpe(){return ch("NgEagerAnimations"),[...$Je];}var zpe={providers:[pY({eventCoalescing:!0}),QX(Lfe),XY(QY([Ofe])),uT,Gpe()]};var WJe=(e,t)=>({"navbar-hamburger":e,"navbar-hamburger-closed":t});function qJe(e,t){if(e&1){let n=zt();j(0,"i",26),Ze("click",function(){vt(n);let r=ve(2);return yt(r.toggleMenu());}),q();}}function KJe(e,t){if(e&1){let n=zt();j(0,"i",27),Ze("click",function(){vt(n);let r=ve(2);return yt(r.toggleMenu());}),q();}}function YJe(e,t){if(e&1&&(j(0,"div",22),Le(1,qJe,1,0,"i",23)(2,KJe,1,0,"i",24),j(3,"div",25),je(4,2),q()()),e&2){let n=ve();J(),se("ngIf",n.menuHidden),J(),se("ngIf",!n.menuHidden);}}function XJe(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/clockin"));}),j(1,"a"),je(2,4),q()();}}function QJe(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/calendar"));}),j(1,"a"),je(2,5),q()();}}function ZJe(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/analytics"));}),j(1,"a"),je(2,6),q()();}}function JJe(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/register"));}),j(1,"a"),je(2,7),q()();}}function eet(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/departments"));}),j(1,"a"),je(2,8),q()();}}function tet(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/tasks"));}),j(1,"a"),je(2,9),q()();}}function net(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/leaves"));}),j(1,"a"),je(2,10),q()();}}function iet(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/salaries"));}),j(1,"a"),je(2,11),q()();}}function ret(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/settings"));}),j(1,"a"),je(2,12),q()();}}function set(e,t){if(e&1){let n=zt();j(0,"div",33)(1,"h3",34),je(2,13),q(),j(3,"button",35),Ze("click",function(){vt(n);let r=ve(2);return yt(r.modalRef==null?null:r.modalRef.hide());}),j(4,"span",36),nt(5,"\xD7"),q()()();}}function oet(e,t){if(e&1){let n=zt();j(0,"div",37)(1,"h3",34),je(2,14),q(),j(3,"button",35),Ze("click",function(){vt(n);let r=ve(2);return yt(r.modalRef==null?null:r.modalRef.hide());}),j(4,"span",36),nt(5,"\xD7"),q()()();}}function aet(e,t){if(e&1){let n=zt();j(0,"div",28),Le(1,XJe,3,0,"div",29)(2,QJe,3,0,"div",29)(3,ZJe,3,0,"div",29)(4,JJe,3,0,"div",29)(5,eet,3,0,"div",29)(6,tet,3,0,"div",29)(7,net,3,0,"div",29)(8,iet,3,0,"div",29)(9,ret,3,0,"div",29),j(10,"div",30),Ze("click",function(){vt(n);let r=$u(14),s=ve();return s.addData(),yt(s.openModal(r));}),j(11,"button",31),nt(12,"Add Data"),q()(),Le(13,set,6,0,"ng-template",null,0,hh),j(15,"div",30),Ze("click",function(){vt(n);let r=$u(19),s=ve();return s.deleteData(),yt(s.openModal(r));}),j(16,"button",32),je(17,3),q()(),Le(18,oet,6,0,"ng-template",null,1,hh),q();}if(e&2){let n=ve();J(),se("ngIf",n.employeeService.username),J(),se("ngIf",n.employeeService.username),J(),se("ngIf",n.employeeService.role==="admin"&&!!n.employeeService.username),J(),se("ngIf",n.employeeService.role==="admin"&&!!n.employeeService.username),J(),se("ngIf",n.employeeService.role==="admin"&&!!n.employeeService.username),J(),se("ngIf",n.employeeService.username),J(),se("ngIf",n.employeeService.username),J(),se("ngIf",n.employeeService.username),J(),se("ngIf",n.employeeService.username);}}function cet(e,t){if(e&1){let n=zt();j(0,"div",30),Ze("click",function(){vt(n);let r=ve(2);return yt(r.openUrl("/login"));}),j(1,"a"),je(2,15),q()();}}function uet(e,t){if(e&1){let n=zt();j(0,"div",41)(1,"div",42),Ze("click",function(){vt(n);let r=ve(2);return yt(r.logout());}),je(2,16),q()();}}function det(e,t){if(e&1&&(j(0,"div",43)(1,"strong"),nt(2),q()()),e&2){let n=ve(2);J(2),Mn(n.employeeService.username);}}function het(e,t){if(e&1&&(j(0,"div",38),Le(1,cet,3,0,"div",29)(2,uet,3,0,"div",39)(3,det,3,1,"div",40),q()),e&2){let n=ve();J(),se("ngIf",!n.employeeService.logged_in),J(),se("ngIf",n.employeeService.logged_in),J(),se("ngIf",n.employeeService.logged_in);}}var KF=class e{constructor(t,n,i){this.employeeService=t;this.router=n;this.modalService=i;}employee;windowWidth=window.innerWidth;intervalId;hamburgerMenu=!1;menuHidden=!0;ngOnInit(){this.intervalId=setInterval(()=>{window.innerWidth<950?this.hamburgerMenu=!0:this.hamburgerMenu=!1;},100);}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId);}toggleMenu(){this.menuHidden=!this.menuHidden;}openUrl(t){this.menuHidden=!0,this.router.navigateByUrl(t);}modalRef;openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered",keyboard:!1,ignoreBackdropClick:!0});}logout(){this.employeeService.logout(),this.openUrl("/login");}addData(){this.employeeService.addInitialData().subscribe({next:()=>{},error:t=>{}});}deleteData(){this.employeeService.deleteData().subscribe({next:()=>{},error:t=>{}});}static ɵfac=function(n){return new(n||e)(Te(gn),Te(Fn),Te(uT));};static ɵcmp=St({type:e,selectors:[["app-navbar"]],decls:5,vars:7,consts:()=>{let t;t="Ura";let n;n="Izbri\u0161i podatke";let i;i="Za\u010Dni";let r;r="Koledar";let s;s="Analitike";let o;o="Zaposleni";let a;a="Oddelki";let l;l="Naloge";let c;c="Pro\u0161nje za dopust";let u;u="Pla\u010De";let d;d="Nastavitve";let h;h="Podatki uspe\u0161no dodani!";let f;f="Podatki uspe\u0161no izbrisani";let g;g="Prijava";let m;return m="Odjava",[["addsucces",""],["deletesucces",""],t,n,i,r,s,o,a,l,c,u,d,h,f,g,m,[1,"navbar","navbar-expand","bg-light","position-fixed","w-100","container-fluid","d-flex","align-items-stretch","justify-content-between","gap-2","ps-3",2,"top","0","left","0",3,"ngClass"],["class","nav-btn",4,"ngIf"],["class","d-flex align-items-center align-items-stretch gap-2 sub-menu",4,"ngIf"],["class","d-flex align-items-center justify-content-end gap-2 align-items-stretch sub-menu",4,"ngIf"],[1,"navbar-height"],[1,"nav-btn"],["class","fas fa-bars",3,"click",4,"ngIf"],["class","fas fa-x",3,"click",4,"ngIf"],[2,"margin-bottom","2px"],[1,"fas","fa-bars",3,"click"],[1,"fas","fa-x",3,"click"],[1,"d-flex","align-items-center","align-items-stretch","gap-2","sub-menu"],["class","nav-link d-flex align-items-center p-2 cursor-pointer",3,"click",4,"ngIf"],[1,"nav-link","d-flex","align-items-center","p-2","cursor-pointer",3,"click"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-danger","btn-sm"],[1,"modal-header",2,"background-color","#34eb93"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-header",2,"background-color","#eb4034"],[1,"d-flex","align-items-center","justify-content-end","gap-2","align-items-stretch","sub-menu"],["class","nav-link d-flex align-items-center p-2 cursor-pointer",4,"ngIf"],["class","d-flex align-items-center p-2",4,"ngIf"],[1,"nav-link","d-flex","align-items-center","p-2","cursor-pointer"],[2,"cursor","pointer",3,"click"],[1,"d-flex","align-items-center","p-2"]];},template:function(n,i){n&1&&(j(0,"div",17),Le(1,YJe,5,2,"div",18)(2,aet,20,9,"div",19)(3,het,4,3,"div",20),q(),Ke(4,"div",21)),n&2&&(se("ngClass",q1(4,WJe,i.hamburgerMenu,i.menuHidden)),J(),se("ngIf",i.hamburgerMenu),J(),se("ngIf",!i.menuHidden||!i.hamburgerMenu),J(),se("ngIf",!i.menuHidden||!i.hamburgerMenu));},dependencies:[$R,cn,Wu,rn],encapsulation:2});};var YF=class e{static ɵfac=function(n){return new(n||e)();};static ɵcmp=St({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid",2,"padding-top","50px"]],template:function(n,i){n&1&&(j(0,"div",0),Ke(1,"app-navbar")(2,"router-outlet"),q());},dependencies:[Z6,KF],encapsulation:2});};oX(YF,zpe).catch(e=>console.error(e));/**i18n:6f0ad985581f11c3f186a470bcf1b65457c1e8e89771eab5172b256e8ffd30fa*/